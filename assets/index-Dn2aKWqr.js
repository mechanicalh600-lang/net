function ER(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $T={exports:{}},Bh={},DT={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),TR=Symbol.for("react.portal"),AR=Symbol.for("react.fragment"),CR=Symbol.for("react.strict_mode"),jR=Symbol.for("react.profiler"),PR=Symbol.for("react.provider"),IR=Symbol.for("react.context"),OR=Symbol.for("react.forward_ref"),RR=Symbol.for("react.suspense"),MR=Symbol.for("react.memo"),$R=Symbol.for("react.lazy"),nw=Symbol.iterator;function DR(t){return t===null||typeof t!="object"?null:(t=nw&&t[nw]||t["@@iterator"],typeof t=="function"?t:null)}var LT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UT=Object.assign,FT={};function Ws(t,e,r){this.props=t,this.context=e,this.refs=FT,this.updater=r||LT}Ws.prototype.isReactComponent={};Ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BT(){}BT.prototype=Ws.prototype;function jv(t,e,r){this.props=t,this.context=e,this.refs=FT,this.updater=r||LT}var Pv=jv.prototype=new BT;Pv.constructor=jv;UT(Pv,Ws.prototype);Pv.isPureReactComponent=!0;var iw=Array.isArray,qT=Object.prototype.hasOwnProperty,Iv={current:null},VT={key:!0,ref:!0,__self:!0,__source:!0};function GT(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)qT.call(e,n)&&!VT.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Su,type:t,key:a,ref:o,props:i,_owner:Iv.current}}function LR(t,e){return{$$typeof:Su,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ov(t){return typeof t=="object"&&t!==null&&t.$$typeof===Su}function UR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var aw=/\/+/g;function vm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UR(""+t.key):e.toString(36)}function Rd(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Su:case TR:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+vm(o,0):n,iw(i)?(r="",t!=null&&(r=t.replace(aw,"$&/")+"/"),Rd(i,e,r,"",function(u){return u})):i!=null&&(Ov(i)&&(i=LR(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(aw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",iw(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+vm(a,l);o+=Rd(a,e,r,c,i)}else if(c=DR(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+vm(a,l++),o+=Rd(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wu(t,e,r){if(t==null)return t;var n=[],i=0;return Rd(t,n,"","",function(a){return e.call(r,a,i++)}),n}function FR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vr={current:null},Md={transition:null},BR={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:Md,ReactCurrentOwner:Iv};function HT(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Wu,forEach:function(t,e,r){Wu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Wu(t,function(){e++}),e},toArray:function(t){return Wu(t,function(e){return e})||[]},only:function(t){if(!Ov(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Ws;Fe.Fragment=AR;Fe.Profiler=jR;Fe.PureComponent=jv;Fe.StrictMode=CR;Fe.Suspense=RR;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BR;Fe.act=HT;Fe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=UT({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Iv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)qT.call(e,c)&&!VT.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Su,type:t.type,key:i,ref:a,props:n,_owner:o}};Fe.createContext=function(t){return t={$$typeof:IR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PR,_context:t},t.Consumer=t};Fe.createElement=GT;Fe.createFactory=function(t){var e=GT.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:OR,render:t}};Fe.isValidElement=Ov;Fe.lazy=function(t){return{$$typeof:$R,_payload:{_status:-1,_result:t},_init:FR}};Fe.memo=function(t,e){return{$$typeof:MR,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=Md.transition;Md.transition={};try{t()}finally{Md.transition=e}};Fe.unstable_act=HT;Fe.useCallback=function(t,e){return vr.current.useCallback(t,e)};Fe.useContext=function(t){return vr.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return vr.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return vr.current.useEffect(t,e)};Fe.useId=function(){return vr.current.useId()};Fe.useImperativeHandle=function(t,e,r){return vr.current.useImperativeHandle(t,e,r)};Fe.useInsertionEffect=function(t,e){return vr.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return vr.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return vr.current.useMemo(t,e)};Fe.useReducer=function(t,e,r){return vr.current.useReducer(t,e,r)};Fe.useRef=function(t){return vr.current.useRef(t)};Fe.useState=function(t){return vr.current.useState(t)};Fe.useSyncExternalStore=function(t,e,r){return vr.current.useSyncExternalStore(t,e,r)};Fe.useTransition=function(){return vr.current.useTransition()};Fe.version="18.3.1";DT.exports=Fe;var T=DT.exports;const L=Xe(T),qR=ER({__proto__:null,default:L},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR=T,GR=Symbol.for("react.element"),HR=Symbol.for("react.fragment"),zR=Object.prototype.hasOwnProperty,WR=VR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KR={key:!0,ref:!0,__self:!0,__source:!0};function zT(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)zR.call(e,n)&&!KR.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:GR,type:t,key:a,ref:o,props:i,_owner:WR.current}}Bh.Fragment=HR;Bh.jsx=zT;Bh.jsxs=zT;$T.exports=Bh;var s=$T.exports,Ig={},WT={exports:{}},qr={},KT={exports:{}},JT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,W){var J=B.length;B.push(W);e:for(;0<J;){var te=J-1>>>1,Q=B[te];if(0<i(Q,W))B[te]=W,B[J]=Q,J=te;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var W=B[0],J=B.pop();if(J!==W){B[0]=J;e:for(var te=0,Q=B.length,ge=Q>>>1;te<ge;){var M=2*(te+1)-1,Z=B[M],ue=M+1,ve=B[ue];if(0>i(Z,J))ue<Q&&0>i(ve,Z)?(B[te]=ve,B[ue]=J,te=ue):(B[te]=Z,B[M]=J,te=M);else if(ue<Q&&0>i(ve,J))B[te]=ve,B[ue]=J,te=ue;else break e}}return W}function i(B,W){var J=B.sortIndex-W.sortIndex;return J!==0?J:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,b=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=B)n(u),W.sortIndex=W.expirationTime,e(c,W);else break;W=r(u)}}function k(B){if(y=!1,w(B),!b)if(r(c)!==null)b=!0,D(S);else{var W=r(u);W!==null&&q(k,W.startTime-B)}}function S(B,W){b=!1,y&&(y=!1,x(C),C=-1),g=!0;var J=h;try{for(w(W),f=r(c);f!==null&&(!(f.expirationTime>W)||B&&!$());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var Q=te(f.expirationTime<=W);W=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(c)&&n(c),w(W)}else n(c);f=r(c)}if(f!==null)var ge=!0;else{var M=r(u);M!==null&&q(k,M.startTime-W),ge=!1}return ge}finally{f=null,h=J,g=!1}}var N=!1,E=null,C=-1,A=5,I=-1;function $(){return!(t.unstable_now()-I<A)}function U(){if(E!==null){var B=t.unstable_now();I=B;var W=!0;try{W=E(!0,B)}finally{W?O():(N=!1,E=null)}}else N=!1}var O;if(typeof _=="function")O=function(){_(U)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,P=R.port2;R.port1.onmessage=U,O=function(){P.postMessage(null)}}else O=function(){v(U,0)};function D(B){E=B,N||(N=!0,O())}function q(B,W){C=v(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,D(S))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var J=h;h=W;try{return B()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=h;h=B;try{return W()}finally{h=J}},t.unstable_scheduleCallback=function(B,W,J){var te=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?te+J:te):J=te,B){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=J+Q,B={id:d++,callback:W,priorityLevel:B,startTime:J,expirationTime:Q,sortIndex:-1},J>te?(B.sortIndex=J,e(u,B),r(c)===null&&B===r(u)&&(y?(x(C),C=-1):y=!0,q(k,J-te))):(B.sortIndex=Q,e(c,B),b||g||(b=!0,D(S))),B},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(B){var W=h;return function(){var J=h;h=W;try{return B.apply(this,arguments)}finally{h=J}}}})(JT);KT.exports=JT;var JR=KT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR=T,Br=JR;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YT=new Set,hc={};function no(t,e){us(t,e),us(t+"Capture",e)}function us(t,e){for(hc[t]=e,t=0;t<e.length;t++)YT.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Og=Object.prototype.hasOwnProperty,XR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ow={},sw={};function QR(t){return Og.call(sw,t)?!0:Og.call(ow,t)?!1:XR.test(t)?sw[t]=!0:(ow[t]=!0,!1)}function ZR(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eM(t,e,r,n){if(e===null||typeof e>"u"||ZR(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rr[t]=new xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rr[e]=new xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rr[t]=new xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rr[t]=new xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rr[t]=new xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rr[t]=new xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rr[t]=new xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rr[t]=new xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rr[t]=new xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rv=/[\-:]([a-z])/g;function Mv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rv,Mv);rr[e]=new xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rv,Mv);rr[e]=new xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rv,Mv);rr[e]=new xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rr[t]=new xr(t,1,!1,t.toLowerCase(),null,!1,!1)});rr.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rr[t]=new xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function $v(t,e,r,n){var i=rr.hasOwnProperty(e)?rr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eM(e,r,i,n)&&(r=null),n||i===null?QR(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Si=YR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),Po=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),Dv=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),XT=Symbol.for("react.provider"),QT=Symbol.for("react.context"),Lv=Symbol.for("react.forward_ref"),Mg=Symbol.for("react.suspense"),$g=Symbol.for("react.suspense_list"),Uv=Symbol.for("react.memo"),Ri=Symbol.for("react.lazy"),ZT=Symbol.for("react.offscreen"),lw=Symbol.iterator;function yl(t){return t===null||typeof t!="object"?null:(t=lw&&t[lw]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,xm;function Ll(t){if(xm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xm=e&&e[1]||""}return`
`+xm+t}var bm=!1;function wm(t,e){if(!t||bm)return"";bm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{bm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ll(t):""}function tM(t){switch(t.tag){case 5:return Ll(t.type);case 16:return Ll("Lazy");case 13:return Ll("Suspense");case 19:return Ll("SuspenseList");case 0:case 2:case 15:return t=wm(t.type,!1),t;case 11:return t=wm(t.type.render,!1),t;case 1:return t=wm(t.type,!0),t;default:return""}}function Dg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Io:return"Fragment";case Po:return"Portal";case Rg:return"Profiler";case Dv:return"StrictMode";case Mg:return"Suspense";case $g:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QT:return(t.displayName||"Context")+".Consumer";case XT:return(t._context.displayName||"Context")+".Provider";case Lv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uv:return e=t.displayName||null,e!==null?e:Dg(t.type)||"Memo";case Ri:e=t._payload,t=t._init;try{return Dg(t(e))}catch{}}return null}function rM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dg(e);case 8:return e===Dv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ra(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nM(t){var e=eA(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ju(t){t._valueTracker||(t._valueTracker=nM(t))}function tA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=eA(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Jd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lg(t,e){var r=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function cw(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ra(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rA(t,e){e=e.checked,e!=null&&$v(t,"checked",e,!1)}function Ug(t,e){rA(t,e);var r=ra(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fg(t,e.type,r):e.hasOwnProperty("defaultValue")&&Fg(t,e.type,ra(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Fg(t,e,r){(e!=="number"||Jd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ul=Array.isArray;function Xo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ra(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ce(92));if(Ul(r)){if(1<r.length)throw Error(ce(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ra(r)}}function nA(t,e){var r=ra(e.value),n=ra(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function fw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yu,aA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yu=Yu||document.createElement("div"),Yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iM=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(t){iM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hl[e]=Hl[t]})});function oA(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Hl.hasOwnProperty(t)&&Hl[t]?(""+e).trim():e+"px"}function sA(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=oA(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var aM=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vg(t,e){if(e){if(aM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function Gg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function Fv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zg=null,Qo=null,Zo=null;function hw(t){if(t=Eu(t)){if(typeof zg!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=zh(e),zg(t.stateNode,t.type,e))}}function lA(t){Qo?Zo?Zo.push(t):Zo=[t]:Qo=t}function cA(){if(Qo){var t=Qo,e=Zo;if(Zo=Qo=null,hw(t),e)for(t=0;t<e.length;t++)hw(e[t])}}function uA(t,e){return t(e)}function dA(){}var _m=!1;function fA(t,e,r){if(_m)return t(e,r);_m=!0;try{return uA(t,e,r)}finally{_m=!1,(Qo!==null||Zo!==null)&&(dA(),cA())}}function mc(t,e){var r=t.stateNode;if(r===null)return null;var n=zh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ce(231,e,typeof r));return r}var Wg=!1;if(hi)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){Wg=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{Wg=!1}function oM(t,e,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var zl=!1,Yd=null,Xd=!1,Kg=null,sM={onError:function(t){zl=!0,Yd=t}};function lM(t,e,r,n,i,a,o,l,c){zl=!1,Yd=null,oM.apply(sM,arguments)}function cM(t,e,r,n,i,a,o,l,c){if(lM.apply(this,arguments),zl){if(zl){var u=Yd;zl=!1,Yd=null}else throw Error(ce(198));Xd||(Xd=!0,Kg=u)}}function io(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function hA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pw(t){if(io(t)!==t)throw Error(ce(188))}function uM(t){var e=t.alternate;if(!e){if(e=io(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return pw(i),t;if(a===n)return pw(i),e;a=a.sibling}throw Error(ce(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?t:e}function pA(t){return t=uM(t),t!==null?mA(t):null}function mA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mA(t);if(e!==null)return e;t=t.sibling}return null}var gA=Br.unstable_scheduleCallback,mw=Br.unstable_cancelCallback,dM=Br.unstable_shouldYield,fM=Br.unstable_requestPaint,kt=Br.unstable_now,hM=Br.unstable_getCurrentPriorityLevel,Bv=Br.unstable_ImmediatePriority,yA=Br.unstable_UserBlockingPriority,Qd=Br.unstable_NormalPriority,pM=Br.unstable_LowPriority,vA=Br.unstable_IdlePriority,qh=null,Fn=null;function mM(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(qh,t,void 0,(t.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:vM,gM=Math.log,yM=Math.LN2;function vM(t){return t>>>=0,t===0?32:31-(gM(t)/yM|0)|0}var Xu=64,Qu=4194304;function Fl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Fl(l):(a&=o,a!==0&&(n=Fl(a)))}else o=r&~i,o!==0?n=Fl(o):a!==0&&(n=Fl(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Nn(e),i=1<<r,n|=t[r],e&=~i;return n}function xM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bM(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Nn(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=xM(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Jg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xA(){var t=Xu;return Xu<<=1,!(Xu&4194240)&&(Xu=64),t}function Sm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Nu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nn(e),t[e]=r}function wM(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Nn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function qv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Nn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ye=0;function bA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wA,Vv,_A,SA,NA,Yg=!1,Zu=[],Wi=null,Ki=null,Ji=null,gc=new Map,yc=new Map,Li=[],_M="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gw(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":gc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(e.pointerId)}}function xl(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Eu(e),e!==null&&Vv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SM(t,e,r,n,i){switch(e){case"focusin":return Wi=xl(Wi,t,e,r,n,i),!0;case"dragenter":return Ki=xl(Ki,t,e,r,n,i),!0;case"mouseover":return Ji=xl(Ji,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return gc.set(a,xl(gc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,yc.set(a,xl(yc.get(a)||null,t,e,r,n,i)),!0}return!1}function kA(t){var e=Ca(t.target);if(e!==null){var r=io(e);if(r!==null){if(e=r.tag,e===13){if(e=hA(r),e!==null){t.blockedOn=e,NA(t.priority,function(){_A(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $d(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Xg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Hg=n,r.target.dispatchEvent(n),Hg=null}else return e=Eu(r),e!==null&&Vv(e),t.blockedOn=r,!1;e.shift()}return!0}function yw(t,e,r){$d(t)&&r.delete(e)}function NM(){Yg=!1,Wi!==null&&$d(Wi)&&(Wi=null),Ki!==null&&$d(Ki)&&(Ki=null),Ji!==null&&$d(Ji)&&(Ji=null),gc.forEach(yw),yc.forEach(yw)}function bl(t,e){t.blockedOn===e&&(t.blockedOn=null,Yg||(Yg=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,NM)))}function vc(t){function e(i){return bl(i,t)}if(0<Zu.length){bl(Zu[0],t);for(var r=1;r<Zu.length;r++){var n=Zu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Wi!==null&&bl(Wi,t),Ki!==null&&bl(Ki,t),Ji!==null&&bl(Ji,t),gc.forEach(e),yc.forEach(e),r=0;r<Li.length;r++)n=Li[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Li.length&&(r=Li[0],r.blockedOn===null);)kA(r),r.blockedOn===null&&Li.shift()}var es=Si.ReactCurrentBatchConfig,ef=!0;function kM(t,e,r,n){var i=Ye,a=es.transition;es.transition=null;try{Ye=1,Gv(t,e,r,n)}finally{Ye=i,es.transition=a}}function EM(t,e,r,n){var i=Ye,a=es.transition;es.transition=null;try{Ye=4,Gv(t,e,r,n)}finally{Ye=i,es.transition=a}}function Gv(t,e,r,n){if(ef){var i=Xg(t,e,r,n);if(i===null)Om(t,e,n,tf,r),gw(t,n);else if(SM(i,t,e,r,n))n.stopPropagation();else if(gw(t,n),e&4&&-1<_M.indexOf(t)){for(;i!==null;){var a=Eu(i);if(a!==null&&wA(a),a=Xg(t,e,r,n),a===null&&Om(t,e,n,tf,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Om(t,e,n,null,r)}}var tf=null;function Xg(t,e,r,n){if(tf=null,t=Fv(n),t=Ca(t),t!==null)if(e=io(t),e===null)t=null;else if(r=e.tag,r===13){if(t=hA(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tf=t,null}function EA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hM()){case Bv:return 1;case yA:return 4;case Qd:case pM:return 16;case vA:return 536870912;default:return 16}default:return 16}}var qi=null,Hv=null,Dd=null;function TA(){if(Dd)return Dd;var t,e=Hv,r=e.length,n,i="value"in qi?qi.value:qi.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Dd=i.slice(t,1<n?1-n:void 0)}function Ld(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ed(){return!0}function vw(){return!1}function Vr(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ed:vw,this.isPropagationStopped=vw,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),e}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zv=Vr(Ks),ku=vt({},Ks,{view:0,detail:0}),TM=Vr(ku),Nm,km,wl,Vh=vt({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wl&&(wl&&t.type==="mousemove"?(Nm=t.screenX-wl.screenX,km=t.screenY-wl.screenY):km=Nm=0,wl=t),Nm)},movementY:function(t){return"movementY"in t?t.movementY:km}}),xw=Vr(Vh),AM=vt({},Vh,{dataTransfer:0}),CM=Vr(AM),jM=vt({},ku,{relatedTarget:0}),Em=Vr(jM),PM=vt({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),IM=Vr(PM),OM=vt({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RM=Vr(OM),MM=vt({},Ks,{data:0}),bw=Vr(MM),$M={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LM[t])?!!e[t]:!1}function Wv(){return UM}var FM=vt({},ku,{key:function(t){if(t.key){var e=$M[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ld(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wv,charCode:function(t){return t.type==="keypress"?Ld(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ld(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BM=Vr(FM),qM=vt({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ww=Vr(qM),VM=vt({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wv}),GM=Vr(VM),HM=vt({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),zM=Vr(HM),WM=vt({},Vh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KM=Vr(WM),JM=[9,13,27,32],Kv=hi&&"CompositionEvent"in window,Wl=null;hi&&"documentMode"in document&&(Wl=document.documentMode);var YM=hi&&"TextEvent"in window&&!Wl,AA=hi&&(!Kv||Wl&&8<Wl&&11>=Wl),_w=" ",Sw=!1;function CA(t,e){switch(t){case"keyup":return JM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function XM(t,e){switch(t){case"compositionend":return jA(e);case"keypress":return e.which!==32?null:(Sw=!0,_w);case"textInput":return t=e.data,t===_w&&Sw?null:t;default:return null}}function QM(t,e){if(Oo)return t==="compositionend"||!Kv&&CA(t,e)?(t=TA(),Dd=Hv=qi=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AA&&e.locale!=="ko"?null:e.data;default:return null}}var ZM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZM[t.type]:e==="textarea"}function PA(t,e,r,n){lA(n),e=rf(e,"onChange"),0<e.length&&(r=new zv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Kl=null,xc=null;function e$(t){qA(t,0)}function Gh(t){var e=$o(t);if(tA(e))return t}function t$(t,e){if(t==="change")return e}var IA=!1;if(hi){var Tm;if(hi){var Am="oninput"in document;if(!Am){var kw=document.createElement("div");kw.setAttribute("oninput","return;"),Am=typeof kw.oninput=="function"}Tm=Am}else Tm=!1;IA=Tm&&(!document.documentMode||9<document.documentMode)}function Ew(){Kl&&(Kl.detachEvent("onpropertychange",OA),xc=Kl=null)}function OA(t){if(t.propertyName==="value"&&Gh(xc)){var e=[];PA(e,xc,t,Fv(t)),fA(e$,e)}}function r$(t,e,r){t==="focusin"?(Ew(),Kl=e,xc=r,Kl.attachEvent("onpropertychange",OA)):t==="focusout"&&Ew()}function n$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gh(xc)}function i$(t,e){if(t==="click")return Gh(e)}function a$(t,e){if(t==="input"||t==="change")return Gh(e)}function o$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:o$;function bc(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Og.call(e,i)||!Cn(t[i],e[i]))return!1}return!0}function Tw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Aw(t,e){var r=Tw(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tw(r)}}function RA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MA(){for(var t=window,e=Jd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Jd(t.document)}return e}function Jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function s$(t){var e=MA(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&RA(r.ownerDocument.documentElement,r)){if(n!==null&&Jv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=Aw(r,a);var o=Aw(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var l$=hi&&"documentMode"in document&&11>=document.documentMode,Ro=null,Qg=null,Jl=null,Zg=!1;function Cw(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zg||Ro==null||Ro!==Jd(n)||(n=Ro,"selectionStart"in n&&Jv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Jl&&bc(Jl,n)||(Jl=n,n=rf(Qg,"onSelect"),0<n.length&&(e=new zv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ro)))}function td(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Mo={animationend:td("Animation","AnimationEnd"),animationiteration:td("Animation","AnimationIteration"),animationstart:td("Animation","AnimationStart"),transitionend:td("Transition","TransitionEnd")},Cm={},$A={};hi&&($A=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Hh(t){if(Cm[t])return Cm[t];if(!Mo[t])return t;var e=Mo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in $A)return Cm[t]=e[r];return t}var DA=Hh("animationend"),LA=Hh("animationiteration"),UA=Hh("animationstart"),FA=Hh("transitionend"),BA=new Map,jw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(t,e){BA.set(t,e),no(e,[t])}for(var jm=0;jm<jw.length;jm++){var Pm=jw[jm],c$=Pm.toLowerCase(),u$=Pm[0].toUpperCase()+Pm.slice(1);aa(c$,"on"+u$)}aa(DA,"onAnimationEnd");aa(LA,"onAnimationIteration");aa(UA,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(FA,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bl));function Pw(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,cM(n,e,void 0,t),t.currentTarget=null}function qA(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Pw(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Pw(i,l,u),a=c}}}if(Xd)throw t=Kg,Xd=!1,Kg=null,t}function st(t,e){var r=e[iy];r===void 0&&(r=e[iy]=new Set);var n=t+"__bubble";r.has(n)||(VA(e,t,2,!1),r.add(n))}function Im(t,e,r){var n=0;e&&(n|=4),VA(r,t,n,e)}var rd="_reactListening"+Math.random().toString(36).slice(2);function wc(t){if(!t[rd]){t[rd]=!0,YT.forEach(function(r){r!=="selectionchange"&&(d$.has(r)||Im(r,!1,t),Im(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rd]||(e[rd]=!0,Im("selectionchange",!1,e))}}function VA(t,e,r,n){switch(EA(e)){case 1:var i=kM;break;case 4:i=EM;break;default:i=Gv}r=i.bind(null,e,r,t),i=void 0,!Wg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Om(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ca(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}fA(function(){var u=a,d=Fv(r),f=[];e:{var h=BA.get(t);if(h!==void 0){var g=zv,b=t;switch(t){case"keypress":if(Ld(r)===0)break e;case"keydown":case"keyup":g=BM;break;case"focusin":b="focus",g=Em;break;case"focusout":b="blur",g=Em;break;case"beforeblur":case"afterblur":g=Em;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=CM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=GM;break;case DA:case LA:case UA:g=IM;break;case FA:g=zM;break;case"scroll":g=TM;break;case"wheel":g=KM;break;case"copy":case"cut":case"paste":g=RM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ww}var y=(e&4)!==0,v=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var _=u,w;_!==null;){w=_;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,x!==null&&(k=mc(_,x),k!=null&&y.push(_c(_,k,w)))),v)break;_=_.return}0<y.length&&(h=new g(h,b,null,r,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&r!==Hg&&(b=r.relatedTarget||r.fromElement)&&(Ca(b)||b[pi]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=u,b=b?Ca(b):null,b!==null&&(v=io(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(y=xw,k="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=ww,k="onPointerLeave",x="onPointerEnter",_="pointer"),v=g==null?h:$o(g),w=b==null?h:$o(b),h=new y(k,_+"leave",g,r,d),h.target=v,h.relatedTarget=w,k=null,Ca(d)===u&&(y=new y(x,_+"enter",b,r,d),y.target=w,y.relatedTarget=v,k=y),v=k,g&&b)t:{for(y=g,x=b,_=0,w=y;w;w=go(w))_++;for(w=0,k=x;k;k=go(k))w++;for(;0<_-w;)y=go(y),_--;for(;0<w-_;)x=go(x),w--;for(;_--;){if(y===x||x!==null&&y===x.alternate)break t;y=go(y),x=go(x)}y=null}else y=null;g!==null&&Iw(f,h,g,y,!1),b!==null&&v!==null&&Iw(f,v,b,y,!0)}}e:{if(h=u?$o(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=t$;else if(Nw(h))if(IA)S=a$;else{S=n$;var N=r$}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=i$);if(S&&(S=S(t,u))){PA(f,S,r,d);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Fg(h,"number",h.value)}switch(N=u?$o(u):window,t){case"focusin":(Nw(N)||N.contentEditable==="true")&&(Ro=N,Qg=u,Jl=null);break;case"focusout":Jl=Qg=Ro=null;break;case"mousedown":Zg=!0;break;case"contextmenu":case"mouseup":case"dragend":Zg=!1,Cw(f,r,d);break;case"selectionchange":if(l$)break;case"keydown":case"keyup":Cw(f,r,d)}var E;if(Kv)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Oo?CA(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(AA&&r.locale!=="ko"&&(Oo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Oo&&(E=TA()):(qi=d,Hv="value"in qi?qi.value:qi.textContent,Oo=!0)),N=rf(u,C),0<N.length&&(C=new bw(C,t,null,r,d),f.push({event:C,listeners:N}),E?C.data=E:(E=jA(r),E!==null&&(C.data=E)))),(E=YM?XM(t,r):QM(t,r))&&(u=rf(u,"onBeforeInput"),0<u.length&&(d=new bw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}qA(f,e)})}function _c(t,e,r){return{instance:t,listener:e,currentTarget:r}}function rf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=mc(t,r),a!=null&&n.unshift(_c(t,a,i)),a=mc(t,e),a!=null&&n.push(_c(t,a,i))),t=t.return}return n}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Iw(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=mc(r,a),c!=null&&o.unshift(_c(r,c,l))):i||(c=mc(r,a),c!=null&&o.push(_c(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var f$=/\r\n?/g,h$=/\u0000|\uFFFD/g;function Ow(t){return(typeof t=="string"?t:""+t).replace(f$,`
`).replace(h$,"")}function nd(t,e,r){if(e=Ow(e),Ow(t)!==e&&r)throw Error(ce(425))}function nf(){}var ey=null,ty=null;function ry(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ny=typeof setTimeout=="function"?setTimeout:void 0,p$=typeof clearTimeout=="function"?clearTimeout:void 0,Rw=typeof Promise=="function"?Promise:void 0,m$=typeof queueMicrotask=="function"?queueMicrotask:typeof Rw<"u"?function(t){return Rw.resolve(null).then(t).catch(g$)}:ny;function g$(t){setTimeout(function(){throw t})}function Rm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),vc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);vc(e)}function Yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Js,Sc="__reactProps$"+Js,pi="__reactContainer$"+Js,iy="__reactEvents$"+Js,y$="__reactListeners$"+Js,v$="__reactHandles$"+Js;function Ca(t){var e=t[Dn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pi]||r[Dn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Mw(t);t!==null;){if(r=t[Dn])return r;t=Mw(t)}return e}t=r,r=t.parentNode}return null}function Eu(t){return t=t[Dn]||t[pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $o(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function zh(t){return t[Sc]||null}var ay=[],Do=-1;function oa(t){return{current:t}}function ut(t){0>Do||(t.current=ay[Do],ay[Do]=null,Do--)}function at(t,e){Do++,ay[Do]=t.current,t.current=e}var na={},cr=oa(na),Nr=oa(!1),Va=na;function ds(t,e){var r=t.type.contextTypes;if(!r)return na;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kr(t){return t=t.childContextTypes,t!=null}function af(){ut(Nr),ut(cr)}function $w(t,e,r){if(cr.current!==na)throw Error(ce(168));at(cr,e),at(Nr,r)}function GA(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ce(108,rM(t)||"Unknown",i));return vt({},r,n)}function of(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||na,Va=cr.current,at(cr,t),at(Nr,Nr.current),!0}function Dw(t,e,r){var n=t.stateNode;if(!n)throw Error(ce(169));r?(t=GA(t,e,Va),n.__reactInternalMemoizedMergedChildContext=t,ut(Nr),ut(cr),at(cr,t)):ut(Nr),at(Nr,r)}var ri=null,Wh=!1,Mm=!1;function HA(t){ri===null?ri=[t]:ri.push(t)}function x$(t){Wh=!0,HA(t)}function sa(){if(!Mm&&ri!==null){Mm=!0;var t=0,e=Ye;try{var r=ri;for(Ye=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ri=null,Wh=!1}catch(i){throw ri!==null&&(ri=ri.slice(t+1)),gA(Bv,sa),i}finally{Ye=e,Mm=!1}}return null}var Lo=[],Uo=0,sf=null,lf=0,Qr=[],Zr=0,Ga=null,ni=1,ii="";function xa(t,e){Lo[Uo++]=lf,Lo[Uo++]=sf,sf=t,lf=e}function zA(t,e,r){Qr[Zr++]=ni,Qr[Zr++]=ii,Qr[Zr++]=Ga,Ga=t;var n=ni;t=ii;var i=32-Nn(n)-1;n&=~(1<<i),r+=1;var a=32-Nn(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ni=1<<32-Nn(e)+i|r<<i|n,ii=a+t}else ni=1<<a|r<<i|n,ii=t}function Yv(t){t.return!==null&&(xa(t,1),zA(t,1,0))}function Xv(t){for(;t===sf;)sf=Lo[--Uo],Lo[Uo]=null,lf=Lo[--Uo],Lo[Uo]=null;for(;t===Ga;)Ga=Qr[--Zr],Qr[Zr]=null,ii=Qr[--Zr],Qr[Zr]=null,ni=Qr[--Zr],Qr[Zr]=null}var Lr=null,Dr=null,ft=!1,_n=null;function WA(t,e){var r=tn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Lw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lr=t,Dr=Yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lr=t,Dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ga!==null?{id:ni,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=tn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Lr=t,Dr=null,!0):!1;default:return!1}}function oy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sy(t){if(ft){var e=Dr;if(e){var r=e;if(!Lw(t,e)){if(oy(t))throw Error(ce(418));e=Yi(r.nextSibling);var n=Lr;e&&Lw(t,e)?WA(n,r):(t.flags=t.flags&-4097|2,ft=!1,Lr=t)}}else{if(oy(t))throw Error(ce(418));t.flags=t.flags&-4097|2,ft=!1,Lr=t}}}function Uw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lr=t}function id(t){if(t!==Lr)return!1;if(!ft)return Uw(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ry(t.type,t.memoizedProps)),e&&(e=Dr)){if(oy(t))throw KA(),Error(ce(418));for(;e;)WA(t,e),e=Yi(e.nextSibling)}if(Uw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Dr=Yi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Dr=null}}else Dr=Lr?Yi(t.stateNode.nextSibling):null;return!0}function KA(){for(var t=Dr;t;)t=Yi(t.nextSibling)}function fs(){Dr=Lr=null,ft=!1}function Qv(t){_n===null?_n=[t]:_n.push(t)}var b$=Si.ReactCurrentBatchConfig;function _l(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,t))}return t}function ad(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fw(t){var e=t._init;return e(t._payload)}function JA(t){function e(x,_){if(t){var w=x.deletions;w===null?(x.deletions=[_],x.flags|=16):w.push(_)}}function r(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function n(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=ea(x,_),x.index=0,x.sibling=null,x}function a(x,_,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<_?(x.flags|=2,_):w):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,_,w,k){return _===null||_.tag!==6?(_=qm(w,x.mode,k),_.return=x,_):(_=i(_,w),_.return=x,_)}function c(x,_,w,k){var S=w.type;return S===Io?d(x,_,w.props.children,k,w.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ri&&Fw(S)===_.type)?(k=i(_,w.props),k.ref=_l(x,_,w),k.return=x,k):(k=Hd(w.type,w.key,w.props,null,x.mode,k),k.ref=_l(x,_,w),k.return=x,k)}function u(x,_,w,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Vm(w,x.mode,k),_.return=x,_):(_=i(_,w.children||[]),_.return=x,_)}function d(x,_,w,k,S){return _===null||_.tag!==7?(_=Ua(w,x.mode,k,S),_.return=x,_):(_=i(_,w),_.return=x,_)}function f(x,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=qm(""+_,x.mode,w),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ku:return w=Hd(_.type,_.key,_.props,null,x.mode,w),w.ref=_l(x,null,_),w.return=x,w;case Po:return _=Vm(_,x.mode,w),_.return=x,_;case Ri:var k=_._init;return f(x,k(_._payload),w)}if(Ul(_)||yl(_))return _=Ua(_,x.mode,w,null),_.return=x,_;ad(x,_)}return null}function h(x,_,w,k){var S=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,_,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ku:return w.key===S?c(x,_,w,k):null;case Po:return w.key===S?u(x,_,w,k):null;case Ri:return S=w._init,h(x,_,S(w._payload),k)}if(Ul(w)||yl(w))return S!==null?null:d(x,_,w,k,null);ad(x,w)}return null}function g(x,_,w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(w)||null,l(_,x,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ku:return x=x.get(k.key===null?w:k.key)||null,c(_,x,k,S);case Po:return x=x.get(k.key===null?w:k.key)||null,u(_,x,k,S);case Ri:var N=k._init;return g(x,_,w,N(k._payload),S)}if(Ul(k)||yl(k))return x=x.get(w)||null,d(_,x,k,S,null);ad(_,k)}return null}function b(x,_,w,k){for(var S=null,N=null,E=_,C=_=0,A=null;E!==null&&C<w.length;C++){E.index>C?(A=E,E=null):A=E.sibling;var I=h(x,E,w[C],k);if(I===null){E===null&&(E=A);break}t&&E&&I.alternate===null&&e(x,E),_=a(I,_,C),N===null?S=I:N.sibling=I,N=I,E=A}if(C===w.length)return r(x,E),ft&&xa(x,C),S;if(E===null){for(;C<w.length;C++)E=f(x,w[C],k),E!==null&&(_=a(E,_,C),N===null?S=E:N.sibling=E,N=E);return ft&&xa(x,C),S}for(E=n(x,E);C<w.length;C++)A=g(E,x,C,w[C],k),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?C:A.key),_=a(A,_,C),N===null?S=A:N.sibling=A,N=A);return t&&E.forEach(function($){return e(x,$)}),ft&&xa(x,C),S}function y(x,_,w,k){var S=yl(w);if(typeof S!="function")throw Error(ce(150));if(w=S.call(w),w==null)throw Error(ce(151));for(var N=S=null,E=_,C=_=0,A=null,I=w.next();E!==null&&!I.done;C++,I=w.next()){E.index>C?(A=E,E=null):A=E.sibling;var $=h(x,E,I.value,k);if($===null){E===null&&(E=A);break}t&&E&&$.alternate===null&&e(x,E),_=a($,_,C),N===null?S=$:N.sibling=$,N=$,E=A}if(I.done)return r(x,E),ft&&xa(x,C),S;if(E===null){for(;!I.done;C++,I=w.next())I=f(x,I.value,k),I!==null&&(_=a(I,_,C),N===null?S=I:N.sibling=I,N=I);return ft&&xa(x,C),S}for(E=n(x,E);!I.done;C++,I=w.next())I=g(E,x,C,I.value,k),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?C:I.key),_=a(I,_,C),N===null?S=I:N.sibling=I,N=I);return t&&E.forEach(function(U){return e(x,U)}),ft&&xa(x,C),S}function v(x,_,w,k){if(typeof w=="object"&&w!==null&&w.type===Io&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ku:e:{for(var S=w.key,N=_;N!==null;){if(N.key===S){if(S=w.type,S===Io){if(N.tag===7){r(x,N.sibling),_=i(N,w.props.children),_.return=x,x=_;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ri&&Fw(S)===N.type){r(x,N.sibling),_=i(N,w.props),_.ref=_l(x,N,w),_.return=x,x=_;break e}r(x,N);break}else e(x,N);N=N.sibling}w.type===Io?(_=Ua(w.props.children,x.mode,k,w.key),_.return=x,x=_):(k=Hd(w.type,w.key,w.props,null,x.mode,k),k.ref=_l(x,_,w),k.return=x,x=k)}return o(x);case Po:e:{for(N=w.key;_!==null;){if(_.key===N)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){r(x,_.sibling),_=i(_,w.children||[]),_.return=x,x=_;break e}else{r(x,_);break}else e(x,_);_=_.sibling}_=Vm(w,x.mode,k),_.return=x,x=_}return o(x);case Ri:return N=w._init,v(x,_,N(w._payload),k)}if(Ul(w))return b(x,_,w,k);if(yl(w))return y(x,_,w,k);ad(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(r(x,_.sibling),_=i(_,w),_.return=x,x=_):(r(x,_),_=qm(w,x.mode,k),_.return=x,x=_),o(x)):r(x,_)}return v}var hs=JA(!0),YA=JA(!1),cf=oa(null),uf=null,Fo=null,Zv=null;function ex(){Zv=Fo=uf=null}function tx(t){var e=cf.current;ut(cf),t._currentValue=e}function ly(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ts(t,e){uf=t,Zv=Fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wr=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(Zv!==t)if(t={context:t,memoizedValue:e,next:null},Fo===null){if(uf===null)throw Error(ce(308));Fo=t,uf.dependencies={lanes:0,firstContext:t}}else Fo=Fo.next=t;return e}var ja=null;function rx(t){ja===null?ja=[t]:ja.push(t)}function XA(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,rx(e)):(r.next=i.next,i.next=r),e.interleaved=r,mi(t,n)}function mi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Mi=!1;function nx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,He&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,mi(t,r)}return i=n.interleaved,i===null?(e.next=e,rx(n)):(e.next=i.next,i.next=e),n.interleaved=e,mi(t,r)}function Ud(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,qv(t,r)}}function Bw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function df(t,e,r,n){var i=t.updateQueue;Mi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,y=l;switch(h=e,g=r,y.tag){case 1:if(b=y.payload,typeof b=="function"){f=b.call(g,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,h=typeof b=="function"?b.call(g,f,h):b,h==null)break e;f=vt({},f,h);break e;case 2:Mi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);za|=o,t.lanes=o,t.memoizedState=f}}function qw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ce(191,i));i.call(n)}}}var Tu={},Bn=oa(Tu),Nc=oa(Tu),kc=oa(Tu);function Pa(t){if(t===Tu)throw Error(ce(174));return t}function ix(t,e){switch(at(kc,e),at(Nc,t),at(Bn,Tu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qg(e,t)}ut(Bn),at(Bn,e)}function ps(){ut(Bn),ut(Nc),ut(kc)}function ZA(t){Pa(kc.current);var e=Pa(Bn.current),r=qg(e,t.type);e!==r&&(at(Nc,t),at(Bn,r))}function ax(t){Nc.current===t&&(ut(Bn),ut(Nc))}var mt=oa(0);function ff(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $m=[];function ox(){for(var t=0;t<$m.length;t++)$m[t]._workInProgressVersionPrimary=null;$m.length=0}var Fd=Si.ReactCurrentDispatcher,Dm=Si.ReactCurrentBatchConfig,Ha=0,gt=null,$t=null,Vt=null,hf=!1,Yl=!1,Ec=0,w$=0;function nr(){throw Error(ce(321))}function sx(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Cn(t[r],e[r]))return!1;return!0}function lx(t,e,r,n,i,a){if(Ha=a,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fd.current=t===null||t.memoizedState===null?k$:E$,t=r(n,i),Yl){a=0;do{if(Yl=!1,Ec=0,25<=a)throw Error(ce(301));a+=1,Vt=$t=null,e.updateQueue=null,Fd.current=T$,t=r(n,i)}while(Yl)}if(Fd.current=pf,e=$t!==null&&$t.next!==null,Ha=0,Vt=$t=gt=null,hf=!1,e)throw Error(ce(300));return t}function cx(){var t=Ec!==0;return Ec=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?gt.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function sn(){if($t===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Vt===null?gt.memoizedState:Vt.next;if(e!==null)Vt=e,$t=t;else{if(t===null)throw Error(ce(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Vt===null?gt.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Tc(t,e){return typeof e=="function"?e(t):e}function Lm(t){var e=sn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=$t,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Ha&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,gt.lanes|=d,za|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Cn(n,e.memoizedState)||(wr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,gt.lanes|=a,za|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Um(t){var e=sn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Cn(a,e.memoizedState)||(wr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function eC(){}function tC(t,e){var r=gt,n=sn(),i=e(),a=!Cn(n.memoizedState,i);if(a&&(n.memoizedState=i,wr=!0),n=n.queue,ux(iC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Vt!==null&&Vt.memoizedState.tag&1){if(r.flags|=2048,Ac(9,nC.bind(null,r,n,i,e),void 0,null),Ht===null)throw Error(ce(349));Ha&30||rC(r,e,i)}return i}function rC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function nC(t,e,r,n){e.value=r,e.getSnapshot=n,aC(e)&&oC(t)}function iC(t,e,r){return r(function(){aC(e)&&oC(t)})}function aC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Cn(t,r)}catch{return!0}}function oC(t){var e=mi(t,1);e!==null&&kn(e,t,1,-1)}function Vw(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:t},e.queue=t,t=t.dispatch=N$.bind(null,gt,t),[e.memoizedState,t]}function Ac(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function sC(){return sn().memoizedState}function Bd(t,e,r,n){var i=$n();gt.flags|=t,i.memoizedState=Ac(1|e,r,void 0,n===void 0?null:n)}function Kh(t,e,r,n){var i=sn();n=n===void 0?null:n;var a=void 0;if($t!==null){var o=$t.memoizedState;if(a=o.destroy,n!==null&&sx(n,o.deps)){i.memoizedState=Ac(e,r,a,n);return}}gt.flags|=t,i.memoizedState=Ac(1|e,r,a,n)}function Gw(t,e){return Bd(8390656,8,t,e)}function ux(t,e){return Kh(2048,8,t,e)}function lC(t,e){return Kh(4,2,t,e)}function cC(t,e){return Kh(4,4,t,e)}function uC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dC(t,e,r){return r=r!=null?r.concat([t]):null,Kh(4,4,uC.bind(null,e,t),r)}function dx(){}function fC(t,e){var r=sn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sx(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function hC(t,e){var r=sn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&sx(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function pC(t,e,r){return Ha&21?(Cn(r,e)||(r=xA(),gt.lanes|=r,za|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wr=!0),t.memoizedState=r)}function _$(t,e){var r=Ye;Ye=r!==0&&4>r?r:4,t(!0);var n=Dm.transition;Dm.transition={};try{t(!1),e()}finally{Ye=r,Dm.transition=n}}function mC(){return sn().memoizedState}function S$(t,e,r){var n=Zi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gC(t))yC(e,r);else if(r=XA(t,e,r,n),r!==null){var i=gr();kn(r,t,n,i),vC(r,e,n)}}function N$(t,e,r){var n=Zi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gC(t))yC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Cn(l,o)){var c=e.interleaved;c===null?(i.next=i,rx(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=XA(t,e,i,n),r!==null&&(i=gr(),kn(r,t,n,i),vC(r,e,n))}}function gC(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function yC(t,e){Yl=hf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function vC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,qv(t,r)}}var pf={readContext:on,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},k$={readContext:on,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:Gw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Bd(4194308,4,uC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Bd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bd(4,2,t,e)},useMemo:function(t,e){var r=$n();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=$n();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=S$.bind(null,gt,t),[n.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:Vw,useDebugValue:dx,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=Vw(!1),e=t[0];return t=_$.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gt,i=$n();if(ft){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=e(),Ht===null)throw Error(ce(349));Ha&30||rC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Gw(iC.bind(null,n,a,t),[t]),n.flags|=2048,Ac(9,nC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=$n(),e=Ht.identifierPrefix;if(ft){var r=ii,n=ni;r=(n&~(1<<32-Nn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ec++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=w$++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},E$={readContext:on,useCallback:fC,useContext:on,useEffect:ux,useImperativeHandle:dC,useInsertionEffect:lC,useLayoutEffect:cC,useMemo:hC,useReducer:Lm,useRef:sC,useState:function(){return Lm(Tc)},useDebugValue:dx,useDeferredValue:function(t){var e=sn();return pC(e,$t.memoizedState,t)},useTransition:function(){var t=Lm(Tc)[0],e=sn().memoizedState;return[t,e]},useMutableSource:eC,useSyncExternalStore:tC,useId:mC,unstable_isNewReconciler:!1},T$={readContext:on,useCallback:fC,useContext:on,useEffect:ux,useImperativeHandle:dC,useInsertionEffect:lC,useLayoutEffect:cC,useMemo:hC,useReducer:Um,useRef:sC,useState:function(){return Um(Tc)},useDebugValue:dx,useDeferredValue:function(t){var e=sn();return $t===null?e.memoizedState=t:pC(e,$t.memoizedState,t)},useTransition:function(){var t=Um(Tc)[0],e=sn().memoizedState;return[t,e]},useMutableSource:eC,useSyncExternalStore:tC,useId:mC,unstable_isNewReconciler:!1};function gn(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function cy(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:vt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jh={isMounted:function(t){return(t=t._reactInternals)?io(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=gr(),i=Zi(t),a=li(n,i);a.payload=e,r!=null&&(a.callback=r),e=Xi(t,a,i),e!==null&&(kn(e,t,i,n),Ud(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=gr(),i=Zi(t),a=li(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Xi(t,a,i),e!==null&&(kn(e,t,i,n),Ud(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=gr(),n=Zi(t),i=li(r,n);i.tag=2,e!=null&&(i.callback=e),e=Xi(t,i,n),e!==null&&(kn(e,t,n,r),Ud(e,t,n))}};function Hw(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!bc(r,n)||!bc(i,a):!0}function xC(t,e,r){var n=!1,i=na,a=e.contextType;return typeof a=="object"&&a!==null?a=on(a):(i=kr(e)?Va:cr.current,n=e.contextTypes,a=(n=n!=null)?ds(t,i):na),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function zw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Jh.enqueueReplaceState(e,e.state,null)}function uy(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},nx(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=on(a):(a=kr(e)?Va:cr.current,i.context=ds(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(cy(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jh.enqueueReplaceState(i,i.state,null),df(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ms(t,e){try{var r="",n=e;do r+=tM(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Fm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function dy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var A$=typeof WeakMap=="function"?WeakMap:Map;function bC(t,e,r){r=li(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){gf||(gf=!0,wy=n),dy(t,e)},r}function wC(t,e,r){r=li(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){dy(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){dy(t,e),typeof n!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Ww(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new A$;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=q$.bind(null,t,e,r),e.then(t,t))}function Kw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jw(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=li(-1,1),e.tag=2,Xi(r,e,1))),r.lanes|=1),t)}var C$=Si.ReactCurrentOwner,wr=!1;function fr(t,e,r,n){e.child=t===null?YA(e,null,r,n):hs(e,t.child,r,n)}function Yw(t,e,r,n,i){r=r.render;var a=e.ref;return ts(e,i),n=lx(t,e,r,n,a,i),r=cx(),t!==null&&!wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(ft&&r&&Yv(e),e.flags|=1,fr(t,e,n,i),e.child)}function Xw(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!xx(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,_C(t,e,a,n,i)):(t=Hd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:bc,r(o,n)&&t.ref===e.ref)return gi(t,e,i)}return e.flags|=1,t=ea(a,n),t.ref=e.ref,t.return=e,e.child=t}function _C(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(bc(a,n)&&t.ref===e.ref)if(wr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(wr=!0);else return e.lanes=t.lanes,gi(t,e,i)}return fy(t,e,r,n,i)}function SC(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(qo,Pr),Pr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(qo,Pr),Pr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,at(qo,Pr),Pr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,at(qo,Pr),Pr|=n;return fr(t,e,i,r),e.child}function NC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function fy(t,e,r,n,i){var a=kr(r)?Va:cr.current;return a=ds(e,a),ts(e,i),r=lx(t,e,r,n,a,i),n=cx(),t!==null&&!wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(ft&&n&&Yv(e),e.flags|=1,fr(t,e,r,i),e.child)}function Qw(t,e,r,n,i){if(kr(r)){var a=!0;of(e)}else a=!1;if(ts(e,i),e.stateNode===null)qd(t,e),xC(e,r,n),uy(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=on(u):(u=kr(r)?Va:cr.current,u=ds(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&zw(e,o,n,u),Mi=!1;var h=e.memoizedState;o.state=h,df(e,n,o,i),c=e.memoizedState,l!==n||h!==c||Nr.current||Mi?(typeof d=="function"&&(cy(e,r,d,n),c=e.memoizedState),(l=Mi||Hw(e,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,QA(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:gn(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=on(c):(c=kr(r)?Va:cr.current,c=ds(e,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&zw(e,o,n,c),Mi=!1,h=e.memoizedState,o.state=h,df(e,n,o,i);var b=e.memoizedState;l!==f||h!==b||Nr.current||Mi?(typeof g=="function"&&(cy(e,r,g,n),b=e.memoizedState),(u=Mi||Hw(e,r,u,n,h,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),o.props=n,o.state=b,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return hy(t,e,r,n,a,i)}function hy(t,e,r,n,i,a){NC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Dw(e,r,!1),gi(t,e,a);n=e.stateNode,C$.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=hs(e,t.child,null,a),e.child=hs(e,null,l,a)):fr(t,e,l,a),e.memoizedState=n.state,i&&Dw(e,r,!0),e.child}function kC(t){var e=t.stateNode;e.pendingContext?$w(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$w(t,e.context,!1),ix(t,e.containerInfo)}function Zw(t,e,r,n,i){return fs(),Qv(i),e.flags|=256,fr(t,e,r,n),e.child}var py={dehydrated:null,treeContext:null,retryLane:0};function my(t){return{baseLanes:t,cachePool:null,transitions:null}}function EC(t,e,r){var n=e.pendingProps,i=mt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),at(mt,i&1),t===null)return sy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Qh(o,n,0,null),t=Ua(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=my(r),e.memoizedState=py,t):fx(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return j$(t,e,o,n,l,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ea(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=ea(l,a):(a=Ua(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?my(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=py,n}return a=t.child,t=a.sibling,n=ea(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function fx(t,e){return e=Qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function od(t,e,r,n){return n!==null&&Qv(n),hs(e,t.child,null,r),t=fx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function j$(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=Fm(Error(ce(422))),od(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Qh({mode:"visible",children:n.children},i,0,null),a=Ua(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&hs(e,t.child,null,o),e.child.memoizedState=my(o),e.memoizedState=py,a);if(!(e.mode&1))return od(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ce(419)),n=Fm(a,n,void 0),od(t,e,o,n)}if(l=(o&t.childLanes)!==0,wr||l){if(n=Ht,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,mi(t,i),kn(n,t,i,-1))}return vx(),n=Fm(Error(ce(421))),od(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=V$.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Dr=Yi(i.nextSibling),Lr=e,ft=!0,_n=null,t!==null&&(Qr[Zr++]=ni,Qr[Zr++]=ii,Qr[Zr++]=Ga,ni=t.id,ii=t.overflow,Ga=e),e=fx(e,n.children),e.flags|=4096,e)}function e_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ly(t.return,e,r)}function Bm(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function TC(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(fr(t,e,n.children,r),n=mt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e_(t,r,e);else if(t.tag===19)e_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(at(mt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&ff(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Bm(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ff(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Bm(e,!0,r,null,a);break;case"together":Bm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),za|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,r=ea(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ea(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function P$(t,e,r){switch(e.tag){case 3:kC(e),fs();break;case 5:ZA(e);break;case 1:kr(e.type)&&of(e);break;case 4:ix(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;at(cf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(at(mt,mt.current&1),e.flags|=128,null):r&e.child.childLanes?EC(t,e,r):(at(mt,mt.current&1),t=gi(t,e,r),t!==null?t.sibling:null);at(mt,mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return TC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(mt,mt.current),n)break;return null;case 22:case 23:return e.lanes=0,SC(t,e,r)}return gi(t,e,r)}var AC,gy,CC,jC;AC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gy=function(){};CC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Pa(Bn.current);var a=null;switch(r){case"input":i=Lg(t,i),n=Lg(t,n),a=[];break;case"select":i=vt({},i,{value:void 0}),n=vt({},n,{value:void 0}),a=[];break;case"textarea":i=Bg(t,i),n=Bg(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=nf)}Vg(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&st("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};jC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Sl(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ir(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function I$(t,e,r){var n=e.pendingProps;switch(Xv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(e),null;case 1:return kr(e.type)&&af(),ir(e),null;case 3:return n=e.stateNode,ps(),ut(Nr),ut(cr),ox(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(id(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(Ny(_n),_n=null))),gy(t,e),ir(e),null;case 5:ax(e);var i=Pa(kc.current);if(r=e.type,t!==null&&e.stateNode!=null)CC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ce(166));return ir(e),null}if(t=Pa(Bn.current),id(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Dn]=e,n[Sc]=a,t=(e.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(i=0;i<Bl.length;i++)st(Bl[i],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":cw(n,a),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},st("invalid",n);break;case"textarea":dw(n,a),st("invalid",n)}Vg(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&nd(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&nd(n.textContent,l,t),i=["children",""+l]):hc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&st("scroll",n)}switch(r){case"input":Ju(n),uw(n,a,!0);break;case"textarea":Ju(n),fw(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=nf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iA(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Dn]=e,t[Sc]=n,AC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gg(r,n),r){case"dialog":st("cancel",t),st("close",t),i=n;break;case"iframe":case"object":case"embed":st("load",t),i=n;break;case"video":case"audio":for(i=0;i<Bl.length;i++)st(Bl[i],t);i=n;break;case"source":st("error",t),i=n;break;case"img":case"image":case"link":st("error",t),st("load",t),i=n;break;case"details":st("toggle",t),i=n;break;case"input":cw(t,n),i=Lg(t,n),st("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=vt({},n,{value:void 0}),st("invalid",t);break;case"textarea":dw(t,n),i=Bg(t,n),st("invalid",t);break;default:i=n}Vg(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?sA(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&aA(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&pc(t,c):typeof c=="number"&&pc(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(hc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&st("scroll",t):c!=null&&$v(t,a,c,o))}switch(r){case"input":Ju(t),uw(t,n,!1);break;case"textarea":Ju(t),fw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ra(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Xo(t,!!n.multiple,a,!1):n.defaultValue!=null&&Xo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ir(e),null;case 6:if(t&&e.stateNode!=null)jC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ce(166));if(r=Pa(kc.current),Pa(Bn.current),id(e)){if(n=e.stateNode,r=e.memoizedProps,n[Dn]=e,(a=n.nodeValue!==r)&&(t=Lr,t!==null))switch(t.tag){case 3:nd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nd(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Dn]=e,e.stateNode=n}return ir(e),null;case 13:if(ut(mt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Dr!==null&&e.mode&1&&!(e.flags&128))KA(),fs(),e.flags|=98560,a=!1;else if(a=id(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(ce(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[Dn]=e}else fs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ir(e),a=!1}else _n!==null&&(Ny(_n),_n=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Ut===0&&(Ut=3):vx())),e.updateQueue!==null&&(e.flags|=4),ir(e),null);case 4:return ps(),gy(t,e),t===null&&wc(e.stateNode.containerInfo),ir(e),null;case 10:return tx(e.type._context),ir(e),null;case 17:return kr(e.type)&&af(),ir(e),null;case 19:if(ut(mt),a=e.memoizedState,a===null)return ir(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Sl(a,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ff(t),o!==null){for(e.flags|=128,Sl(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return at(mt,mt.current&1|2),e.child}t=t.sibling}a.tail!==null&&kt()>gs&&(e.flags|=128,n=!0,Sl(a,!1),e.lanes=4194304)}else{if(!n)if(t=ff(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Sl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ft)return ir(e),null}else 2*kt()-a.renderingStartTime>gs&&r!==1073741824&&(e.flags|=128,n=!0,Sl(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=kt(),e.sibling=null,r=mt.current,at(mt,n?r&1|2:r&1),e):(ir(e),null);case 22:case 23:return yx(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Pr&1073741824&&(ir(e),e.subtreeFlags&6&&(e.flags|=8192)):ir(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function O$(t,e){switch(Xv(e),e.tag){case 1:return kr(e.type)&&af(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ps(),ut(Nr),ut(cr),ox(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ax(e),null;case 13:if(ut(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(mt),null;case 4:return ps(),null;case 10:return tx(e.type._context),null;case 22:case 23:return yx(),null;case 24:return null;default:return null}}var sd=!1,or=!1,R$=typeof WeakSet=="function"?WeakSet:Set,be=null;function Bo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wt(t,e,n)}else r.current=null}function yy(t,e,r){try{r()}catch(n){wt(t,e,n)}}var t_=!1;function M$(t,e){if(ey=ef,t=MA(),Jv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==r||i!==0&&f.nodeType!==3||(l=o+i),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===r&&++u===i&&(l=o),h===a&&++d===n&&(c=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ty={focusedElem:t,selectionRange:r},ef=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,v=b.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:gn(e.type,y),v);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(k){wt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return b=t_,t_=!1,b}function Xl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&yy(e,r,a)}i=i.next}while(i!==n)}}function Yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function vy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function PC(t){var e=t.alternate;e!==null&&(t.alternate=null,PC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[Sc],delete e[iy],delete e[y$],delete e[v$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IC(t){return t.tag===5||t.tag===3||t.tag===4}function r_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=nf));else if(n!==4&&(t=t.child,t!==null))for(xy(t,e,r),t=t.sibling;t!==null;)xy(t,e,r),t=t.sibling}function by(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(by(t,e,r),t=t.sibling;t!==null;)by(t,e,r),t=t.sibling}var Zt=null,vn=!1;function Oi(t,e,r){for(r=r.child;r!==null;)OC(t,e,r),r=r.sibling}function OC(t,e,r){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(qh,r)}catch{}switch(r.tag){case 5:or||Bo(r,e);case 6:var n=Zt,i=vn;Zt=null,Oi(t,e,r),Zt=n,vn=i,Zt!==null&&(vn?(t=Zt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Zt.removeChild(r.stateNode));break;case 18:Zt!==null&&(vn?(t=Zt,r=r.stateNode,t.nodeType===8?Rm(t.parentNode,r):t.nodeType===1&&Rm(t,r),vc(t)):Rm(Zt,r.stateNode));break;case 4:n=Zt,i=vn,Zt=r.stateNode.containerInfo,vn=!0,Oi(t,e,r),Zt=n,vn=i;break;case 0:case 11:case 14:case 15:if(!or&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&yy(r,e,o),i=i.next}while(i!==n)}Oi(t,e,r);break;case 1:if(!or&&(Bo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){wt(r,e,l)}Oi(t,e,r);break;case 21:Oi(t,e,r);break;case 22:r.mode&1?(or=(n=or)||r.memoizedState!==null,Oi(t,e,r),or=n):Oi(t,e,r);break;default:Oi(t,e,r)}}function n_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new R$),e.forEach(function(n){var i=G$.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function hn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Zt=l.stateNode,vn=!1;break e;case 3:Zt=l.stateNode.containerInfo,vn=!0;break e;case 4:Zt=l.stateNode.containerInfo,vn=!0;break e}l=l.return}if(Zt===null)throw Error(ce(160));OC(a,o,i),Zt=null,vn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RC(e,t),e=e.sibling}function RC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),Mn(t),n&4){try{Xl(3,t,t.return),Yh(3,t)}catch(y){wt(t,t.return,y)}try{Xl(5,t,t.return)}catch(y){wt(t,t.return,y)}}break;case 1:hn(e,t),Mn(t),n&512&&r!==null&&Bo(r,r.return);break;case 5:if(hn(e,t),Mn(t),n&512&&r!==null&&Bo(r,r.return),t.flags&32){var i=t.stateNode;try{pc(i,"")}catch(y){wt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&rA(i,a),Gg(l,o);var u=Gg(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?sA(i,f):d==="dangerouslySetInnerHTML"?aA(i,f):d==="children"?pc(i,f):$v(i,d,f,u)}switch(l){case"input":Ug(i,a);break;case"textarea":nA(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Xo(i,!!a.multiple,g,!1):h!==!!a.multiple&&(a.defaultValue!=null?Xo(i,!!a.multiple,a.defaultValue,!0):Xo(i,!!a.multiple,a.multiple?[]:"",!1))}i[Sc]=a}catch(y){wt(t,t.return,y)}}break;case 6:if(hn(e,t),Mn(t),n&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){wt(t,t.return,y)}}break;case 3:if(hn(e,t),Mn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vc(e.containerInfo)}catch(y){wt(t,t.return,y)}break;case 4:hn(e,t),Mn(t);break;case 13:hn(e,t),Mn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(mx=kt())),n&4&&n_(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(or=(u=or)||d,hn(e,t),or=u):hn(e,t),Mn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(be=t,d=t.child;d!==null;){for(f=be=d;be!==null;){switch(h=be,g=h.child,h.tag){case 0:case 11:case 14:case 15:Xl(4,h,h.return);break;case 1:Bo(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(y){wt(n,r,y)}}break;case 5:Bo(h,h.return);break;case 22:if(h.memoizedState!==null){a_(f);continue}}g!==null?(g.return=h,be=g):a_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=oA("display",o))}catch(y){wt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){wt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hn(e,t),Mn(t),n&4&&n_(t);break;case 21:break;default:hn(e,t),Mn(t)}}function Mn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(IC(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(pc(i,""),n.flags&=-33);var a=r_(t);by(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=r_(t);xy(t,l,o);break;default:throw Error(ce(161))}}catch(c){wt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $$(t,e,r){be=t,MC(t)}function MC(t,e,r){for(var n=(t.mode&1)!==0;be!==null;){var i=be,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||sd;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||or;l=sd;var u=or;if(sd=o,(or=c)&&!u)for(be=i;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?o_(i):c!==null?(c.return=o,be=c):o_(i);for(;a!==null;)be=a,MC(a),a=a.sibling;be=i,sd=l,or=u}i_(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,be=a):i_(t)}}function i_(t){for(;be!==null;){var e=be;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:or||Yh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!or)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:gn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&qw(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}qw(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}or||e.flags&512&&vy(e)}catch(h){wt(e,e.return,h)}}if(e===t){be=null;break}if(r=e.sibling,r!==null){r.return=e.return,be=r;break}be=e.return}}function a_(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var r=e.sibling;if(r!==null){r.return=e.return,be=r;break}be=e.return}}function o_(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Yh(4,e)}catch(c){wt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){wt(e,i,c)}}var a=e.return;try{vy(e)}catch(c){wt(e,a,c)}break;case 5:var o=e.return;try{vy(e)}catch(c){wt(e,o,c)}}}catch(c){wt(e,e.return,c)}if(e===t){be=null;break}var l=e.sibling;if(l!==null){l.return=e.return,be=l;break}be=e.return}}var D$=Math.ceil,mf=Si.ReactCurrentDispatcher,hx=Si.ReactCurrentOwner,nn=Si.ReactCurrentBatchConfig,He=0,Ht=null,Ct=null,tr=0,Pr=0,qo=oa(0),Ut=0,Cc=null,za=0,Xh=0,px=0,Ql=null,br=null,mx=0,gs=1/0,Zn=null,gf=!1,wy=null,Qi=null,ld=!1,Vi=null,yf=0,Zl=0,_y=null,Vd=-1,Gd=0;function gr(){return He&6?kt():Vd!==-1?Vd:Vd=kt()}function Zi(t){return t.mode&1?He&2&&tr!==0?tr&-tr:b$.transition!==null?(Gd===0&&(Gd=xA()),Gd):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:EA(t.type)),t):1}function kn(t,e,r,n){if(50<Zl)throw Zl=0,_y=null,Error(ce(185));Nu(t,r,n),(!(He&2)||t!==Ht)&&(t===Ht&&(!(He&2)&&(Xh|=r),Ut===4&&Ui(t,tr)),Er(t,n),r===1&&He===0&&!(e.mode&1)&&(gs=kt()+500,Wh&&sa()))}function Er(t,e){var r=t.callbackNode;bM(t,e);var n=Zd(t,t===Ht?tr:0);if(n===0)r!==null&&mw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&mw(r),e===1)t.tag===0?x$(s_.bind(null,t)):HA(s_.bind(null,t)),m$(function(){!(He&6)&&sa()}),r=null;else{switch(bA(n)){case 1:r=Bv;break;case 4:r=yA;break;case 16:r=Qd;break;case 536870912:r=vA;break;default:r=Qd}r=VC(r,$C.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function $C(t,e){if(Vd=-1,Gd=0,He&6)throw Error(ce(327));var r=t.callbackNode;if(rs()&&t.callbackNode!==r)return null;var n=Zd(t,t===Ht?tr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=vf(t,n);else{e=n;var i=He;He|=2;var a=LC();(Ht!==t||tr!==e)&&(Zn=null,gs=kt()+500,La(t,e));do try{F$();break}catch(l){DC(t,l)}while(!0);ex(),mf.current=a,He=i,Ct!==null?e=0:(Ht=null,tr=0,e=Ut)}if(e!==0){if(e===2&&(i=Jg(t),i!==0&&(n=i,e=Sy(t,i))),e===1)throw r=Cc,La(t,0),Ui(t,n),Er(t,kt()),r;if(e===6)Ui(t,n);else{if(i=t.current.alternate,!(n&30)&&!L$(i)&&(e=vf(t,n),e===2&&(a=Jg(t),a!==0&&(n=a,e=Sy(t,a))),e===1))throw r=Cc,La(t,0),Ui(t,n),Er(t,kt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ce(345));case 2:ba(t,br,Zn);break;case 3:if(Ui(t,n),(n&130023424)===n&&(e=mx+500-kt(),10<e)){if(Zd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){gr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ny(ba.bind(null,t,br,Zn),e);break}ba(t,br,Zn);break;case 4:if(Ui(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Nn(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=kt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*D$(n/1960))-n,10<n){t.timeoutHandle=ny(ba.bind(null,t,br,Zn),n);break}ba(t,br,Zn);break;case 5:ba(t,br,Zn);break;default:throw Error(ce(329))}}}return Er(t,kt()),t.callbackNode===r?$C.bind(null,t):null}function Sy(t,e){var r=Ql;return t.current.memoizedState.isDehydrated&&(La(t,e).flags|=256),t=vf(t,e),t!==2&&(e=br,br=r,e!==null&&Ny(e)),t}function Ny(t){br===null?br=t:br.push.apply(br,t)}function L$(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Cn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ui(t,e){for(e&=~px,e&=~Xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Nn(e),n=1<<r;t[r]=-1,e&=~n}}function s_(t){if(He&6)throw Error(ce(327));rs();var e=Zd(t,0);if(!(e&1))return Er(t,kt()),null;var r=vf(t,e);if(t.tag!==0&&r===2){var n=Jg(t);n!==0&&(e=n,r=Sy(t,n))}if(r===1)throw r=Cc,La(t,0),Ui(t,e),Er(t,kt()),r;if(r===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ba(t,br,Zn),Er(t,kt()),null}function gx(t,e){var r=He;He|=1;try{return t(e)}finally{He=r,He===0&&(gs=kt()+500,Wh&&sa())}}function Wa(t){Vi!==null&&Vi.tag===0&&!(He&6)&&rs();var e=He;He|=1;var r=nn.transition,n=Ye;try{if(nn.transition=null,Ye=1,t)return t()}finally{Ye=n,nn.transition=r,He=e,!(He&6)&&sa()}}function yx(){Pr=qo.current,ut(qo)}function La(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,p$(r)),Ct!==null)for(r=Ct.return;r!==null;){var n=r;switch(Xv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&af();break;case 3:ps(),ut(Nr),ut(cr),ox();break;case 5:ax(n);break;case 4:ps();break;case 13:ut(mt);break;case 19:ut(mt);break;case 10:tx(n.type._context);break;case 22:case 23:yx()}r=r.return}if(Ht=t,Ct=t=ea(t.current,null),tr=Pr=e,Ut=0,Cc=null,px=Xh=za=0,br=Ql=null,ja!==null){for(e=0;e<ja.length;e++)if(r=ja[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}ja=null}return t}function DC(t,e){do{var r=Ct;try{if(ex(),Fd.current=pf,hf){for(var n=gt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}hf=!1}if(Ha=0,Vt=$t=gt=null,Yl=!1,Ec=0,hx.current=null,r===null||r.return===null){Ut=1,Cc=e,Ct=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=tr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Kw(o);if(g!==null){g.flags&=-257,Jw(g,o,l,a,e),g.mode&1&&Ww(a,u,e),e=g,c=u;var b=e.updateQueue;if(b===null){var y=new Set;y.add(c),e.updateQueue=y}else b.add(c);break e}else{if(!(e&1)){Ww(a,u,e),vx();break e}c=Error(ce(426))}}else if(ft&&l.mode&1){var v=Kw(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Jw(v,o,l,a,e),Qv(ms(c,l));break e}}a=c=ms(c,l),Ut!==4&&(Ut=2),Ql===null?Ql=[a]:Ql.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=bC(a,c,e);Bw(a,x);break e;case 1:l=c;var _=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qi===null||!Qi.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=wC(a,l,e);Bw(a,k);break e}}a=a.return}while(a!==null)}FC(r)}catch(S){e=S,Ct===r&&r!==null&&(Ct=r=r.return);continue}break}while(!0)}function LC(){var t=mf.current;return mf.current=pf,t===null?pf:t}function vx(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Ht===null||!(za&268435455)&&!(Xh&268435455)||Ui(Ht,tr)}function vf(t,e){var r=He;He|=2;var n=LC();(Ht!==t||tr!==e)&&(Zn=null,La(t,e));do try{U$();break}catch(i){DC(t,i)}while(!0);if(ex(),He=r,mf.current=n,Ct!==null)throw Error(ce(261));return Ht=null,tr=0,Ut}function U$(){for(;Ct!==null;)UC(Ct)}function F$(){for(;Ct!==null&&!dM();)UC(Ct)}function UC(t){var e=qC(t.alternate,t,Pr);t.memoizedProps=t.pendingProps,e===null?FC(t):Ct=e,hx.current=null}function FC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=O$(r,e),r!==null){r.flags&=32767,Ct=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Ct=null;return}}else if(r=I$(r,e,Pr),r!==null){Ct=r;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);Ut===0&&(Ut=5)}function ba(t,e,r){var n=Ye,i=nn.transition;try{nn.transition=null,Ye=1,B$(t,e,r,n)}finally{nn.transition=i,Ye=n}return null}function B$(t,e,r,n){do rs();while(Vi!==null);if(He&6)throw Error(ce(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(wM(t,a),t===Ht&&(Ct=Ht=null,tr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ld||(ld=!0,VC(Qd,function(){return rs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=nn.transition,nn.transition=null;var o=Ye;Ye=1;var l=He;He|=4,hx.current=null,M$(t,r),RC(r,t),s$(ty),ef=!!ey,ty=ey=null,t.current=r,$$(r),fM(),He=l,Ye=o,nn.transition=a}else t.current=r;if(ld&&(ld=!1,Vi=t,yf=i),a=t.pendingLanes,a===0&&(Qi=null),mM(r.stateNode),Er(t,kt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(gf)throw gf=!1,t=wy,wy=null,t;return yf&1&&t.tag!==0&&rs(),a=t.pendingLanes,a&1?t===_y?Zl++:(Zl=0,_y=t):Zl=0,sa(),null}function rs(){if(Vi!==null){var t=bA(yf),e=nn.transition,r=Ye;try{if(nn.transition=null,Ye=16>t?16:t,Vi===null)var n=!1;else{if(t=Vi,Vi=null,yf=0,He&6)throw Error(ce(331));var i=He;for(He|=4,be=t.current;be!==null;){var a=be,o=a.child;if(be.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(be=u;be!==null;){var d=be;switch(d.tag){case 0:case 11:case 15:Xl(8,d,a)}var f=d.child;if(f!==null)f.return=d,be=f;else for(;be!==null;){d=be;var h=d.sibling,g=d.return;if(PC(d),d===u){be=null;break}if(h!==null){h.return=g,be=h;break}be=g}}}var b=a.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}be=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,be=o;else e:for(;be!==null;){if(a=be,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,be=x;break e}be=a.return}}var _=t.current;for(be=_;be!==null;){o=be;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,be=w;else e:for(o=_;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yh(9,l)}}catch(S){wt(l,l.return,S)}if(l===o){be=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,be=k;break e}be=l.return}}if(He=i,sa(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(qh,t)}catch{}n=!0}return n}finally{Ye=r,nn.transition=e}}return!1}function l_(t,e,r){e=ms(r,e),e=bC(t,e,1),t=Xi(t,e,1),e=gr(),t!==null&&(Nu(t,1,e),Er(t,e))}function wt(t,e,r){if(t.tag===3)l_(t,t,r);else for(;e!==null;){if(e.tag===3){l_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qi===null||!Qi.has(n))){t=ms(r,t),t=wC(e,t,1),e=Xi(e,t,1),t=gr(),e!==null&&(Nu(e,1,t),Er(e,t));break}}e=e.return}}function q$(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=gr(),t.pingedLanes|=t.suspendedLanes&r,Ht===t&&(tr&r)===r&&(Ut===4||Ut===3&&(tr&130023424)===tr&&500>kt()-mx?La(t,0):px|=r),Er(t,e)}function BC(t,e){e===0&&(t.mode&1?(e=Qu,Qu<<=1,!(Qu&130023424)&&(Qu=4194304)):e=1);var r=gr();t=mi(t,e),t!==null&&(Nu(t,e,r),Er(t,r))}function V$(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),BC(t,r)}function G$(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(e),BC(t,r)}var qC;qC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nr.current)wr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return wr=!1,P$(t,e,r);wr=!!(t.flags&131072)}else wr=!1,ft&&e.flags&1048576&&zA(e,lf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;qd(t,e),t=e.pendingProps;var i=ds(e,cr.current);ts(e,r),i=lx(null,e,n,t,i,r);var a=cx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kr(n)?(a=!0,of(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nx(e),i.updater=Jh,e.stateNode=i,i._reactInternals=e,uy(e,n,t,r),e=hy(null,e,n,!0,a,r)):(e.tag=0,ft&&a&&Yv(e),fr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(qd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=z$(n),t=gn(n,t),i){case 0:e=fy(null,e,n,t,r);break e;case 1:e=Qw(null,e,n,t,r);break e;case 11:e=Yw(null,e,n,t,r);break e;case 14:e=Xw(null,e,n,gn(n.type,t),r);break e}throw Error(ce(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),fy(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),Qw(t,e,n,i,r);case 3:e:{if(kC(e),t===null)throw Error(ce(387));n=e.pendingProps,a=e.memoizedState,i=a.element,QA(t,e),df(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ms(Error(ce(423)),e),e=Zw(t,e,n,r,i);break e}else if(n!==i){i=ms(Error(ce(424)),e),e=Zw(t,e,n,r,i);break e}else for(Dr=Yi(e.stateNode.containerInfo.firstChild),Lr=e,ft=!0,_n=null,r=YA(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fs(),n===i){e=gi(t,e,r);break e}fr(t,e,n,r)}e=e.child}return e;case 5:return ZA(e),t===null&&sy(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,ry(n,i)?o=null:a!==null&&ry(n,a)&&(e.flags|=32),NC(t,e),fr(t,e,o,r),e.child;case 6:return t===null&&sy(e),null;case 13:return EC(t,e,r);case 4:return ix(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=hs(e,null,n,r):fr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),Yw(t,e,n,i,r);case 7:return fr(t,e,e.pendingProps,r),e.child;case 8:return fr(t,e,e.pendingProps.children,r),e.child;case 12:return fr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,at(cf,n._currentValue),n._currentValue=o,a!==null)if(Cn(a.value,o)){if(a.children===i.children&&!Nr.current){e=gi(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=li(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),ly(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ce(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ly(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}fr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ts(e,r),i=on(i),n=n(i),e.flags|=1,fr(t,e,n,r),e.child;case 14:return n=e.type,i=gn(n,e.pendingProps),i=gn(n.type,i),Xw(t,e,n,i,r);case 15:return _C(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),qd(t,e),e.tag=1,kr(n)?(t=!0,of(e)):t=!1,ts(e,r),xC(e,n,i),uy(e,n,i,r),hy(null,e,n,!0,t,r);case 19:return TC(t,e,r);case 22:return SC(t,e,r)}throw Error(ce(156,e.tag))};function VC(t,e){return gA(t,e)}function H$(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,r,n){return new H$(t,e,r,n)}function xx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function z$(t){if(typeof t=="function")return xx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lv)return 11;if(t===Uv)return 14}return 2}function ea(t,e){var r=t.alternate;return r===null?(r=tn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Hd(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")xx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Io:return Ua(r.children,i,a,e);case Dv:o=8,i|=8;break;case Rg:return t=tn(12,r,e,i|2),t.elementType=Rg,t.lanes=a,t;case Mg:return t=tn(13,r,e,i),t.elementType=Mg,t.lanes=a,t;case $g:return t=tn(19,r,e,i),t.elementType=$g,t.lanes=a,t;case ZT:return Qh(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XT:o=10;break e;case QT:o=9;break e;case Lv:o=11;break e;case Uv:o=14;break e;case Ri:o=16,n=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=tn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ua(t,e,r,n){return t=tn(7,t,n,e),t.lanes=r,t}function Qh(t,e,r,n){return t=tn(22,t,n,e),t.elementType=ZT,t.lanes=r,t.stateNode={isHidden:!1},t}function qm(t,e,r){return t=tn(6,t,null,e),t.lanes=r,t}function Vm(t,e,r){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function W$(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sm(0),this.expirationTimes=Sm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bx(t,e,r,n,i,a,o,l,c){return t=new W$(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=tn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nx(a),t}function K$(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Po,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function GC(t){if(!t)return na;t=t._reactInternals;e:{if(io(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var r=t.type;if(kr(r))return GA(t,r,e)}return e}function HC(t,e,r,n,i,a,o,l,c){return t=bx(r,n,!0,t,i,a,o,l,c),t.context=GC(null),r=t.current,n=gr(),i=Zi(r),a=li(n,i),a.callback=e??null,Xi(r,a,i),t.current.lanes=i,Nu(t,i,n),Er(t,n),t}function Zh(t,e,r,n){var i=e.current,a=gr(),o=Zi(i);return r=GC(r),e.context===null?e.context=r:e.pendingContext=r,e=li(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Xi(i,e,o),t!==null&&(kn(t,i,o,a),Ud(t,i,o)),o}function xf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function c_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function wx(t,e){c_(t,e),(t=t.alternate)&&c_(t,e)}function J$(){return null}var zC=typeof reportError=="function"?reportError:function(t){console.error(t)};function _x(t){this._internalRoot=t}ep.prototype.render=_x.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));Zh(t,e,null,null)};ep.prototype.unmount=_x.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wa(function(){Zh(null,t,null,null)}),e[pi]=null}};function ep(t){this._internalRoot=t}ep.prototype.unstable_scheduleHydration=function(t){if(t){var e=SA();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Li.length&&e!==0&&e<Li[r].priority;r++);Li.splice(r,0,t),r===0&&kA(t)}};function Sx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u_(){}function Y$(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=xf(o);a.call(u)}}var o=HC(e,n,t,0,null,!1,!1,"",u_);return t._reactRootContainer=o,t[pi]=o.current,wc(t.nodeType===8?t.parentNode:t),Wa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=xf(c);l.call(u)}}var c=bx(t,0,!1,null,null,!1,!1,"",u_);return t._reactRootContainer=c,t[pi]=c.current,wc(t.nodeType===8?t.parentNode:t),Wa(function(){Zh(e,c,r,n)}),c}function rp(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=xf(o);l.call(c)}}Zh(e,o,t,i)}else o=Y$(r,e,t,i,n);return xf(o)}wA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Fl(e.pendingLanes);r!==0&&(qv(e,r|1),Er(e,kt()),!(He&6)&&(gs=kt()+500,sa()))}break;case 13:Wa(function(){var n=mi(t,1);if(n!==null){var i=gr();kn(n,t,1,i)}}),wx(t,1)}};Vv=function(t){if(t.tag===13){var e=mi(t,134217728);if(e!==null){var r=gr();kn(e,t,134217728,r)}wx(t,134217728)}};_A=function(t){if(t.tag===13){var e=Zi(t),r=mi(t,e);if(r!==null){var n=gr();kn(r,t,e,n)}wx(t,e)}};SA=function(){return Ye};NA=function(t,e){var r=Ye;try{return Ye=t,e()}finally{Ye=r}};zg=function(t,e,r){switch(e){case"input":if(Ug(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=zh(n);if(!i)throw Error(ce(90));tA(n),Ug(n,i)}}}break;case"textarea":nA(t,r);break;case"select":e=r.value,e!=null&&Xo(t,!!r.multiple,e,!1)}};uA=gx;dA=Wa;var X$={usingClientEntryPoint:!1,Events:[Eu,$o,zh,lA,cA,gx]},Nl={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q$={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pA(t),t===null?null:t.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||J$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{qh=cd.inject(Q$),Fn=cd}catch{}}qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X$;qr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sx(e))throw Error(ce(200));return K$(t,e,null,r)};qr.createRoot=function(t,e){if(!Sx(t))throw Error(ce(299));var r=!1,n="",i=zC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bx(t,1,!1,null,null,r,!1,n,i),t[pi]=e.current,wc(t.nodeType===8?t.parentNode:t),new _x(e)};qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=pA(e),t=t===null?null:t.stateNode,t};qr.flushSync=function(t){return Wa(t)};qr.hydrate=function(t,e,r){if(!tp(e))throw Error(ce(200));return rp(null,t,e,!0,r)};qr.hydrateRoot=function(t,e,r){if(!Sx(t))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=zC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=HC(e,null,t,1,r??null,i,!1,a,o),t[pi]=e.current,wc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ep(e)};qr.render=function(t,e,r){if(!tp(e))throw Error(ce(200));return rp(null,t,e,!1,r)};qr.unmountComponentAtNode=function(t){if(!tp(t))throw Error(ce(40));return t._reactRootContainer?(Wa(function(){rp(null,null,t,!1,function(){t._reactRootContainer=null,t[pi]=null})}),!0):!1};qr.unstable_batchedUpdates=gx;qr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!tp(r))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return rp(t,e,r,!1,n)};qr.version="18.3.1-next-f1338f8080-20240426";function WC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WC)}catch(t){console.error(t)}}WC(),WT.exports=qr;var Z$=WT.exports,d_=Z$;Ig.createRoot=d_.createRoot,Ig.hydrateRoot=d_.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jc.apply(this,arguments)}var Gi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gi||(Gi={}));const f_="popstate";function eD(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:l="",hash:c=""}=ao(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ky("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof a=="string"?a:KC(a))}function n(i,a){np(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return rD(e,r,n,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function np(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tD(){return Math.random().toString(36).substr(2,8)}function h_(t,e){return{usr:t.state,key:t.key,idx:e}}function ky(t,e,r,n){return r===void 0&&(r=null),jc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ao(e):e,{state:r,key:e&&e.key||n||tD()})}function KC(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ao(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function rD(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=Gi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(jc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Gi.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:y.location,delta:x})}function h(v,x){l=Gi.Push;let _=ky(y.location,v,x);r&&r(_,v),u=d()+1;let w=h_(_,u),k=y.createHref(_);try{o.pushState(w,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(k)}a&&c&&c({action:l,location:y.location,delta:1})}function g(v,x){l=Gi.Replace;let _=ky(y.location,v,x);r&&r(_,v),u=d();let w=h_(_,u),k=y.createHref(_);o.replaceState(w,"",k),a&&c&&c({action:l,location:y.location,delta:0})}function b(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:KC(v);return _=_.replace(/ $/,"%20"),jt(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let y={get action(){return l},get location(){return t(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(f_,f),c=v,()=>{i.removeEventListener(f_,f),c=null}},createHref(v){return e(i,v)},createURL:b,encodeLocation(v){let x=b(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(v){return o.go(v)}};return y}var p_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(p_||(p_={}));function nD(t,e,r){return r===void 0&&(r="/"),iD(t,e,r)}function iD(t,e,r,n){let i=typeof e=="string"?ao(e):e,a=XC(i.pathname||"/",r);if(a==null)return null;let o=JC(t);aD(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=yD(a);l=pD(o[c],u)}return l}function JC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(jt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Fa([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(jt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),JC(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:fD(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of YC(a.path))i(a,o,c)}),e}function YC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=YC(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function aD(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:hD(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const oD=/^:[\w-]+$/,sD=3,lD=2,cD=1,uD=10,dD=-2,m_=t=>t==="*";function fD(t,e){let r=t.split("/"),n=r.length;return r.some(m_)&&(n+=dD),e&&(n+=lD),r.filter(i=>!m_(i)).reduce((i,a)=>i+(oD.test(a)?sD:a===""?cD:uD),n)}function hD(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function pD(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=mD({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Fa([a,f.pathname]),pathnameBase:_D(Fa([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Fa([a,f.pathnameBase]))}return o}function mD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=gD(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let y=l[f]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const b=l[f];return g&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function gD(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),np(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function yD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return np(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function XC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const vD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xD=t=>vD.test(t);function bD(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ao(t):t,a;if(r)if(xD(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),np(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=g_(r.substring(1),"/"):a=g_(r,e)}else a=e;return{pathname:a,search:SD(n),hash:ND(i)}}function g_(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Gm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wD(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function QC(t,e){let r=wD(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ZC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ao(t):(i=jc({},t),jt(!i.pathname||!i.pathname.includes("?"),Gm("?","pathname","search",i)),jt(!i.pathname||!i.pathname.includes("#"),Gm("#","pathname","hash",i)),jt(!i.search||!i.search.includes("#"),Gm("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?e[f]:"/"}let c=bD(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Fa=t=>t.join("/").replace(/\/\/+/g,"/"),_D=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ND=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ej=["post","put","patch","delete"];new Set(ej);const ED=["get",...ej];new Set(ED);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pc.apply(this,arguments)}const Nx=T.createContext(null),TD=T.createContext(null),Au=T.createContext(null),ip=T.createContext(null),oo=T.createContext({outlet:null,matches:[],isDataRoute:!1}),tj=T.createContext(null);function Cu(){return T.useContext(ip)!=null}function ap(){return Cu()||jt(!1),T.useContext(ip).location}function rj(t){T.useContext(Au).static||T.useLayoutEffect(t)}function Ys(){let{isDataRoute:t}=T.useContext(oo);return t?FD():AD()}function AD(){Cu()||jt(!1);let t=T.useContext(Nx),{basename:e,future:r,navigator:n}=T.useContext(Au),{matches:i}=T.useContext(oo),{pathname:a}=ap(),o=JSON.stringify(QC(i,r.v7_relativeSplatPath)),l=T.useRef(!1);return rj(()=>{l.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=ZC(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Fa([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,a,t])}function CD(t,e){return jD(t,e)}function jD(t,e,r,n){Cu()||jt(!1);let{navigator:i}=T.useContext(Au),{matches:a}=T.useContext(oo),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ap(),d;if(e){var f;let v=typeof e=="string"?ao(e):e;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||jt(!1),d=v}else d=u;let h=d.pathname||"/",g=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let b=nD(t,{pathname:g}),y=MD(b&&b.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Fa([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Fa([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&y?T.createElement(ip.Provider,{value:{location:Pc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gi.Pop}},y):y}function PD(){let t=UD(),e=kD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:i},r):null,null)}const ID=T.createElement(PD,null);class OD extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(oo.Provider,{value:this.props.routeContext},T.createElement(tj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RD(t){let{routeContext:e,match:r,children:n}=t,i=T.useContext(Nx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(oo.Provider,{value:e},n)}function MD(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||jt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=r,b=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let g,b=!1,y=null,v=null;r&&(g=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||ID,c&&(u<0&&h===0?(BD("route-fallback"),b=!0,v=null):u===h&&(b=!0,v=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),_=()=>{let w;return g?w=y:b?w=v:f.route.Component?w=T.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,T.createElement(RD,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?T.createElement(OD,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var nj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nj||{}),ij=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ij||{});function $D(t){let e=T.useContext(Nx);return e||jt(!1),e}function DD(t){let e=T.useContext(TD);return e||jt(!1),e}function LD(t){let e=T.useContext(oo);return e||jt(!1),e}function aj(t){let e=LD(),r=e.matches[e.matches.length-1];return r.route.id||jt(!1),r.route.id}function UD(){var t;let e=T.useContext(tj),r=DD(),n=aj();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function FD(){let{router:t}=$D(nj.UseNavigateStable),e=aj(ij.UseNavigateStable),r=T.useRef(!1);return rj(()=>{r.current=!0}),T.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pc({fromRouteId:e},a)))},[t,e])}const y_={};function BD(t,e,r){y_[t]||(y_[t]=!0)}function qD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Nt(t){let{to:e,replace:r,state:n,relative:i}=t;Cu()||jt(!1);let{future:a,static:o}=T.useContext(Au),{matches:l}=T.useContext(oo),{pathname:c}=ap(),u=Ys(),d=ZC(e,QC(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return T.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function xt(t){jt(!1)}function VD(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Gi.Pop,navigator:a,static:o=!1,future:l}=t;Cu()&&jt(!1);let c=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:c,navigator:a,static:o,future:Pc({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ao(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:b="default"}=n,y=T.useMemo(()=>{let v=XC(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:g,key:b},navigationType:i}},[c,d,f,h,g,b,i]);return y==null?null:T.createElement(Au.Provider,{value:u},T.createElement(ip.Provider,{children:r,value:y}))}function GD(t){let{children:e,location:r}=t;return CD(Ey(e),r)}new Promise(()=>{});function Ey(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(n,i)=>{if(!T.isValidElement(n))return;let a=[...e,i];if(n.type===T.Fragment){r.push.apply(r,Ey(n.props.children,a));return}n.type!==xt&&jt(!1),!n.props.index||!n.props.children||jt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ey(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const HD="6";try{window.__reactRouterVersion=HD}catch{}const zD="startTransition",v_=qR[zD];function WD(t){let{basename:e,children:r,future:n,window:i}=t,a=T.useRef();a.current==null&&(a.current=eD({window:i,v5Compat:!0}));let o=a.current,[l,c]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=T.useCallback(f=>{u&&v_?v_(()=>c(f)):c(f)},[c,u]);return T.useLayoutEffect(()=>o.listen(d),[o,d]),T.useEffect(()=>qD(n),[n]),T.createElement(VD,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var x_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(x_||(x_={}));var b_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(b_||(b_={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(t,e)=>{const r=T.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>T.createElement("svg",{ref:d,...KD,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${JD(t)}`,l].join(" "),...u},[...e.map(([f,h])=>T.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=oe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=oe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=oe("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=oe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=oe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=oe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=oe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=oe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=oe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=oe("CalendarOff",[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=oe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=oe("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=oe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=oe("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=oe("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=oe("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=oe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=oe("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=oe("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=oe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=oe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=oe("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=oe("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=oe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=oe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=oe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=oe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=oe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=oe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=oe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=oe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=oe("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=oe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=oe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=oe("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=oe("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=oe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=oe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=oe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=oe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=oe("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=oe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=oe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=oe("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=oe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=oe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=oe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=oe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=oe("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=oe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=oe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=oe("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=oe("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=oe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=oe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=oe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),BL="2.5.0",Hm=[{id:"dashboard",title:"",icon:tL,path:"/"},{id:"reports-group",title:"",icon:fL,path:"#",submenu:[{id:"shiftreport",title:" ",icon:Ay,path:"/shift-report"},{id:"reports",title:"",icon:pj,path:"/reports"}]},{id:"inbox",title:" ",icon:Nf,path:"/inbox"},{id:"messages",title:"",icon:hj,path:"/messages"},{id:"notes",title:" ",icon:gj,path:"/notes"},{id:"workorders",title:" ",icon:yj,path:"/work-orders"},{id:"projects",title:"",icon:bf,path:"/projects"},{id:"performance",title:" ",icon:kx,path:"/performance"},{id:"partrequest",title:" ",icon:rc,path:"/part-requests"},{id:"inspections",title:" ",icon:cj,path:"/inspections"},{id:"documents",title:" ",icon:ec,path:"/documents"},{id:"meetings",title:"",icon:_f,path:"/meetings"},{id:"suggestions",title:" ",icon:kf,path:"/suggestions"},{id:"purchases",title:" ",icon:Af,path:"/purchases"},{id:"system-settings",title:"  ",icon:Tf,path:"#",role:"ADMIN",submenu:[{id:"admin",title:"  ",icon:Ja,path:"/admin"},{id:"workflow",title:" ",icon:dj,path:"/workflow-designer"}]},{id:"settings",title:"",icon:Tf,path:"/settings"}],qL=[{name:"",value:400},{name:"",value:300},{name:"",value:300},{name:"",value:200}],VL=[{name:"",uv:400,pv:2400},{name:"",uv:300,pv:1398},{name:"",uv:200,pv:9800},{name:"",uv:278,pv:3908},{name:"",uv:189,pv:4800},{name:"",uv:239,pv:3800}];var _r=(t=>(t.ADMIN="ADMIN",t.USER="USER",t.STOREKEEPER="STOREKEEPER",t.INSPECTOR="INSPECTOR",t.MANAGER="MANAGER",t.EXPERT="EXPERT",t))(_r||{});const nc=()=>Math.random().toString(36).substring(2,9),vj=(t,e,r)=>{let n=t>979?1600:621;t-=t>979?979:0;let i=365*t+Math.floor(t/33)*8+Math.floor((t%33+3)/4)+78+r+(e<7?(e-1)*31:(e-7)*30+186);n+=400*Math.floor(i/146097),i%=146097,i>36524&&(n+=100*Math.floor(--i/36524),i%=36524,i>=365&&i++),n+=4*Math.floor(i/1461),i%=1461,i>365&&(n+=Math.floor((i-1)/365),i=(i-1)%365);let a=i+1;const o=[0,31,n%4===0&&n%100!==0||n%400===0?29:28,31,30,31,30,31,31,30,31,30,31];let l;for(l=0;l<13;l++){const c=o[l];if(a<=c)break;a-=c}return{gy:n,gm:l,gd:a}},up=(t,e,r)=>{const n=[0,31,59,90,120,151,181,212,243,273,304,334];let i=t<=1600?0:979;t-=t<=1600?621:1600;const a=e>2?t+1:t;let o=365*t+Math.floor((a+3)/4)-Math.floor((a+99)/100)+Math.floor((a+399)/400)-80+r+n[e-1];i+=33*Math.floor(o/12053),o%=12053,i+=4*Math.floor(o/1461),o%=1461,o>365&&(i+=Math.floor((o-1)/365),o=(o-1)%365);const l=o<186?1+Math.floor(o/31):7+Math.floor((o-186)/30),c=1+(o<186?o%31:(o-186)%30);return{jy:i,jm:l,jd:c}},dt=()=>{const t=new Date,e=up(t.getFullYear(),t.getMonth()+1,t.getDate());return`${e.jy}/${String(e.jm).padStart(2,"0")}/${String(e.jd).padStart(2,"0")}`},xs=()=>{const t=new Date;return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},GL=t=>{const e=new Date,r=up(e.getFullYear(),e.getMonth()+1,e.getDate()),n=String(r.jy).substring(2),i=String(r.jm).padStart(2,"0"),a=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`${t}${n}${i}${a}`},bs=t=>{try{const e=t.split("/");if(e.length!==3)return null;const{gy:r,gm:n,gd:i}=vj(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]));return new Date(r,n-1,i)}catch{return null}},HL=(t,e,r,n)=>{const i=bs(t),a=bs(r);if(!i||!a)return 0;const[o,l]=e.split(":").map(Number),[c,u]=n.split(":").map(Number);return i.setHours(o||0,l||0,0,0),a.setHours(c||0,u||0,0,0),i.getTime()<a.getTime()?-1:i.getTime()>a.getTime()?1:0},zL=(t,e,r,n)=>{const i=bs(t),a=bs(r);if(!i||!a)return 0;const[o,l]=e.split(":").map(Number),[c,u]=n.split(":").map(Number);i.setHours(o||0,l||0,0,0),a.setHours(c||0,u||0,0,0);const d=a.getTime()-i.getTime();return Math.max(0,Math.floor(d/6e4))},Cf=t=>{const e=bs(t);if(!e)return!1;const r=new Date;return r.setHours(0,0,0,0),e.getTime()>r.getTime()},N_=async()=>{try{const t=await fetch("https://api.ipify.org?format=json");if(!t.ok)throw new Error("Network response was not ok");return(await t.json()).ip}catch(t){return console.warn("Could not fetch public IP:",t),"Unknown / Offline"}};function dp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function WL(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})}const KL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Cx extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class JL extends Cx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class k_ extends Cx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class E_ extends Cx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Py;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Py||(Py={}));class YL{constructor(e,{headers:r={},customFetch:n,region:i=Py.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=KL(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return WL(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:g}=n;g||(g=this.region);const b=new URL(`${this.url}/${r}`);g&&g!=="any"&&(h["x-region"]=g,b.searchParams.set("forceFunctionRegion",g));let y;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let v=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const x=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:y,signal:v}).catch(S=>{throw new JL(S)}),_=x.headers.get("x-relay-error");if(_&&_==="true")throw new k_(x);if(!x.ok)throw new E_(x);let w=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return w==="application/json"?k=yield x.json():w==="application/octet-stream"||w==="application/pdf"?k=yield x.blob():w==="text/event-stream"?k=x:w==="multipart/form-data"?k=yield x.formData():k=yield x.text(),{data:k,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof E_||l instanceof k_?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var XL=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},QL=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var f,h;if(r.method!=="HEAD"){var g;const x=await a.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?l=x:l=JSON.parse(x))}const y=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const y=await a.text();try{o=JSON.parse(y),Array.isArray(o)&&a.status===404&&(l=[],o=null,u=200,d="OK")}catch{a.status===404&&y===""?(u=204,d="No Content"):o={message:y}}if(o&&r.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new XL(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let l="";const c=a==null?void 0:a.cause;if(c){var u,d,f,h;const b=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",y=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${b}`,y&&(l+=` (${y})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var g;l=(g=a==null?void 0:a.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},ZL=class extends QL{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const T_=new RegExp("[,()]");var To=class extends ZL{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&T_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&T_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},e5=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new To({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new To({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new To({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new To({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new To({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},t5=class xj{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new e5(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new To({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class r5{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const n5="2.89.0",i5=`realtime-js/${n5}`,bj="1.0.0",a5="2.0.0",A_=bj,Iy=1e4,o5=1e3,s5=100;var $i;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($i||($i={}));var Mt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Mt||(Mt={}));var xn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xn||(xn={}));var Oy;(function(t){t.websocket="websocket"})(Oy||(Oy={}));var Ea;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ea||(Ea={}));class l5{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,a;const o=e.topic,l=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let b=new DataView(g),y=0;b.setUint8(y++,this.KINDS.userBroadcastPush),b.setUint8(y++,c.length),b.setUint8(y++,l.length),b.setUint8(y++,o.length),b.setUint8(y++,u.length),b.setUint8(y++,f.length),b.setUint8(y++,r),Array.from(c,x=>b.setUint8(y++,x.charCodeAt(0))),Array.from(l,x=>b.setUint8(y++,x.charCodeAt(0))),Array.from(o,x=>b.setUint8(y++,x.charCodeAt(0))),Array.from(u,x=>b.setUint8(y++,x.charCodeAt(0))),Array.from(f,x=>b.setUint8(y++,x.charCodeAt(0)));var v=new Uint8Array(g.byteLength+n.byteLength);return v.set(new Uint8Array(g),0),v.set(new Uint8Array(n),g.byteLength),v.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,o,l,c]=n;return r({join_ref:i,ref:a,topic:o,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+i));c=c+i;const d=n.decode(e.slice(c,c+a));c=c+a;const f=n.decode(e.slice(c,c+o));c=c+o;const h=e.slice(c,e.byteLength),g=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,b={type:this.BROADCAST_EVENT,event:d,payload:g};return o>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class wj{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(rt||(rt={}));const C_=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=c5(o,t,e,i),a),{}):{}},c5=(t,e,r,n)=>{const i=e.find(l=>l.name===t),a=i==null?void 0:i.type,o=r[t];return a&&!n.includes(a)?_j(a,o):Ry(o)},_j=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return h5(e,r)}switch(t){case rt.bool:return u5(e);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return d5(e);case rt.json:case rt.jsonb:return f5(e);case rt.timestamp:return p5(e);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return Ry(e);default:return Ry(e)}},Ry=t=>t,u5=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},d5=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},f5=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},h5=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>_j(e,l))}return t},p5=t=>typeof t=="string"?t.replace(" ","T"):t,Sj=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zm{constructor(e,r,n={},i=Iy){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var j_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(j_||(j_={}));class ic{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ic.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=ic.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ic.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),g=f.map(v=>v.presence_ref),b=d.filter(v=>g.indexOf(v.presence_ref)<0),y=f.filter(v=>h.indexOf(v.presence_ref)<0);b.length>0&&(l[u]=b),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);e[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var P_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(P_||(P_={}));var ac;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ac||(ac={}));var ei;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ei||(ei={}));class Vo{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new zm(this,xn.join,this.params,this.timeout),this.rejoinTimer=new wj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xn.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ic(this),this.broadcastEndpointURL=Sj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[ac.PRESENCE]&&this.bindings[ac.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(ei.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(ei.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(ei.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(b=y==null?void 0:y.length)!==null&&b!==void 0?b:0,x=[];for(let _=0;_<v;_++){const w=y[_],{filter:{event:k,schema:S,table:N,filter:E}}=w,C=g&&g[_];if(C&&C.event===k&&Vo.isFilterValueEqual(C.schema,S)&&Vo.isFilterValueEqual(C.table,N)&&Vo.isFilterValueEqual(C.filter,E))x.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Mt.errored,e==null||e(ei.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(ei.SUBSCRIBED);return}}).receive("error",g=>{this.state=Mt.errored,e==null||e(ei.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ei.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Mt.joined&&e===ac.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Mt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new zm(this,xn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zm(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>s5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=xn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,y,v;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((v=(y=g.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(g=>g.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var b,y,v,x,_,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const k=g.id,S=(b=g.filter)===null||b===void 0?void 0:b.event;return k&&((y=r.ids)===null||y===void 0?void 0:y.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const k=(_=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return k==="*"||k===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:y,table:v,commit_timestamp:x,type:_,errors:w}=b;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:x,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(b))}g.callback(h,n)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Vo.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xn.close,{},e)}_onError(e){this._on(xn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=C_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=C_(e.columns,e.old_record)),r}}const Wm=()=>{},dd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},m5=[1e3,2e3,5e3,1e4],g5=1e4,y5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v5{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Iy,this.transport=null,this.heartbeatIntervalMs=dd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wm,this.ref=0,this.reconnectTimer=null,this.vsn=A_,this.logger=Wm,this.conn=null,this.sendBuffer=[],this.serializer=new l5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Oy.websocket}`,this.httpEndpoint=Sj(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=r5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $i.connecting:return Ea.Connecting;case $i.open:return Ea.Open;case $i.closing:return Ea.Closing;default:return Ea.Closed}}isConnected(){return this.connectionState()===Ea.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Vo(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(o5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},dd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===$i.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$i.open||this.conn.readyState===$i.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(xn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([y5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:i5};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(xn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new wj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,l,c,u,d,f,h,g;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Iy,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:dd.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Wm,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:A_,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:b=>m5[b-1]||g5,this.vsn){case bj:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(b,y)=>y(JSON.stringify(b)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(b,y)=>y(JSON.parse(b));break;case a5:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Rc=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function x5(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function b5(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function w5(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const l=x5(t.baseUrl,n,i),c=await b5(t.auth),u=await e(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const g=f?h:void 0,b=g==null?void 0:g.error;throw new Rc((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function fd(t){return t.join("")}var _5=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:fd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fd(t.namespace)}`}),!0}catch(e){if(e instanceof Rc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Rc&&r.status===409)return;throw r}}};function yo(t){return t.join("")}var S5=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Rc&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Rc&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},N5=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=w5({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new _5(this.client,e),this.tableOps=new S5(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},fp=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function pt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var k5=class extends fp{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},My=class extends fp{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const jx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),E5=()=>Response,$y=t=>{if(Array.isArray(t))return t.map(r=>$y(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=$y(n)}),e},T5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},A5=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function C5(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j5(t){var e=C5(t,"string");return Mc(e)=="symbol"?e:e+""}function P5(t,e,r){return(e=j5(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(r),!0).forEach(function(n){P5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Km=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},I5=async(t,e,r)=>{t instanceof await E5()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,a=(n==null?void 0:n.statusCode)||i+"";e(new k5(Km(n),i,a))}).catch(n=>{e(new My(Km(n),n))}):e(new My(Km(t),t))},O5=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(T5(n)?(i.headers=Ie({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Ie(Ie({},i),r))};async function Iu(t,e,r,n,i,a){return new Promise((o,l)=>{t(r,O5(e,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>I5(c,l,n))})}async function $c(t,e,r,n){return Iu(t,"GET",e,r,n)}async function yn(t,e,r,n,i){return Iu(t,"POST",e,n,i,r)}async function Dy(t,e,r,n,i){return Iu(t,"PUT",e,n,i,r)}async function R5(t,e,r,n){return Iu(t,"HEAD",e,Ie(Ie({},r),{},{noResolveJson:!0}),n)}async function Px(t,e,r,n,i){return Iu(t,"DELETE",e,n,i,r)}var M5=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}}};let Nj;Nj=Symbol.toStringTag;var $5=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Nj]="BlobDownloadBuilder",this.promise=null}asStream(){return new M5(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pt(e))return{data:null,error:e};throw e}}};const D5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},O_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var L5=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=jx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let a;const o=Ie(Ie({},O_),n);let l=Ie(Ie({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Ie(Ie({},l),n.headers));const u=i._removeEmptyFolders(e),d=i._getFinalPath(u),f=await(t=="PUT"?Dy:yn)(i.fetch,`${i.url}/object/${d}`,a,Ie({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(pt(a))return{data:null,error:a};throw a}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const a=i._removeEmptyFolders(t),o=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${o}`);l.searchParams.set("token",e);try{let c;const u=Ie({upsert:O_.upsert},n),d=Ie(Ie({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await Dy(i.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(pt(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=Ie({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await yn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+a.url),l=o.searchParams.get("token");if(!l)throw new fp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await yn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await yn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),a=await yn(n.fetch,`${n.url}/object/sign/${i}`,Ie({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await yn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Ie(Ie({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(t),o=()=>$c(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new $5(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:$y(await $c(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await R5(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pt(n)&&n instanceof My){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(t){var e=this;try{return{data:await Px(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=Ie(Ie(Ie({},D5),e),{},{prefix:t||""});return{data:await yn(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=Ie({},t);return{data:await yn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const kj="2.89.0",Ej={"X-Client-Info":`storage-js/${kj}`};var U5=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Ie(Ie({},Ej),e),this.fetch=jx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await $c(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await $c(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await yn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Dy(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Px(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},F5=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ie(Ie({},Ej),e),this.fetch=jx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await yn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await $c(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Px(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!A5(t))throw new fp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new N5({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const Ix={"X-Client-Info":`storage-js/${kj}`,"Content-Type":"application/json"};var Tj=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Rr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Jm=class extends Tj{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},B5=class extends Tj{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Ox=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),q5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},R_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),V5=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";e(new Jm(R_(a),n,o))}).catch(()=>{const a=n+"";e(new Jm(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";e(new Jm(i.statusText||`HTTP ${n} error`,n,a))}}else e(new B5(R_(t),t))},G5=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(q5(n)?(i.headers=Ie({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Ie(Ie({},i),r)):i};async function H5(t,e,r,n,i,a){return new Promise((o,l)=>{t(r,G5(e,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>V5(c,l,n))})}async function Mr(t,e,r,n,i){return H5(t,"POST",e,n,i,r)}var z5=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ie(Ie({},Ix),e),this.fetch=Ox(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Mr(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Mr(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Rr(n))return{data:null,error:n};throw n}}},W5=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ie(Ie({},Ix),e),this.fetch=Ox(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Mr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Mr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Mr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}},K5=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ie(Ie({},Ix),e),this.fetch=Ox(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Mr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Rr(r))return{data:null,error:r};throw r}}},J5=class extends K5{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Y5(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},Y5=class extends z5{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Ie(Ie({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ie(Ie({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new X5(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},X5=class extends W5{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Ie(Ie({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Ie(Ie({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Ie(Ie({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Ie(Ie({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Ie(Ie({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Q5=class extends U5{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new L5(this.url,this.headers,t,this.fetch)}get vectors(){return new J5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new F5(this.url+"/iceberg",this.headers,this.fetch)}};const Aj="2.89.0",Ao=30*1e3,Ly=3,Ym=Ly*Ao,Z5="http://localhost:9999",e4="supabase.auth.token",t4={"X-Client-Info":`gotrue-js/${Aj}`},Uy="X-Supabase-Api-Version",Cj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},r4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n4=10*60*1e3;class Dc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ke(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class i4 extends Dc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function a4(t){return ke(t)&&t.name==="AuthApiError"}class Ta extends Dc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ni extends Dc{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ar extends Ni{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function o4(t){return ke(t)&&t.name==="AuthSessionMissingError"}class vo extends Ni{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hd extends Ni{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class pd extends Ni{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function s4(t){return ke(t)&&t.name==="AuthImplicitGrantRedirectError"}class M_ extends Ni{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class l4 extends Ni{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fy extends Ni{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Xm(t){return ke(t)&&t.name==="AuthRetryableFetchError"}class $_ extends Ni{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class By extends Ni{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const jf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),D_=` 	
\r=`.split(""),c4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<D_.length;e+=1)t[D_[e].charCodeAt(0)]=-2;for(let e=0;e<jf.length;e+=1)t[jf[e].charCodeAt(0)]=e;return t})();function L_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(jf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(jf[n]),e.queuedBits-=6}}function jj(t,e,r){const n=c4[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function U_(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{f4(o,n,r)};for(let o=0;o<t.length;o+=1)jj(t.charCodeAt(o),i,a);return e.join("")}function u4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function d4(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}u4(n,e)}}function f4(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ns(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)jj(t.charCodeAt(i),r,n);return new Uint8Array(e)}function h4(t){const e=[];return d4(t,r=>e.push(r)),new Uint8Array(e)}function Ia(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>L_(i,r,n)),L_(null,r,n),e.join("")}function p4(t){return Math.round(Date.now()/1e3)+t}function m4(){return Symbol("auth-callback")}const Xt=()=>typeof window<"u"&&typeof document<"u",pa={tested:!1,writable:!1},Pj=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pa.tested)return pa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),pa.tested=!0,pa.writable=!0}catch{pa.tested=!0,pa.writable=!1}return pa.writable};function g4(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Ij=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),y4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Co=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ma=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Yt=async(t,e)=>{await t.removeItem(e)};class hp{constructor(){this.promise=new hp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}hp.promiseConstructor=Promise;function Qm(t){const e=t.split(".");if(e.length!==3)throw new By("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!r4.test(e[n]))throw new By("JWT not in base64url format");return{header:JSON.parse(U_(e[0])),payload:JSON.parse(U_(e[1])),signature:ns(e[2]),raw:{header:e[0],payload:e[1]}}}async function v4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function x4(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function b4(t){return("0"+t.toString(16)).substr(-2)}function w4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,b4).join("")}async function _4(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function S4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await _4(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xo(t,e,r=!1){const n=w4();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Co(t,`${e}-code-verifier`,i);const a=await S4(n);return[a,n===a?"plain":"s256"]}const N4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k4(t){const e=t.headers.get(Uy);if(!e||!e.match(N4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function E4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function T4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const A4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bo(t){if(!A4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function C4(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function F_(t){return JSON.parse(JSON.stringify(t))}const wa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),j4=[502,503,504];async function B_(t){var e;if(!y4(t))throw new Fy(wa(t),0);if(j4.includes(t.status))throw new Fy(wa(t),t.status);let r;try{r=await t.json()}catch(a){throw new Ta(wa(a),a)}let n;const i=k4(t);if(i&&i.getTime()>=Cj["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $_(wa(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ar}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new $_(wa(r),t.status,r.weak_password.reasons);throw new i4(wa(r),t.status||500,n)}const P4=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Pe(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Uy]||(a[Uy]=Cj["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await I4(t,e,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function I4(t,e,r,n,i,a){const o=P4(e,n,i,a);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Fy(wa(c),0)}if(l.ok||await B_(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await B_(c)}}function mn(t){var e;let r=null;M4(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=p4(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function q_(t){const e=mn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function O4(t){return{data:t,error:null}}function R4(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=dp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function V_(t){return t}function M4(t){return t.access_token&&t.refresh_token&&t.expires_in}const eg=["global","local","others"];class $4{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ij(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=eg[0]){if(eg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eg.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fi})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=dp(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:R4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fi})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:V_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ke(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){bo(e);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fi})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){bo(e);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Fi})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){bo(e);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fi})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){bo(e.userId);try{const{data:r,error:n}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(e){bo(e.userId),bo(e.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:V_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);u[`${v}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ke(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}}function G_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const wo={debug:!!(globalThis&&Pj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Oj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class D4 extends Oj{}async function L4(t,e,r){wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),wo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new D4(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function U4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Rj(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function F4(t){return parseInt(t,16)}function B4(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function q4(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=Rj(t.address),b=d?`${d}://${n}`:n,y=t.statement?`${t.statement}
`:"",v=`${b} wants you to sign in with your Ethereum account:
${g}

${y}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let _=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);_+=`
- ${w}`}x+=_}return`${v}
${x}`}class At extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Pf extends At{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function V4({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new At({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new At({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new At({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new At({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new At({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new At({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new At({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new At({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Mj(o)){if(a.rp.id!==o)return new At({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new At({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new At({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function G4({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new At({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new At({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Mj(n)){if(r.rpId!==n)return new At({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new At({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class H4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const z4=new H4;function W4(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=dp(t,["challenge","user","excludeCredentials"]),a=ns(e).buffer,o=Object.assign(Object.assign({},r),{id:ns(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ns(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function K4(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=dp(t,["challenge","allowCredentials"]),i=ns(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ns(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function J4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ia(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ia(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Y4(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ia(new Uint8Array(i.authenticatorData)),clientDataJSON:Ia(new Uint8Array(i.clientDataJSON)),signature:Ia(new Uint8Array(i.signature)),userHandle:i.userHandle?Ia(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mj(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function H_(){var t,e;return!!(Xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function X4(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pf("Browser returned unexpected credential type",e)}:{data:null,error:new Pf("Empty credential response",e)}}catch(e){return{data:null,error:V4({error:e,options:t})}}}async function Q4(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pf("Browser returned unexpected credential type",e)}:{data:null,error:new Pf("Empty credential response",e)}}catch(e){return{data:null,error:G4({error:e,options:t})}}}const Z4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},e3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function If(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(e(o)){const l=n[a];e(l)?n[a]=If(l,o):n[a]=If(o)}else n[a]=o}return n}function t3(t,e){return If(Z4,t,e||{})}function r3(t,e){return If(e3,t,e||{})}class n3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=i??z4.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=t3(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await X4({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=r3(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await Q4(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return ke(o)?{data:null,error:o}:{data:null,error:new Ta("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Dc("rpId is required for WebAuthn authentication")};try{if(!H_())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ke(o)?{data:null,error:o}:{data:null,error:new Ta("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Dc("rpId is required for WebAuthn registration")};try{if(!H_())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ke(o)?{data:null,error:o}:{data:null,error:new Ta("Unexpected error in register",o)}}}}U4();const i3={url:Z5,storageKey:e4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:t4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function z_(t,e,r){return await r()}const _o={};class Lc{get jwks(){var e,r;return(r=(e=_o[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=_o[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_o[this.storageKey]=Object.assign(Object.assign({},_o[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},i3),e);if(this.storageKey=a.storageKey,this.instanceID=(r=Lc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Lc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Xt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new $4({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Ij(a.fetch),this.lock=a.lock||z_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=L4:this.lock=z_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new n3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Pj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=G_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=G_(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Aj}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Xt()&&(r=g4(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Xt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),s4(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?this._returnResult({error:r}):this._returnResult({error:new Ta("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:mn}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:f,options:h}=e;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await xo(this.storage,this.storageKey)),a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:b},xform:mn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:mn})}else throw new hd("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:l}=e;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:q_})}else if("phone"in e){const{phone:a,password:o,options:l}=e;r=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:q_})}else throw new hd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new vo;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,l,c,u,d,f,h;let g,b;if("message"in e)g=e.message,b=e.signature;else{const{chain:y,wallet:v,statement:x,options:_}=e;let w;if(Xt())if(typeof v=="object")w=v;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const k=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Rj(S[0]);let E=(n=_==null?void 0:_.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const A=await w.request({method:"eth_chainId"});E=F4(A)}const C={domain:k.host,address:N,statement:x,uri:k.href,version:"1",chainId:E,nonce:(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=_==null?void 0:_.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_==null?void 0:_.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=q4(C),b=await w.request({method:"personal_sign",params:[B4(g),N]})}try{const{data:y,error:v}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:mn});if(v)throw v;if(!y||!y.session||!y.user){const x=new vo;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(ke(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,i,a,o,l,c,u,d,f,h,g;let b,y;if("message"in e)b=e.message,y=e.signature;else{const{chain:v,wallet:x,statement:_,options:w}=e;let k;if(Xt())if(typeof x=="object")k=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))k=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=x}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const N=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),_?{statement:_}:null));let E;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")E=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)E=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)b=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),y=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const N=await k.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=N}}try{const{data:v,error:x}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ia(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:mn});if(x)throw x;if(!v||!v.session||!v.user){const _=new vo;return this._returnResult({data:{user:null,session:null},error:_})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(ke(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const r=await ma(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new l4;const{data:a,error:o}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:mn});if(await Yt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new vo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,l=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:mn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new vo;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xo(this.storage,this.storageKey));const{error:f}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new hd("You must provide either an email or phone number.")}catch(l){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),ke(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:mn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await xo(this.storage,this.storageKey));const u=await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:O4});return!((a=u.data)===null||a===void 0)&&a.url&&Xt()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),ke(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ar;const{error:i}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ke(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:l}=await Pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new hd("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ym:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ma(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Zm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=C4(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fi}):await this._useSession(async r=>{var n,i,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ar}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Fi})})}catch(r){if(ke(r))return o4(r)&&(await this._removeSession(),await Yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ar;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await xo(this.storage,this.storageKey));const{data:u,error:d}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Fi});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),ke(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ar;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Qm(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(ke(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ar;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Xt())throw new pd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new pd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new M_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new M_("No code detected.");const{data:_,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!a||!l||!o||!u)throw new pd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=Ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:y,error:v}=await this._getUser(a);if(v)throw v;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(n){if(ke(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ma(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(a4(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=m4(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await xo(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Xt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ke(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:l,token:c,access_token:u,nonce:d}=e,f=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:mn}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new vo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await Yt(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await x4(async i=>(i>0&&await v4(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Xm(a)&&Date.now()+o-n<Ao})}catch(n){if(this._debug(r,"error",n),ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Xt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ma(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Co(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Zm()}else if(i&&!i.user&&!i.user){const o=await ma(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Yt(this.storage,this.storageKey+"-user"),await Co(this.storage,this.storageKey,i)):i.user=Zm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ym;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ym}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Xm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new hp;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Ar;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),ke(a)){const o={data:null,error:a};return Xm(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Yt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Co(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=F_(i);await Co(this.storage,this.storageKey,a)}else{const i=F_(r);await Co(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Yt(this.storage,this.storageKey),await Yt(this.storage,this.storageKey+"-code-verifier"),await Yt(this.storage,this.storageKey+"-user"),this.userStorage&&await Yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ao);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ao}ms, refresh threshold is ${Ly} ticks`),i<=Ly&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Oj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await xo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Pe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?J4(e.webauthn.credential_response):Y4(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await Pe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:W4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:K4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Qm(n.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ar})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ar});const o=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Xt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ar});const o=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Xt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ar})})}catch(e){if(ke(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ar})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+n4>i)return n;const{data:a,error:o}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});n=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=Qm(n);r!=null&&r.allowExpired||E4(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const d=T4(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,h4(`${l}.${c}`)))throw new By("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}}Lc.nextInstanceID={};const a3=Lc,o3="2.89.0";let ql="";typeof Deno<"u"?ql="deno":typeof document<"u"?ql="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ql="react-native":ql="node";const s3={"X-Client-Info":`supabase-js-${ql}/${o3}`},l3={headers:s3},c3={schema:"public"},u3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d3={};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function f3(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h3(t){var e=f3(t,"string");return Uc(e)=="symbol"?e:e+""}function p3(t,e,r){return(e=h3(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W_(Object(r),!0).forEach(function(n){p3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const m3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),g3=()=>Headers,y3=(t,e,r)=>{const n=m3(r),i=g3();return async(a,o)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,bt(bt({},o),{},{headers:u}))}};function v3(t){return t.endsWith("/")?t:t+"/"}function x3(t,e){var r,n;const{db:i,auth:a,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,h={db:bt(bt({},c),i),auth:bt(bt({},u),a),realtime:bt(bt({},d),o),storage:{},global:bt(bt(bt({},f),l),{},{headers:bt(bt({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function b3(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(v3(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var w3=class extends a3{constructor(t){super(t)}},_3=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const a=b3(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:c3,realtime:d3,auth:bt(bt({},u3),{},{storageKey:o}),global:l3},c=x3(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=y3(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(bt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new t5(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Q5(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new YL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w3({url:this.authUrl.href,headers:bt(bt({},h),d),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new v5(this.realtimeUrl.href,bt(bt({},t),{},{params:bt(bt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const S3=(t,e,r)=>new _3(t,e,r);function N3(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}N3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const K_={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},k3="https://krgznynrljnvxwhvsdxj.supabase.co",E3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyZ3pueW5ybGpudnh3aHZzZHhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMzI3MzMsImV4cCI6MjA4MTkwODczM30.OUjiO0YpbSHSfD9gQ6T6RugFNdGPvJPhMzTQBkbgI5c";function $j(t){try{if(typeof import.meta<"u"&&import.meta&&K_)return K_[t]}catch(e){console.warn(`Error accessing environment variable ${t}:`,e)}}const T3=$j("VITE_SUPABASE_URL"),A3=$j("VITE_SUPABASE_ANON_KEY"),Dj=T3||k3,C3=A3||E3;Dj.includes("placeholder")&&console.warn("Supabase Client Warning: Missing or invalid URL/Key. Connection may fail.");const $e=S3(Dj,C3),Ou=()=>{try{const t=localStorage.getItem("workflows");return t?JSON.parse(t):[]}catch{return[]}},Lj=t=>{localStorage.setItem("workflows",JSON.stringify(t))},Ru=()=>{try{const t=localStorage.getItem("cartable");return t?JSON.parse(t):[]}catch{return[]}},Uj=t=>{localStorage.setItem("cartable",JSON.stringify(t))},Fj=async(t,e)=>{try{const{data:r,error:n}=await $e.from("messages").select("*").order("created_at",{ascending:!1});if(n)throw n;const a=(r||[]).map(c=>({id:c.id,senderId:c.sender_id,senderName:c.sender_name,receiverId:c.receiver_id,receiverType:c.receiver_type,subject:c.subject,body:c.body,createdAt:c.created_at,readBy:c.read_by||[],attachments:c.attachments||[]})),o=a.filter(c=>c.receiverType==="USER"&&c.receiverId===t||c.receiverType==="ALL"||c.receiverType==="GROUP"&&c.receiverId===e),l=a.filter(c=>c.senderId===t);return{inbox:o,sent:l}}catch(r){return console.error("Error fetching messages:",r),{inbox:[],sent:[]}}},j3=async(t,e)=>{try{const{inbox:r}=await Fj(t,e);return r.filter(n=>!n.readBy.includes(t)).length}catch{return 0}},P3=async(t,e,r,n,i,a=[])=>{const o=`${dt()} ${xs()}`,l=[];if(r==="USER"&&Array.isArray(e))e.forEach(u=>{l.push({sender_id:t.id,sender_name:t.fullName,receiver_id:u,receiver_type:"USER",subject:n,body:i,created_at:o,read_by:[],attachments:a})});else{const u=Array.isArray(e)?e[0]:e;l.push({sender_id:t.id,sender_name:t.fullName,receiver_id:u,receiver_type:r,subject:n,body:i,created_at:o,read_by:[],attachments:a})}const{error:c}=await $e.from("messages").insert(l);if(c)throw c},I3=async(t,e)=>{if(!t.readBy.includes(e)){const r=[...t.readBy,e];await $e.from("messages").update({read_by:r}).eq("id",t.id)}},Ve=async t=>{try{const{data:e,error:r}=await $e.from(t).select("*");if(!r&&e&&!(t==="measurement_units"&&e.length===0))return e}catch{console.warn(`Failed to fetch ${t} from Supabase, falling back to defaults.`)}return t==="measurement_units"?[{id:"1",title:""},{id:"2",title:""},{id:"3",title:""},{id:"4",title:""},{id:"5",title:""},{id:"6",title:""},{id:"7",title:""},{id:"8",title:""}]:[]},O3=async()=>{try{const{data:t,error:e}=await $e.from("shift_reports").select("id, tracking_code, shift_date, shift_name, shift_type, supervisor_name, total_production_a, total_production_b, full_data").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){return console.error("Error fetching shift reports:",t),[]}},R3=async t=>{try{const e={tracking_code:t.code,shift_date:t.shiftInfo.date,shift_name:t.shiftInfo.name,shift_type:t.shiftInfo.type,shift_duration:t.shiftInfo.shiftDuration,supervisor_id:t.shiftInfo.supervisor,supervisor_name:t.shiftInfo.supervisorName,total_production_a:t.totalA,total_production_b:t.totalB,full_data:t},{error:r}=await $e.from("shift_reports").insert([e]);if(r)throw r;return!0}catch(e){throw console.error("Error saving shift report:",e),e}},la=async t=>{try{const{data:e,error:r}=await $e.rpc("get_next_tracking_code",{prefix_input:t});return r?(console.error("RPC Error:",r),t+Math.floor(Math.random()*9e3+1e3)):e}catch(e){return console.error("Fetch Code Error:",e),t+Math.floor(Math.random()*9e3+1e3)}},M3=()=>{let t=Ou();if(!t.find(e=>e.module==="WORK_ORDER")){const e={id:"default-wo-flow",module:"WORK_ORDER",title:"  ",isActive:!0,steps:[{id:"step-request",title:"",assigneeRole:"INITIATOR",description:"   ",actions:[{id:"act-submit",label:"  ",nextStepId:"step-inprogress",style:"primary"}]},{id:"step-inprogress",title:"  ",assigneeRole:_r.USER,description:"    ",actions:[{id:"act-finish",label:"     ",nextStepId:"step-verify",style:"success"}]},{id:"step-verify",title:"",assigneeRole:_r.MANAGER,description:"    ",actions:[{id:"act-approve",label:" ",nextStepId:"step-finish",style:"success"},{id:"act-reject",label:"  (  )",nextStepId:"step-inprogress",style:"danger"}]},{id:"step-finish",title:"",assigneeRole:_r.ADMIN,description:" ",actions:[{id:"act-close",label:" ",nextStepId:"FINISH",style:"neutral"}]}]};t.push(e),Lj(t)}};M3();const Fc=()=>Ou(),$3=t=>{const e=Ou(),r=e.findIndex(n=>n.id===t.id);r>=0?e[r]=t:e.push(t),Lj(e)},ia=(t,e,r,n,i)=>{let o=Ou().find(d=>d.module===t&&d.isActive);o||(o={id:`dummy-${t}`,module:t,title:" ",isActive:!0,steps:[{id:"step-start",title:" ",assigneeRole:"INITIATOR",actions:[]}]});const l=o.steps[0],c={id:nc(),workflowId:o.id,trackingCode:n,module:t,title:i,description:`   ${r.fullName}`,currentStepId:l.id,initiatorId:r.id,assigneeRole:l.assigneeRole==="INITIATOR"?r.role:l.assigneeRole,status:"PENDING",createdAt:dt(),updatedAt:dt(),data:{...e,status:"REQUEST"}},u=Ru();return u.push(c),Uj(u),c},D3=(t,e,r,n)=>{const i=Ru(),a=i.findIndex(f=>f.id===t);if(a===-1)return;const o=i[a],c=Ou().find(f=>f.id===o.workflowId);if(!c)return;const u=c.steps.find(f=>f.id===o.currentStepId);if(!u)return;const d=u.actions.find(f=>f.id===e);if(d){if(d.nextStepId==="FINISH")o.status="DONE",o.assigneeRole=_r.ADMIN,o.description=`   ${r.fullName}`,o.data&&(o.data.status="FINISHED");else{const f=c.steps.find(h=>h.id===d.nextStepId);if(f){o.currentStepId=f.id;const h=f.assigneeRole;h==="INITIATOR"?o.assigneeRole="INITIATOR":o.assigneeRole=h,o.updatedAt=dt(),o.description=`   ${f.assigneeRole}  ${r.fullName}`,o.module==="WORK_ORDER"&&(f.title===""?o.data.status="REQUEST":f.title==="  "?o.data.status="IN_PROGRESS":f.title===""?o.data.status="VERIFICATION":f.title===""&&(o.data.status="FINISHED"))}}i[a]=o,Uj(i)}},J_=t=>Ru().filter(r=>r.status==="PENDING"&&(r.assigneeRole===t.role||r.assigneeRole==="INITIATOR"&&r.initiatorId===t.id||r.assigneeId===t.id)),L3=()=>Ru().filter(e=>e.module==="WORK_ORDER"),pp=t=>Ru().filter(r=>r.module===t),U3=({children:t,user:e,onLogout:r,darkMode:n,toggleDarkMode:i})=>{var C;const[a,o]=T.useState(!1),[l,c]=T.useState(!1),[u,d]=T.useState([]),[f,h]=T.useState(0),[g,b]=T.useState(null),y=Ys(),v=ap(),x=v.pathname==="/login";T.useEffect(()=>{Hm.forEach(A=>{A.submenu&&A.submenu.some($=>$.path===v.pathname)&&!u.includes(A.id)&&d($=>[...$,A.id])})},[v.pathname]),T.useEffect(()=>{if(!e)return;const A=async()=>{const U=await j3(e.id,e.role);h(U),I()},I=async()=>{try{const{data:U}=await $e.from("personal_notes").select("*").eq("user_id",e.id).eq("is_completed",!1).not("reminder_date","is",null).not("reminder_time","is",null);if(U&&U.length>0){const O=new Date,R=dt(),P=xs(),D=U.find(q=>{if(q.reminderSeen)return!1;const B=q.reminderDate<R,W=q.reminderDate===R,J=q.reminderTime<=P;return B||W&&J});D&&(b(D),new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3").play().catch(()=>{}))}}catch(U){console.error("Reminder check failed",U)}};A();const $=setInterval(A,3e4);return()=>clearInterval($)},[e]);const _=async()=>{g&&b(null)},w=async()=>{if(g)try{await $e.from("personal_notes").update({is_completed:!0}).eq("id",g.id),b(null),alert("  .")}catch(A){console.error(A)}};if(x)return s.jsx(s.Fragment,{children:t});const k=()=>{y(-1)},S=v.pathname==="/",N=A=>{l?(c(!1),d([A])):d(I=>I.includes(A)?I.filter($=>$!==A):[...I,A])},E=A=>{A.submenu?N(A.id):(y(A.path),o(!1))};return s.jsxs("div",{className:`flex h-screen w-full overflow-hidden ${n?"dark":""}`,children:[g&&s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fadeIn",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden transform transition-all scale-100 border-t-4 border-red-500",children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[s.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 p-3 rounded-full animate-bounce",children:s.jsx(rL,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:""})]}),s.jsx("h4",{className:"font-bold text-lg mb-2",children:g.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed mb-4",children:g.content||"      ."}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(Pu,{className:"w-3 h-3"}),s.jsxs("span",{children:[g.reminderTime," - ",g.reminderDate]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 flex gap-3",children:[s.jsx("button",{onClick:_,className:"flex-1 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition",children:"  "}),s.jsxs("button",{onClick:w,className:"flex-1 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition flex items-center justify-center gap-2",children:[s.jsx(Xs,{className:"w-4 h-4"}),"  "]})]})]})}),a&&s.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden",onClick:()=>o(!1)}),s.jsx("aside",{className:`
        fixed top-0 right-0 z-50 h-full bg-white dark:bg-gray-800 shadow-xl transition-all duration-300 ease-in-out border-l dark:border-gray-700
        ${a?"translate-x-0 w-64":"translate-x-full w-64"}
        md:relative md:translate-x-0 md:flex-shrink-0
        ${l?"md:w-20":"md:w-64"}
      `,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:`p-4 border-b border-gray-200 dark:border-gray-700 flex items-center ${l?"justify-center":"justify-between"}`,children:[!l&&s.jsx("h2",{className:"text-xl font-bold text-primary dark:text-red-400 whitespace-nowrap",children:""}),s.jsx("button",{onClick:()=>o(!1),className:"md:hidden",children:s.jsx(yt,{className:"w-6 h-6"})}),s.jsx("button",{onClick:()=>c(!l),className:"hidden md:block p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:l?"  ":" ",children:l?s.jsx(NL,{className:"w-5 h-5"}):s.jsx(SL,{className:"w-5 h-5"})})]}),s.jsxs("div",{onClick:()=>{y("/settings"),o(!1)},className:`
              p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group relative flex items-center gap-3
              ${l?"justify-center":""}
            `,title:l?e==null?void 0:e.fullName:" ",children:[s.jsx("div",{className:"w-10 h-10 min-w-[2.5rem] rounded-full bg-primary text-white flex items-center justify-center overflow-hidden border-2 border-transparent group-hover:border-primary transition-all shadow-sm",children:e!=null&&e.avatar?s.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full object-cover"}):s.jsx(vs,{className:"w-5 h-5"})}),!l&&s.jsxs("div",{className:"overflow-hidden",children:[s.jsx("p",{className:"font-medium truncate text-sm group-hover:text-primary transition-colors",children:e==null?void 0:e.fullName}),s.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:e==null?void 0:e.role})]})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4 overflow-x-hidden no-scrollbar",children:Hm.map(A=>{var P,D;if(A.id==="settings"||A.role&&(e==null?void 0:e.role)!==A.role&&(e==null?void 0:e.role)!=="ADMIN")return null;const I=!!A.submenu,$=u.includes(A.id),U=I&&((P=A.submenu)==null?void 0:P.some(q=>q.path===v.pathname)),O=!I&&v.pathname===A.path,R=A.id==="messages"&&f>0;return s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>E(A),title:l?A.title:"",className:`
                      w-full flex items-center gap-3 py-3 transition-colors relative group
                      ${l?"justify-center px-2":"px-6 text-right justify-between"}
                      ${O||U?"text-primary dark:text-red-400 bg-primary/5 dark:bg-primary/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}
                    `,children:[s.jsxs("div",{className:"flex items-center gap-3 relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx(A.icon,{className:`w-5 h-5 flex-shrink-0 transition-transform ${R?"animate-pulse":""} ${(O||U)&&!l?"scale-110":""}`}),R&&l&&s.jsx("span",{className:"absolute -top-1 -left-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"})]}),!l&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-sm truncate ${O||U?"font-bold":"font-medium"}`,children:A.title}),R&&s.jsx("span",{className:"bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full animate-bounce",children:f})]})]}),!l&&I&&s.jsx(op,{className:`w-4 h-4 transition-transform duration-200 ${$?"rotate-180":""}`}),l&&s.jsxs("div",{className:"absolute right-full mr-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50 shadow-lg flex items-center gap-2",children:[A.title,R&&s.jsx("span",{className:"bg-red-500 text-white px-1.5 rounded-full text-[9px]",children:f})]})]}),!l&&I&&$&&s.jsx("div",{className:"bg-gray-50 dark:bg-black/20 overflow-hidden transition-all",children:(D=A.submenu)==null?void 0:D.map(q=>{const B=v.pathname===q.path;return s.jsxs("button",{onClick:()=>{y(q.path),o(!1)},className:`
                                    w-full flex items-center gap-3 py-2.5 px-6 pr-12 text-right transition-colors
                                    ${B?"text-primary dark:text-red-400 font-bold":"text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}
                                  `,children:[s.jsx(q.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs",children:q.title})]},q.id)})})]},A.id)})}),s.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[s.jsxs("button",{onClick:i,title:l?n?" ":" ":"",className:`w-full flex items-center gap-3 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors ${l?"justify-center px-2":"px-4"}`,children:[n?s.jsx(ML,{className:"w-5 h-5"}):s.jsx(_L,{className:"w-5 h-5"}),!l&&s.jsx("span",{className:"text-sm",children:n?" ":" "})]}),s.jsxs("button",{onClick:r,title:l?"":"",className:`w-full flex items-center gap-3 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors ${l?"justify-center px-2":"px-4"}`,children:[s.jsx(bL,{className:"w-5 h-5"}),!l&&s.jsx("span",{className:"text-sm",children:""})]})]})]})}),s.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-gray-50 dark:bg-gray-900 transition-all duration-300",children:[s.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-10 px-4 h-16 flex items-center justify-between flex-shrink-0 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>o(!0),className:"md:hidden p-2 text-gray-600 dark:text-gray-300",children:s.jsx(wL,{className:"w-6 h-6"})}),!S&&s.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:s.jsx(ju,{className:"w-6 h-6 text-gray-500"})}),s.jsx("h1",{className:"text-lg font-bold text-gray-800 dark:text-white truncate",children:((C=Hm.flatMap(A=>A.submenu?A.submenu:A).find(A=>A.path===v.pathname))==null?void 0:C.title)||(v.pathname==="/settings"?"":"")})]}),s.jsx("div",{className:"flex items-center gap-2"})]}),s.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar pb-20 md:pb-6 relative",children:t})]})]})},F3={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Bj=({className:t})=>{const e=()=>{try{return`${F3&&"/net/"||"/"}logo.svg`.replace(/\/\//g,"/")}catch{return"/logo.svg"}};return s.jsx("img",{src:e(),className:t,alt:"Company Logo",onError:r=>{console.warn("Logo load failed"),r.currentTarget.style.display="none"}})},Y_=`--      SQL Editor  Supabase  

-- 1.  
create table if not exists personnel (
  id uuid default gen_random_uuid() primary key,
  personnel_code text unique not null,
  full_name text,
  unit text,
  mobile text,
  email text,
  profile_picture text,
  created_at timestamptz default now()
);

create table if not exists app_users (
  id uuid default gen_random_uuid() primary key,
  username text unique not null,
  password text,
  role text not null,
  personnel_id uuid references personnel(id),
  is_default_password boolean default true,
  avatar text,
  created_at timestamptz default now()
);

--   
create table if not exists system_logs (
  id uuid default gen_random_uuid() primary key,
  user_id text,
  user_name text,
  personnel_code text,
  action text,
  ip_address text,
  details text,
  created_at timestamptz default now()
);

--   
create table if not exists messages (
  id uuid default gen_random_uuid() primary key,
  sender_id text,
  sender_name text,
  receiver_id text,
  receiver_type text,
  subject text,
  body text,
  read_by jsonb default '[]'::jsonb,
  created_at text,
  attachments jsonb default '[]'::jsonb
);

-- 2.   
create table if not exists locations ( id uuid default gen_random_uuid() primary key, code text unique, name text not null, parent_id uuid references locations(id), created_at timestamptz default now() );
create table if not exists measurement_units ( id uuid default gen_random_uuid() primary key, title text not null, created_at timestamptz default now() );
create table if not exists equipment_classes ( id uuid default gen_random_uuid() primary key, name text not null, created_at timestamptz default now() );
create table if not exists equipment_groups ( id uuid default gen_random_uuid() primary key, name text not null, class_id uuid references equipment_classes(id), created_at timestamptz default now() );

--   
create table if not exists part_categories ( 
  id uuid default gen_random_uuid() primary key, 
  code text unique not null, 
  name text unique not null, 
  parent_id uuid references part_categories(id), 
  level_type text not null, 
  created_at timestamptz default now() 
);

create table if not exists equipment (
  id uuid default gen_random_uuid() primary key,
  code text unique,
  name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  location_id uuid references locations(id),
  description text,
  created_at timestamptz default now()
);

create table if not exists equipment_local_names (
  id uuid default gen_random_uuid() primary key,
  local_name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  created_at timestamptz default now()
);

-- 3.     (Cartable)
create table if not exists cartable_items (
  id uuid default gen_random_uuid() primary key,
  workflow_id text,
  tracking_code text unique,
  module text not null,
  title text,
  description text,
  current_step_id text,
  initiator_id uuid references app_users(id),
  assignee_role text,
  assignee_id uuid references app_users(id),
  status text,
  data jsonb,
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

-- 4.   
create table if not exists projects (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  title text not null,
  manager_id uuid references personnel(id),
  manager_name text,
  budget numeric default 0,
  start_date text,
  end_date text,
  status text default 'PLANNED',
  progress integer default 0,
  description text,
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

create table if not exists project_objectives (
  id uuid default gen_random_uuid() primary key,
  project_id uuid references projects(id) on delete cascade,
  objective_text text not null,
  created_at timestamptz default now()
);

create table if not exists project_milestones (
  id uuid default gen_random_uuid() primary key,
  project_id uuid references projects(id) on delete cascade,
  title text not null,
  weight_percent integer not null,
  progress_percent integer default 0,
  created_at timestamptz default now()
);

create table if not exists project_attachments (
  id uuid default gen_random_uuid() primary key,
  project_id uuid references projects(id) on delete cascade,
  file_name text not null,
  file_path text,
  file_size integer,
  file_type text,
  uploaded_at timestamptz default now()
);

--   
create table if not exists shift_reports (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  shift_date text,
  shift_name text,
  shift_type text,
  shift_duration text,
  supervisor_id uuid,
  supervisor_name text,
  total_production_a numeric default 0,
  total_production_b numeric default 0,
  full_data jsonb,
  created_at timestamptz default now()
);

-- 5.   
create table if not exists performance_evaluations (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  personnel_id uuid references personnel(id),
  personnel_name text,
  unit text,
  period text,
  total_score numeric,
  criteria_data jsonb,
  evaluator_id uuid references app_users(id),
  status text default 'PENDING',
  description text,
  created_at timestamptz default now()
);

--   
create table if not exists user_groups ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists org_chart ( id uuid default gen_random_uuid() primary key, code text, name text, manager_name text, created_at timestamptz default now() );
create table if not exists evaluation_periods ( id uuid default gen_random_uuid() primary key, code text, title text, created_at timestamptz default now() );
create table if not exists evaluation_criteria ( id uuid default gen_random_uuid() primary key, title text, max_score numeric, created_at timestamptz default now() );
create table if not exists equipment_tree ( id uuid default gen_random_uuid() primary key, equipment_id uuid references equipment(id), code text, name text, parent_id uuid references equipment_tree(id), created_at timestamptz default now() );
create table if not exists activity_cards ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists checklist_items ( id uuid default gen_random_uuid() primary key, activity_card_id uuid references activity_cards(id), sort_order int, description text, created_at timestamptz default now() );
create table if not exists maintenance_plans ( id uuid default gen_random_uuid() primary key, code text, name text, equipment_id uuid references equipment(id), created_at timestamptz default now() );

--   (    )
create table if not exists parts ( 
  id uuid default gen_random_uuid() primary key, 
  code text, 
  name text not null, 
  category_id uuid references part_categories(id), 
  stock_unit_id uuid references measurement_units(id), 
  consumption_unit_id uuid references measurement_units(id), 
  created_at timestamptz default now() 
);

-- 6.    (  )
create table if not exists part_requests (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  requester_id uuid references app_users(id),
  requester_name text,
  work_order_id uuid references cartable_items(id), --    
  work_order_code text,
  request_date text,
  status text default 'PENDING',
  description text,
  created_at timestamptz default now()
);

create table if not exists part_request_items (
  id uuid default gen_random_uuid() primary key,
  request_id uuid references part_requests(id) on delete cascade,
  part_id uuid references parts(id),
  part_name text,
  qty numeric,
  unit text,
  note text,
  created_at timestamptz default now()
);

-- 7.   
create table if not exists technical_documents (
  id uuid default gen_random_uuid() primary key,
  code text not null,
  title text not null,
  type text,
  file_name text,
  created_at timestamptz default now()
);

-- 8.  
create table if not exists meeting_minutes (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  subject text not null,
  location text,
  meeting_date text,
  start_time text,
  end_time text,
  attendees jsonb default '[]'::jsonb,
  decisions jsonb default '[]'::jsonb,
  attached_files jsonb default '[]'::jsonb,
  creator_id uuid references app_users(id),
  status text default 'PENDING',
  created_at timestamptz default now()
);

-- 9.   
create table if not exists technical_suggestions (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  user_id uuid references app_users(id),
  user_name text,
  description text not null,
  attached_files jsonb default '[]'::jsonb,
  status text default 'PENDING',
  created_at timestamptz default now()
);

-- 10.    ()
create table if not exists purchase_requests (
  id uuid default gen_random_uuid() primary key,
  tracking_code text unique not null,
  request_number text not null,
  requester_id uuid references app_users(id),
  requester_name text,
  request_date text,
  description text not null,
  qty numeric default 1,
  unit text,
  location text,
  priority text,
  status text default 'PENDING',
  created_at timestamptz default now()
);

-- 11.    ()
create table if not exists personal_notes (
  id uuid default gen_random_uuid() primary key,
  user_id uuid references app_users(id),
  title text not null,
  content text,
  tags jsonb default '[]'::jsonb,
  reminder_date text,
  reminder_time text,
  is_completed boolean default false,
  attachments jsonb default '[]'::jsonb,
  created_at timestamptz default now()
);

--   
ALTER TABLE app_users ADD COLUMN IF NOT EXISTS password text;
ALTER TABLE app_users ADD COLUMN IF NOT EXISTS personnel_id uuid REFERENCES personnel(id);
ALTER TABLE org_chart ADD COLUMN IF NOT EXISTS parent_id uuid REFERENCES org_chart(id);
ALTER TABLE org_chart ADD COLUMN IF NOT EXISTS manager_id uuid REFERENCES personnel(id);
ALTER TABLE personnel ADD COLUMN IF NOT EXISTS org_unit_id uuid REFERENCES org_chart(id);
ALTER TABLE locations ADD COLUMN IF NOT EXISTS parent_id uuid REFERENCES locations(id);
ALTER TABLE equipment_classes ADD COLUMN IF NOT EXISTS code text;
ALTER TABLE equipment_groups ADD COLUMN IF NOT EXISTS code text;
ALTER TABLE evaluation_criteria ADD COLUMN IF NOT EXISTS org_unit_id uuid REFERENCES org_chart(id);

-- Constraints
ALTER TABLE equipment_classes DROP CONSTRAINT IF EXISTS equipment_classes_code_key;
ALTER TABLE equipment_classes ADD CONSTRAINT equipment_classes_code_key UNIQUE (code);
ALTER TABLE equipment_classes DROP CONSTRAINT IF EXISTS equipment_classes_name_key;
ALTER TABLE equipment_classes ADD CONSTRAINT equipment_classes_name_key UNIQUE (name);
ALTER TABLE equipment_groups DROP CONSTRAINT IF EXISTS equipment_groups_code_key;
ALTER TABLE equipment_groups ADD CONSTRAINT equipment_groups_code_key UNIQUE (code);
ALTER TABLE equipment ALTER COLUMN code SET NOT NULL;

-- RLS Policies (Simplified for development - allow all)
alter table personnel enable row level security; drop policy if exists "Allow all personnel" on personnel; create policy "Allow all personnel" on personnel for all using (true) with check (true);
alter table app_users enable row level security; drop policy if exists "Allow all users" on app_users; create policy "Allow all users" on app_users for all using (true) with check (true);
alter table shift_reports enable row level security; drop policy if exists "Allow all reports" on shift_reports; create policy "Allow all reports" on shift_reports for all using (true) with check (true);
alter table locations enable row level security; drop policy if exists "Allow all loc" on locations; create policy "Allow all loc" on locations for all using (true) with check (true);
alter table cartable_items enable row level security; drop policy if exists "Allow all cartable" on cartable_items; create policy "Allow all cartable" on cartable_items for all using (true) with check (true);
alter table messages enable row level security; drop policy if exists "Allow all messages" on messages; create policy "Allow all messages" on messages for all using (true) with check (true);
alter table projects enable row level security; drop policy if exists "Allow all projects" on projects; create policy "Allow all projects" on projects for all using (true) with check (true);
alter table project_objectives enable row level security; drop policy if exists "Allow all project_obj" on project_objectives; create policy "Allow all project_obj" on project_objectives for all using (true) with check (true);
alter table project_milestones enable row level security; drop policy if exists "Allow all project_mil" on project_milestones; create policy "Allow all project_mil" on project_milestones for all using (true) with check (true);
alter table project_attachments enable row level security; drop policy if exists "Allow all project_att" on project_attachments; create policy "Allow all project_att" on project_attachments for all using (true) with check (true);
alter table performance_evaluations enable row level security; drop policy if exists "Allow all evaluations" on performance_evaluations; create policy "Allow all evaluations" on performance_evaluations for all using (true) with check (true);
alter table parts enable row level security; drop policy if exists "Allow all parts" on parts; create policy "Allow all parts" on parts for all using (true) with check (true);
alter table part_categories enable row level security; drop policy if exists "Allow all part_cats" on part_categories; create policy "Allow all part_cats" on part_categories for all using (true) with check (true);
alter table part_requests enable row level security; drop policy if exists "Allow all part_req" on part_requests; create policy "Allow all part_req" on part_requests for all using (true) with check (true);
alter table part_request_items enable row level security; drop policy if exists "Allow all part_req_items" on part_request_items; create policy "Allow all part_req_items" on part_request_items for all using (true) with check (true);
alter table technical_documents enable row level security; drop policy if exists "Allow all docs" on technical_documents; create policy "Allow all docs" on technical_documents for all using (true) with check (true);
alter table meeting_minutes enable row level security; drop policy if exists "Allow all meetings" on meeting_minutes; create policy "Allow all meetings" on meeting_minutes for all using (true) with check (true);
alter table technical_suggestions enable row level security; drop policy if exists "Allow all suggestions" on technical_suggestions; create policy "Allow all suggestions" on technical_suggestions for all using (true) with check (true);
alter table purchase_requests enable row level security; drop policy if exists "Allow all purchase requests" on purchase_requests; create policy "Allow all purchase requests" on purchase_requests for all using (true) with check (true);
alter table personal_notes enable row level security; drop policy if exists "Allow user notes" on personal_notes; create policy "Allow user notes" on personal_notes for all using (true) with check (true);
alter table system_logs enable row level security; drop policy if exists "Allow logs" on system_logs; create policy "Allow logs" on system_logs for all using (true) with check (true);

--        
create or replace function get_next_tracking_code(prefix_input text)
returns text
language plpgsql
as $$
declare
  last_code text;
  next_num integer;
  new_code text;
begin
  select tracking_code into last_code
  from cartable_items
  where tracking_code like prefix_input || '%'
  order by tracking_code desc
  limit 1;

  if last_code is null then
    next_num := 1;
  else
    begin
        next_num := to_number(right(last_code, 4), '9999') + 1;
    exception when others then
        next_num := 1;
    end;
  end if;

  new_code := prefix_input || lpad(next_num::text, 4, '0');
  
  return new_code;
end;
$$;
`,B3=({onLogin:t})=>{const[e,r]=T.useState(""),[n,i]=T.useState(""),[a,o]=T.useState(""),[l,c]=T.useState(!1),[u,d]=T.useState(!1),[f,h]=T.useState(!1),[g,b]=T.useState(null),[y,v]=T.useState(""),[x,_]=T.useState(""),[w,k]=T.useState(""),[S,N]=T.useState(!1),[E,C]=T.useState("checking"),[A,I]=T.useState(""),[$,U]=T.useState(!1),[O,R]=T.useState(!1);T.useEffect(()=>{P()},[]);const P=async()=>{C("checking");try{const{data:te,error:Q}=await $e.from("app_users").select("count",{count:"exact",head:!0});if(Q)throw Q;C("connected"),I("    ")}catch(te){console.error("Supabase Connection Error:",te),C("error");let Q="   ";typeof te=="string"?Q=te:(te==null?void 0:te.code)==="42P01"?Q="   ":te!=null&&te.message&&(Q=te.message),I(Q)}},D=()=>{navigator.clipboard.writeText(Y_),R(!0),setTimeout(()=>R(!1),2e3)},q={id:"1",username:"admin",fullName:" ",role:_r.ADMIN,passwordHash:"12381",isDefaultPassword:!1},B=async te=>{var Q,ge,M;if(te.preventDefault(),o(""),c(!0),e.toLowerCase()==="admin"&&n==="12381"){if(q.isDefaultPassword){h(!0),b(q),c(!1);return}t(q),c(!1);return}try{const{data:Z,error:ue}=await $e.from("app_users").select(`
                *,
                personnel (
                    full_name,
                    personnel_code,
                    profile_picture,
                    unit
                )
            `).eq("username",e).single();if(ue||!Z)throw ue&&ue.code!=="PGRST116"&&console.error("Auth DB Error:",ue),new Error("      ");if(Z.password!==n)throw new Error("      ");const ve={id:Z.id,username:Z.username,fullName:((Q=Z.personnel)==null?void 0:Q.full_name)||Z.username,role:Z.role,passwordHash:"***",isDefaultPassword:Z.is_default_password,personnelCode:(ge=Z.personnel)==null?void 0:ge.personnel_code,avatar:Z.avatar||((M=Z.personnel)==null?void 0:M.profile_picture)};if(ve.isDefaultPassword){h(!0),b(ve),c(!1);return}t(ve)}catch(Z){console.warn("Login Failed:",Z.message),o("      ")}finally{c(!1)}},W=async te=>{if(te.preventDefault(),x!==w){o("    ");return}if(y!==n){o("    ");return}if(x===n){o("       () ");return}if(c(!0),o(""),(g==null?void 0:g.username)==="admin")N(!0),setTimeout(()=>{h(!1),N(!1),v(""),_(""),k(""),i("")},2e3),c(!1);else if(g)try{const{error:Q}=await $e.from("app_users").update({password:x,is_default_password:!1}).eq("id",g.id);if(Q)throw Q;N(!0),setTimeout(()=>{h(!1),N(!1),v(""),_(""),k(""),i("")},2e3)}catch(Q){o("    : "+Q.message)}finally{c(!1)}},J=x&&w&&x===w;return s.jsxs("div",{className:"min-h-[100dvh] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 relative overflow-hidden font-sans",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl"}),s.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl"})]}),s.jsxs("div",{className:"w-full max-w-sm z-10 flex flex-col gap-6",children:[s.jsxs("div",{className:"text-center flex flex-col items-center animate-fadeIn",children:[s.jsx("h1",{className:"text-lg md:text-xl font-black text-[#800020] dark:text-red-400 leading-tight mb-2 px-4 whitespace-nowrap",children:"     "}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-bold tracking-wide",children:"    "})]}),s.jsx("div",{className:"flex justify-center mb-6 relative z-20 animate-fadeIn delay-100",children:s.jsx("div",{className:"w-36 h-36 flex items-center justify-center transform hover:scale-105 transition duration-700",children:s.jsx(Bj,{className:"w-full h-full drop-shadow-2xl"})})}),s.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-8 animate-slideUp border border-white/50 dark:border-gray-700/50 pt-10 relative",children:[s.jsxs("div",{className:"absolute top-4 right-4",children:[E==="checking"&&s.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse",title:"   "}),E==="connected"&&s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full",title:"  "}),E==="error"&&s.jsx("button",{onClick:()=>U(!0),className:"text-red-500 hover:text-red-700 transition",title:"   -  ",children:s.jsx(mL,{className:"w-5 h-5"})})]}),f?s.jsx("form",{onSubmit:W,className:"space-y-5",children:S?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10 space-y-4 animate-fadeIn",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-2",children:s.jsx(Xs,{className:"w-10 h-10 text-green-600"})}),s.jsx("h3",{className:"text-xl font-bold text-green-700",children:"   "}),s.jsx("p",{className:"text-sm text-gray-500",children:"     ..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 text-[#800020] rounded-full flex items-center justify-center mb-3",children:s.jsx(PL,{className:"w-7 h-7"})}),s.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"   "}),s.jsx("p",{className:"text-xs text-gray-500 mt-1 px-4 leading-relaxed",children:"          ."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"  "}),s.jsxs("div",{className:"relative",children:[s.jsx(ud,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:" ...",value:y,onChange:te=>v(te.target.value),className:"w-full pr-10 pl-4 h-12 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none text-sm transition-all",required:!0})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"  "}),s.jsxs("div",{className:"relative",children:[s.jsx(ud,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"password",placeholder:" ...",value:x,onChange:te=>_(te.target.value),className:"w-full pr-10 pl-4 h-12 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none text-sm transition-all",required:!0})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"   "}),s.jsxs("div",{className:"relative",children:[s.jsx(ud,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"password",placeholder:"  ...",value:w,onChange:te=>k(te.target.value),className:`w-full pr-10 pl-4 h-12 bg-gray-50 dark:bg-gray-900/50 border rounded-xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none text-sm transition-all ${w&&!J?"border-red-500":"border-gray-200 dark:border-gray-600"}`,required:!0}),w&&s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:J?s.jsx(ys,{className:"w-4 h-4 text-green-500"}):s.jsx(yt,{className:"w-4 h-4 text-red-500"})})]}),w&&!J&&s.jsx("p",{className:"text-[10px] text-red-500 mr-1 animate-pulse",children:"    "})]})]}),a&&s.jsxs("div",{className:"text-red-500 text-xs text-center bg-red-50 dark:bg-red-900/10 p-2 rounded-lg border border-red-100 flex items-center justify-center gap-1",children:[s.jsx(sj,{className:"w-3 h-3"})," ",a]}),s.jsx("button",{type:"submit",disabled:l||!J||!x,className:"w-full bg-[#b91c1c] hover:bg-[#991b1b] text-white h-12 rounded-xl font-bold text-sm transition-all transform active:scale-95 shadow-lg shadow-red-900/20 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):"  "})]})}):s.jsxs("form",{onSubmit:B,className:"space-y-5",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"   "}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"         "})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),s.jsxs("div",{className:"relative group",children:[s.jsx(vs,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),s.jsx("input",{type:"text",placeholder:"     ",value:e,onChange:te=>r(te.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100",required:!0,autoComplete:"username"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),s.jsxs("div",{className:"relative group",children:[s.jsx(ud,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),s.jsx("input",{type:u?"text":"password",placeholder:"",value:n,onChange:te=>i(te.target.value),className:"w-full pr-12 pl-12 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100 tracking-wider",style:{fontFamily:u?"inherit":"Verdana, sans-serif"},required:!0,autoComplete:"current-password"}),s.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:u?s.jsx(cL,{className:"w-5 h-5"}):s.jsx(Tx,{className:"w-5 h-5"})})]})]})]}),a&&s.jsxs("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/10 p-3 rounded-xl border border-red-100 dark:border-red-900/20 flex items-center justify-center gap-2 animate-shake",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),a]}),s.jsx("button",{type:"submit",disabled:l,className:"w-full bg-[#b91c1c] hover:bg-[#991b1b] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-[0.98] shadow-xl shadow-red-900/20 flex items-center justify-center gap-2 mt-2 disabled:opacity-70 disabled:cursor-wait",children:l?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"  "}),s.jsx(xL,{className:"w-5 h-5"})]})})]})]}),s.jsxs("div",{className:"text-center space-y-2 pb-6",children:[s.jsx("div",{className:"flex items-center justify-center gap-2 text-[10px] text-gray-400 dark:text-gray-500 font-light opacity-80",children:s.jsxs("span",{children:[" ",BL]})}),s.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-[10px] font-medium tracking-widest uppercase opacity-80",children:"DESIGNED & DEVELOPED BY H.PARSA"})]}),$&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[s.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[s.jsxs("h3",{className:"font-bold flex items-center gap-2 text-gray-700 dark:text-gray-200",children:[s.jsx(sL,{className:"w-5 h-5 text-blue-600"}),"  "]}),s.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition",children:s.jsx(yt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/10 border-b border-yellow-100 dark:border-yellow-900/30 text-sm text-yellow-800 dark:text-yellow-200",children:["        ",s.jsx("b",{children:"Supabase"}),"  ",s.jsx("b",{children:"SQL Editor"}),"        ."]}),s.jsxs("div",{className:"flex-1 overflow-auto p-4 bg-gray-900 text-gray-300 font-mono text-xs relative",children:[s.jsx("pre",{children:Y_}),s.jsxs("button",{onClick:D,className:"absolute top-4 left-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 shadow-lg transition",children:[O?s.jsx(ys,{className:"w-4 h-4"}):s.jsx(oL,{className:"w-4 h-4"}),O?" ":" "]})]})]})})]})]})};function qj(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=qj(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Le(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=qj(t))&&(n&&(n+=" "),n+=e);return n}var q3=Array.isArray,Tr=q3,V3=typeof zu=="object"&&zu&&zu.Object===Object&&zu,Vj=V3,G3=Vj,H3=typeof self=="object"&&self&&self.Object===Object&&self,z3=G3||H3||Function("return this")(),Jn=z3,W3=Jn,K3=W3.Symbol,Mu=K3,X_=Mu,Gj=Object.prototype,J3=Gj.hasOwnProperty,Y3=Gj.toString,kl=X_?X_.toStringTag:void 0;function X3(t){var e=J3.call(t,kl),r=t[kl];try{t[kl]=void 0;var n=!0}catch{}var i=Y3.call(t);return n&&(e?t[kl]=r:delete t[kl]),i}var Q3=X3,Z3=Object.prototype,eU=Z3.toString;function tU(t){return eU.call(t)}var rU=tU,Q_=Mu,nU=Q3,iU=rU,aU="[object Null]",oU="[object Undefined]",Z_=Q_?Q_.toStringTag:void 0;function sU(t){return t==null?t===void 0?oU:aU:Z_&&Z_ in Object(t)?nU(t):iU(t)}var ki=sU;function lU(t){return t!=null&&typeof t=="object"}var Ei=lU,cU=ki,uU=Ei,dU="[object Symbol]";function fU(t){return typeof t=="symbol"||uU(t)&&cU(t)==dU}var Qs=fU,hU=Tr,pU=Qs,mU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gU=/^\w*$/;function yU(t,e){if(hU(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||pU(t)?!0:gU.test(t)||!mU.test(t)||e!=null&&t in Object(e)}var Rx=yU;function vU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ca=vU;const Zs=Xe(ca);var xU=ki,bU=ca,wU="[object AsyncFunction]",_U="[object Function]",SU="[object GeneratorFunction]",NU="[object Proxy]";function kU(t){if(!bU(t))return!1;var e=xU(t);return e==_U||e==SU||e==wU||e==NU}var Mx=kU;const Re=Xe(Mx);var EU=Jn,TU=EU["__core-js_shared__"],AU=TU,tg=AU,e1=function(){var t=/[^.]+$/.exec(tg&&tg.keys&&tg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function CU(t){return!!e1&&e1 in t}var jU=CU,PU=Function.prototype,IU=PU.toString;function OU(t){if(t!=null){try{return IU.call(t)}catch{}try{return t+""}catch{}}return""}var Hj=OU,RU=Mx,MU=jU,$U=ca,DU=Hj,LU=/[\\^$.*+?()[\]{}|]/g,UU=/^\[object .+?Constructor\]$/,FU=Function.prototype,BU=Object.prototype,qU=FU.toString,VU=BU.hasOwnProperty,GU=RegExp("^"+qU.call(VU).replace(LU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HU(t){if(!$U(t)||MU(t))return!1;var e=RU(t)?GU:UU;return e.test(DU(t))}var zU=HU;function WU(t,e){return t==null?void 0:t[e]}var KU=WU,JU=zU,YU=KU;function XU(t,e){var r=YU(t,e);return JU(r)?r:void 0}var so=XU,QU=so,ZU=QU(Object,"create"),mp=ZU,t1=mp;function eF(){this.__data__=t1?t1(null):{},this.size=0}var tF=eF;function rF(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var nF=rF,iF=mp,aF="__lodash_hash_undefined__",oF=Object.prototype,sF=oF.hasOwnProperty;function lF(t){var e=this.__data__;if(iF){var r=e[t];return r===aF?void 0:r}return sF.call(e,t)?e[t]:void 0}var cF=lF,uF=mp,dF=Object.prototype,fF=dF.hasOwnProperty;function hF(t){var e=this.__data__;return uF?e[t]!==void 0:fF.call(e,t)}var pF=hF,mF=mp,gF="__lodash_hash_undefined__";function yF(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=mF&&e===void 0?gF:e,this}var vF=yF,xF=tF,bF=nF,wF=cF,_F=pF,SF=vF;function el(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}el.prototype.clear=xF;el.prototype.delete=bF;el.prototype.get=wF;el.prototype.has=_F;el.prototype.set=SF;var NF=el;function kF(){this.__data__=[],this.size=0}var EF=kF;function TF(t,e){return t===e||t!==t&&e!==e}var $x=TF,AF=$x;function CF(t,e){for(var r=t.length;r--;)if(AF(t[r][0],e))return r;return-1}var gp=CF,jF=gp,PF=Array.prototype,IF=PF.splice;function OF(t){var e=this.__data__,r=jF(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():IF.call(e,r,1),--this.size,!0}var RF=OF,MF=gp;function $F(t){var e=this.__data__,r=MF(e,t);return r<0?void 0:e[r][1]}var DF=$F,LF=gp;function UF(t){return LF(this.__data__,t)>-1}var FF=UF,BF=gp;function qF(t,e){var r=this.__data__,n=BF(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var VF=qF,GF=EF,HF=RF,zF=DF,WF=FF,KF=VF;function tl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}tl.prototype.clear=GF;tl.prototype.delete=HF;tl.prototype.get=zF;tl.prototype.has=WF;tl.prototype.set=KF;var yp=tl,JF=so,YF=Jn,XF=JF(YF,"Map"),Dx=XF,r1=NF,QF=yp,ZF=Dx;function eB(){this.size=0,this.__data__={hash:new r1,map:new(ZF||QF),string:new r1}}var tB=eB;function rB(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var nB=rB,iB=nB;function aB(t,e){var r=t.__data__;return iB(e)?r[typeof e=="string"?"string":"hash"]:r.map}var vp=aB,oB=vp;function sB(t){var e=oB(this,t).delete(t);return this.size-=e?1:0,e}var lB=sB,cB=vp;function uB(t){return cB(this,t).get(t)}var dB=uB,fB=vp;function hB(t){return fB(this,t).has(t)}var pB=hB,mB=vp;function gB(t,e){var r=mB(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var yB=gB,vB=tB,xB=lB,bB=dB,wB=pB,_B=yB;function rl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rl.prototype.clear=vB;rl.prototype.delete=xB;rl.prototype.get=bB;rl.prototype.has=wB;rl.prototype.set=_B;var Lx=rl,zj=Lx,SB="Expected a function";function Ux(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(SB);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Ux.Cache||zj),r}Ux.Cache=zj;var Wj=Ux;const NB=Xe(Wj);var kB=Wj,EB=500;function TB(t){var e=kB(t,function(n){return r.size===EB&&r.clear(),n}),r=e.cache;return e}var AB=TB,CB=AB,jB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PB=/\\(\\)?/g,IB=CB(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jB,function(r,n,i,a){e.push(i?a.replace(PB,"$1"):n||r)}),e}),OB=IB;function RB(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Fx=RB,n1=Mu,MB=Fx,$B=Tr,DB=Qs,i1=n1?n1.prototype:void 0,a1=i1?i1.toString:void 0;function Kj(t){if(typeof t=="string")return t;if($B(t))return MB(t,Kj)+"";if(DB(t))return a1?a1.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var LB=Kj,UB=LB;function FB(t){return t==null?"":UB(t)}var Jj=FB,BB=Tr,qB=Rx,VB=OB,GB=Jj;function HB(t,e){return BB(t)?t:qB(t,e)?[t]:VB(GB(t))}var Yj=HB,zB=Qs;function WB(t){if(typeof t=="string"||zB(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var xp=WB,KB=Yj,JB=xp;function YB(t,e){e=KB(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[JB(e[r++])];return r&&r==n?t:void 0}var Bx=YB,XB=Bx;function QB(t,e,r){var n=t==null?void 0:XB(t,e);return n===void 0?r:n}var Xj=QB;const Ur=Xe(Xj);function ZB(t){return t==null}var e6=ZB;const De=Xe(e6);var t6=ki,r6=Tr,n6=Ei,i6="[object String]";function a6(t){return typeof t=="string"||!r6(t)&&n6(t)&&t6(t)==i6}var o6=a6;const Ya=Xe(o6);var Qj={exports:{}},Qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=Symbol.for("react.element"),Vx=Symbol.for("react.portal"),bp=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),_p=Symbol.for("react.profiler"),Sp=Symbol.for("react.provider"),Np=Symbol.for("react.context"),s6=Symbol.for("react.server_context"),kp=Symbol.for("react.forward_ref"),Ep=Symbol.for("react.suspense"),Tp=Symbol.for("react.suspense_list"),Ap=Symbol.for("react.memo"),Cp=Symbol.for("react.lazy"),l6=Symbol.for("react.offscreen"),Zj;Zj=Symbol.for("react.module.reference");function un(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qx:switch(t=t.type,t){case bp:case _p:case wp:case Ep:case Tp:return t;default:switch(t=t&&t.$$typeof,t){case s6:case Np:case kp:case Cp:case Ap:case Sp:return t;default:return e}}case Vx:return e}}}Qe.ContextConsumer=Np;Qe.ContextProvider=Sp;Qe.Element=qx;Qe.ForwardRef=kp;Qe.Fragment=bp;Qe.Lazy=Cp;Qe.Memo=Ap;Qe.Portal=Vx;Qe.Profiler=_p;Qe.StrictMode=wp;Qe.Suspense=Ep;Qe.SuspenseList=Tp;Qe.isAsyncMode=function(){return!1};Qe.isConcurrentMode=function(){return!1};Qe.isContextConsumer=function(t){return un(t)===Np};Qe.isContextProvider=function(t){return un(t)===Sp};Qe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qx};Qe.isForwardRef=function(t){return un(t)===kp};Qe.isFragment=function(t){return un(t)===bp};Qe.isLazy=function(t){return un(t)===Cp};Qe.isMemo=function(t){return un(t)===Ap};Qe.isPortal=function(t){return un(t)===Vx};Qe.isProfiler=function(t){return un(t)===_p};Qe.isStrictMode=function(t){return un(t)===wp};Qe.isSuspense=function(t){return un(t)===Ep};Qe.isSuspenseList=function(t){return un(t)===Tp};Qe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bp||t===_p||t===wp||t===Ep||t===Tp||t===l6||typeof t=="object"&&t!==null&&(t.$$typeof===Cp||t.$$typeof===Ap||t.$$typeof===Sp||t.$$typeof===Np||t.$$typeof===kp||t.$$typeof===Zj||t.getModuleId!==void 0)};Qe.typeOf=un;Qj.exports=Qe;var c6=Qj.exports,u6=ki,d6=Ei,f6="[object Number]";function h6(t){return typeof t=="number"||d6(t)&&u6(t)==f6}var e2=h6;const p6=Xe(e2);var m6=e2;function g6(t){return m6(t)&&t!=+t}var y6=g6;const $u=Xe(y6);var hr=function(e){return e===0?0:e>0?1:-1},Oa=function(e){return Ya(e)&&e.indexOf("%")===e.length-1},de=function(e){return p6(e)&&!$u(e)},v6=function(e){return De(e)},Ft=function(e){return de(e)||Ya(e)},x6=0,nl=function(e){var r=++x6;return"".concat(e||"").concat(r)},pr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&!Ya(e))return n;var a;if(Oa(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return $u(a)&&(a=n),i&&a>r&&(a=r),a},Bi=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},b6=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Or=function(e,r){return de(e)&&de(r)?function(n){return e+n*(r-e)}:function(){return r}};function Of(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ur(n,e))===r})}var w6=function(e,r){return de(e)&&de(r)?e-r:Ya(e)&&Ya(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function is(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}var _6=["viewBox","children"],S6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],o1=["points","pathLength"],rg={svg:_6,polygon:o1,polyline:o1},Gx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rf=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),!Zs(n))return null;var i={};return Object.keys(n).forEach(function(a){Gx.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},N6=function(e,r,n){return function(i){return e(r,n,i),null}},Xa=function(e,r,n){if(!Zs(e)||qy(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];Gx.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=N6(o,r,n))}),i},k6=["children"],E6=["children"];function s1(t,e){if(t==null)return{};var r=T6(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T6(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}var l1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ui=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},c1=null,ng=null,Hx=function t(e){if(e===c1&&Array.isArray(ng))return ng;var r=[];return T.Children.forEach(e,function(n){De(n)||(c6.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),ng=r,c1=e,r};function Fr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ui(i)}):n=[ui(e)],Hx(t).forEach(function(i){var a=Ur(i,"type.displayName")||Ur(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ir(t,e){var r=Fr(t,e);return r&&r[0]}var u1=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!de(n)||n<=0||!de(i)||i<=0)},A6=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],C6=function(e){return e&&e.type&&Ya(e.type)&&A6.indexOf(e.type)>=0},j6=function(e){return e&&Vy(e)==="object"&&"clipDot"in e},P6=function(e,r,n,i){var a,o=(a=rg==null?void 0:rg[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Re(e)&&(i&&o.includes(r)||S6.includes(r))||n&&Gx.includes(r)},Ae=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(T.isValidElement(e)&&(i=e.props),!Zs(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;P6((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},Gy=function t(e,r){if(e===r)return!0;var n=T.Children.count(e);if(n!==T.Children.count(r))return!1;if(n===0)return!0;if(n===1)return d1(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!d1(a,o))return!1}return!0},d1=function(e,r){if(De(e)&&De(r))return!0;if(!De(e)&&!De(r)){var n=e.props||{},i=n.children,a=s1(n,k6),o=r.props||{},l=o.children,c=s1(o,E6);return i&&l?is(a,c)&&Gy(i,l):!i&&!l?is(a,c):!1}return!1},f1=function(e,r){var n=[],i={};return Hx(e).forEach(function(a,o){if(C6(a))n.push(a);else if(a){var l=ui(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);n.push(f),i[l]=!0}}}),n},I6=function(e){var r=e&&e.type;return r&&l1[r]?l1[r]:null},O6=function(e,r){return Hx(r).indexOf(e)},R6=["children","width","height","viewBox","className","style","title","desc"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hy.apply(this,arguments)}function M6(t,e){if(t==null)return{};var r=$6(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $6(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zy(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=M6(t,R6),d=i||{width:r,height:n,x:0,y:0},f=Le("recharts-surface",a);return L.createElement("svg",Hy({},Ae(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),e)}var D6=["children","className"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wy.apply(this,arguments)}function L6(t,e){if(t==null)return{};var r=U6(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function U6(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ze=L.forwardRef(function(t,e){var r=t.children,n=t.className,i=L6(t,D6),a=Le("recharts-layer",n);return L.createElement("g",Wy({className:a},Ae(i,!0),{ref:e}),r)}),En=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function F6(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var B6=F6,q6=B6;function V6(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:q6(t,e,r)}var G6=V6,H6="\\ud800-\\udfff",z6="\\u0300-\\u036f",W6="\\ufe20-\\ufe2f",K6="\\u20d0-\\u20ff",J6=z6+W6+K6,Y6="\\ufe0e\\ufe0f",X6="\\u200d",Q6=RegExp("["+X6+H6+J6+Y6+"]");function Z6(t){return Q6.test(t)}var t2=Z6;function e8(t){return t.split("")}var t8=e8,r2="\\ud800-\\udfff",r8="\\u0300-\\u036f",n8="\\ufe20-\\ufe2f",i8="\\u20d0-\\u20ff",a8=r8+n8+i8,o8="\\ufe0e\\ufe0f",s8="["+r2+"]",Ky="["+a8+"]",Jy="\\ud83c[\\udffb-\\udfff]",l8="(?:"+Ky+"|"+Jy+")",n2="[^"+r2+"]",i2="(?:\\ud83c[\\udde6-\\uddff]){2}",a2="[\\ud800-\\udbff][\\udc00-\\udfff]",c8="\\u200d",o2=l8+"?",s2="["+o8+"]?",u8="(?:"+c8+"(?:"+[n2,i2,a2].join("|")+")"+s2+o2+")*",d8=s2+o2+u8,f8="(?:"+[n2+Ky+"?",Ky,i2,a2,s8].join("|")+")",h8=RegExp(Jy+"(?="+Jy+")|"+f8+d8,"g");function p8(t){return t.match(h8)||[]}var m8=p8,g8=t8,y8=t2,v8=m8;function x8(t){return y8(t)?v8(t):g8(t)}var b8=x8,w8=G6,_8=t2,S8=b8,N8=Jj;function k8(t){return function(e){e=N8(e);var r=_8(e)?S8(e):void 0,n=r?r[0]:e.charAt(0),i=r?w8(r,1).join(""):e.slice(1);return n[t]()+i}}var E8=k8,T8=E8,A8=T8("toUpperCase"),C8=A8;const jp=Xe(C8);function it(t){return function(){return t}}const l2=Math.cos,Mf=Math.sin,Pn=Math.sqrt,$f=Math.PI,Pp=2*$f,Yy=Math.PI,Xy=2*Yy,_a=1e-6,j8=Xy-_a;function c2(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function P8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return c2;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class I8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?c2:P8(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,u=i-r,d=o-e,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>_a)if(!(Math.abs(f*c-u*d)>_a)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-o,b=i-l,y=c*c+u*u,v=g*g+b*b,x=Math.sqrt(y),_=Math.sqrt(h),w=a*Math.tan((Yy-Math.acos((y+h-v)/(2*x*_)))/2),k=w/_,S=w/x;Math.abs(k-1)>_a&&this._append`L${e+k*d},${r+k*f}`,this._append`A${a},${a},0,0,${+(f*g>d*b)},${this._x1=e+S*c},${this._y1=r+S*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,d=r+c,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>_a||Math.abs(this._y1-d)>_a)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Xy+Xy),h>j8?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>_a&&this._append`A${n},${n},0,${+(h>=Yy)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function zx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new I8(e)}function Wx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function u2(t){this._context=t}u2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ip(t){return new u2(t)}function d2(t){return t[0]}function f2(t){return t[1]}function h2(t,e){var r=it(!0),n=null,i=Ip,a=null,o=zx(l);t=typeof t=="function"?t:t===void 0?d2:it(t),e=typeof e=="function"?e:e===void 0?f2:it(e);function l(c){var u,d=(c=Wx(c)).length,f,h=!1,g;for(n==null&&(a=i(g=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,c),+e(f,u,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:it(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:it(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:it(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function md(t,e,r){var n=null,i=it(!0),a=null,o=Ip,l=null,c=zx(u);t=typeof t=="function"?t:t===void 0?d2:it(+t),e=typeof e=="function"?e:it(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?f2:it(+r);function u(f){var h,g,b,y=(f=Wx(f)).length,v,x=!1,_,w=new Array(y),k=new Array(y);for(a==null&&(l=o(_=c())),h=0;h<=y;++h){if(!(h<y&&i(v=f[h],h,f))===x)if(x=!x)g=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=h-1;b>=g;--b)l.point(w[b],k[b]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+t(v,h,f),k[h]=+e(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):k[h]))}if(_)return l=null,_+""||null}function d(){return h2().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:it(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:it(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:it(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:it(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:it(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class p2{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function O8(t){return new p2(t,!0)}function R8(t){return new p2(t,!1)}const Kx={draw(t,e){const r=Pn(e/$f);t.moveTo(r,0),t.arc(0,0,r,0,Pp)}},M8={draw(t,e){const r=Pn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},m2=Pn(1/3),$8=m2*2,D8={draw(t,e){const r=Pn(e/$8),n=r*m2;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},L8={draw(t,e){const r=Pn(e),n=-r/2;t.rect(n,n,r,r)}},U8=.8908130915292852,g2=Mf($f/10)/Mf(7*$f/10),F8=Mf(Pp/10)*g2,B8=-l2(Pp/10)*g2,q8={draw(t,e){const r=Pn(e*U8),n=F8*r,i=B8*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Pp*a/5,l=l2(o),c=Mf(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},ig=Pn(3),V8={draw(t,e){const r=-Pn(e/(ig*3));t.moveTo(0,r*2),t.lineTo(-ig*r,-r),t.lineTo(ig*r,-r),t.closePath()}},zr=-.5,Wr=Pn(3)/2,Qy=1/Pn(12),G8=(Qy/2+1)*3,H8={draw(t,e){const r=Pn(e/G8),n=r/2,i=r*Qy,a=n,o=r*Qy+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(zr*n-Wr*i,Wr*n+zr*i),t.lineTo(zr*a-Wr*o,Wr*a+zr*o),t.lineTo(zr*l-Wr*c,Wr*l+zr*c),t.lineTo(zr*n+Wr*i,zr*i-Wr*n),t.lineTo(zr*a+Wr*o,zr*o-Wr*a),t.lineTo(zr*l+Wr*c,zr*c-Wr*l),t.closePath()}};function z8(t,e){let r=null,n=zx(i);t=typeof t=="function"?t:it(t||Kx),e=typeof e=="function"?e:it(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:it(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:it(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Df(){}function Lf(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function y2(t){this._context=t}y2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function W8(t){return new y2(t)}function v2(t){this._context=t}v2.prototype={areaStart:Df,areaEnd:Df,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Lf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function K8(t){return new v2(t)}function x2(t){this._context=t}x2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Lf(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function J8(t){return new x2(t)}function b2(t){this._context=t}b2.prototype={areaStart:Df,areaEnd:Df,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Y8(t){return new b2(t)}function h1(t){return t<0?-1:1}function p1(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(h1(a)+h1(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function m1(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ag(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function Uf(t){this._context=t}Uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ag(this,this._t0,m1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ag(this,m1(this,r=p1(this,t,e)),r);break;default:ag(this,this._t0,r=p1(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function w2(t){this._context=new _2(t)}(w2.prototype=Object.create(Uf.prototype)).point=function(t,e){Uf.prototype.point.call(this,e,t)};function _2(t){this._context=t}_2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function X8(t){return new Uf(t)}function Q8(t){return new w2(t)}function S2(t){this._context=t}S2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=g1(t),i=g1(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function g1(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Z8(t){return new S2(t)}function Op(t,e){this._context=t,this._t=e}Op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function eq(t){return new Op(t,.5)}function tq(t){return new Op(t,0)}function rq(t){return new Op(t,1)}function ws(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Zy(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function nq(t,e){return t[e]}function iq(t){const e=[];return e.key=t,e}function aq(){var t=it([]),e=Zy,r=ws,n=nq;function i(a){var o=Array.from(t.apply(this,arguments),iq),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,a)]).data=f;for(l=0,d=Wx(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:it(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:it(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Zy:typeof a=="function"?a:it(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??ws,i):r},i}function oq(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}ws(t,e)}}function sq(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ws(t,e)}}function lq(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[n][1]||0,h=d[n-1][1]||0,g=(f-h)/2,b=0;b<l;++b){var y=t[e[b]],v=y[n][1]||0,x=y[n-1][1]||0;g+=v-x}c+=f,u+=g*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,ws(t,e)}}function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}var cq=["type","size","sizeType"];function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e0.apply(this,arguments)}function y1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(r),!0).forEach(function(n){uq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uq(t,e,r){return e=dq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dq(t){var e=fq(t,"string");return Bc(e)=="symbol"?e:e+""}function fq(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hq(t,e){if(t==null)return{};var r=pq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var N2={symbolCircle:Kx,symbolCross:M8,symbolDiamond:D8,symbolSquare:L8,symbolStar:q8,symbolTriangle:V8,symbolWye:H8},mq=Math.PI/180,gq=function(e){var r="symbol".concat(jp(e));return N2[r]||Kx},yq=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*mq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vq=function(e,r){N2["symbol".concat(jp(e))]=r},Jx=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=hq(e,cq),u=v1(v1({},c),{},{type:n,size:a,sizeType:l}),d=function(){var v=gq(n),x=z8().type(v).size(yq(a,l,n));return x()},f=u.className,h=u.cx,g=u.cy,b=Ae(u,!0);return h===+h&&g===+g&&a===+a?L.createElement("path",e0({},b,{className:Le("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};Jx.registerSymbol=vq;function _s(t){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(t)}function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t0.apply(this,arguments)}function x1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x1(Object(r),!0).forEach(function(n){qc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E2(n.key),n)}}function _q(t,e,r){return e&&wq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sq(t,e,r){return e=Ff(e),Nq(t,k2()?Reflect.construct(e,r||[],Ff(t).constructor):e.apply(t,r))}function Nq(t,e){if(e&&(_s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kq(t)}function kq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k2=function(){return!!t})()}function Ff(t){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(t)}function Eq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r0(t,e)}function r0(t,e){return r0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r0(t,e)}function qc(t,e,r){return e=E2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E2(t){var e=Tq(t,"string");return _s(e)=="symbol"?e:e+""}function Tq(t,e){if(_s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kr=32,Yx=function(t){function e(){return bq(this,e),Sq(this,e,arguments)}return Eq(e,t),_q(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Kr/2,o=Kr/6,l=Kr/3,c=n.inactive?i:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Kr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Kr,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Kr/8,"h").concat(Kr,"v").concat(Kr*3/4,"h").concat(-Kr,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=xq({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(Jx,{fill:c,cx:a,cy:a,size:Kr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Kr,height:Kr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,b){var y=g.formatter||c,v=Le(qc(qc({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=Re(g.value)?null:g.value;En(!Re(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=g.inactive?u:g.color;return L.createElement("li",t0({className:v,style:f,key:"legend-item-".concat(b)},Xa(n.props,g,b)),L.createElement(zy,{width:o,height:o,viewBox:d,style:h},n.renderIcon(g)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},y?y(x,g,b):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(T.PureComponent);qc(Yx,"displayName","Legend");qc(Yx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Aq=yp;function Cq(){this.__data__=new Aq,this.size=0}var jq=Cq;function Pq(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Iq=Pq;function Oq(t){return this.__data__.get(t)}var Rq=Oq;function Mq(t){return this.__data__.has(t)}var $q=Mq,Dq=yp,Lq=Dx,Uq=Lx,Fq=200;function Bq(t,e){var r=this.__data__;if(r instanceof Dq){var n=r.__data__;if(!Lq||n.length<Fq-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Uq(n)}return r.set(t,e),this.size=r.size,this}var qq=Bq,Vq=yp,Gq=jq,Hq=Iq,zq=Rq,Wq=$q,Kq=qq;function il(t){var e=this.__data__=new Vq(t);this.size=e.size}il.prototype.clear=Gq;il.prototype.delete=Hq;il.prototype.get=zq;il.prototype.has=Wq;il.prototype.set=Kq;var T2=il,Jq="__lodash_hash_undefined__";function Yq(t){return this.__data__.set(t,Jq),this}var Xq=Yq;function Qq(t){return this.__data__.has(t)}var Zq=Qq,e7=Lx,t7=Xq,r7=Zq;function Bf(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new e7;++e<r;)this.add(t[e])}Bf.prototype.add=Bf.prototype.push=t7;Bf.prototype.has=r7;var A2=Bf;function n7(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var C2=n7;function i7(t,e){return t.has(e)}var j2=i7,a7=A2,o7=C2,s7=j2,l7=1,c7=2;function u7(t,e,r,n,i,a){var o=r&l7,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,g=r&c7?new a7:void 0;for(a.set(t,e),a.set(e,t);++f<l;){var b=t[f],y=e[f];if(n)var v=o?n(y,b,f,e,t,a):n(b,y,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(g){if(!o7(e,function(x,_){if(!s7(g,_)&&(b===x||i(b,x,r,n,a)))return g.push(_)})){h=!1;break}}else if(!(b===y||i(b,y,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var P2=u7,d7=Jn,f7=d7.Uint8Array,h7=f7;function p7(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var m7=p7;function g7(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Xx=g7,b1=Mu,w1=h7,y7=$x,v7=P2,x7=m7,b7=Xx,w7=1,_7=2,S7="[object Boolean]",N7="[object Date]",k7="[object Error]",E7="[object Map]",T7="[object Number]",A7="[object RegExp]",C7="[object Set]",j7="[object String]",P7="[object Symbol]",I7="[object ArrayBuffer]",O7="[object DataView]",_1=b1?b1.prototype:void 0,og=_1?_1.valueOf:void 0;function R7(t,e,r,n,i,a,o){switch(r){case O7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I7:return!(t.byteLength!=e.byteLength||!a(new w1(t),new w1(e)));case S7:case N7:case T7:return y7(+t,+e);case k7:return t.name==e.name&&t.message==e.message;case A7:case j7:return t==e+"";case E7:var l=x7;case C7:var c=n&w7;if(l||(l=b7),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=_7,o.set(t,e);var d=v7(l(t),l(e),n,i,a,o);return o.delete(t),d;case P7:if(og)return og.call(t)==og.call(e)}return!1}var M7=R7;function $7(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var I2=$7,D7=I2,L7=Tr;function U7(t,e,r){var n=e(t);return L7(t)?n:D7(n,r(t))}var F7=U7;function B7(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var q7=B7;function V7(){return[]}var G7=V7,H7=q7,z7=G7,W7=Object.prototype,K7=W7.propertyIsEnumerable,S1=Object.getOwnPropertySymbols,J7=S1?function(t){return t==null?[]:(t=Object(t),H7(S1(t),function(e){return K7.call(t,e)}))}:z7,Y7=J7;function X7(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Q7=X7,Z7=ki,eV=Ei,tV="[object Arguments]";function rV(t){return eV(t)&&Z7(t)==tV}var nV=rV,N1=nV,iV=Ei,O2=Object.prototype,aV=O2.hasOwnProperty,oV=O2.propertyIsEnumerable,sV=N1(function(){return arguments}())?N1:function(t){return iV(t)&&aV.call(t,"callee")&&!oV.call(t,"callee")},Qx=sV,qf={exports:{}};function lV(){return!1}var cV=lV;qf.exports;(function(t,e){var r=Jn,n=cV,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(qf,qf.exports);var R2=qf.exports,uV=9007199254740991,dV=/^(?:0|[1-9]\d*)$/;function fV(t,e){var r=typeof t;return e=e??uV,!!e&&(r=="number"||r!="symbol"&&dV.test(t))&&t>-1&&t%1==0&&t<e}var Zx=fV,hV=9007199254740991;function pV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=hV}var eb=pV,mV=ki,gV=eb,yV=Ei,vV="[object Arguments]",xV="[object Array]",bV="[object Boolean]",wV="[object Date]",_V="[object Error]",SV="[object Function]",NV="[object Map]",kV="[object Number]",EV="[object Object]",TV="[object RegExp]",AV="[object Set]",CV="[object String]",jV="[object WeakMap]",PV="[object ArrayBuffer]",IV="[object DataView]",OV="[object Float32Array]",RV="[object Float64Array]",MV="[object Int8Array]",$V="[object Int16Array]",DV="[object Int32Array]",LV="[object Uint8Array]",UV="[object Uint8ClampedArray]",FV="[object Uint16Array]",BV="[object Uint32Array]",lt={};lt[OV]=lt[RV]=lt[MV]=lt[$V]=lt[DV]=lt[LV]=lt[UV]=lt[FV]=lt[BV]=!0;lt[vV]=lt[xV]=lt[PV]=lt[bV]=lt[IV]=lt[wV]=lt[_V]=lt[SV]=lt[NV]=lt[kV]=lt[EV]=lt[TV]=lt[AV]=lt[CV]=lt[jV]=!1;function qV(t){return yV(t)&&gV(t.length)&&!!lt[mV(t)]}var VV=qV;function GV(t){return function(e){return t(e)}}var M2=GV,Vf={exports:{}};Vf.exports;(function(t,e){var r=Vj,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Vf,Vf.exports);var HV=Vf.exports,zV=VV,WV=M2,k1=HV,E1=k1&&k1.isTypedArray,KV=E1?WV(E1):zV,$2=KV,JV=Q7,YV=Qx,XV=Tr,QV=R2,ZV=Zx,eG=$2,tG=Object.prototype,rG=tG.hasOwnProperty;function nG(t,e){var r=XV(t),n=!r&&YV(t),i=!r&&!n&&QV(t),a=!r&&!n&&!i&&eG(t),o=r||n||i||a,l=o?JV(t.length,String):[],c=l.length;for(var u in t)(e||rG.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ZV(u,c)))&&l.push(u);return l}var iG=nG,aG=Object.prototype;function oG(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||aG;return t===r}var sG=oG;function lG(t,e){return function(r){return t(e(r))}}var D2=lG,cG=D2,uG=cG(Object.keys,Object),dG=uG,fG=sG,hG=dG,pG=Object.prototype,mG=pG.hasOwnProperty;function gG(t){if(!fG(t))return hG(t);var e=[];for(var r in Object(t))mG.call(t,r)&&r!="constructor"&&e.push(r);return e}var yG=gG,vG=Mx,xG=eb;function bG(t){return t!=null&&xG(t.length)&&!vG(t)}var Du=bG,wG=iG,_G=yG,SG=Du;function NG(t){return SG(t)?wG(t):_G(t)}var Rp=NG,kG=F7,EG=Y7,TG=Rp;function AG(t){return kG(t,TG,EG)}var CG=AG,T1=CG,jG=1,PG=Object.prototype,IG=PG.hasOwnProperty;function OG(t,e,r,n,i,a){var o=r&jG,l=T1(t),c=l.length,u=T1(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in e:IG.call(e,h)))return!1}var g=a.get(t),b=a.get(e);if(g&&b)return g==e&&b==t;var y=!0;a.set(t,e),a.set(e,t);for(var v=o;++f<c;){h=l[f];var x=t[h],_=e[h];if(n)var w=o?n(_,x,h,e,t,a):n(x,_,h,t,e,a);if(!(w===void 0?x===_||i(x,_,r,n,a):w)){y=!1;break}v||(v=h=="constructor")}if(y&&!v){var k=t.constructor,S=e.constructor;k!=S&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof S=="function"&&S instanceof S)&&(y=!1)}return a.delete(t),a.delete(e),y}var RG=OG,MG=so,$G=Jn,DG=MG($G,"DataView"),LG=DG,UG=so,FG=Jn,BG=UG(FG,"Promise"),qG=BG,VG=so,GG=Jn,HG=VG(GG,"Set"),L2=HG,zG=so,WG=Jn,KG=zG(WG,"WeakMap"),JG=KG,n0=LG,i0=Dx,a0=qG,o0=L2,s0=JG,U2=ki,al=Hj,A1="[object Map]",YG="[object Object]",C1="[object Promise]",j1="[object Set]",P1="[object WeakMap]",I1="[object DataView]",XG=al(n0),QG=al(i0),ZG=al(a0),eH=al(o0),tH=al(s0),Sa=U2;(n0&&Sa(new n0(new ArrayBuffer(1)))!=I1||i0&&Sa(new i0)!=A1||a0&&Sa(a0.resolve())!=C1||o0&&Sa(new o0)!=j1||s0&&Sa(new s0)!=P1)&&(Sa=function(t){var e=U2(t),r=e==YG?t.constructor:void 0,n=r?al(r):"";if(n)switch(n){case XG:return I1;case QG:return A1;case ZG:return C1;case eH:return j1;case tH:return P1}return e});var rH=Sa,sg=T2,nH=P2,iH=M7,aH=RG,O1=rH,R1=Tr,M1=R2,oH=$2,sH=1,$1="[object Arguments]",D1="[object Array]",gd="[object Object]",lH=Object.prototype,L1=lH.hasOwnProperty;function cH(t,e,r,n,i,a){var o=R1(t),l=R1(e),c=o?D1:O1(t),u=l?D1:O1(e);c=c==$1?gd:c,u=u==$1?gd:u;var d=c==gd,f=u==gd,h=c==u;if(h&&M1(t)){if(!M1(e))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new sg),o||oH(t)?nH(t,e,r,n,i,a):iH(t,e,c,r,n,i,a);if(!(r&sH)){var g=d&&L1.call(t,"__wrapped__"),b=f&&L1.call(e,"__wrapped__");if(g||b){var y=g?t.value():t,v=b?e.value():e;return a||(a=new sg),i(y,v,r,n,a)}}return h?(a||(a=new sg),aH(t,e,r,n,i,a)):!1}var uH=cH,dH=uH,U1=Ei;function F2(t,e,r,n,i){return t===e?!0:t==null||e==null||!U1(t)&&!U1(e)?t!==t&&e!==e:dH(t,e,r,n,F2,i)}var tb=F2,fH=T2,hH=tb,pH=1,mH=2;function gH(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var l=r[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<a;){l=r[i];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new fH;if(n)var h=n(u,d,c,t,e,f);if(!(h===void 0?hH(d,u,pH|mH,n,f):h))return!1}}return!0}var yH=gH,vH=ca;function xH(t){return t===t&&!vH(t)}var B2=xH,bH=B2,wH=Rp;function _H(t){for(var e=wH(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,bH(i)]}return e}var SH=_H;function NH(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var q2=NH,kH=yH,EH=SH,TH=q2;function AH(t){var e=EH(t);return e.length==1&&e[0][2]?TH(e[0][0],e[0][1]):function(r){return r===t||kH(r,t,e)}}var CH=AH;function jH(t,e){return t!=null&&e in Object(t)}var PH=jH,IH=Yj,OH=Qx,RH=Tr,MH=Zx,$H=eb,DH=xp;function LH(t,e,r){e=IH(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=DH(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&$H(i)&&MH(o,i)&&(RH(t)||OH(t)))}var UH=LH,FH=PH,BH=UH;function qH(t,e){return t!=null&&BH(t,e,FH)}var VH=qH,GH=tb,HH=Xj,zH=VH,WH=Rx,KH=B2,JH=q2,YH=xp,XH=1,QH=2;function ZH(t,e){return WH(t)&&KH(e)?JH(YH(t),e):function(r){var n=HH(r,t);return n===void 0&&n===e?zH(r,t):GH(e,n,XH|QH)}}var ez=ZH;function tz(t){return t}var ol=tz;function rz(t){return function(e){return e==null?void 0:e[t]}}var nz=rz,iz=Bx;function az(t){return function(e){return iz(e,t)}}var oz=az,sz=nz,lz=oz,cz=Rx,uz=xp;function dz(t){return cz(t)?sz(uz(t)):lz(t)}var fz=dz,hz=CH,pz=ez,mz=ol,gz=Tr,yz=fz;function vz(t){return typeof t=="function"?t:t==null?mz:typeof t=="object"?gz(t)?pz(t[0],t[1]):hz(t):yz(t)}var Yn=vz;function xz(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var V2=xz;function bz(t){return t!==t}var wz=bz;function _z(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Sz=_z,Nz=V2,kz=wz,Ez=Sz;function Tz(t,e,r){return e===e?Ez(t,e,r):Nz(t,kz,r)}var Az=Tz,Cz=Az;function jz(t,e){var r=t==null?0:t.length;return!!r&&Cz(t,e,0)>-1}var Pz=jz;function Iz(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Oz=Iz;function Rz(){}var Mz=Rz,lg=L2,$z=Mz,Dz=Xx,Lz=1/0,Uz=lg&&1/Dz(new lg([,-0]))[1]==Lz?function(t){return new lg(t)}:$z,Fz=Uz,Bz=A2,qz=Pz,Vz=Oz,Gz=j2,Hz=Fz,zz=Xx,Wz=200;function Kz(t,e,r){var n=-1,i=qz,a=t.length,o=!0,l=[],c=l;if(r)o=!1,i=Vz;else if(a>=Wz){var u=e?null:Hz(t);if(u)return zz(u);o=!1,i=Gz,c=new Bz}else c=e?[]:l;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else i(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Jz=Kz,Yz=Yn,Xz=Jz;function Qz(t,e){return t&&t.length?Xz(t,Yz(e)):[]}var Zz=Qz;const F1=Xe(Zz);function G2(t,e,r){return e===!0?F1(t,r):Re(e)?F1(t,e):t}function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}var eW=["ref"];function B1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(r),!0).forEach(function(n){Mp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z2(n.key),n)}}function rW(t,e,r){return e&&q1(t.prototype,e),r&&q1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nW(t,e,r){return e=Gf(e),iW(t,H2()?Reflect.construct(e,r||[],Gf(t).constructor):e.apply(t,r))}function iW(t,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aW(t)}function aW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H2=function(){return!!t})()}function Gf(t){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(t)}function oW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l0(t,e)}function l0(t,e){return l0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l0(t,e)}function Mp(t,e,r){return e=z2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z2(t){var e=sW(t,"string");return Ss(e)=="symbol"?e:e+""}function sW(t,e){if(Ss(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lW(t,e){if(t==null)return{};var r=cW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uW(t){return t.value}function dW(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var r=lW(e,eW);return L.createElement(Yx,r)}var V1=1,as=function(t){function e(){var r;tW(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=nW(this,e,[].concat(i)),Mp(r,"lastBoundingBox",{width:-1,height:-1}),r}return oW(e,t),rW(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>V1||Math.abs(i.height-this.lastBoundingBox.height)>V1)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();h={top:((d||0)-b.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Qn(Qn({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Qn(Qn({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){n.wrapperNode=g}},dW(a,Qn(Qn({},this.props),{},{payload:G2(d,u,uW)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Qn(Qn({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&de(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(T.PureComponent);Mp(as,"displayName","Legend");Mp(as,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var G1=Mu,fW=Qx,hW=Tr,H1=G1?G1.isConcatSpreadable:void 0;function pW(t){return hW(t)||fW(t)||!!(H1&&t&&t[H1])}var mW=pW,gW=I2,yW=mW;function W2(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=yW),i||(i=[]);++a<o;){var l=t[a];e>0&&r(l)?e>1?W2(l,e-1,r,n,i):gW(i,l):n||(i[i.length]=l)}return i}var K2=W2;function vW(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++i];if(r(a[c],c,a)===!1)break}return e}}var xW=vW,bW=xW,wW=bW(),_W=wW,SW=_W,NW=Rp;function kW(t,e){return t&&SW(t,e,NW)}var J2=kW,EW=Du;function TW(t,e){return function(r,n){if(r==null)return r;if(!EW(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var AW=TW,CW=J2,jW=AW,PW=jW(CW),rb=PW,IW=rb,OW=Du;function RW(t,e){var r=-1,n=OW(t)?Array(t.length):[];return IW(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var Y2=RW;function MW(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var $W=MW,z1=Qs;function DW(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=z1(t),o=e!==void 0,l=e===null,c=e===e,u=z1(e);if(!l&&!u&&!a&&t>e||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||l&&r&&i||!o&&i||!c)return-1}return 0}var LW=DW,UW=LW;function FW(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,l=r.length;++n<o;){var c=UW(i[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var BW=FW,cg=Fx,qW=Bx,VW=Yn,GW=Y2,HW=$W,zW=M2,WW=BW,KW=ol,JW=Tr;function YW(t,e,r){e.length?e=cg(e,function(a){return JW(a)?function(o){return qW(o,a.length===1?a[0]:a)}:a}):e=[KW];var n=-1;e=cg(e,zW(VW));var i=GW(t,function(a,o,l){var c=cg(e,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return HW(i,function(a,o){return WW(a,o,r)})}var XW=YW;function QW(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var ZW=QW,e9=ZW,W1=Math.max;function t9(t,e,r){return e=W1(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=W1(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=n[i];return l[e]=r(o),e9(t,this,l)}}var r9=t9;function n9(t){return function(){return t}}var i9=n9,a9=so,o9=function(){try{var t=a9(Object,"defineProperty");return t({},"",{}),t}catch{}}(),X2=o9,s9=i9,K1=X2,l9=ol,c9=K1?function(t,e){return K1(t,"toString",{configurable:!0,enumerable:!1,value:s9(e),writable:!0})}:l9,u9=c9,d9=800,f9=16,h9=Date.now;function p9(t){var e=0,r=0;return function(){var n=h9(),i=f9-(n-r);if(r=n,i>0){if(++e>=d9)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var m9=p9,g9=u9,y9=m9,v9=y9(g9),x9=v9,b9=ol,w9=r9,_9=x9;function S9(t,e){return _9(w9(t,e,b9),t+"")}var N9=S9,k9=$x,E9=Du,T9=Zx,A9=ca;function C9(t,e,r){if(!A9(r))return!1;var n=typeof e;return(n=="number"?E9(r)&&T9(e,r.length):n=="string"&&e in r)?k9(r[e],t):!1}var $p=C9,j9=K2,P9=XW,I9=N9,J1=$p,O9=I9(function(t,e){if(t==null)return[];var r=e.length;return r>1&&J1(t,e[0],e[1])?e=[]:r>2&&J1(e[0],e[1],e[2])&&(e=[e[0]]),P9(t,j9(e,1),[])}),R9=O9;const nb=Xe(R9);function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c0.apply(this,arguments)}function M9(t,e){return U9(t)||L9(t,e)||D9(t,e)||$9()}function $9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D9(t,e){if(t){if(typeof t=="string")return Y1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y1(t,e)}}function Y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function U9(t){if(Array.isArray(t))return t}function X1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ug(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(r),!0).forEach(function(n){F9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F9(t,e,r){return e=B9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B9(t){var e=q9(t,"string");return Vc(e)=="symbol"?e:e+""}function q9(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V9(t){return Array.isArray(t)&&Ft(t[0])&&Ft(t[1])?t.join(" ~ "):t}var G9=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,b=e.labelClassName,y=e.label,v=e.labelFormatter,x=e.accessibilityLayer,_=x===void 0?!1:x,w=function(){if(d&&d.length){var U={padding:0,margin:0},O=(h?nb(d,h):d).map(function(R,P){if(R.type==="none")return null;var D=ug({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),q=R.formatter||f||V9,B=R.value,W=R.name,J=B,te=W;if(q&&J!=null&&te!=null){var Q=q(B,W,R,P,d);if(Array.isArray(Q)){var ge=M9(Q,2);J=ge[0],te=ge[1]}else J=Q}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:D},Ft(te)?L.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Ft(te)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},J),L.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:U},O)}return null},k=ug({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=ug({margin:0},u),N=!De(y),E=N?y:"",C=Le("recharts-default-tooltip",g),A=Le("recharts-tooltip-label",b);N&&v&&d!==void 0&&d!==null&&(E=v(y,d));var I=_?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",c0({className:C,style:k},I),L.createElement("p",{className:A,style:S},L.isValidElement(E)?E:"".concat(E)),w())};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function yd(t,e,r){return e=H9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H9(t){var e=z9(t,"string");return Gc(e)=="symbol"?e:e+""}function z9(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var El="recharts-tooltip-wrapper",W9={visibility:"hidden"};function K9(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Le(El,yd(yd(yd(yd({},"".concat(El,"-right"),de(r)&&e&&de(e.x)&&r>=e.x),"".concat(El,"-left"),de(r)&&e&&de(e.x)&&r<e.x),"".concat(El,"-bottom"),de(n)&&e&&de(e.y)&&n>=e.y),"".concat(El,"-top"),de(n)&&e&&de(e.y)&&n<e.y))}function Q1(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&de(a[n]))return a[n];var d=r[n]-l-i,f=r[n]+i;if(e[n])return o[n]?d:f;if(o[n]){var h=d,g=c[n];return h<g?Math.max(f,c[n]):Math.max(d,c[n])}var b=f+l,y=c[n]+u;return b>y?Math.max(d,c[n]):Math.max(f,c[n])}function J9(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Y9(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Q1({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Q1({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=J9({translateX:d,translateY:f,useTranslate3d:l})):u=W9,{cssProperties:u,cssClasses:K9({translateX:d,translateY:f,coordinate:r})}}function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function Z1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(r),!0).forEach(function(n){d0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z2(n.key),n)}}function Z9(t,e,r){return e&&Q9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eK(t,e,r){return e=Hf(e),tK(t,Q2()?Reflect.construct(e,r||[],Hf(t).constructor):e.apply(t,r))}function tK(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rK(t)}function rK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q2=function(){return!!t})()}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(t)}function nK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u0(t,e)}function u0(t,e){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u0(t,e)}function d0(t,e,r){return e=Z2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z2(t){var e=iK(t,"string");return Ns(e)=="symbol"?e:e+""}function iK(t,e){if(Ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tS=1,aK=function(t){function e(){var r;X9(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=eK(this,e,[].concat(i)),d0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),d0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return nK(e,t),Z9(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>tS||Math.abs(n.height-this.state.lastBoundingBox.height)>tS)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,b=i.position,y=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,w=Y9({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:b,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),k=w.cssClasses,S=w.cssProperties,N=eS(eS({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return L.createElement("div",{tabIndex:-1,className:k,style:N,ref:function(C){n.wrapperNode=C}},u)}}])}(T.PureComponent),oK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},lo={isSsr:oK()};function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function rS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(r),!0).forEach(function(n){ib(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tP(n.key),n)}}function cK(t,e,r){return e&&lK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uK(t,e,r){return e=zf(e),dK(t,eP()?Reflect.construct(e,r||[],zf(t).constructor):e.apply(t,r))}function dK(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fK(t)}function fK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eP=function(){return!!t})()}function zf(t){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(t)}function hK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f0(t,e)}function f0(t,e){return f0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f0(t,e)}function ib(t,e,r){return e=tP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tP(t){var e=pK(t,"string");return ks(e)=="symbol"?e:e+""}function pK(t,e){if(ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mK(t){return t.dataKey}function gK(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(G9,e)}var Yr=function(t){function e(){return sK(this,e),uK(this,e,arguments)}return hK(e,t),cK(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,b=i.payload,y=i.payloadUniqBy,v=i.position,x=i.reverseDirection,_=i.useTranslate3d,w=i.viewBox,k=i.wrapperStyle,S=b??[];f&&S.length&&(S=G2(b.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),y,mK));var N=S.length>0;return L.createElement(aK,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:N,offset:g,position:v,reverseDirection:x,useTranslate3d:_,viewBox:w,wrapperStyle:k},gK(u,nS(nS({},this.props),{},{payload:S})))}}])}(T.PureComponent);ib(Yr,"displayName","Tooltip");ib(Yr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!lo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yK=Jn,vK=function(){return yK.Date.now()},xK=vK,bK=/\s/;function wK(t){for(var e=t.length;e--&&bK.test(t.charAt(e)););return e}var _K=wK,SK=_K,NK=/^\s+/;function kK(t){return t&&t.slice(0,SK(t)+1).replace(NK,"")}var EK=kK,TK=EK,iS=ca,AK=Qs,aS=NaN,CK=/^[-+]0x[0-9a-f]+$/i,jK=/^0b[01]+$/i,PK=/^0o[0-7]+$/i,IK=parseInt;function OK(t){if(typeof t=="number")return t;if(AK(t))return aS;if(iS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=iS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=TK(t);var r=jK.test(t);return r||PK.test(t)?IK(t.slice(2),r?2:8):CK.test(t)?aS:+t}var rP=OK,RK=ca,dg=xK,oS=rP,MK="Expected a function",$K=Math.max,DK=Math.min;function LK(t,e,r){var n,i,a,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(MK);e=oS(e)||0,RK(r)&&(d=!!r.leading,f="maxWait"in r,a=f?$K(oS(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function g(N){var E=n,C=i;return n=i=void 0,u=N,o=t.apply(C,E),o}function b(N){return u=N,l=setTimeout(x,e),d?g(N):o}function y(N){var E=N-c,C=N-u,A=e-E;return f?DK(A,a-C):A}function v(N){var E=N-c,C=N-u;return c===void 0||E>=e||E<0||f&&C>=a}function x(){var N=dg();if(v(N))return _(N);l=setTimeout(x,y(N))}function _(N){return l=void 0,h&&n?g(N):(n=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function k(){return l===void 0?o:_(dg())}function S(){var N=dg(),E=v(N);if(n=arguments,i=this,c=N,E){if(l===void 0)return b(c);if(f)return clearTimeout(l),l=setTimeout(x,e),g(c)}return l===void 0&&(l=setTimeout(x,e)),o}return S.cancel=w,S.flush=k,S}var UK=LK,FK=UK,BK=ca,qK="Expected a function";function VK(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(qK);return BK(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),FK(t,e,{leading:n,maxWait:e,trailing:i})}var GK=VK;const nP=Xe(GK);function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function sS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sS(Object(r),!0).forEach(function(n){HK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HK(t,e,r){return e=zK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zK(t){var e=WK(t,"string");return Hc(e)=="symbol"?e:e+""}function WK(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KK(t,e){return QK(t)||XK(t,e)||YK(t,e)||JK()}function JK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YK(t,e){if(t){if(typeof t=="string")return lS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lS(t,e)}}function lS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function QK(t){if(Array.isArray(t))return t}var Ra=T.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,g=t.children,b=t.debounce,y=b===void 0?0:b,v=t.id,x=t.className,_=t.onResize,w=t.style,k=w===void 0?{}:w,S=T.useRef(null),N=T.useRef();N.current=_,T.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=T.useState({containerWidth:i.width,containerHeight:i.height}),C=KK(E,2),A=C[0],I=C[1],$=T.useCallback(function(O,R){I(function(P){var D=Math.round(O),q=Math.round(R);return P.containerWidth===D&&P.containerHeight===q?P:{containerWidth:D,containerHeight:q}})},[]);T.useEffect(function(){var O=function(W){var J,te=W[0].contentRect,Q=te.width,ge=te.height;$(Q,ge),(J=N.current)===null||J===void 0||J.call(N,Q,ge)};y>0&&(O=nP(O,y,{trailing:!0,leading:!1}));var R=new ResizeObserver(O),P=S.current.getBoundingClientRect(),D=P.width,q=P.height;return $(D,q),R.observe(S.current),function(){R.disconnect()}},[$,y]);var U=T.useMemo(function(){var O=A.containerWidth,R=A.containerHeight;if(O<0||R<0)return null;En(Oa(o)||Oa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),En(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=Oa(o)?O:o,D=Oa(c)?R:c;r&&r>0&&(P?D=P/r:D&&(P=D*r),h&&D>h&&(D=h)),En(P>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,D,o,c,d,f,r);var q=!Array.isArray(g)&&ui(g.type).endsWith("Chart");return L.Children.map(g,function(B){return L.isValidElement(B)?T.cloneElement(B,vd({width:P,height:D},q?{style:vd({height:"100%",width:"100%",maxHeight:D,maxWidth:P},B.props.style)}:{})):B})},[r,g,c,h,f,d,A,o]);return L.createElement("div",{id:v?"".concat(v):void 0,className:Le("recharts-responsive-container",x),style:vd(vd({},k),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},U)}),zc=function(e){return null};zc.displayName="Cell";function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function cS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(r),!0).forEach(function(n){ZK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZK(t,e,r){return e=eJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eJ(t){var e=tJ(t,"string");return Wc(e)=="symbol"?e:e+""}function tJ(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var So={widthCache:{},cacheCount:0},rJ=2e3,nJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uS="recharts_measurement_span";function iJ(t){var e=h0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var oc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||lo.isSsr)return{width:0,height:0};var n=iJ(r),i=JSON.stringify({text:e,copyStyle:n});if(So.widthCache[i])return So.widthCache[i];try{var a=document.getElementById(uS);a||(a=document.createElement("span"),a.setAttribute("id",uS),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=h0(h0({},nJ),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return So.widthCache[i]=c,++So.cacheCount>rJ&&(So.cacheCount=0,So.widthCache={}),c}catch{return{width:0,height:0}}},aJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function Wf(t,e){return cJ(t)||lJ(t,e)||sJ(t,e)||oJ()}function oJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sJ(t,e){if(t){if(typeof t=="string")return dS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dS(t,e)}}function dS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function cJ(t){if(Array.isArray(t))return t}function uJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fJ(n.key),n)}}function dJ(t,e,r){return e&&fS(t.prototype,e),r&&fS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fJ(t){var e=hJ(t,"string");return Kc(e)=="symbol"?e:e+""}function hJ(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gJ=Object.keys(iP),Go="NaN";function yJ(t,e){return t*iP[e]}var xd=function(){function t(e,r){uJ(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!pJ.test(r)&&(this.num=NaN,this.unit=""),gJ.includes(r)&&(this.num=yJ(e,r),this.unit="px")}return dJ(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=mJ.exec(r))!==null&&n!==void 0?n:[],a=Wf(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function aP(t){if(t.includes(Go))return Go;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=hS.exec(e))!==null&&r!==void 0?r:[],i=Wf(n,4),a=i[1],o=i[2],l=i[3],c=xd.parse(a??""),u=xd.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Go;e=e.replace(hS,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=pS.exec(e))!==null&&f!==void 0?f:[],g=Wf(h,4),b=g[1],y=g[2],v=g[3],x=xd.parse(b??""),_=xd.parse(v??""),w=y==="+"?x.add(_):x.subtract(_);if(w.isNaN())return Go;e=e.replace(pS,w.toString())}return e}var mS=/\(([^()]*)\)/;function vJ(t){for(var e=t;e.includes("(");){var r=mS.exec(e),n=Wf(r,2),i=n[1];e=e.replace(mS,aP(i))}return e}function xJ(t){var e=t.replace(/\s+/g,"");return e=vJ(e),e=aP(e),e}function bJ(t){try{return xJ(t)}catch{return Go}}function fg(t){var e=bJ(t.slice(5,-1));return e===Go?"":e}var wJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_J=["dx","dy","angle","className","breakAll"];function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p0.apply(this,arguments)}function gS(t,e){if(t==null)return{};var r=SJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yS(t,e){return TJ(t)||EJ(t,e)||kJ(t,e)||NJ()}function NJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(t,e){if(t){if(typeof t=="string")return vS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vS(t,e)}}function vS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function TJ(t){if(Array.isArray(t))return t}var oP=/[ \f\n\r\t\v\u2028\u2029]+/,sP=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];De(r)||(n?a=r.toString().split(""):a=r.toString().split(oP));var o=a.map(function(c){return{word:c,width:oc(c,i).width}}),l=n?0:oc("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},AJ=function(e,r,n,i,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=de(o),f=l,h=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce(function(D,q){var B=q.word,W=q.width,J=D[D.length-1];if(J&&(i==null||a||J.width+W+n<Number(i)))J.words.push(B),J.width+=W+n;else{var te={words:[B],width:W};D.push(te)}return D},[])},g=h(r),b=function(P){return P.reduce(function(D,q){return D.width>q.width?D:q})};if(!d)return g;for(var y="",v=function(P){var D=f.slice(0,P),q=sP({breakAll:u,style:c,children:D+y}).wordsWithComputedWidth,B=h(q),W=B.length>o||b(B).width>Number(i);return[W,B]},x=0,_=f.length-1,w=0,k;x<=_&&w<=f.length-1;){var S=Math.floor((x+_)/2),N=S-1,E=v(N),C=yS(E,2),A=C[0],I=C[1],$=v(S),U=yS($,1),O=U[0];if(!A&&!O&&(x=S+1),A&&O&&(_=S-1),!A&&O){k=I;break}w++}return k||g},xS=function(e){var r=De(e)?[]:e.toString().split(oP);return[{words:r}]},CJ=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!lo.isSsr){var c,u,d=sP({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return xS(i);return AJ({breakAll:o,children:i,maxLines:l,style:a},c,u,r,n)}return xS(i)},bS="#808080",Qa=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,g=h===void 0?"start":h,b=e.verticalAnchor,y=b===void 0?"end":b,v=e.fill,x=v===void 0?bS:v,_=gS(e,wJ),w=T.useMemo(function(){return CJ({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),k=_.dx,S=_.dy,N=_.angle,E=_.className,C=_.breakAll,A=gS(_,_J);if(!Ft(n)||!Ft(a))return null;var I=n+(de(k)?k:0),$=a+(de(S)?S:0),U;switch(y){case"start":U=fg("calc(".concat(u,")"));break;case"middle":U=fg("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:U=fg("calc(".concat(w.length-1," * -").concat(l,")"));break}var O=[];if(f){var R=w[0].width,P=_.width;O.push("scale(".concat((de(P)?P/R:1)/R,")"))}return N&&O.push("rotate(".concat(N,", ").concat(I,", ").concat($,")")),O.length&&(A.transform=O.join(" ")),L.createElement("text",p0({},Ae(A,!0),{x:I,y:$,className:Le("recharts-text",E),textAnchor:g,fill:x.includes("url")?bS:x}),w.map(function(D,q){var B=D.words.join(C?"":" ");return L.createElement("tspan",{x:I,dy:q===0?U:l,key:"".concat(B,"-").concat(q)},B)}))};function ta(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ab(t){let e,r,n;t.length!==2?(e=ta,r=(l,c)=>ta(t(l),c),n=(l,c)=>t(l)-c):(e=t===ta||t===jJ?t:PJ,r=t,n=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function PJ(){return 0}function lP(t){return t===null?NaN:+t}function*IJ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const OJ=ab(ta),Lu=OJ.right;ab(lP).center;class wS extends Map{constructor(e,r=$J){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(_S(this,e))}has(e){return super.has(_S(this,e))}set(e,r){return super.set(RJ(this,e),r)}delete(e){return super.delete(MJ(this,e))}}function _S({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function RJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function MJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function $J(t){return t!==null&&typeof t=="object"?t.valueOf():t}function DJ(t=ta){if(t===ta)return cP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function cP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const LJ=Math.sqrt(50),UJ=Math.sqrt(10),FJ=Math.sqrt(2);function Kf(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=LJ?10:a>=UJ?5:a>=FJ?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?Kf(t,e,r*2):[l,c,u]}function m0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Kf(e,t,r):Kf(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function g0(t,e,r){return e=+e,t=+t,r=+r,Kf(t,e,r)[2]}function y0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?g0(e,t,r):g0(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function SS(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function NS(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function uP(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?cP:DJ(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(e-u*f/c+h)),b=Math.min(n,Math.floor(e+(c-u)*f/c+h));uP(t,e,g,b,i)}const a=t[e];let o=r,l=n;for(Tl(t,r,e),i(t[n],a)>0&&Tl(t,r,n);o<l;){for(Tl(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?Tl(t,r,l):(++l,Tl(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Tl(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function BJ(t,e,r){if(t=Float64Array.from(IJ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return NS(t);if(e>=1)return SS(t);var n,i=(n-1)*e,a=Math.floor(i),o=SS(uP(t,a).subarray(0,a+1)),l=NS(t.subarray(a+1));return o+(l-o)*(i-a)}}function qJ(t,e,r=lP){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function VJ(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function dn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ti(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const v0=Symbol("implicit");function ob(){var t=new wS,e=[],r=[],n=v0;function i(a){let o=t.get(a);if(o===void 0){if(n!==v0)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new wS;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ob(e,r).unknown(n)},dn.apply(i,arguments),i}function Jc(){var t=ob().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,g=i<n,b=g?i:n,y=g?n:i;a=(y-b)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),b+=(y-b-a*(h-c))*d,o=a*(1-c),l&&(b=Math.round(b),o=Math.round(o));var v=VJ(h).map(function(x){return b+a*x});return r(g?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Jc(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},dn.apply(f(),arguments)}function dP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dP(e())},t}function sc(){return dP(Jc.apply(null,arguments).paddingInner(1))}function sb(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function fP(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Uu(){}var Yc=.7,Jf=1/Yc,os="\\s*([+-]?\\d+)\\s*",Xc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GJ=/^#([0-9a-f]{3,8})$/,HJ=new RegExp(`^rgb\\(${os},${os},${os}\\)$`),zJ=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),WJ=new RegExp(`^rgba\\(${os},${os},${os},${Xc}\\)$`),KJ=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${Xc}\\)$`),JJ=new RegExp(`^hsl\\(${Xc},${Vn},${Vn}\\)$`),YJ=new RegExp(`^hsla\\(${Xc},${Vn},${Vn},${Xc}\\)$`),kS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sb(Uu,Qc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ES,formatHex:ES,formatHex8:XJ,formatHsl:QJ,formatRgb:TS,toString:TS});function ES(){return this.rgb().formatHex()}function XJ(){return this.rgb().formatHex8()}function QJ(){return hP(this).formatHsl()}function TS(){return this.rgb().formatRgb()}function Qc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=GJ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?AS(e):r===3?new Sr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?bd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?bd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=HJ.exec(t))?new Sr(e[1],e[2],e[3],1):(e=zJ.exec(t))?new Sr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=WJ.exec(t))?bd(e[1],e[2],e[3],e[4]):(e=KJ.exec(t))?bd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=JJ.exec(t))?PS(e[1],e[2]/100,e[3]/100,1):(e=YJ.exec(t))?PS(e[1],e[2]/100,e[3]/100,e[4]):kS.hasOwnProperty(t)?AS(kS[t]):t==="transparent"?new Sr(NaN,NaN,NaN,0):null}function AS(t){return new Sr(t>>16&255,t>>8&255,t&255,1)}function bd(t,e,r,n){return n<=0&&(t=e=r=NaN),new Sr(t,e,r,n)}function ZJ(t){return t instanceof Uu||(t=Qc(t)),t?(t=t.rgb(),new Sr(t.r,t.g,t.b,t.opacity)):new Sr}function x0(t,e,r,n){return arguments.length===1?ZJ(t):new Sr(t,e,r,n??1)}function Sr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}sb(Sr,x0,fP(Uu,{brighter(t){return t=t==null?Jf:Math.pow(Jf,t),new Sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yc:Math.pow(Yc,t),new Sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sr(Ba(this.r),Ba(this.g),Ba(this.b),Yf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CS,formatHex:CS,formatHex8:eY,formatRgb:jS,toString:jS}));function CS(){return`#${Ma(this.r)}${Ma(this.g)}${Ma(this.b)}`}function eY(){return`#${Ma(this.r)}${Ma(this.g)}${Ma(this.b)}${Ma((isNaN(this.opacity)?1:this.opacity)*255)}`}function jS(){const t=Yf(this.opacity);return`${t===1?"rgb(":"rgba("}${Ba(this.r)}, ${Ba(this.g)}, ${Ba(this.b)}${t===1?")":`, ${t})`}`}function Yf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ba(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ma(t){return t=Ba(t),(t<16?"0":"")+t.toString(16)}function PS(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Sn(t,e,r,n)}function hP(t){if(t instanceof Sn)return new Sn(t.h,t.s,t.l,t.opacity);if(t instanceof Uu||(t=Qc(t)),!t)return new Sn;if(t instanceof Sn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Sn(o,l,c,t.opacity)}function tY(t,e,r,n){return arguments.length===1?hP(t):new Sn(t,e,r,n??1)}function Sn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}sb(Sn,tY,fP(Uu,{brighter(t){return t=t==null?Jf:Math.pow(Jf,t),new Sn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yc:Math.pow(Yc,t),new Sn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Sr(hg(t>=240?t-240:t+120,i,n),hg(t,i,n),hg(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Sn(IS(this.h),wd(this.s),wd(this.l),Yf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yf(this.opacity);return`${t===1?"hsl(":"hsla("}${IS(this.h)}, ${wd(this.s)*100}%, ${wd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function IS(t){return t=(t||0)%360,t<0?t+360:t}function wd(t){return Math.max(0,Math.min(1,t||0))}function hg(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const lb=t=>()=>t;function rY(t,e){return function(r){return t+r*e}}function nY(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function iY(t){return(t=+t)==1?pP:function(e,r){return r-e?nY(e,r,t):lb(isNaN(e)?r:e)}}function pP(t,e){var r=e-t;return r?rY(t,r):lb(isNaN(t)?e:t)}const OS=function t(e){var r=iY(e);function n(i,a){var o=r((i=x0(i)).r,(a=x0(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=pP(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function aY(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function oY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sY(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=sl(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function lY(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Xf(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function cY(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=sl(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var b0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pg=new RegExp(b0.source,"g");function uY(t){return function(){return t}}function dY(t){return function(e){return t(e)+""}}function fY(t,e){var r=b0.lastIndex=pg.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=b0.exec(t))&&(i=pg.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Xf(n,i)})),r=pg.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?dY(c[0].x):uY(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function sl(t,e){var r=typeof e,n;return e==null||r==="boolean"?lb(e):(r==="number"?Xf:r==="string"?(n=Qc(e))?(e=n,OS):fY:e instanceof Qc?OS:e instanceof Date?lY:oY(e)?aY:Array.isArray(e)?sY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cY:Xf)(t,e)}function cb(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function hY(t,e){e===void 0&&(e=t,t=sl);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function pY(t){return function(){return t}}function Qf(t){return+t}var RS=[0,1];function mr(t){return t}function w0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:pY(isNaN(e)?NaN:.5)}function mY(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function gY(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=w0(i,n),a=r(o,a)):(n=w0(n,i),a=r(a,o)),function(l){return a(n(l))}}function yY(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=w0(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=Lu(t,l,1,n)-1;return a[c](i[c](l))}}function Fu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Dp(){var t=RS,e=RS,r=sl,n,i,a,o=mr,l,c,u;function d(){var h=Math.min(t.length,e.length);return o!==mr&&(o=mY(t[0],t[h-1])),l=h>2?yY:gY,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=l(e,t.map(n),Xf)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Qf),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=cb,d()},f.clamp=function(h){return arguments.length?(o=h?!0:mr,d()):o!==mr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,g){return n=h,i=g,d()}}function ub(){return Dp()(mr,mr)}function vY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zf(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Es(t){return t=Zf(Math.abs(t)),t?t[1]:NaN}function xY(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function bY(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var wY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zc(t){if(!(e=wY.exec(t)))throw new Error("invalid format: "+t);var e;return new db({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zc.prototype=db.prototype;function db(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}db.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _Y(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var mP;function SY(t,e){var r=Zf(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(mP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Zf(t,Math.max(0,e+a-1))[0]}function MS(t,e){var r=Zf(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $S={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>MS(t*100,e),r:MS,s:SY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function DS(t){return t}var LS=Array.prototype.map,US=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function NY(t){var e=t.grouping===void 0||t.thousands===void 0?DS:xY(LS.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?DS:bY(LS.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Zc(f);var h=f.fill,g=f.align,b=f.sign,y=f.symbol,v=f.zero,x=f.width,_=f.comma,w=f.precision,k=f.trim,S=f.type;S==="n"?(_=!0,S="g"):$S[S]||(w===void 0&&(w=12),k=!0,S="g"),(v||h==="0"&&g==="=")&&(v=!0,h="0",g="=");var N=y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=y==="$"?n:/[%p]/.test(S)?o:"",C=$S[S],A=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I($){var U=N,O=E,R,P,D;if(S==="c")O=C($)+O,$="";else{$=+$;var q=$<0||1/$<0;if($=isNaN($)?c:C(Math.abs($),w),k&&($=_Y($)),q&&+$==0&&b!=="+"&&(q=!1),U=(q?b==="("?b:l:b==="-"||b==="("?"":b)+U,O=(S==="s"?US[8+mP/3]:"")+O+(q&&b==="("?")":""),A){for(R=-1,P=$.length;++R<P;)if(D=$.charCodeAt(R),48>D||D>57){O=(D===46?i+$.slice(R+1):$.slice(R))+O,$=$.slice(0,R);break}}}_&&!v&&($=e($,1/0));var B=U.length+$.length+O.length,W=B<x?new Array(x-B+1).join(h):"";switch(_&&v&&($=e(W+$,W.length?x-O.length:1/0),W=""),g){case"<":$=U+$+O+W;break;case"=":$=U+W+$+O;break;case"^":$=W.slice(0,B=W.length>>1)+U+$+O+W.slice(B);break;default:$=W+U+$+O;break}return a($)}return I.toString=function(){return f+""},I}function d(f,h){var g=u((f=Zc(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(Es(h)/3)))*3,y=Math.pow(10,-b),v=US[8+b/3];return function(x){return g(y*x)+v}}return{format:u,formatPrefix:d}}var _d,fb,gP;kY({thousands:",",grouping:[3],currency:["$",""]});function kY(t){return _d=NY(t),fb=_d.format,gP=_d.formatPrefix,_d}function EY(t){return Math.max(0,-Es(Math.abs(t)))}function TY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Es(e)/3)))*3-Es(Math.abs(t)))}function AY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Es(e)-Es(t))+1}function yP(t,e,r,n){var i=y0(t,e,r),a;switch(n=Zc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=TY(i,o))&&(n.precision=a),gP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=AY(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=EY(i))&&(n.precision=a-(n.type==="%")*2);break}}return fb(n)}function ua(t){var e=t.domain;return t.ticks=function(r){var n=e();return m0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return yP(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=g0(o,l,r),u===c)return n[i]=o,n[a]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function eh(){var t=ub();return t.copy=function(){return Fu(t,eh())},dn.apply(t,arguments),ua(t)}function vP(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Qf),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return vP(t).unknown(e)},t=arguments.length?Array.from(t,Qf):[0,1],ua(r)}function xP(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function FS(t){return Math.log(t)}function BS(t){return Math.exp(t)}function CY(t){return-Math.log(-t)}function jY(t){return-Math.exp(-t)}function PY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function IY(t){return t===10?PY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function OY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qS(t){return(e,r)=>-t(-e,r)}function hb(t){const e=t(FS,BS),r=e.domain;let n=10,i,a;function o(){return i=OY(n),a=IY(n),r()[0]<0?(i=qS(i),a=qS(a),t(CY,jY)):t(FS,BS),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),g=i(d),b,y;const v=l==null?10:+l;let x=[];if(!(n%1)&&g-h<v){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(b=1;b<n;++b)if(y=h<0?b/a(-h):b*a(h),!(y<u)){if(y>d)break;x.push(y)}}else for(;h<=g;++h)for(b=n-1;b>=1;--b)if(y=h>0?b/a(-h):b*a(h),!(y<u)){if(y>d)break;x.push(y)}x.length*2<v&&(x=m0(u,d,v))}else x=m0(h,g,Math.min(g-h,v)).map(a);return f?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Zc(c)).precision==null&&(c.trim=!0),c=fb(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(xP(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function bP(){const t=hb(Dp()).domain([1,10]);return t.copy=()=>Fu(t,bP()).base(t.base()),dn.apply(t,arguments),t}function VS(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function GS(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function pb(t){var e=1,r=t(VS(e),GS(e));return r.constant=function(n){return arguments.length?t(VS(e=+n),GS(e)):e},ua(r)}function wP(){var t=pb(Dp());return t.copy=function(){return Fu(t,wP()).constant(t.constant())},dn.apply(t,arguments)}function HS(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function RY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function MY(t){return t<0?-t*t:t*t}function mb(t){var e=t(mr,mr),r=1;function n(){return r===1?t(mr,mr):r===.5?t(RY,MY):t(HS(r),HS(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ua(e)}function gb(){var t=mb(Dp());return t.copy=function(){return Fu(t,gb()).exponent(t.exponent())},dn.apply(t,arguments),t}function $Y(){return gb.apply(null,arguments).exponent(.5)}function zS(t){return Math.sign(t)*t*t}function DY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _P(){var t=ub(),e=[0,1],r=!1,n;function i(a){var o=DY(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(zS(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Qf)).map(zS)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return _P(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},dn.apply(i,arguments),ua(i)}function SP(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=qJ(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Lu(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ta),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return SP().domain(t).range(e).unknown(n)},dn.apply(a,arguments)}function NP(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Lu(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return NP().domain([t,e]).range(i).unknown(a)},dn.apply(ua(o),arguments)}function kP(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Lu(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return kP().domain(t).range(e).unknown(r)},dn.apply(i,arguments)}const mg=new Date,gg=new Date;function Bt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},i.filter=a=>Bt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(mg.setTime(+a),gg.setTime(+o),t(mg),t(gg),Math.floor(r(mg,gg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const th=Bt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);th.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):th);th.range;const ai=1e3,rn=ai*60,oi=rn*60,yi=oi*24,yb=yi*7,WS=yi*30,yg=yi*365,$a=Bt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ai)},(t,e)=>(e-t)/ai,t=>t.getUTCSeconds());$a.range;const vb=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ai)},(t,e)=>{t.setTime(+t+e*rn)},(t,e)=>(e-t)/rn,t=>t.getMinutes());vb.range;const xb=Bt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*rn)},(t,e)=>(e-t)/rn,t=>t.getUTCMinutes());xb.range;const bb=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ai-t.getMinutes()*rn)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getHours());bb.range;const wb=Bt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*oi)},(t,e)=>(e-t)/oi,t=>t.getUTCHours());wb.range;const Bu=Bt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*rn)/yi,t=>t.getDate()-1);Bu.range;const Lp=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/yi,t=>t.getUTCDate()-1);Lp.range;const EP=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/yi,t=>Math.floor(t/yi));EP.range;function co(t){return Bt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*rn)/yb)}const Up=co(0),rh=co(1),LY=co(2),UY=co(3),Ts=co(4),FY=co(5),BY=co(6);Up.range;rh.range;LY.range;UY.range;Ts.range;FY.range;BY.range;function uo(t){return Bt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/yb)}const Fp=uo(0),nh=uo(1),qY=uo(2),VY=uo(3),As=uo(4),GY=uo(5),HY=uo(6);Fp.range;nh.range;qY.range;VY.range;As.range;GY.range;HY.range;const _b=Bt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_b.range;const Sb=Bt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Sb.range;const vi=Bt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());vi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});vi.range;const xi=Bt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});xi.range;function TP(t,e,r,n,i,a){const o=[[$a,1,ai],[$a,5,5*ai],[$a,15,15*ai],[$a,30,30*ai],[a,1,rn],[a,5,5*rn],[a,15,15*rn],[a,30,30*rn],[i,1,oi],[i,3,3*oi],[i,6,6*oi],[i,12,12*oi],[n,1,yi],[n,2,2*yi],[r,1,yb],[e,1,WS],[e,3,3*WS],[t,1,yg]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),b=g?g.range(u,+d+1):[];return h?b.reverse():b}function c(u,d,f){const h=Math.abs(d-u)/f,g=ab(([,,v])=>v).right(o,h);if(g===o.length)return t.every(y0(u/yg,d/yg,f));if(g===0)return th.every(Math.max(y0(u,d,f),1));const[b,y]=o[h/o[g-1][2]<o[g][2]/h?g-1:g];return b.every(y)}return[l,c]}const[zY,WY]=TP(xi,Sb,Fp,EP,wb,xb),[KY,JY]=TP(vi,_b,Up,Bu,bb,vb);function vg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Al(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function YY(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Cl(i),d=jl(i),f=Cl(a),h=jl(a),g=Cl(o),b=jl(o),y=Cl(l),v=jl(l),x=Cl(c),_=jl(c),w={a:q,A:B,b:W,B:J,c:null,d:ZS,e:ZS,f:xX,g:CX,G:PX,H:gX,I:yX,j:vX,L:AP,m:bX,M:wX,p:te,q:Q,Q:rN,s:nN,S:_X,u:SX,U:NX,V:kX,w:EX,W:TX,x:null,X:null,y:AX,Y:jX,Z:IX,"%":tN},k={a:ge,A:M,b:Z,B:ue,c:null,d:eN,e:eN,f:$X,g:zX,G:KX,H:OX,I:RX,j:MX,L:jP,m:DX,M:LX,p:ve,q:Oe,Q:rN,s:nN,S:UX,u:FX,U:BX,V:qX,w:VX,W:GX,x:null,X:null,y:HX,Y:WX,Z:JX,"%":tN},S={a:I,A:$,b:U,B:O,c:R,d:XS,e:XS,f:fX,g:YS,G:JS,H:QS,I:QS,j:lX,L:dX,m:sX,M:cX,p:A,q:oX,Q:pX,s:mX,S:uX,u:tX,U:rX,V:nX,w:eX,W:iX,x:P,X:D,y:YS,Y:JS,Z:aX,"%":hX};w.x=N(r,w),w.X=N(n,w),w.c=N(e,w),k.x=N(r,k),k.X=N(n,k),k.c=N(e,k);function N(se,Ne){return function(K){var X=[],Ee=-1,Se=0,ee=se.length,he,le,Ce;for(K instanceof Date||(K=new Date(+K));++Ee<ee;)se.charCodeAt(Ee)===37&&(X.push(se.slice(Se,Ee)),(le=KS[he=se.charAt(++Ee)])!=null?he=se.charAt(++Ee):le=he==="e"?" ":"0",(Ce=Ne[he])&&(he=Ce(K,le)),X.push(he),Se=Ee+1);return X.push(se.slice(Se,Ee)),X.join("")}}function E(se,Ne){return function(K){var X=Al(1900,void 0,1),Ee=C(X,se,K+="",0),Se,ee;if(Ee!=K.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(Ne&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Se=xg(Al(X.y,0,1)),ee=Se.getUTCDay(),Se=ee>4||ee===0?nh.ceil(Se):nh(Se),Se=Lp.offset(Se,(X.V-1)*7),X.y=Se.getUTCFullYear(),X.m=Se.getUTCMonth(),X.d=Se.getUTCDate()+(X.w+6)%7):(Se=vg(Al(X.y,0,1)),ee=Se.getDay(),Se=ee>4||ee===0?rh.ceil(Se):rh(Se),Se=Bu.offset(Se,(X.V-1)*7),X.y=Se.getFullYear(),X.m=Se.getMonth(),X.d=Se.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),ee="Z"in X?xg(Al(X.y,0,1)).getUTCDay():vg(Al(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(ee+5)%7:X.w+X.U*7-(ee+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,xg(X)):vg(X)}}function C(se,Ne,K,X){for(var Ee=0,Se=Ne.length,ee=K.length,he,le;Ee<Se;){if(X>=ee)return-1;if(he=Ne.charCodeAt(Ee++),he===37){if(he=Ne.charAt(Ee++),le=S[he in KS?Ne.charAt(Ee++):he],!le||(X=le(se,K,X))<0)return-1}else if(he!=K.charCodeAt(X++))return-1}return X}function A(se,Ne,K){var X=u.exec(Ne.slice(K));return X?(se.p=d.get(X[0].toLowerCase()),K+X[0].length):-1}function I(se,Ne,K){var X=g.exec(Ne.slice(K));return X?(se.w=b.get(X[0].toLowerCase()),K+X[0].length):-1}function $(se,Ne,K){var X=f.exec(Ne.slice(K));return X?(se.w=h.get(X[0].toLowerCase()),K+X[0].length):-1}function U(se,Ne,K){var X=x.exec(Ne.slice(K));return X?(se.m=_.get(X[0].toLowerCase()),K+X[0].length):-1}function O(se,Ne,K){var X=y.exec(Ne.slice(K));return X?(se.m=v.get(X[0].toLowerCase()),K+X[0].length):-1}function R(se,Ne,K){return C(se,e,Ne,K)}function P(se,Ne,K){return C(se,r,Ne,K)}function D(se,Ne,K){return C(se,n,Ne,K)}function q(se){return o[se.getDay()]}function B(se){return a[se.getDay()]}function W(se){return c[se.getMonth()]}function J(se){return l[se.getMonth()]}function te(se){return i[+(se.getHours()>=12)]}function Q(se){return 1+~~(se.getMonth()/3)}function ge(se){return o[se.getUTCDay()]}function M(se){return a[se.getUTCDay()]}function Z(se){return c[se.getUTCMonth()]}function ue(se){return l[se.getUTCMonth()]}function ve(se){return i[+(se.getUTCHours()>=12)]}function Oe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Ne=N(se+="",w);return Ne.toString=function(){return se},Ne},parse:function(se){var Ne=E(se+="",!1);return Ne.toString=function(){return se},Ne},utcFormat:function(se){var Ne=N(se+="",k);return Ne.toString=function(){return se},Ne},utcParse:function(se){var Ne=E(se+="",!0);return Ne.toString=function(){return se},Ne}}}var KS={"-":"",_:" ",0:"0"},zt=/^\s*\d+/,XY=/^%/,QY=/[\\^$*+?|[\]().{}]/g;function We(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function ZY(t){return t.replace(QY,"\\$&")}function Cl(t){return new RegExp("^(?:"+t.map(ZY).join("|")+")","i")}function jl(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function eX(t,e,r){var n=zt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function tX(t,e,r){var n=zt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function rX(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function nX(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function iX(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function JS(t,e,r){var n=zt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function YS(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aX(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function oX(t,e,r){var n=zt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function sX(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function XS(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function lX(t,e,r){var n=zt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function QS(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function cX(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function uX(t,e,r){var n=zt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function dX(t,e,r){var n=zt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function fX(t,e,r){var n=zt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function hX(t,e,r){var n=XY.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function pX(t,e,r){var n=zt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function mX(t,e,r){var n=zt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function ZS(t,e){return We(t.getDate(),e,2)}function gX(t,e){return We(t.getHours(),e,2)}function yX(t,e){return We(t.getHours()%12||12,e,2)}function vX(t,e){return We(1+Bu.count(vi(t),t),e,3)}function AP(t,e){return We(t.getMilliseconds(),e,3)}function xX(t,e){return AP(t,e)+"000"}function bX(t,e){return We(t.getMonth()+1,e,2)}function wX(t,e){return We(t.getMinutes(),e,2)}function _X(t,e){return We(t.getSeconds(),e,2)}function SX(t){var e=t.getDay();return e===0?7:e}function NX(t,e){return We(Up.count(vi(t)-1,t),e,2)}function CP(t){var e=t.getDay();return e>=4||e===0?Ts(t):Ts.ceil(t)}function kX(t,e){return t=CP(t),We(Ts.count(vi(t),t)+(vi(t).getDay()===4),e,2)}function EX(t){return t.getDay()}function TX(t,e){return We(rh.count(vi(t)-1,t),e,2)}function AX(t,e){return We(t.getFullYear()%100,e,2)}function CX(t,e){return t=CP(t),We(t.getFullYear()%100,e,2)}function jX(t,e){return We(t.getFullYear()%1e4,e,4)}function PX(t,e){var r=t.getDay();return t=r>=4||r===0?Ts(t):Ts.ceil(t),We(t.getFullYear()%1e4,e,4)}function IX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+We(e/60|0,"0",2)+We(e%60,"0",2)}function eN(t,e){return We(t.getUTCDate(),e,2)}function OX(t,e){return We(t.getUTCHours(),e,2)}function RX(t,e){return We(t.getUTCHours()%12||12,e,2)}function MX(t,e){return We(1+Lp.count(xi(t),t),e,3)}function jP(t,e){return We(t.getUTCMilliseconds(),e,3)}function $X(t,e){return jP(t,e)+"000"}function DX(t,e){return We(t.getUTCMonth()+1,e,2)}function LX(t,e){return We(t.getUTCMinutes(),e,2)}function UX(t,e){return We(t.getUTCSeconds(),e,2)}function FX(t){var e=t.getUTCDay();return e===0?7:e}function BX(t,e){return We(Fp.count(xi(t)-1,t),e,2)}function PP(t){var e=t.getUTCDay();return e>=4||e===0?As(t):As.ceil(t)}function qX(t,e){return t=PP(t),We(As.count(xi(t),t)+(xi(t).getUTCDay()===4),e,2)}function VX(t){return t.getUTCDay()}function GX(t,e){return We(nh.count(xi(t)-1,t),e,2)}function HX(t,e){return We(t.getUTCFullYear()%100,e,2)}function zX(t,e){return t=PP(t),We(t.getUTCFullYear()%100,e,2)}function WX(t,e){return We(t.getUTCFullYear()%1e4,e,4)}function KX(t,e){var r=t.getUTCDay();return t=r>=4||r===0?As(t):As.ceil(t),We(t.getUTCFullYear()%1e4,e,4)}function JX(){return"+0000"}function tN(){return"%"}function rN(t){return+t}function nN(t){return Math.floor(+t/1e3)}var No,IP,OP;YX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YX(t){return No=YY(t),IP=No.format,No.parse,OP=No.utcFormat,No.utcParse,No}function XX(t){return new Date(t)}function QX(t){return t instanceof Date?+t:+new Date(+t)}function Nb(t,e,r,n,i,a,o,l,c,u){var d=ub(),f=d.invert,h=d.domain,g=u(".%L"),b=u(":%S"),y=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),_=u("%b %d"),w=u("%B"),k=u("%Y");function S(N){return(c(N)<N?g:l(N)<N?b:o(N)<N?y:a(N)<N?v:n(N)<N?i(N)<N?x:_:r(N)<N?w:k)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,QX)):h().map(XX)},d.ticks=function(N){var E=h();return t(E[0],E[E.length-1],N??10)},d.tickFormat=function(N,E){return E==null?S:u(E)},d.nice=function(N){var E=h();return(!N||typeof N.range!="function")&&(N=e(E[0],E[E.length-1],N??10)),N?h(xP(E,N)):d},d.copy=function(){return Fu(d,Nb(t,e,r,n,i,a,o,l,c,u))},d}function ZX(){return dn.apply(Nb(KY,JY,vi,_b,Up,Bu,bb,vb,$a,IP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eQ(){return dn.apply(Nb(zY,WY,xi,Sb,Fp,Lp,wb,xb,$a,OP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bp(){var t=0,e=1,r,n,i,a,o=mr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var g,b;return arguments.length?([g,b]=h,o=f(g,b),u):[o(0),o(1)]}}return u.range=d(sl),u.rangeRound=d(cb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function da(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function RP(){var t=ua(Bp()(mr));return t.copy=function(){return da(t,RP())},Ti.apply(t,arguments)}function MP(){var t=hb(Bp()).domain([1,10]);return t.copy=function(){return da(t,MP()).base(t.base())},Ti.apply(t,arguments)}function $P(){var t=pb(Bp());return t.copy=function(){return da(t,$P()).constant(t.constant())},Ti.apply(t,arguments)}function kb(){var t=mb(Bp());return t.copy=function(){return da(t,kb()).exponent(t.exponent())},Ti.apply(t,arguments)}function tQ(){return kb.apply(null,arguments).exponent(.5)}function DP(){var t=[],e=mr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Lu(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ta),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>BJ(t,a/n))},r.copy=function(){return DP(e).domain(t)},Ti.apply(r,arguments)}function qp(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,u=mr,d,f=!1,h;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-a)*(n*y<n*a?l:c),u(f?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,r]=y,i=d(t=+t),a=d(e=+e),o=d(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,g):[t,e,r]},g.clamp=function(y){return arguments.length?(f=!!y,g):f},g.interpolator=function(y){return arguments.length?(u=y,g):u};function b(y){return function(v){var x,_,w;return arguments.length?([x,_,w]=v,u=hY(y,[x,_,w]),g):[u(0),u(.5),u(1)]}}return g.range=b(sl),g.rangeRound=b(cb),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return d=y,i=y(t),a=y(e),o=y(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,g}}function LP(){var t=ua(qp()(mr));return t.copy=function(){return da(t,LP())},Ti.apply(t,arguments)}function UP(){var t=hb(qp()).domain([.1,1,10]);return t.copy=function(){return da(t,UP()).base(t.base())},Ti.apply(t,arguments)}function FP(){var t=pb(qp());return t.copy=function(){return da(t,FP()).constant(t.constant())},Ti.apply(t,arguments)}function Eb(){var t=mb(qp());return t.copy=function(){return da(t,Eb()).exponent(t.exponent())},Ti.apply(t,arguments)}function rQ(){return Eb.apply(null,arguments).exponent(.5)}const iN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jc,scaleDiverging:LP,scaleDivergingLog:UP,scaleDivergingPow:Eb,scaleDivergingSqrt:rQ,scaleDivergingSymlog:FP,scaleIdentity:vP,scaleImplicit:v0,scaleLinear:eh,scaleLog:bP,scaleOrdinal:ob,scalePoint:sc,scalePow:gb,scaleQuantile:SP,scaleQuantize:NP,scaleRadial:_P,scaleSequential:RP,scaleSequentialLog:MP,scaleSequentialPow:kb,scaleSequentialQuantile:DP,scaleSequentialSqrt:tQ,scaleSequentialSymlog:$P,scaleSqrt:$Y,scaleSymlog:wP,scaleThreshold:kP,scaleTime:ZX,scaleUtc:eQ,tickFormat:yP},Symbol.toStringTag,{value:"Module"}));var nQ=Qs;function iQ(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(l===void 0?o===o&&!nQ(o):r(o,l)))var l=o,c=a}return c}var Vp=iQ;function aQ(t,e){return t>e}var BP=aQ,oQ=Vp,sQ=BP,lQ=ol;function cQ(t){return t&&t.length?oQ(t,lQ,sQ):void 0}var uQ=cQ;const Gp=Xe(uQ);function dQ(t,e){return t<e}var qP=dQ,fQ=Vp,hQ=qP,pQ=ol;function mQ(t){return t&&t.length?fQ(t,pQ,hQ):void 0}var gQ=mQ;const Hp=Xe(gQ);var yQ=Fx,vQ=Yn,xQ=Y2,bQ=Tr;function wQ(t,e){var r=bQ(t)?yQ:xQ;return r(t,vQ(e))}var _Q=wQ,SQ=K2,NQ=_Q;function kQ(t,e){return SQ(NQ(t,e),1)}var EQ=kQ;const TQ=Xe(EQ);var AQ=tb;function CQ(t,e){return AQ(t,e)}var jQ=CQ;const qu=Xe(jQ);var ll=1e9,PQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ab,ht=!0,ln="[DecimalError] ",qa=ln+"Invalid argument: ",Tb=ln+"Exponent out of range: ",cl=Math.floor,Na=Math.pow,IQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$r,qt=1e7,ct=7,VP=9007199254740991,ih=cl(VP/ct),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ct;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(t){return di(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,r=e.constructor;return et(di(e,new r(t),0,1),r.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return It(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq($r))throw Error(ln+"NaN");if(r.s<1)throw Error(ln+(r.s?"NaN":"-Infinity"));return r.eq($r)?new n(0):(ht=!1,e=di(eu(r,a),eu(t,a),a),ht=!0,et(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zP(e,t):GP(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ln+"NaN");return r.s?(ht=!1,e=di(r,t,0,1).times(t),ht=!0,r.minus(e)):et(new n(r),i)};we.naturalExponential=we.exp=function(){return HP(this)};we.naturalLogarithm=we.ln=function(){return eu(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?GP(e,t):zP(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qa+t);if(e=It(i)+1,n=i.d.length-1,r=n*ct+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};we.squareRoot=we.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ln+"NaN")}for(t=It(l),ht=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ln(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(di(l,a,o+2)).times(.5),Ln(a.d).slice(0,o)===(e=Ln(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(et(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return ht=!0,et(n,r)};we.times=we.mul=function(t){var e,r,n,i,a,o,l,c,u,d=this,f=d.constructor,h=d.d,g=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=h.length,u=g.length,c<u&&(a=h,h=g,g=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+g[n]*h[i-n-1]+e,a[i--]=l%qt|0,e=l/qt|0;a[i]=(a[i]+e)%qt|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ht?et(t,f.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Hn(t,0,ll),e===void 0?e=n.rounding:Hn(e,0,8),et(r,t+It(r)+1,e))};we.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Za(n,!0):(Hn(t,0,ll),e===void 0?e=i.rounding:Hn(e,0,8),n=et(new i(n),t+1,e),r=Za(n,!0,t+1)),r};we.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Za(i):(Hn(t,0,ll),e===void 0?e=a.rounding:Hn(e,0,8),n=et(new a(i),t+It(i)+1,e),r=Za(n.abs(),!1,t+It(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return et(new e(t),It(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c($r);if(l=new c(l),!l.s){if(t.s<1)throw Error(ln+"Infinity");return l}if(l.eq($r))return l;if(n=c.precision,t.eq($r))return et(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=d<0?-d:d)<=VP){for(i=new c($r),e=Math.ceil(n/ct+4),ht=!1;r%2&&(i=i.times(l),oN(i.d,e)),r=cl(r/2),r!==0;)l=l.times(l),oN(l.d,e);return ht=!0,t.s<0?new c($r).div(i):et(i,n)}}else if(a<0)throw Error(ln+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,ht=!1,i=t.times(eu(l,n+u)),ht=!0,i=HP(i),i.s=a,i};we.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=It(i),n=Za(i,r<=a.toExpNeg||r>=a.toExpPos)):(Hn(t,1,ll),e===void 0?e=a.rounding:Hn(e,0,8),i=et(new a(i),t,e),r=It(i),n=Za(i,t<=r||r<=a.toExpNeg,t)),n};we.toSignificantDigits=we.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Hn(t,1,ll),e===void 0?e=n.rounding:Hn(e,0,8)),et(new n(r),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=It(t),r=t.constructor;return Za(t,e<=r.toExpNeg||e>=r.toExpPos)};function GP(t,e){var r,n,i,a,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ht?et(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(f/ct),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/qt|0,c[a]%=qt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,ht?et(e,f):e}function Hn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(qa+t)}function Ln(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=ct-n.length,r&&(a+=Di(r)),a+=n;o=t[e],n=o+"",r=ct-n.length,r&&(a+=Di(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var di=function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%qt|0,o=a/qt|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*qt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,u,d,f,h,g,b,y,v,x,_,w,k,S,N,E,C,A=n.constructor,I=n.s==i.s?1:-1,$=n.d,U=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(ln+"Division by zero");for(c=n.e-i.e,E=U.length,S=$.length,g=new A(I),b=g.d=[],u=0;U[u]==($[u]||0);)++u;if(U[u]>($[u]||0)&&--c,a==null?_=a=A.precision:o?_=a+(It(n)-It(i))+1:_=a,_<0)return new A(0);if(_=_/ct+2|0,u=0,E==1)for(d=0,U=U[0],_++;(u<S||d)&&_--;u++)w=d*qt+($[u]||0),b[u]=w/U|0,d=w%U|0;else{for(d=qt/(U[0]+1)|0,d>1&&(U=t(U,d),$=t($,d),E=U.length,S=$.length),k=E,y=$.slice(0,E),v=y.length;v<E;)y[v++]=0;C=U.slice(),C.unshift(0),N=U[0],U[1]>=qt/2&&++N;do d=0,l=e(U,y,E,v),l<0?(x=y[0],E!=v&&(x=x*qt+(y[1]||0)),d=x/N|0,d>1?(d>=qt&&(d=qt-1),f=t(U,d),h=f.length,v=y.length,l=e(f,y,h,v),l==1&&(d--,r(f,E<h?C:U,h))):(d==0&&(l=d=1),f=U.slice()),h=f.length,h<v&&f.unshift(0),r(y,f,v),l==-1&&(v=y.length,l=e(U,y,E,v),l<1&&(d++,r(y,E<v?C:U,v))),v=y.length):l===0&&(d++,y=[0]),b[u++]=d,l&&y[0]?y[v++]=$[k]||0:(y=[$[k]],v=1);while((k++<S||y[0]!==void 0)&&_--)}return b[0]||b.shift(),g.e=c,et(g,o?a+It(g)+1:a)}}();function HP(t,e){var r,n,i,a,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(It(t)>16)throw Error(Tb+It(t));if(!t.s)return new d($r);for(ht=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Na(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d($r),d.precision=l;;){if(i=et(i.times(t),l),r=r.times(++c),o=a.plus(di(i,r,l)),Ln(o.d).slice(0,l)===Ln(a.d).slice(0,l)){for(;u--;)a=et(a.times(a),l);return d.precision=f,e==null?(ht=!0,et(a,f)):a}a=o}}function It(t){for(var e=t.e*ct,r=t.d[0];r>=10;r/=10)e++;return e}function bg(t,e,r){if(e>t.LN10.sd())throw ht=!0,r&&(t.precision=r),Error(ln+"LN10 precision limit exceeded");return et(new t(t.LN10),e)}function Di(t){for(var e="";t--;)e+="0";return e}function eu(t,e){var r,n,i,a,o,l,c,u,d,f=1,h=10,g=t,b=g.d,y=g.constructor,v=y.precision;if(g.s<1)throw Error(ln+(g.s?"NaN":"-Infinity"));if(g.eq($r))return new y(0);if(e==null?(ht=!1,u=v):u=e,g.eq(10))return e==null&&(ht=!0),bg(y,u);if(u+=h,y.precision=u,r=Ln(b),n=r.charAt(0),a=It(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Ln(g.d),n=r.charAt(0),f++;a=It(g),n>1?(g=new y("0."+r),a++):g=new y(n+"."+r.slice(1))}else return c=bg(y,u+2,v).times(a+""),g=eu(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=v,e==null?(ht=!0,et(g,v)):g;for(l=o=g=di(g.minus($r),g.plus($r),u),d=et(g.times(g),u),i=3;;){if(o=et(o.times(d),u),c=l.plus(di(o,new y(i),u)),Ln(c.d).slice(0,u)===Ln(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(bg(y,u+2,v).times(a+""))),l=di(l,new y(f),u),y.precision=v,e==null?(ht=!0,et(l,v)):l;l=c,i+=2}}function aN(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=cl(r/ct),t.d=[],n=(r+1)%ct,r<0&&(n+=ct),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ct;n<i;)t.d.push(+e.slice(n,n+=ct));e=e.slice(n),n=ct-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ht&&(t.e>ih||t.e<-ih))throw Error(Tb+r)}else t.s=0,t.e=0,t.d=[0];return t}function et(t,e,r){var n,i,a,o,l,c,u,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=ct,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/ct),a=f.length,d>=a)return t;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=ct,i=n-ct+o}if(r!==void 0&&(a=Na(10,o-i-1),l=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Na(10,o-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(a=It(t),f.length=1,e=e-a-1,f[0]=Na(10,(ct-e%ct)%ct),t.e=cl(-e/ct)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Na(10,ct-n),f[d]=i>0?(u/Na(10,o-i)%Na(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==qt&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=qt)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ht&&(t.e>ih||t.e<-ih))throw Error(Tb+It(t));return t}function zP(t,e){var r,n,i,a,o,l,c,u,d,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ht?et(e,g):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(g/ct),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=qt-1;--c[a],c[i]+=qt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,ht?et(e,g):e):new h(0)}function Za(t,e,r){var n,i=It(t),a=Ln(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Di(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Di(-i-1)+a,r&&(n=r-o)>0&&(a+=Di(n))):i>=o?(a+=Di(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Di(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Di(n))),t.s<0?"-"+a:a}function oN(t,e){if(t.length>e)return t.length=e,!0}function WP(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(qa+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return aN(o,a.toString())}else if(typeof a!="string")throw Error(qa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,IQ.test(a))aN(o,a);else throw Error(qa+a)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=WP,i.config=i.set=OQ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function OQ(t){if(!t||typeof t!="object")throw Error(ln+"Object expected");var e,r,n,i=["precision",1,ll,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(cl(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(qa+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qa+r+": "+n);return this}var Ab=WP(PQ);$r=new Ab(1);const Ze=Ab;function RQ(t){return LQ(t)||DQ(t)||$Q(t)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Q(t,e){if(t){if(typeof t=="string")return _0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(t,e)}}function DQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function LQ(t){if(Array.isArray(t))return _0(t)}function _0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var UQ=function(e){return e},KP={},JP=function(e){return e===KP},sN=function(e){return function r(){return arguments.length===0||arguments.length===1&&JP(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},FQ=function t(e,r){return e===1?r:sN(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==KP}).length;return o>=e?r.apply(void 0,i):t(e-o,sN(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return JP(f)?c.shift():f});return r.apply(void 0,RQ(d).concat(c))}))})},zp=function(e){return FQ(e.length,e)},S0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},BQ=zp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),qQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return UQ;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},N0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},YP=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function VQ(t){var e;return t===0?e=1:e=Math.floor(new Ze(t).abs().log(10).toNumber())+1,e}function GQ(t,e,r){for(var n=new Ze(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var HQ=zp(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),zQ=zp(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),WQ=zp(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Wp={rangeStep:GQ,getDigitCount:VQ,interpolateNumber:HQ,uninterpolateNumber:zQ,uninterpolateTruncation:WQ};function k0(t){return YQ(t)||JQ(t)||XP(t)||KQ()}function KQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function YQ(t){if(Array.isArray(t))return E0(t)}function tu(t,e){return ZQ(t)||QQ(t,e)||XP(t,e)||XQ()}function XQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XP(t,e){if(t){if(typeof t=="string")return E0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E0(t,e)}}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QQ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function ZQ(t){if(Array.isArray(t))return t}function QP(t){var e=tu(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function ZP(t,e,r){if(t.lte(0))return new Ze(0);var n=Wp.getDigitCount(t.toNumber()),i=new Ze(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new Ze(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new Ze(Math.ceil(c))}function eZ(t,e,r){var n=1,i=new Ze(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ze(10).pow(Wp.getDigitCount(t)-1),i=new Ze(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ze(Math.floor(t)))}else t===0?i=new Ze(Math.floor((e-1)/2)):r||(i=new Ze(Math.floor(t)));var o=Math.floor((e-1)/2),l=qQ(BQ(function(c){return i.add(new Ze(c-o).mul(n)).toNumber()}),S0);return l(0,e)}function eI(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var a=ZP(new Ze(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Ze(0):(o=new Ze(t).add(e).div(2),o=o.sub(new Ze(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new Ze(e).sub(o).div(a).toNumber()),u=l+c+1;return u>r?eI(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:o.sub(new Ze(l).mul(a)),tickMax:o.add(new Ze(c).mul(a))})}function tZ(t){var e=tu(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=QP([r,n]),c=tu(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(k0(S0(0,i-1).map(function(){return 1/0}))):[].concat(k0(S0(0,i-1).map(function(){return-1/0})),[d]);return r>n?N0(f):f}if(u===d)return eZ(u,i,a);var h=eI(u,d,o,a),g=h.step,b=h.tickMin,y=h.tickMax,v=Wp.rangeStep(b,y.add(new Ze(.1).mul(g)),g);return r>n?N0(v):v}function rZ(t,e){var r=tu(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=QP([n,i]),l=tu(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),f=ZP(new Ze(u).sub(c).div(d-1),a,0),h=[].concat(k0(Wp.rangeStep(new Ze(c),new Ze(u).sub(new Ze(.99).mul(f)),f)),[u]);return n>i?N0(h):h}var nZ=YP(tZ),iZ=YP(rZ),aZ="Invariant failed";function eo(t,e){throw new Error(aZ)}var oZ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ah.apply(this,arguments)}function sZ(t,e){return dZ(t)||uZ(t,e)||cZ(t,e)||lZ()}function lZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cZ(t,e){if(t){if(typeof t=="string")return lN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(t,e)}}function lN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function dZ(t){if(Array.isArray(t))return t}function fZ(t,e){if(t==null)return{};var r=hZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nI(n.key),n)}}function gZ(t,e,r){return e&&mZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yZ(t,e,r){return e=oh(e),vZ(t,tI()?Reflect.construct(e,r||[],oh(t).constructor):e.apply(t,r))}function vZ(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xZ(t)}function xZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tI=function(){return!!t})()}function oh(t){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oh(t)}function bZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T0(t,e)}function T0(t,e){return T0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T0(t,e)}function rI(t,e,r){return e=nI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nI(t){var e=wZ(t,"string");return Cs(e)=="symbol"?e:e+""}function wZ(t,e){if(Cs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vu=function(t){function e(){return pZ(this,e),yZ(this,e,arguments)}return bZ(e,t),gZ(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=fZ(n,oZ),g=Ae(h,!1);this.props.direction==="x"&&d.type!=="number"&&eo();var b=c.map(function(y){var v=u(y,l),x=v.x,_=v.y,w=v.value,k=v.errorVal;if(!k)return null;var S=[],N,E;if(Array.isArray(k)){var C=sZ(k,2);N=C[0],E=C[1]}else N=E=k;if(a==="vertical"){var A=d.scale,I=_+i,$=I+o,U=I-o,O=A(w-N),R=A(w+E);S.push({x1:R,y1:$,x2:R,y2:U}),S.push({x1:O,y1:I,x2:R,y2:I}),S.push({x1:O,y1:$,x2:O,y2:U})}else if(a==="horizontal"){var P=f.scale,D=x+i,q=D-o,B=D+o,W=P(w-N),J=P(w+E);S.push({x1:q,y1:J,x2:B,y2:J}),S.push({x1:D,y1:W,x2:D,y2:J}),S.push({x1:q,y1:W,x2:B,y2:W})}return L.createElement(ze,ah({className:"recharts-errorBar",key:"bar-".concat(S.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},g),S.map(function(te){return L.createElement("line",ah({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return L.createElement(ze,{className:"recharts-errorBars"},b)}}])}(L.Component);rI(Vu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});rI(Vu,"displayName","ErrorBar");function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function cN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(r),!0).forEach(function(n){_Z(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Z(t,e,r){return e=SZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SZ(t){var e=NZ(t,"string");return ru(e)=="symbol"?e:e+""}function NZ(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iI=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ir(r,as);if(!o)return null;var l=as.defaultProps,c=l!==void 0?ga(ga({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,g=f.props,b=g.sectors||g.data||[];return d.concat(b.map(function(y){return{type:o.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?ga(ga({},h),f.props):{},b=g.dataKey,y=g.name,v=g.legendType,x=g.hide;return{inactive:x,dataKey:b,type:c.iconType||v||"square",color:Cb(f),value:y||b,payload:g}}),ga(ga(ga({},c),as.getWithHeight(o,i)),{},{payload:u,item:o})};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function uN(t){return AZ(t)||TZ(t)||EZ(t)||kZ()}function kZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZ(t,e){if(t){if(typeof t=="string")return A0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A0(t,e)}}function TZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AZ(t){if(Array.isArray(t))return A0(t)}function A0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(r),!0).forEach(function(n){ss(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ss(t,e,r){return e=CZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CZ(t){var e=jZ(t,"string");return nu(e)=="symbol"?e:e+""}function jZ(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lt(t,e,r){return De(t)||De(e)?r:Ft(e)?Ur(t,e,r):Re(e)?e(t):r}function lc(t,e,r,n){var i=TQ(t,function(l){return Lt(l,e)});if(r==="number"){var a=i.filter(function(l){return de(l)||parseFloat(l)});return a.length?[Hp(a),Gp(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!De(l)}):i;return o.map(function(l){return Ft(l)||l instanceof Date?l:""})}var PZ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(hr(f-d)!==hr(h-f)){var b=[];if(hr(h-f)===hr(c[1]-c[0])){g=h;var y=f+c[1]-c[0];b[0]=Math.min(y,(y+d)/2),b[1]=Math.max(y,(y+d)/2)}else{g=d;var v=h+c[1]-c[0];b[0]=Math.min(f,(v+f)/2),b[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>x[0]&&e<=x[1]||e>=b[0]&&e<=b[1]){o=i[u].index;break}}else{var _=Math.min(d,h),w=Math.max(d,h);if(e>(_+f)/2&&e<=(w+f)/2){o=i[u].index;break}}}else for(var k=0;k<l;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<l-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===l-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){o=n[k].index;break}return o},Cb=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},IZ=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var b=d[f[h]],y=b.items,v=b.cateAxisId,x=y.filter(function(E){return ui(E.type).indexOf("Bar")>=0});if(x&&x.length){var _=x[0].type.defaultProps,w=_!==void 0?_t(_t({},_),x[0].props):x[0].props,k=w.barSize,S=w[v];o[S]||(o[S]=[]);var N=De(k)?r:k;o[S].push({item:x[0],stackList:x.slice(1),barSize:De(N)?void 0:pr(N,n,0)})}}return o},OZ=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=pr(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,g=i/c,b=o.reduce(function(k,S){return k+S.barSize||0},0);b+=(c-1)*u,b>=i&&(b-=(c-1)*u,u=0),b>=i&&g>0&&(h=!0,g*=.9,b=c*g);var y=(i-b)/2>>0,v={offset:y-u,size:0};d=o.reduce(function(k,S){var N={item:S.item,position:{offset:v.offset+v.size+u,size:h?g:S.barSize}},E=[].concat(uN(k),[N]);return v=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){E.push({item:C,position:v})}),E},f)}else{var x=pr(n,i,0,!0);i-2*x-(c-1)*u<=0&&(u=0);var _=(i-2*x-(c-1)*u)/c;_>1&&(_>>=0);var w=l===+l?Math.min(_,l):_;d=o.reduce(function(k,S,N){var E=[].concat(uN(k),[{item:S.item,position:{offset:x+(_+u)*N+(_-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){E.push({item:C,position:E[E.length-1].position})}),E},f)}return d},RZ=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=iI({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,g=u.align,b=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&b==="middle")&&g!=="center"&&de(e[g]))return _t(_t({},e),{},ss({},g,e[g]+(f||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&b!=="middle"&&de(e[b]))return _t(_t({},e),{},ss({},b,e[b]+(h||0)))}return e},MZ=function(e,r,n){return De(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},aI=function(e,r,n,i,a){var o=r.props.children,l=Fr(o,Vu).filter(function(u){return MZ(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Lt(d,n);if(De(f))return u;var h=Array.isArray(f)?[Hp(f),Gp(f)]:[f,f],g=c.reduce(function(b,y){var v=Lt(d,y,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),_=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,b[0]),Math.max(_,b[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},$Z=function(e,r,n,i,a){var o=r.map(function(l){return aI(e,l,n,a,i)}).filter(function(l){return!De(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},oI=function(e,r,n,i,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&aI(e,c,u,i)||lc(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},sI=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},lI=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},si=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?hr(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!$u(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},wg=new WeakMap,Sd=function(e,r){if(typeof r!="function")return e;wg.has(e)||wg.set(e,new WeakMap);var n=wg.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},cI=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Jc(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:eh(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:sc(),realScaleType:"point"}:a==="category"?{scale:Jc(),realScaleType:"band"}:{scale:eh(),realScaleType:"linear"};if(Ya(i)){var c="scale".concat(jp(i));return{scale:(iN[c]||sc)(),realScaleType:iN[c]?c:"point"}}return Re(i)?{scale:i}:{scale:sc(),realScaleType:"point"}},fN=1e-4,uI=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-fN,o=Math.max(i[0],i[1])+fN,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},DZ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},LZ=function(e,r){if(!r||r.length!==2||!de(r[0])||!de(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<n)&&(a[0]=n),(!de(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},UZ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=$u(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},FZ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=$u(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},BZ={sign:UZ,expand:oq,none:ws,silhouette:sq,wiggle:lq,positive:FZ},qZ=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=BZ[n],o=aq().keys(i).value(function(l,c){return+Lt(l,c,0)}).order(Zy).offset(a);return o(e)},VZ=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var g,b=(g=h.type)!==null&&g!==void 0&&g.defaultProps?_t(_t({},h.type.defaultProps),h.props):h.props,y=b.stackId,v=b.hide;if(v)return f;var x=b[n],_=f[x]||{hasStack:!1,stackGroups:{}};if(Ft(y)){var w=_.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),_.hasStack=!0,_.stackGroups[y]=w}else _.stackGroups[nl("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return _t(_t({},f),{},ss({},x,_))},c),d={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var b={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,v){var x=g.stackGroups[v];return _t(_t({},y),{},ss({},v,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:qZ(e,x.items,a)}))},b)}return _t(_t({},f),{},ss({},h,g))},d)},dI=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=nZ(u,a,l);return e.domain([Hp(d),Gp(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=iZ(f,a,l);return{niceTicks:h}}return null};function hN(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!De(i[e.dataKey])){var l=Of(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Lt(i,De(o)?e.dataKey:o);return De(c)?null:e.scale(c)}var pN=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Lt(o,r.dataKey,r.domain[l]);return De(c)?null:r.scale(c)-a/2+i},GZ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},HZ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ft(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},zZ=function(e){return e.reduce(function(r,n){return[Hp(n.concat([r[0]]).filter(de)),Gp(n.concat([r[1]]).filter(de))]},[1/0,-1/0])},fI=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,d){var f=zZ(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},mN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C0=function(e,r,n){if(Re(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(de(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(mN.test(e[0])){var a=+mN.exec(e[0])[1];i[0]=r[0]-a}else Re(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(de(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(gN.test(e[1])){var o=+gN.exec(e[1])[1];i[1]=r[1]+o}else Re(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},sh=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=nb(r,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},yN=function(e,r,n){return!e||!e.length||qu(e,Ur(n,"type.defaultProps.domain"))?r:e},hI=function(e,r){var n=e.type.defaultProps?_t(_t({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return _t(_t({},Ae(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:Cb(e),value:Lt(r,i),type:c,payload:r,chartType:u,hide:d})};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function vN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(r),!0).forEach(function(n){pI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pI(t,e,r){return e=WZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WZ(t){var e=KZ(t,"string");return iu(e)=="symbol"?e:e+""}function KZ(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JZ(t,e){return ZZ(t)||QZ(t,e)||XZ(t,e)||YZ()}function YZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XZ(t,e){if(t){if(typeof t=="string")return xN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xN(t,e)}}function xN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ZZ(t){if(Array.isArray(t))return t}var lh=Math.PI/180,eee=function(e){return e*180/Math.PI},ot=function(e,r,n,i){return{x:e+Math.cos(-lh*i)*n,y:r+Math.sin(-lh*i)*n}},mI=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},tee=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=pr(e.cx,o,o/2),f=pr(e.cy,l,l/2),h=mI(o,l,n),g=pr(e.innerRadius,h,0),b=pr(e.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(v,x){var _=r[x],w=_.domain,k=_.reversed,S;if(De(_.range))i==="angleAxis"?S=[c,u]:i==="radiusAxis"&&(S=[g,b]),k&&(S=[S[1],S[0]]);else{S=_.range;var N=S,E=JZ(N,2);c=E[0],u=E[1]}var C=cI(_,a),A=C.realScaleType,I=C.scale;I.domain(w).range(S),uI(I);var $=dI(I,ti(ti({},_),{},{realScaleType:A})),U=ti(ti(ti({},_),$),{},{range:S,radius:b,realScaleType:A,scale:I,cx:d,cy:f,innerRadius:g,outerRadius:b,startAngle:c,endAngle:u});return ti(ti({},v),{},pI({},x,U))},{})},ree=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},nee=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=ree({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:eee(u),angleInRadian:u}},iee=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},aee=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},bN=function(e,r){var n=e.x,i=e.y,a=nee({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=iee(r),f=d.startAngle,h=d.endAngle,g=l,b;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;b=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;b=g>=h&&g<=f}return b?ti(ti({},r),{},{radius:o,angle:aee(g,r)}):null},gI=function(e){return!T.isValidElement(e)&&!Re(e)&&typeof e!="boolean"?e.className:""};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}var oee=["offset"];function see(t){return dee(t)||uee(t)||cee(t)||lee()}function lee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cee(t,e){if(t){if(typeof t=="string")return j0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j0(t,e)}}function uee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dee(t){if(Array.isArray(t))return j0(t)}function j0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fee(t,e){if(t==null)return{};var r=hee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(r),!0).forEach(function(n){pee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pee(t,e,r){return e=mee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mee(t){var e=gee(t,"string");return au(e)=="symbol"?e:e+""}function gee(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ou.apply(this,arguments)}var yee=function(e){var r=e.value,n=e.formatter,i=De(e.children)?r:e.children;return Re(n)?n(i):i},vee=function(e,r){var n=hr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},xee=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,g=c.startAngle,b=c.endAngle,y=c.clockWise,v=(f+h)/2,x=vee(g,b),_=x>=0?1:-1,w,k;i==="insideStart"?(w=g+_*o,k=y):i==="insideEnd"?(w=b-_*o,k=!y):i==="end"&&(w=b+_*o,k=y),k=x<=0?k:!k;var S=ot(u,d,v,w),N=ot(u,d,v,w+(k?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(N.x,",").concat(N.y),C=De(e.id)?nl("recharts-radial-line-"):e.id;return L.createElement("text",ou({},n,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:C,d:E})),L.createElement("textPath",{xlinkHref:"#".concat(C)},r))},bee=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var g=ot(o,l,u+n,h),b=g.x,y=g.y;return{x:b,y,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=ot(o,l,v,h),_=x.x,w=x.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},wee=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,g=f>0?"end":"start",b=f>0?"start":"end",y=u>=0?1:-1,v=y*i,x=y>0?"end":"start",_=y>0?"start":"end";if(a==="top"){var w={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:g};return Rt(Rt({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var k={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:b};return Rt(Rt({},k),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Rt(Rt({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(a==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return Rt(Rt({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return a==="insideLeft"?Rt({x:l+v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},E):a==="insideRight"?Rt({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideTop"?Rt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:b},E):a==="insideBottom"?Rt({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:g},E):a==="insideTopLeft"?Rt({x:l+v,y:c+h,textAnchor:_,verticalAnchor:b},E):a==="insideTopRight"?Rt({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:b},E):a==="insideBottomLeft"?Rt({x:l+v,y:c+d-h,textAnchor:_,verticalAnchor:g},E):a==="insideBottomRight"?Rt({x:l+u-v,y:c+d-h,textAnchor:x,verticalAnchor:g},E):Zs(a)&&(de(a.x)||Oa(a.x))&&(de(a.y)||Oa(a.y))?Rt({x:l+pr(a.x,u),y:c+pr(a.y,d),textAnchor:"end",verticalAnchor:"end"},E):Rt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},_ee=function(e){return"cx"in e&&de(e.cx)};function Gt(t){var e=t.offset,r=e===void 0?5:e,n=fee(t,oee),i=Rt({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||De(l)&&De(c)&&!T.isValidElement(u)&&!Re(u))return null;if(T.isValidElement(u))return T.cloneElement(u,i);var g;if(Re(u)){if(g=T.createElement(u,i),T.isValidElement(g))return g}else g=yee(i);var b=_ee(a),y=Ae(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return xee(i,g,y);var v=b?bee(i):wee(i);return L.createElement(Qa,ou({className:Le("recharts-label",f)},y,v,{breakAll:h}),g)}Gt.displayName="Label";var yI=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,g=e.top,b=e.left,y=e.width,v=e.height,x=e.clockWise,_=e.labelViewBox;if(_)return _;if(de(y)&&de(v)){if(de(f)&&de(h))return{x:f,y:h,width:y,height:v};if(de(g)&&de(b))return{x:g,y:b,width:y,height:v}}return de(f)&&de(h)?{x:f,y:h,width:0,height:0}:de(r)&&de(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},See=function(e,r){return e?e===!0?L.createElement(Gt,{key:"label-implicit",viewBox:r}):Ft(e)?L.createElement(Gt,{key:"label-implicit",viewBox:r,value:e}):T.isValidElement(e)?e.type===Gt?T.cloneElement(e,{key:"label-implicit",viewBox:r}):L.createElement(Gt,{key:"label-implicit",content:e,viewBox:r}):Re(e)?L.createElement(Gt,{key:"label-implicit",content:e,viewBox:r}):Zs(e)?L.createElement(Gt,ou({viewBox:r},e,{key:"label-implicit"})):null:null},Nee=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=yI(e),o=Fr(i,Gt).map(function(c,u){return T.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=See(e.label,r||a);return[l].concat(see(o))};Gt.parseViewBox=yI;Gt.renderCallByParent=Nee;function kee(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Eee=kee;const Tee=Xe(Eee);function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}var Aee=["valueAccessor"],Cee=["data","dataKey","clockWise","id","textBreakAll"];function jee(t){return Ree(t)||Oee(t)||Iee(t)||Pee()}function Pee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iee(t,e){if(t){if(typeof t=="string")return P0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P0(t,e)}}function Oee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ree(t){if(Array.isArray(t))return P0(t)}function P0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ch.apply(this,arguments)}function _N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(r),!0).forEach(function(n){Mee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mee(t,e,r){return e=$ee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ee(t){var e=Dee(t,"string");return su(e)=="symbol"?e:e+""}function Dee(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NN(t,e){if(t==null)return{};var r=Lee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Uee=function(e){return Array.isArray(e.value)?Tee(e.value):e.value};function fi(t){var e=t.valueAccessor,r=e===void 0?Uee:e,n=NN(t,Aee),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=NN(n,Cee);return!i||!i.length?null:L.createElement(ze,{className:"recharts-label-list"},i.map(function(d,f){var h=De(a)?r(d,f):Lt(d&&d.payload,a),g=De(l)?{}:{id:"".concat(l,"-").concat(f)};return L.createElement(Gt,ch({},Ae(d,!0),u,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Gt.parseViewBox(De(o)?d:SN(SN({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}fi.displayName="LabelList";function Fee(t,e){return t?t===!0?L.createElement(fi,{key:"labelList-implicit",data:e}):L.isValidElement(t)||Re(t)?L.createElement(fi,{key:"labelList-implicit",data:e,content:t}):Zs(t)?L.createElement(fi,ch({data:e},t,{key:"labelList-implicit"})):null:null}function Bee(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Fr(n,fi).map(function(o,l){return T.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=Fee(t.label,e);return[a].concat(jee(i))}fi.renderCallByParent=Bee;function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}function kN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(r),!0).forEach(function(n){qee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qee(t,e,r){return e=Vee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vee(t){var e=Gee(t,"string");return lu(e)=="symbol"?e:e+""}function Gee(t,e){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hee=function(e,r){var n=hr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Nd=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/lh,h=u?a:a+o*f,g=ot(r,n,d,h),b=ot(r,n,i,h),y=u?a-o*f:a,v=ot(r,n,d*Math.cos(f*lh),y);return{center:g,circleTangency:b,lineTangency:v,theta:f}},vI=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Hee(o,l),u=o+c,d=ot(r,n,a,o),f=ot(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=ot(r,n,i,o),b=ot(r,n,i,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},zee=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=hr(d-u),h=Nd({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),g=h.circleTangency,b=h.lineTangency,y=h.theta,v=Nd({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,_=v.lineTangency,w=v.theta,k=c?Math.abs(u-d):Math.abs(u-d)-y-w;if(k<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):vI({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var S="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var N=Nd({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=N.circleTangency,C=N.lineTangency,A=N.theta,I=Nd({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),$=I.circleTangency,U=I.lineTangency,O=I.theta,R=c?Math.abs(u-d):Math.abs(u-d)-A-O;if(R<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},Wee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xI=function(e){var r=EN(EN({},Wee),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var g=Le("recharts-sector",h),b=o-a,y=pr(l,b,0,!0),v;return y>0&&Math.abs(d-f)<360?v=zee({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=vI({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),L.createElement("path",I0({},Ae(r,!0),{className:g,d:v,role:"img"}))};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O0.apply(this,arguments)}function TN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(r),!0).forEach(function(n){Kee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kee(t,e,r){return e=Jee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jee(t){var e=Yee(t,"string");return cu(e)=="symbol"?e:e+""}function Yee(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CN={curveBasisClosed:K8,curveBasisOpen:J8,curveBasis:W8,curveBumpX:O8,curveBumpY:R8,curveLinearClosed:Y8,curveLinear:Ip,curveMonotoneX:X8,curveMonotoneY:Q8,curveNatural:Z8,curveStep:eq,curveStepAfter:rq,curveStepBefore:tq},kd=function(e){return e.x===+e.x&&e.y===+e.y},Pl=function(e){return e.x},Il=function(e){return e.y},Xee=function(e,r){if(Re(e))return e;var n="curve".concat(jp(e));return(n==="curveMonotone"||n==="curveBump")&&r?CN["".concat(n).concat(r==="vertical"?"Y":"X")]:CN[n]||Ip},Qee=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Xee(n,l),f=u?a.filter(function(y){return kd(y)}):a,h;if(Array.isArray(o)){var g=u?o.filter(function(y){return kd(y)}):o,b=f.map(function(y,v){return AN(AN({},y),{},{base:g[v]})});return l==="vertical"?h=md().y(Il).x1(Pl).x0(function(y){return y.base.x}):h=md().x(Pl).y1(Il).y0(function(y){return y.base.y}),h.defined(kd).curve(d),h(b)}return l==="vertical"&&de(o)?h=md().y(Il).x1(Pl).x0(o):de(o)?h=md().x(Pl).y1(Il).y0(o):h=h2().x(Pl).y(Il),h.defined(kd).curve(d),h(f)},uh=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Qee(e):i;return T.createElement("path",O0({},Ae(e,!1),Rf(e),{className:Le("recharts-curve",r),d:o,ref:a}))},bI={exports:{}},Zee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ete=Zee,tte=ete;function wI(){}function _I(){}_I.resetWarningCache=wI;var rte=function(){function t(n,i,a,o,l,c){if(c!==tte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_I,resetWarningCache:wI};return r.PropTypes=r,r};bI.exports=rte();var nte=bI.exports;const Je=Xe(nte),{getOwnPropertyNames:ite,getOwnPropertySymbols:ate}=Object,{hasOwnProperty:ote}=Object.prototype;function _g(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Ed(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=t(r,n,i);return a.delete(r),a.delete(n),c}}function ste(t){return t!=null?t[Symbol.toStringTag]:void 0}function jN(t){return ite(t).concat(ate(t))}const lte=Object.hasOwn||((t,e)=>ote.call(t,e));function fo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const cte="__v",ute="__o",dte="_owner",{getOwnPropertyDescriptor:PN,keys:IN}=Object;function fte(t,e){return t.byteLength===e.byteLength&&dh(new Uint8Array(t),new Uint8Array(e))}function hte(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function pte(t,e){return t.byteLength===e.byteLength&&dh(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function mte(t,e){return fo(t.getTime(),e.getTime())}function gte(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function yte(t,e){return t===e}function ON(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(i[f]){f++;continue}const h=o.value,g=l.value;if(r.equals(h[0],g[0],c,f,t,e,r)&&r.equals(h[1],g[1],h[0],g[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}const vte=fo;function xte(t,e,r){const n=IN(t);let i=n.length;if(IN(e).length!==i)return!1;for(;i-- >0;)if(!SI(t,e,r,n[i]))return!1;return!0}function Ol(t,e,r){const n=jN(t);let i=n.length;if(jN(e).length!==i)return!1;let a,o,l;for(;i-- >0;)if(a=n[i],!SI(t,e,r,a)||(o=PN(t,a),l=PN(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function bte(t,e){return fo(t.valueOf(),e.valueOf())}function wte(t,e){return t.source===e.source&&t.flags===e.flags}function RN(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let o,l;for(;(o=a.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function dh(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function _te(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function SI(t,e,r,n){return(n===dte||n===ute||n===cte)&&(t.$$typeof||e.$$typeof)?!0:lte(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const Ste="[object ArrayBuffer]",Nte="[object Arguments]",kte="[object Boolean]",Ete="[object DataView]",Tte="[object Date]",Ate="[object Error]",Cte="[object Map]",jte="[object Number]",Pte="[object Object]",Ite="[object RegExp]",Ote="[object Set]",Rte="[object String]",Mte={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},$te="[object URL]",Dte=Object.prototype.toString;function Lte({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:b}){return function(v,x,_){if(v===x)return!0;if(v==null||x==null)return!1;const w=typeof v;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?l(v,x,_):w==="function"?a(v,x,_):!1;const k=v.constructor;if(k!==x.constructor)return!1;if(k===Object)return c(v,x,_);if(Array.isArray(v))return e(v,x,_);if(k===Date)return n(v,x,_);if(k===RegExp)return d(v,x,_);if(k===Map)return o(v,x,_);if(k===Set)return f(v,x,_);const S=Dte.call(v);if(S===Tte)return n(v,x,_);if(S===Ite)return d(v,x,_);if(S===Cte)return o(v,x,_);if(S===Ote)return f(v,x,_);if(S===Pte)return typeof v.then!="function"&&typeof x.then!="function"&&c(v,x,_);if(S===$te)return g(v,x,_);if(S===Ate)return i(v,x,_);if(S===Nte)return c(v,x,_);if(Mte[S])return h(v,x,_);if(S===Ste)return t(v,x,_);if(S===Ete)return r(v,x,_);if(S===kte||S===jte||S===Rte)return u(v,x,_);if(b){let N=b[S];if(!N){const E=ste(v);E&&(N=b[E])}if(N)return N(v,x,_)}return!1}}function Ute({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:fte,areArraysEqual:r?Ol:hte,areDataViewsEqual:pte,areDatesEqual:mte,areErrorsEqual:gte,areFunctionsEqual:yte,areMapsEqual:r?_g(ON,Ol):ON,areNumbersEqual:vte,areObjectsEqual:r?Ol:xte,arePrimitiveWrappersEqual:bte,areRegExpsEqual:wte,areSetsEqual:r?_g(RN,Ol):RN,areTypedArraysEqual:r?_g(dh,Ol):dh,areUrlsEqual:_te,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=Ed(n.areArraysEqual),a=Ed(n.areMapsEqual),o=Ed(n.areObjectsEqual),l=Ed(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function Fte(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function Bte({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=r();return e(l,c,{cache:u,equals:n,meta:d,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const qte=fa();fa({strict:!0});fa({circular:!0});fa({circular:!0,strict:!0});fa({createInternalComparator:()=>fo});fa({strict:!0,createInternalComparator:()=>fo});fa({circular:!0,createInternalComparator:()=>fo});fa({circular:!0,createInternalComparator:()=>fo,strict:!0});function fa(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=Ute(t),o=Lte(a),l=r?r(o):Fte(o);return Bte({circular:e,comparator:o,createState:n,equals:l,strict:i})}function Vte(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function MN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Vte(i)};requestAnimationFrame(n)}function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function Gte(t){return Kte(t)||Wte(t)||zte(t)||Hte()}function Hte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zte(t,e){if(t){if(typeof t=="string")return $N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $N(t,e)}}function $N(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kte(t){if(Array.isArray(t))return t}function Jte(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=Gte(o),c=l[0],u=l.slice(1);if(typeof c=="number"){MN(i.bind(null,u),c);return}i(c),MN(i.bind(null,u));return}R0(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function DN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(r),!0).forEach(function(n){NI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NI(t,e,r){return e=Yte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yte(t){var e=Xte(t,"string");return uu(e)==="symbol"?e:String(e)}function Xte(t,e){if(uu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qte=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Zte=function(e){return e},ere=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},cc=function(e,r){return Object.keys(r).reduce(function(n,i){return LN(LN({},n),{},NI({},i,e(i,r[i])))},{})},UN=function(e,r,n){return e.map(function(i){return"".concat(ere(i)," ").concat(r,"ms ").concat(n)}).join(",")};function tre(t,e){return ire(t)||nre(t,e)||kI(t,e)||rre()}function rre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ire(t){if(Array.isArray(t))return t}function are(t){return lre(t)||sre(t)||kI(t)||ore()}function ore(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kI(t,e){if(t){if(typeof t=="string")return M0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M0(t,e)}}function sre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lre(t){if(Array.isArray(t))return M0(t)}function M0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fh=1e-4,EI=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},TI=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},FN=function(e,r){return function(n){var i=EI(e,r);return TI(i,n)}},cre=function(e,r){return function(n){var i=EI(e,r),a=[].concat(are(i.map(function(o,l){return o*l}).slice(1)),[0]);return TI(a,n)}},BN=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=tre(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=FN(i,o),h=FN(a,l),g=cre(i,o),b=function(x){return x>1?1:x<0?0:x},y=function(x){for(var _=x>1?1:x,w=_,k=0;k<8;++k){var S=f(w)-_,N=g(w);if(Math.abs(S-_)<fh||N<fh)return h(w);w=b(w-S/N)}return h(w)};return y.isStepper=!1,y},ure=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,f,h){var g=-(d-f)*n,b=h*a,y=h+(g-b)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<fh&&Math.abs(y)<fh?[f,0]:[v,y]};return c.isStepper=!0,c.dt=l,c},dre=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BN(i);case"spring":return ure();default:if(i.split("(")[0]==="cubic-bezier")return BN(i)}return typeof i=="function"?i:null};function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function qN(t){return pre(t)||hre(t)||AI(t)||fre()}function fre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pre(t){if(Array.isArray(t))return D0(t)}function VN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(r),!0).forEach(function(n){$0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $0(t,e,r){return e=mre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mre(t){var e=gre(t,"string");return du(e)==="symbol"?e:String(e)}function gre(t,e){if(du(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(du(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yre(t,e){return bre(t)||xre(t,e)||AI(t,e)||vre()}function vre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AI(t,e){if(t){if(typeof t=="string")return D0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D0(t,e)}}function D0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function bre(t){if(Array.isArray(t))return t}var hh=function(e,r,n){return e+(r-e)*n},L0=function(e){var r=e.from,n=e.to;return r!==n},wre=function t(e,r,n){var i=cc(function(a,o){if(L0(o)){var l=e(o.from,o.to,o.velocity),c=yre(l,2),u=c[0],d=c[1];return Qt(Qt({},o),{},{from:u,velocity:d})}return o},r);return n<1?cc(function(a,o){return L0(o)?Qt(Qt({},o),{},{velocity:hh(o.velocity,i[a].velocity,n),from:hh(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const _re=function(t,e,r,n,i){var a=Qte(t,e),o=a.reduce(function(v,x){return Qt(Qt({},v),{},$0({},x,[t[x],e[x]]))},{}),l=a.reduce(function(v,x){return Qt(Qt({},v),{},$0({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return cc(function(x,_){return _.from},l)},g=function(){return!Object.values(l).filter(L0).length},b=function(x){u||(u=x);var _=x-u,w=_/r.dt;l=wre(r,l,w),i(Qt(Qt(Qt({},t),e),h())),u=x,g()||(c=requestAnimationFrame(f))},y=function(x){d||(d=x);var _=(x-d)/n,w=cc(function(S,N){return hh.apply(void 0,qN(N).concat([r(_)]))},o);if(i(Qt(Qt(Qt({},t),e),w)),_<1)c=requestAnimationFrame(f);else{var k=cc(function(S,N){return hh.apply(void 0,qN(N).concat([r(1)]))},o);i(Qt(Qt(Qt({},t),e),k))}};return f=r.isStepper?b:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}var Sre=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Nre(t,e){if(t==null)return{};var r=kre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kre(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Sg(t){return Cre(t)||Are(t)||Tre(t)||Ere()}function Ere(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tre(t,e){if(t){if(typeof t=="string")return U0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U0(t,e)}}function Are(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cre(t){if(Array.isArray(t))return U0(t)}function U0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(r),!0).forEach(function(n){Vl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vl(t,e,r){return e=CI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CI(n.key),n)}}function Ire(t,e,r){return e&&Pre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CI(t){var e=Ore(t,"string");return js(e)==="symbol"?e:String(e)}function Ore(t,e){if(js(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(js(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F0(t,e)}function Mre(t){var e=$re();return function(){var n=ph(t),i;if(e){var a=ph(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return B0(this,i)}}function B0(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q0(t)}function q0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $re(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ph(t)}var zn=function(t){Rre(r,t);var e=Mre(r);function r(n,i){var a;jre(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(q0(a)),a.changeStyle=a.changeStyle.bind(q0(a)),!l||g<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),B0(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},B0(a);a.state={style:c?Vl({},c,u):u}}else a.state={style:{}};return a}return Ire(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!o){var g={style:c?Vl({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(g);return}if(!(qte(i.to,d)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=b||u?f:i.to;if(this.state&&h){var v={style:c?Vl({},c,y):y};(c&&h[c]!==y||!c&&h!==y)&&this.setState(v)}this.runAnimation(pn(pn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=_re(o,l,dre(u),c,this.changeStyle),b=function(){a.stopJSAnimation=g()};this.manager.start([h,d,b,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,g=function(y,v,x){if(x===0)return y;var _=v.duration,w=v.easing,k=w===void 0?"ease":w,S=v.style,N=v.properties,E=v.onAnimationEnd,C=x>0?o[x-1]:v,A=N||Object.keys(S);if(typeof k=="function"||k==="spring")return[].concat(Sg(y),[a.runJSAnimation.bind(a,{from:C.style,to:S,duration:_,easing:k}),_]);var I=UN(A,_,k),$=pn(pn(pn({},C.style),S),{},{transition:I});return[].concat(Sg(y),[$,_,E]).filter(Zte)};return this.manager.start([c].concat(Sg(o.reduce(g,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Jte());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=l?Vl({},l,c):c,v=UN(Object.keys(y),o,u);b.start([d,a,pn(pn({},y),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Nre(i,Sre),u=T.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(g){var b=g.props,y=b.style,v=y===void 0?{}:y,x=b.className,_=T.cloneElement(g,pn(pn({},c),{},{style:pn(pn({},v),d),className:x}));return _};return u===1?f(T.Children.only(a)):L.createElement("div",null,T.Children.map(a,function(h){return f(h)}))}}]),r}(T.PureComponent);zn.displayName="Animate";zn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zn.propTypes={from:Je.oneOfType([Je.object,Je.string]),to:Je.oneOfType([Je.object,Je.string]),attributeName:Je.string,duration:Je.number,begin:Je.number,easing:Je.oneOfType([Je.string,Je.func]),steps:Je.arrayOf(Je.shape({duration:Je.number.isRequired,style:Je.object.isRequired,easing:Je.oneOfType([Je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Je.func]),properties:Je.arrayOf("string"),onAnimationEnd:Je.func})),children:Je.oneOfType([Je.node,Je.func]),isActive:Je.bool,canBegin:Je.bool,onAnimationEnd:Je.func,shouldReAnimate:Je.bool,onAnimationStart:Je.func,onAnimationReStart:Je.func};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mh.apply(this,arguments)}function Dre(t,e){return Bre(t)||Fre(t,e)||Ure(t,e)||Lre()}function Lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ure(t,e){if(t){if(typeof t=="string")return HN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(t,e)}}function HN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Bre(t){if(Array.isArray(t))return t}function zN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(r),!0).forEach(function(n){qre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qre(t,e,r){return e=Vre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vre(t){var e=Gre(t,"string");return fu(e)=="symbol"?e:e+""}function Gre(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KN=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=a[h]>o?o:a[h];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+i)),d+="L ".concat(e+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);d="M ".concat(e,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+c*b,",").concat(r,`
            L `).concat(e+n-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*b,`
            L `).concat(e+n,",").concat(r+i-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+n-c*b,",").concat(r+i,`
            L `).concat(e+c*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(r+i-l*b," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Hre=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},zre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jb=function(e){var r=WN(WN({},zre),e),n=T.useRef(),i=T.useState(-1),a=Dre(i,2),o=a[0],l=a[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&l(k)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,g=r.className,b=r.animationEasing,y=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,_=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Le("recharts-rectangle",g);return _?L.createElement(zn,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:b,isActive:_},function(k){var S=k.width,N=k.height,E=k.x,C=k.y;return L.createElement(zn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:x,easing:b},L.createElement("path",mh({},Ae(r,!0),{className:w,d:KN(E,C,S,N,h),ref:n})))}):L.createElement("path",mh({},Ae(r,!0),{className:w,d:KN(c,u,d,f,h)}))},Wre=["points","className","baseLinePoints","connectNulls"];function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ho.apply(this,arguments)}function Kre(t,e){if(t==null)return{};var r=Jre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JN(t){return Zre(t)||Qre(t)||Xre(t)||Yre()}function Yre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xre(t,e){if(t){if(typeof t=="string")return V0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V0(t,e)}}function Qre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zre(t){if(Array.isArray(t))return V0(t)}function V0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var YN=function(e){return e&&e.x===+e.x&&e.y===+e.y},ene=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){YN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),YN(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},uc=function(e,r){var n=ene(e);r&&(n=[n.reduce(function(a,o){return[].concat(JN(a),JN(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},tne=function(e,r,n){var i=uc(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(uc(r.reverse(),n).slice(1))},rne=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Kre(e,Wre);if(!r||!r.length)return null;var l=Le("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=tne(r,i,a);return L.createElement("g",{className:l},L.createElement("path",Ho({},Ae(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?L.createElement("path",Ho({},Ae(o,!0),{fill:"none",d:uc(r,a)})):null,c?L.createElement("path",Ho({},Ae(o,!0),{fill:"none",d:uc(i,a)})):null)}var d=uc(r,a);return L.createElement("path",Ho({},Ae(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G0.apply(this,arguments)}var Kp=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Le("recharts-dot",a);return r===+r&&n===+n&&i===+i?T.createElement("circle",G0({},Ae(e,!1),Rf(e),{className:o,cx:r,cy:n,r:i})):null};function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}var nne=["x","y","top","left","width","height","className"];function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H0.apply(this,arguments)}function XN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ine(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(r),!0).forEach(function(n){ane(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ane(t,e,r){return e=one(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function one(t){var e=sne(t,"string");return hu(e)=="symbol"?e:e+""}function sne(t,e){if(hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lne(t,e){if(t==null)return{};var r=cne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var une=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},dne=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,g=h===void 0?0:h,b=e.className,y=lne(e,nne),v=ine({x:n,y:a,top:l,left:u,width:f,height:g},y);return!de(n)||!de(a)||!de(f)||!de(g)||!de(l)||!de(u)?null:L.createElement("path",H0({},Ae(v,!0),{className:Le("recharts-cross",b),d:une(n,a,f,g,l,u)}))},fne=Vp,hne=BP,pne=Yn;function mne(t,e){return t&&t.length?fne(t,pne(e),hne):void 0}var gne=mne;const yne=Xe(gne);var vne=Vp,xne=Yn,bne=qP;function wne(t,e){return t&&t.length?vne(t,xne(e),bne):void 0}var _ne=wne;const Sne=Xe(_ne);var Nne=["cx","cy","angle","ticks","axisLine"],kne=["ticks","tick","angle","tickFormatter","stroke"];function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dc.apply(this,arguments)}function QN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(r),!0).forEach(function(n){Jp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZN(t,e){if(t==null)return{};var r=Ene(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ene(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ek(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PI(n.key),n)}}function Ane(t,e,r){return e&&ek(t.prototype,e),r&&ek(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cne(t,e,r){return e=gh(e),jne(t,jI()?Reflect.construct(e,r||[],gh(t).constructor):e.apply(t,r))}function jne(t,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pne(t)}function Pne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jI=function(){return!!t})()}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gh(t)}function Ine(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z0(t,e)}function Jp(t,e,r){return e=PI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PI(t){var e=One(t,"string");return Ps(e)=="symbol"?e:e+""}function One(t,e){if(Ps(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yp=function(t){function e(){return Tne(this,e),Cne(this,e,arguments)}return Ine(e,t),Ane(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return ot(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=yne(l,function(d){return d.coordinate||0}),u=Sne(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=ZN(n,Nne),d=l.reduce(function(b,y){return[Math.min(b[0],y.coordinate),Math.max(b[1],y.coordinate)]},[1/0,-1/0]),f=ot(i,a,d[0],o),h=ot(i,a,d[1],o),g=ya(ya(ya({},Ae(u,!1)),{},{fill:"none"},Ae(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",dc({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=ZN(i,kne),f=this.getTickTextAnchor(),h=Ae(d,!1),g=Ae(o,!1),b=a.map(function(y,v){var x=n.getTickValueCoord(y),_=ya(ya(ya(ya({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:v},x),{},{payload:y});return L.createElement(ze,dc({className:Le("recharts-polar-radius-axis-tick",gI(o)),key:"tick-".concat(y.coordinate)},Xa(n.props,y,v)),e.renderTickItem(o,_,c?c(y.value,v):y.value))});return L.createElement(ze,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:L.createElement(ze,{className:Le("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Gt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Re(n)?o=n(i):o=L.createElement(Qa,dc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(T.PureComponent);Jp(Yp,"displayName","PolarRadiusAxis");Jp(Yp,"axisType","radiusAxis");Jp(Yp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aa.apply(this,arguments)}function tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(r),!0).forEach(function(n){Xp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OI(n.key),n)}}function Mne(t,e,r){return e&&rk(t.prototype,e),r&&rk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ne(t,e,r){return e=yh(e),Dne(t,II()?Reflect.construct(e,r||[],yh(t).constructor):e.apply(t,r))}function Dne(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lne(t)}function Lne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function II(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(II=function(){return!!t})()}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yh(t)}function Une(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W0(t,e)}function Xp(t,e,r){return e=OI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OI(t){var e=Fne(t,"string");return Is(e)=="symbol"?e:e+""}function Fne(t,e){if(Is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bne=Math.PI/180,nk=1e-5,Qp=function(t){function e(){return Rne(this,e),$ne(this,e,arguments)}return Une(e,t),Mne(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=ot(a,o,l,n.coordinate),h=ot(a,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Bne),o;return a>nk?o=i==="outer"?"start":"end":a<-nk?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=va(va({},Ae(this.props,!1)),{},{fill:"none"},Ae(l,!1));if(c==="circle")return L.createElement(Kp,Aa({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return ot(i,a,o,h.coordinate)});return L.createElement(rne,Aa({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Ae(this.props,!1),f=Ae(o,!1),h=va(va({},d),{},{fill:"none"},Ae(l,!1)),g=a.map(function(b,y){var v=n.getTickLineCoord(b),x=n.getTickTextAnchor(b),_=va(va(va({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:b,x:v.x2,y:v.y2});return L.createElement(ze,Aa({className:Le("recharts-polar-angle-axis-tick",gI(o)),key:"tick-".concat(b.coordinate)},Xa(n.props,b,y)),l&&L.createElement("line",Aa({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&e.renderTickItem(o,_,c?c(b.value,y):b.value))});return L.createElement(ze,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:L.createElement(ze,{className:Le("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Re(n)?o=n(i):o=L.createElement(Qa,Aa({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(T.PureComponent);Xp(Qp,"displayName","PolarAngleAxis");Xp(Qp,"axisType","angleAxis");Xp(Qp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var qne=D2,Vne=qne(Object.getPrototypeOf,Object),Gne=Vne,Hne=ki,zne=Gne,Wne=Ei,Kne="[object Object]",Jne=Function.prototype,Yne=Object.prototype,RI=Jne.toString,Xne=Yne.hasOwnProperty,Qne=RI.call(Object);function Zne(t){if(!Wne(t)||Hne(t)!=Kne)return!1;var e=zne(t);if(e===null)return!0;var r=Xne.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&RI.call(r)==Qne}var eie=Zne;const tie=Xe(eie);var rie=ki,nie=Ei,iie="[object Boolean]";function aie(t){return t===!0||t===!1||nie(t)&&rie(t)==iie}var oie=aie;const sie=Xe(oie);function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vh.apply(this,arguments)}function lie(t,e){return fie(t)||die(t,e)||uie(t,e)||cie()}function cie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uie(t,e){if(t){if(typeof t=="string")return ik(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ik(t,e)}}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function die(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function fie(t){if(Array.isArray(t))return t}function ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ok(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(r),!0).forEach(function(n){hie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hie(t,e,r){return e=pie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pie(t){var e=mie(t,"string");return pu(e)=="symbol"?e:e+""}function mie(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sk=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},gie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yie=function(e){var r=ok(ok({},gie),e),n=T.useRef(),i=T.useState(-1),a=lie(i,2),o=a[0],l=a[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,g=r.className,b=r.animationEasing,y=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=Le("recharts-trapezoid",g);return x?L.createElement(zn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:y,animationEasing:b,isActive:x},function(w){var k=w.upperWidth,S=w.lowerWidth,N=w.height,E=w.x,C=w.y;return L.createElement(zn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:b},L.createElement("path",vh({},Ae(r,!0),{className:_,d:sk(E,C,k,S,N),ref:n})))}):L.createElement("g",null,L.createElement("path",vh({},Ae(r,!0),{className:_,d:sk(c,u,d,f,h)})))},vie=["option","shapeType","propTransformer","activeClassName","isActive"];function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function xie(t,e){if(t==null)return{};var r=bie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(r),!0).forEach(function(n){wie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wie(t,e,r){return e=_ie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ie(t){var e=Sie(t,"string");return mu(e)=="symbol"?e:e+""}function Sie(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nie(t,e){return xh(xh({},e),t)}function kie(t,e){return t==="symbols"}function ck(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return L.createElement(jb,r);case"trapezoid":return L.createElement(yie,r);case"sector":return L.createElement(xI,r);case"symbols":if(kie(e))return L.createElement(Jx,r);break;default:return null}}function Eie(t){return T.isValidElement(t)?t.props:t}function MI(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Nie:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=xie(t,vie),u;if(T.isValidElement(e))u=T.cloneElement(e,xh(xh({},c),Eie(e)));else if(Re(e))u=e(c);else if(tie(e)&&!sie(e)){var d=i(e,c);u=L.createElement(ck,{shapeType:r,elementProps:d})}else{var f=c;u=L.createElement(ck,{shapeType:r,elementProps:f})}return l?L.createElement(ze,{className:o},u):u}function Zp(t,e){return e!=null&&"trapezoids"in t.props}function em(t,e){return e!=null&&"sectors"in t.props}function gu(t,e){return e!=null&&"points"in t.props}function Tie(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Aie(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Cie(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function jie(t,e){var r;return Zp(t,e)?r=Tie:em(t,e)?r=Aie:gu(t,e)&&(r=Cie),r}function Pie(t,e){var r;return Zp(t,e)?r="trapezoids":em(t,e)?r="sectors":gu(t,e)&&(r="points"),r}function Iie(t,e){if(Zp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(em(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return gu(t,e)?e.payload:{}}function Oie(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Pie(r,e),a=Iie(r,e),o=n.filter(function(c,u){var d=qu(a,c),f=r.props[i].filter(function(b){var y=jie(r,e);return y(b,e)}),h=r.props[i].indexOf(f[f.length-1]),g=u===h;return d&&g}),l=n.indexOf(o[o.length-1]);return l}var zd;function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function zo(){return zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zo.apply(this,arguments)}function uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(r),!0).forEach(function(n){en(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DI(n.key),n)}}function Mie(t,e,r){return e&&dk(t.prototype,e),r&&dk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ie(t,e,r){return e=bh(e),Die(t,$I()?Reflect.construct(e,r||[],bh(t).constructor):e.apply(t,r))}function Die(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lie(t)}function Lie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($I=function(){return!!t})()}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bh(t)}function Uie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K0(t,e)}function en(t,e,r){return e=DI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DI(t){var e=Fie(t,"string");return Os(e)=="symbol"?e:e+""}function Fie(t,e){if(Os(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wn=function(t){function e(r){var n;return Rie(this,e),n=$ie(this,e,[r]),en(n,"pieRef",null),en(n,"sectorRefs",[]),en(n,"id",nl("recharts-pie-")),en(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Re(i)&&i()}),en(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Re(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Uie(e,t),Mie(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=Ae(this.props,!1),f=Ae(o,!1),h=Ae(l,!1),g=o&&o.offsetRadius||20,b=n.map(function(y,v){var x=(y.startAngle+y.endAngle)/2,_=ot(y.cx,y.cy,y.outerRadius+g,x),w=nt(nt(nt(nt({},d),y),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(_.x,y.cx)},_),k=nt(nt(nt(nt({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:v,points:[ot(y.cx,y.cy,y.outerRadius,x),_]}),S=c;return De(c)&&De(u)?S="value":De(c)&&(S=u),L.createElement(ze,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,k,"line"),e.renderLabelItem(o,w,Lt(y,S)))});return L.createElement(ze,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,g=f?o:h,b=nt(nt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return L.createElement(ze,zo({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Xa(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(MI,zo({option:g,isActive:f,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,g=f.prevIsAnimationActive;return L.createElement(zn,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var y=b.t,v=[],x=a&&a[0],_=x.startAngle;return a.forEach(function(w,k){var S=h&&h[k],N=k>0?Ur(w,"paddingAngle",0):0;if(S){var E=Or(S.endAngle-S.startAngle,w.endAngle-w.startAngle),C=nt(nt({},w),{},{startAngle:_+N,endAngle:_+E(y)+N});v.push(C),_=C.endAngle}else{var A=w.endAngle,I=w.startAngle,$=Or(0,A-I),U=$(y),O=nt(nt({},w),{},{startAngle:_+N,endAngle:_+U+N});v.push(O),_=O.endAngle}}),L.createElement(ze,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!qu(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,b=this.state.isAnimationFinished;if(a||!o||!o.length||!de(u)||!de(d)||!de(f)||!de(h))return null;var y=Le("recharts-pie",l);return L.createElement(ze,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Gt.renderCallByParent(this.props,null,!1),(!g||b)&&fi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);if(Re(n))return n(i);var o=Le("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(uh,zo({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);var o=a;if(Re(n)&&(o=n(i),L.isValidElement(o)))return o;var l=Le("recharts-pie-label-text",typeof n!="boolean"&&!Re(n)?n.className:"");return L.createElement(Qa,zo({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(T.PureComponent);zd=Wn;en(Wn,"displayName","Pie");en(Wn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!lo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});en(Wn,"parseDeltaAngle",function(t,e){var r=hr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});en(Wn,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ae(t,!1),i=Fr(r,zc);return e&&e.length?e.map(function(a,o){return nt(nt(nt({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return nt(nt({},n),a.props)}):[]});en(Wn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=mI(i,a),l=n+pr(t.cx,i,i/2),c=r+pr(t.cy,a,a/2),u=pr(t.innerRadius,o,0),d=pr(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});en(Wn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?nt(nt({},e.type.defaultProps),e.props):e.props,i=zd.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,g=Math.abs(n.minAngle),b=zd.parseCoordinateOfPie(n,r),y=zd.parseDeltaAngle(o,l),v=Math.abs(y),x=u;De(u)&&De(f)?(En(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):De(u)&&(En(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var _=i.filter(function(C){return Lt(C,x,0)!==0}).length,w=(v>=360?_:_-1)*c,k=v-_*g-w,S=i.reduce(function(C,A){var I=Lt(A,x,0);return C+(de(I)?I:0)},0),N;if(S>0){var E;N=i.map(function(C,A){var I=Lt(C,x,0),$=Lt(C,d,A),U=(de(I)?I:0)/S,O;A?O=E.endAngle+hr(y)*c*(I!==0?1:0):O=o;var R=O+hr(y)*((I!==0?g:0)+U*k),P=(O+R)/2,D=(b.innerRadius+b.outerRadius)/2,q=[{name:$,value:I,payload:C,dataKey:x,type:h}],B=ot(b.cx,b.cy,D,P);return E=nt(nt(nt({percent:U,cornerRadius:a,name:$,tooltipPayload:q,midAngle:P,middleRadius:D,tooltipPosition:B},C),b),{},{value:Lt(C,x),startAngle:O,endAngle:R,payload:C,paddingAngle:hr(y)*c}),E})}return nt(nt({},b),{},{sectors:N,data:i})});var Bie=Math.ceil,qie=Math.max;function Vie(t,e,r,n){for(var i=-1,a=qie(Bie((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Gie=Vie,Hie=rP,fk=1/0,zie=17976931348623157e292;function Wie(t){if(!t)return t===0?t:0;if(t=Hie(t),t===fk||t===-fk){var e=t<0?-1:1;return e*zie}return t===t?t:0}var LI=Wie,Kie=Gie,Jie=$p,Ng=LI;function Yie(t){return function(e,r,n){return n&&typeof n!="number"&&Jie(e,r,n)&&(r=n=void 0),e=Ng(e),r===void 0?(r=e,e=0):r=Ng(r),n=n===void 0?e<r?1:-1:Ng(n),Kie(e,r,n,t)}}var Xie=Yie,Qie=Xie,Zie=Qie(),eae=Zie;const wh=Xe(eae);function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){UI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UI(t,e,r){return e=tae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tae(t){var e=rae(t,"string");return yu(e)=="symbol"?e:e+""}function rae(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nae=["Webkit","Moz","O","ms"],iae=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=nae.reduce(function(a,o){return pk(pk({},a),{},UI({},o+n,r))},{});return i[e]=r,i};function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_h.apply(this,arguments)}function mk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(r),!0).forEach(function(n){jr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BI(n.key),n)}}function oae(t,e,r){return e&&gk(t.prototype,e),r&&gk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sae(t,e,r){return e=Sh(e),lae(t,FI()?Reflect.construct(e,r||[],Sh(t).constructor):e.apply(t,r))}function lae(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cae(t)}function cae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FI=function(){return!!t})()}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sh(t)}function uae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J0(t,e)}function jr(t,e,r){return e=BI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BI(t){var e=dae(t,"string");return Rs(e)=="symbol"?e:e+""}function dae(t,e){if(Rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fae=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=sc().domain(wh(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},yk=function(e){return e.changedTouches&&!!e.changedTouches.length},Ms=function(t){function e(r){var n;return aae(this,e),n=sae(this,e,[r]),jr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),jr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),jr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),jr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),jr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),jr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),jr(n,"handleSlideDragStart",function(i){var a=yk(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return uae(e,t),oae(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),g=e.getIndexInRange(o,f),b=e.getIndexInRange(o,h);return{startIndex:g-g%c,endIndex:b===d?d:b-b%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Lt(a[n],l,n);return Re(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,g=c.endIndex,b=c.onChange,y=n.pageX-a;y>0?y=Math.min(y,u+d-f-l,u+d-f-o):y<0&&(y=Math.max(y,u-o,u-l));var v=this.getIndex({startX:o+y,endX:l+y});(v.startIndex!==h||v.endIndex!==g)&&b&&b(v),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=yk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,b=d.onChange,y=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},_=n.pageX-a;_>0?_=Math.min(_,f+h-g-u):_<0&&(_=Math.max(_,f-u)),x[o]=u+_;var w=this.getIndex(x),k=w.startIndex,S=w.endIndex,N=function(){var C=v.length-1;return o==="startX"&&(l>c?k%y===0:S%y===0)||l<c&&S===C||o==="endX"&&(l>c?S%y===0:k%y===0)||l>c&&S===C};this.setState(jr(jr({},o,u+_),"brushMoveStartX",n.pageX),function(){b&&N()&&b(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var g=l[h];i==="startX"&&g>=u||i==="endX"&&g<=c||this.setState(jr({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=T.Children.only(u);return f?L.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,g=c.ariaLabel,b=c.data,y=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),_=kg(kg({},Ae(this.props,!1)),{},{x,y:u,width:d,height:f}),w=g||"Min value: ".concat((a=b[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=b[v])===null||o===void 0?void 0:o.name);return L.createElement(ze,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,g=5,b={pointerEvents:"none",fill:u};return L.createElement(ze,{className:"recharts-brush-texts"},L.createElement(Qa,_h({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:o+l/2},b),this.getTextOfTick(i)),L.createElement(Qa,_h({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+g,y:o+l/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,g=h.startX,b=h.endX,y=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!de(l)||!de(c)||!de(u)||!de(d)||u<=0||d<=0)return null;var w=Le("recharts-brush",a),k=L.Children.count(o)===1,S=iae("userSelect","none");return L.createElement(ze,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(g,b),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(b,"endX"),(y||v||x||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return L.isValidElement(n)?a=L.cloneElement(n,i):Re(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return kg({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?fae({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(T.PureComponent);jr(Ms,"displayName","Brush");jr(Ms,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hae=rb;function pae(t,e){var r;return hae(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var mae=pae,gae=C2,yae=Yn,vae=mae,xae=Tr,bae=$p;function wae(t,e,r){var n=xae(t)?gae:vae;return r&&bae(t,e,r)&&(e=void 0),n(t,yae(e))}var _ae=wae;const Sae=Xe(_ae);var Gn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},vk=X2;function Nae(t,e,r){e=="__proto__"&&vk?vk(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var kae=Nae,Eae=kae,Tae=J2,Aae=Yn;function Cae(t,e){var r={};return e=Aae(e),Tae(t,function(n,i,a){Eae(r,i,e(n,i,a))}),r}var jae=Cae;const Pae=Xe(jae);function Iae(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Oae=Iae,Rae=rb;function Mae(t,e){var r=!0;return Rae(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var $ae=Mae,Dae=Oae,Lae=$ae,Uae=Yn,Fae=Tr,Bae=$p;function qae(t,e,r){var n=Fae(t)?Dae:Lae;return r&&Bae(t,e,r)&&(e=void 0),n(t,Uae(e))}var Vae=qae;const qI=Xe(Vae);var Gae=["x","y"];function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y0.apply(this,arguments)}function xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(r),!0).forEach(function(n){Hae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hae(t,e,r){return e=zae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zae(t){var e=Wae(t,"string");return vu(e)=="symbol"?e:e+""}function Wae(t,e){if(vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kae(t,e){if(t==null)return{};var r=Jae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yae(t,e){var r=t.x,n=t.y,i=Kae(t,Gae),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Rl(Rl(Rl(Rl(Rl({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function bk(t){return L.createElement(MI,Y0({shapeType:"rectangle",propTransformer:Yae,activeClassName:"recharts-active-bar"},t))}var Xae=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=de(n)||v6(n);return a?e(n,i):(a||eo(),r)}},Qae=["value","background"],VI;function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function Zae(t,e){if(t==null)return{};var r=eoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nh.apply(this,arguments)}function wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(r),!0).forEach(function(n){Hi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function toe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HI(n.key),n)}}function roe(t,e,r){return e&&_k(t.prototype,e),r&&_k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function noe(t,e,r){return e=kh(e),ioe(t,GI()?Reflect.construct(e,r||[],kh(t).constructor):e.apply(t,r))}function ioe(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aoe(t)}function aoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GI=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kh(t)}function ooe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X0(t,e)}function X0(t,e){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X0(t,e)}function Hi(t,e,r){return e=HI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HI(t){var e=soe(t,"string");return $s(e)=="symbol"?e:e+""}function soe(t,e){if($s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kn=function(t){function e(){var r;toe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=noe(this,e,[].concat(i)),Hi(r,"state",{isAnimationFinished:!1}),Hi(r,"id",nl("recharts-bar-")),Hi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Hi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ooe(e,t),roe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Ae(this.props,!1);return n&&n.map(function(f,h){var g=h===c,b=g?u:o,y=Tt(Tt(Tt({},d),f),{},{isActive:g,option:b,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(ze,Nh({className:"recharts-bar-rectangle"},Xa(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),L.createElement(bk,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return L.createElement(zn,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var b=g.t,y=a.map(function(v,x){var _=h&&h[x];if(_){var w=Or(_.x,v.x),k=Or(_.y,v.y),S=Or(_.width,v.width),N=Or(_.height,v.height);return Tt(Tt({},v),{},{x:w(b),y:k(b),width:S(b),height:N(b)})}if(o==="horizontal"){var E=Or(0,v.height),C=E(b);return Tt(Tt({},v),{},{y:v.y+v.height-C,height:C})}var A=Or(0,v.width),I=A(b);return Tt(Tt({},v),{},{width:I})});return L.createElement(ze,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!qu(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Ae(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=Zae(u,Qae);if(!f)return null;var g=Tt(Tt(Tt(Tt(Tt({},h),{},{fill:"#eee"},f),c),Xa(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(bk,Nh({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Fr(d,Vu);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,g=function(v,x){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Lt(v,x)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(ze,b,f.map(function(y){return L.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,g=n.isAnimationActive,b=n.background,y=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=Le("recharts-bar",o),_=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,k=_||w,S=De(y)?this.id:y;return L.createElement(ze,{className:x},_||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(S)},L.createElement("rect",{x:_?u:u-f/2,y:w?d:d-h/2,width:_?f:f*2,height:w?h:h*2}))):null,L.createElement(ze,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(S,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,S),(!g||v)&&fi.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(T.PureComponent);VI=Kn;Hi(Kn,"displayName","Bar");Hi(Kn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!lo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hi(Kn,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,g=DZ(n,r);if(!g)return null;var b=e.layout,y=r.type.defaultProps,v=y!==void 0?Tt(Tt({},y),r.props):r.props,x=v.dataKey,_=v.children,w=v.minPointSize,k=b==="horizontal"?o:a,S=u?k.scale.domain():null,N=GZ({numericAxis:k}),E=Fr(_,zc),C=f.map(function(A,I){var $,U,O,R,P,D;u?$=LZ(u[d+I],S):($=Lt(A,x),Array.isArray($)||($=[N,$]));var q=Xae(w,VI.defaultProps.minPointSize)($[1],I);if(b==="horizontal"){var B,W=[o.scale($[0]),o.scale($[1])],J=W[0],te=W[1];U=pN({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:A,index:I}),O=(B=te??J)!==null&&B!==void 0?B:void 0,R=g.size;var Q=J-te;if(P=Number.isNaN(Q)?0:Q,D={x:U,y:o.y,width:R,height:o.height},Math.abs(q)>0&&Math.abs(P)<Math.abs(q)){var ge=hr(P||q)*(Math.abs(q)-Math.abs(P));O-=ge,P+=ge}}else{var M=[a.scale($[0]),a.scale($[1])],Z=M[0],ue=M[1];if(U=Z,O=pN({axis:o,ticks:c,bandSize:i,offset:g.offset,entry:A,index:I}),R=ue-Z,P=g.size,D={x:a.x,y:O,width:a.width,height:P},Math.abs(q)>0&&Math.abs(R)<Math.abs(q)){var ve=hr(R||q)*(Math.abs(q)-Math.abs(R));R+=ve}}return Tt(Tt(Tt({},A),{},{x:U,y:O,width:R,height:P,value:u?$:$[1],payload:A,background:D},E&&E[I]&&E[I].props),{},{tooltipPayload:[hI(r,A)],tooltipPosition:{x:U+R/2,y:O+P/2}})});return Tt({data:C,layout:b},h)});function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function loe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zI(n.key),n)}}function coe(t,e,r){return e&&Sk(t.prototype,e),r&&Sk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(r),!0).forEach(function(n){tm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tm(t,e,r){return e=zI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zI(t){var e=uoe(t,"string");return xu(e)=="symbol"?e:e+""}function uoe(t,e){if(xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WI=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ir(u,Kn);return d.reduce(function(g,b){var y=r[b],v=y.orientation,x=y.domain,_=y.padding,w=_===void 0?{}:_,k=y.mirror,S=y.reversed,N="".concat(v).concat(k?"Mirror":""),E,C,A,I,$;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var U=x[1]-x[0],O=1/0,R=y.categoricalDomain.sort(w6);if(R.forEach(function(M,Z){Z>0&&(O=Math.min((M||0)-(R[Z-1]||0),O))}),Number.isFinite(O)){var P=O/U,D=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(E=P*D/2),y.padding==="no-gap"){var q=pr(e.barCategoryGap,P*D),B=P*D/2;E=B-q-(B-q)/D*q}}}i==="xAxis"?C=[n.left+(w.left||0)+(E||0),n.left+n.width-(w.right||0)-(E||0)]:i==="yAxis"?C=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(E||0),n.top+n.height-(w.bottom||0)-(E||0)]:C=y.range,S&&(C=[C[1],C[0]]);var W=cI(y,a,h),J=W.scale,te=W.realScaleType;J.domain(x).range(C),uI(J);var Q=dI(J,bn(bn({},y),{},{realScaleType:te}));i==="xAxis"?($=v==="top"&&!k||v==="bottom"&&k,A=n.left,I=f[N]-$*y.height):i==="yAxis"&&($=v==="left"&&!k||v==="right"&&k,A=f[N]-$*y.width,I=n.top);var ge=bn(bn(bn({},y),Q),{},{realScaleType:te,x:A,y:I,scale:J,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return ge.bandSize=sh(ge,Q),!y.hide&&i==="xAxis"?f[N]+=($?-1:1)*ge.height:y.hide||(f[N]+=($?-1:1)*ge.width),bn(bn({},g),{},tm({},b,ge))},{})},KI=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},doe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return KI({x:r,y:n},{x:i,y:a})},JI=function(){function t(e){loe(this,t),this.scale=e}return coe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();tm(JI,"EPS",1e-4);var Pb=function(e){var r=Object.keys(e).reduce(function(n,i){return bn(bn({},n),{},tm({},i,JI.create(e[i])))},{});return bn(bn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return Pae(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return qI(i,function(a,o){return r[o].isInRange(a)})}})};function foe(t){return(t%180+180)%180}var hoe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=foe(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},poe=Yn,moe=Du,goe=Rp;function yoe(t){return function(e,r,n){var i=Object(e);if(!moe(e)){var a=poe(r);e=goe(e),r=function(l){return a(i[l],l,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var voe=yoe,xoe=LI;function boe(t){var e=xoe(t),r=e%1;return e===e?r?e-r:e:0}var woe=boe,_oe=V2,Soe=Yn,Noe=woe,koe=Math.max;function Eoe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Noe(r);return i<0&&(i=koe(n+i,0)),_oe(t,Soe(e),i)}var Toe=Eoe,Aoe=voe,Coe=Toe,joe=Aoe(Coe),Poe=joe;const Ioe=Xe(Poe);var Ooe=NB(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Ib=T.createContext(void 0),Ob=T.createContext(void 0),YI=T.createContext(void 0),XI=T.createContext({}),QI=T.createContext(void 0),ZI=T.createContext(0),eO=T.createContext(0),kk=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=Ooe(a);return L.createElement(Ib.Provider,{value:n},L.createElement(Ob.Provider,{value:i},L.createElement(XI.Provider,{value:a},L.createElement(YI.Provider,{value:d},L.createElement(QI.Provider,{value:o},L.createElement(ZI.Provider,{value:u},L.createElement(eO.Provider,{value:c},l)))))))},Roe=function(){return T.useContext(QI)},tO=function(e){var r=T.useContext(Ib);r==null&&eo();var n=r[e];return n==null&&eo(),n},Moe=function(){var e=T.useContext(Ib);return Bi(e)},$oe=function(){var e=T.useContext(Ob),r=Ioe(e,function(n){return qI(n.domain,Number.isFinite)});return r||Bi(e)},rO=function(e){var r=T.useContext(Ob);r==null&&eo();var n=r[e];return n==null&&eo(),n},Doe=function(){var e=T.useContext(YI);return e},Loe=function(){return T.useContext(XI)},Rb=function(){return T.useContext(eO)},Mb=function(){return T.useContext(ZI)};function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function Uoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Foe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iO(n.key),n)}}function Boe(t,e,r){return e&&Foe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qoe(t,e,r){return e=Eh(e),Voe(t,nO()?Reflect.construct(e,r||[],Eh(t).constructor):e.apply(t,r))}function Voe(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Goe(t)}function Goe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nO=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eh(t)}function Hoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q0(t,e)}function Q0(t,e){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q0(t,e)}function Ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(r),!0).forEach(function(n){$b(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ek(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $b(t,e,r){return e=iO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iO(t){var e=zoe(t,"string");return Ds(e)=="symbol"?e:e+""}function zoe(t,e){if(Ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Woe(t,e){return Xoe(t)||Yoe(t,e)||Joe(t,e)||Koe()}function Koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Joe(t,e){if(t){if(typeof t=="string")return Ak(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ak(t,e)}}function Ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Xoe(t){if(Array.isArray(t))return t}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z0.apply(this,arguments)}var Qoe=function(e,r){var n;return L.isValidElement(e)?n=L.cloneElement(e,r):Re(e)?n=e(r):n=L.createElement("line",Z0({},r,{className:"recharts-reference-line-line"})),n},Zoe=function(e,r,n,i,a,o,l,c,u){var d=a.x,f=a.y,h=a.width,g=a.height;if(n){var b=u.y,y=e.y.apply(b,{position:o});if(Gn(u,"discard")&&!e.y.isInRange(y))return null;var v=[{x:d+h,y},{x:d,y}];return c==="left"?v.reverse():v}if(r){var x=u.x,_=e.x.apply(x,{position:o});if(Gn(u,"discard")&&!e.x.isInRange(_))return null;var w=[{x:_,y:f+g},{x:_,y:f}];return l==="top"?w.reverse():w}if(i){var k=u.segment,S=k.map(function(N){return e.apply(N,{position:o})});return Gn(u,"discard")&&Sae(S,function(N){return!e.isInRange(N)})?null:S}return null};function ese(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Roe(),d=tO(i),f=rO(a),h=Doe();if(!u||!h)return null;En(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Pb({x:d.scale,y:f.scale}),b=Ft(e),y=Ft(r),v=n&&n.length===2,x=Zoe(g,b,y,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var _=Woe(x,2),w=_[0],k=w.x,S=w.y,N=_[1],E=N.x,C=N.y,A=Gn(t,"hidden")?"url(#".concat(u,")"):void 0,I=Tk(Tk({clipPath:A},Ae(t,!0)),{},{x1:k,y1:S,x2:E,y2:C});return L.createElement(ze,{className:Le("recharts-reference-line",l)},Qoe(o,I),Gt.renderCallByParent(t,doe({x1:k,y1:S,x2:E,y2:C})))}var Db=function(t){function e(){return Uoe(this,e),qoe(this,e,arguments)}return Hoe(e,t),Boe(e,[{key:"render",value:function(){return L.createElement(ese,this.props)}}])}(L.Component);$b(Db,"displayName","ReferenceLine");$b(Db,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ev.apply(this,arguments)}function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function Ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(r),!0).forEach(function(n){rm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oO(n.key),n)}}function nse(t,e,r){return e&&rse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ise(t,e,r){return e=Th(e),ase(t,aO()?Reflect.construct(e,r||[],Th(t).constructor):e.apply(t,r))}function ase(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ose(t)}function ose(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aO=function(){return!!t})()}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Th(t)}function sse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tv(t,e)}function tv(t,e){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tv(t,e)}function rm(t,e,r){return e=oO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oO(t){var e=lse(t,"string");return Ls(e)=="symbol"?e:e+""}function lse(t,e){if(Ls(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cse=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=Pb({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Gn(e,"discard")&&!o.isInRange(l)?null:l},nm=function(t){function e(){return tse(this,e),ise(this,e,arguments)}return sse(e,t),nse(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ft(i),d=Ft(a);if(En(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=cse(this.props);if(!f)return null;var h=f.x,g=f.y,b=this.props,y=b.shape,v=b.className,x=Gn(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=jk(jk({clipPath:x},Ae(this.props,!0)),{},{cx:h,cy:g});return L.createElement(ze,{className:Le("recharts-reference-dot",v)},e.renderDot(y,_),Gt.renderCallByParent(this.props,{x:h-o,y:g-o,width:2*o,height:2*o}))}}])}(L.Component);rm(nm,"displayName","ReferenceDot");rm(nm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});rm(nm,"renderDot",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):Re(t)?r=t(e):r=L.createElement(Kp,ev({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rv.apply(this,arguments)}function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function Pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ik(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(r),!0).forEach(function(n){im(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function use(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lO(n.key),n)}}function fse(t,e,r){return e&&dse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hse(t,e,r){return e=Ah(e),pse(t,sO()?Reflect.construct(e,r||[],Ah(t).constructor):e.apply(t,r))}function pse(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mse(t)}function mse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sO=function(){return!!t})()}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(t)}function gse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nv(t,e)}function nv(t,e){return nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nv(t,e)}function im(t,e,r){return e=lO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lO(t){var e=yse(t,"string");return Us(e)=="symbol"?e:e+""}function yse(t,e){if(Us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vse=function(e,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=Pb({x:d.scale,y:f.scale}),g={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},b={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Gn(a,"discard")&&(!h.isInRange(g)||!h.isInRange(b))?null:KI(g,b)},am=function(t){function e(){return use(this,e),hse(this,e,arguments)}return gse(e,t),fse(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;En(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ft(i),h=Ft(a),g=Ft(o),b=Ft(l),y=this.props.shape;if(!f&&!h&&!g&&!b&&!y)return null;var v=vse(f,h,g,b,this.props);if(!v&&!y)return null;var x=Gn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(ze,{className:Le("recharts-reference-area",c)},e.renderRect(y,Ik(Ik({clipPath:x},Ae(this.props,!0)),v)),Gt.renderCallByParent(this.props,v))}}])}(L.Component);im(am,"displayName","ReferenceArea");im(am,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});im(am,"renderRect",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):Re(t)?r=t(e):r=L.createElement(jb,rv({},e,{className:"recharts-reference-area-rect"})),r});function cO(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function xse(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return hoe(n,r)}function bse(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Ch(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function wse(t,e){return cO(t,e+1)}function _se(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var b=n==null?void 0:n[c];if(b===void 0)return{v:cO(n,u)};var y=c,v,x=function(){return v===void 0&&(v=r(b,y)),v},_=b.coordinate,w=c===0||Ch(t,_,x,d,l);w||(c=0,d=o,u+=1),w&&(d=_+t*(x()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function Ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(r),!0).forEach(function(n){Sse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sse(t,e,r){return e=Nse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nse(t){var e=kse(t,"string");return bu(e)=="symbol"?e:e+""}function kse(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ese(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(h){var g=a[h],b,y=function(){return b===void 0&&(b=r(g,h)),b};if(h===o-1){var v=t*(g.coordinate+t*y()/2-c);a[h]=g=ar(ar({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else a[h]=g=ar(ar({},g),{},{tickCoord:g.coordinate});var x=Ch(t,g.tickCoord,y,l,c);x&&(c=g.tickCoord-t*(y()/2+i),a[h]=ar(ar({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function Tse(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var d=n[l-1],f=r(d,l-1),h=t*(d.coordinate+t*f/2-u);o[l-1]=d=ar(ar({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var g=Ch(t,d.tickCoord,function(){return f},c,u);g&&(u=d.tickCoord-t*(f/2+i),o[l-1]=ar(ar({},d),{},{isShow:!0}))}for(var b=a?l-1:l,y=function(_){var w=o[_],k,S=function(){return k===void 0&&(k=r(w,_)),k};if(_===0){var N=t*(w.coordinate-t*S()/2-c);o[_]=w=ar(ar({},w),{},{tickCoord:N<0?w.coordinate-N*t:w.coordinate})}else o[_]=w=ar(ar({},w),{},{tickCoord:w.coordinate});var E=Ch(t,w.tickCoord,S,c,u);E&&(c=w.tickCoord+t*(S()/2+i),o[_]=ar(ar({},w),{},{isShow:!0}))},v=0;v<b;v++)y(v);return o}function Lb(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(de(c)||lo.isSsr)return wse(i,typeof c=="number"&&de(c)?c:0);var h=[],g=l==="top"||l==="bottom"?"width":"height",b=d&&g==="width"?oc(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(w,k){var S=Re(u)?u(w.value,k):w.value;return g==="width"?xse(oc(S,{fontSize:e,letterSpacing:r}),b,f):oc(S,{fontSize:e,letterSpacing:r})[g]},v=i.length>=2?hr(i[1].coordinate-i[0].coordinate):1,x=bse(a,v,g);return c==="equidistantPreserveStart"?_se(v,x,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Tse(v,x,y,i,o,c==="preserveStartEnd"):h=Ese(v,x,y,i,o),h.filter(function(_){return _.isShow}))}var Ase=["viewBox"],Cse=["viewBox"],jse=["ticks"];function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wo.apply(this,arguments)}function Rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(r),!0).forEach(function(n){Ub(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eg(t,e){if(t==null)return{};var r=Pse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ise(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dO(n.key),n)}}function Ose(t,e,r){return e&&Mk(t.prototype,e),r&&Mk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rse(t,e,r){return e=jh(e),Mse(t,uO()?Reflect.construct(e,r||[],jh(t).constructor):e.apply(t,r))}function Mse(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $se(t)}function $se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uO=function(){return!!t})()}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jh(t)}function Dse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iv(t,e)}function iv(t,e){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iv(t,e)}function Ub(t,e,r){return e=dO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dO(t){var e=Lse(t,"string");return Fs(e)=="symbol"?e:e+""}function Lse(t,e){if(Fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ul=function(t){function e(r){var n;return Ise(this,e),n=Rse(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Dse(e,t),Ose(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Eg(n,Ase),l=this.props,c=l.viewBox,u=Eg(l,Cse);return!is(a,c)||!is(o,u)||!is(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,g,b,y,v,x,_,w=f?-1:1,k=n.tickSize||d,S=de(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=b=n.coordinate,v=o+ +!f*c,y=v-w*k,_=y-w*h,x=S;break;case"left":y=v=n.coordinate,b=a+ +!f*l,g=b-w*k,x=g-w*h,_=S;break;case"right":y=v=n.coordinate,b=a+ +f*l,g=b+w*k,x=g+w*h,_=S;break;default:g=b=n.coordinate,v=o+ +f*c,y=v+w*k,_=y+w*h,x=S;break}return{line:{x1:g,y1:y,x2:b,y2:v},tick:{x,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ot(Ot(Ot({},Ae(this.props,!1)),Ae(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ot(Ot({},f),{},{x1:i,y1:a+h*l,x2:i+o,y2:a+h*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);f=Ot(Ot({},f),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+l})}return L.createElement("line",Wo({},f,{className:Le("recharts-cartesian-axis-line",Ur(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,g=Lb(Ot(Ot({},this.props),{},{ticks:n}),i,a),b=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=Ae(this.props,!1),x=Ae(d,!1),_=Ot(Ot({},v),{},{fill:"none"},Ae(c,!1)),w=g.map(function(k,S){var N=o.getTickLineCoord(k),E=N.line,C=N.tick,A=Ot(Ot(Ot(Ot({textAnchor:b,verticalAnchor:y},v),{},{stroke:"none",fill:u},x),C),{},{index:S,payload:k,visibleTicksCount:g.length,tickFormatter:f});return L.createElement(ze,Wo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Xa(o.props,k,S)),c&&L.createElement("line",Wo({},_,E,{className:Le("recharts-cartesian-axis-tick-line",Ur(c,"className"))})),d&&e.renderTickItem(d,A,"".concat(Re(f)?f(k.value,S):k.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,g=Eg(f,jse),b=h;return Re(c)&&(b=h&&h.length>0?c(this.props):c(g)),o<=0||l<=0||!b||!b.length?null:L.createElement(ze,{className:Le("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Gt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=Le(i.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(n)?o=L.cloneElement(n,Ot(Ot({},i),{},{className:l})):Re(n)?o=n(Ot(Ot({},i),{},{className:l})):o=L.createElement(Qa,Wo({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(T.Component);Ub(ul,"displayName","CartesianAxis");Ub(ul,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Use=["x1","y1","x2","y2","key"],Fse=["offset"];function to(t){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},to(t)}function $k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(r),!0).forEach(function(n){Bse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bse(t,e,r){return e=qse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qse(t){var e=Vse(t,"string");return to(e)=="symbol"?e:e+""}function Vse(t,e){if(to(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Da(){return Da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Da.apply(this,arguments)}function Dk(t,e){if(t==null)return{};var r=Gse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Hse=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return L.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function fO(t,e){var r;if(L.isValidElement(t))r=L.cloneElement(t,e);else if(Re(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=Dk(e,Use),u=Ae(c,!1);u.offset;var d=Dk(u,Fse);r=L.createElement("line",Da({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function zse(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=sr(sr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return fO(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Wse(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=sr(sr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return fO(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Kse(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var b=!d[g+1],y=b?i+o-h:d[g+1]-h;if(y<=0)return null;var v=g%e.length;return L.createElement("rect",{key:"react-".concat(g),y:h,x:n,height:y,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Jse(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,g){return h-g});a!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var b=!d[g+1],y=b?a+l-h:d[g+1]-h;if(y<=0)return null;var v=g%n.length;return L.createElement("rect",{key:"react-".concat(g),x:h,y:o,width:y,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Yse=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return lI(Lb(sr(sr(sr({},ul.defaultProps),n),{},{ticks:si(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Xse=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return lI(Lb(sr(sr(sr({},ul.defaultProps),n),{},{ticks:si(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},ko={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Bs(t){var e,r,n,i,a,o,l=Rb(),c=Mb(),u=Loe(),d=sr(sr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ko.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ko.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ko.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ko.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ko.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ko.verticalFill,x:de(t.x)?t.x:u.left,y:de(t.y)?t.y:u.top,width:de(t.width)?t.width:u.width,height:de(t.height)?t.height:u.height}),f=d.x,h=d.y,g=d.width,b=d.height,y=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,_=Moe(),w=$oe();if(!de(g)||g<=0||!de(b)||b<=0||!de(f)||f!==+f||!de(h)||h!==+h)return null;var k=d.verticalCoordinatesGenerator||Yse,S=d.horizontalCoordinatesGenerator||Xse,N=d.horizontalPoints,E=d.verticalPoints;if((!N||!N.length)&&Re(S)){var C=v&&v.length,A=S({yAxis:w?sr(sr({},w),{},{ticks:C?v:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:y);En(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(to(A),"]")),Array.isArray(A)&&(N=A)}if((!E||!E.length)&&Re(k)){var I=x&&x.length,$=k({xAxis:_?sr(sr({},_),{},{ticks:I?x:_.ticks}):void 0,width:l,height:c,offset:u},I?!0:y);En(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(to($),"]")),Array.isArray($)&&(E=$)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(Hse,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(zse,Da({},d,{offset:u,horizontalPoints:N,xAxis:_,yAxis:w})),L.createElement(Wse,Da({},d,{offset:u,verticalPoints:E,xAxis:_,yAxis:w})),L.createElement(Kse,Da({},d,{horizontalPoints:N})),L.createElement(Jse,Da({},d,{verticalPoints:E})))}Bs.displayName="CartesianGrid";var Qse=["type","layout","connectNulls","ref"],Zse=["key"];function qs(t){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function Lk(t,e){if(t==null)return{};var r=ele(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ele(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fc.apply(this,arguments)}function Uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(r),!0).forEach(function(n){wn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eo(t){return ile(t)||nle(t)||rle(t)||tle()}function tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rle(t,e){if(t){if(typeof t=="string")return av(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return av(t,e)}}function nle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ile(t){if(Array.isArray(t))return av(t)}function av(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ale(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pO(n.key),n)}}function ole(t,e,r){return e&&Fk(t.prototype,e),r&&Fk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sle(t,e,r){return e=Ph(e),lle(t,hO()?Reflect.construct(e,r||[],Ph(t).constructor):e.apply(t,r))}function lle(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cle(t)}function cle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hO=function(){return!!t})()}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ph(t)}function ule(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ov(t,e)}function ov(t,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ov(t,e)}function wn(t,e,r){return e=pO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pO(t){var e=dle(t,"string");return qs(e)=="symbol"?e:e+""}function dle(t,e){if(qs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ro=function(t){function e(){var r;ale(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=sle(this,e,[].concat(i)),wn(r,"state",{isAnimationFinished:!0,totalLength:0}),wn(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),wn(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,_){return x+_});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,g=[],b=0,y=0;b<c.length;y+=c[b],++b)if(y+c[b]>f){g=[].concat(Eo(c.slice(0,b)),[f-y]);break}var v=g.length%2===0?[0,h]:[h];return[].concat(Eo(e.repeat(c,d)),Eo(g),v).map(function(x){return"".concat(x,"px")}).join(", ")}),wn(r,"id",nl("recharts-line-")),wn(r,"pathRef",function(o){r.mainCurve=o}),wn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),wn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return ule(e,t),ole(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Fr(d,Vu);if(!f)return null;var h=function(y,v){return{x:y.x,y:y.y,value:y.value,errorVal:Lt(y.payload,v)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(ze,g,f.map(function(b){return L.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Ae(this.props,!1),h=Ae(c,!0),g=u.map(function(y,v){var x=Cr(Cr(Cr({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return e.renderDotItem(c,x)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement(ze,fc({className:"recharts-line-dots",key:"dots"},b),g)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=Lk(l,Qse),h=Cr(Cr(Cr({},Ae(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return L.createElement(uh,fc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,g=o.animationId,b=o.animateNewValues,y=o.width,v=o.height,x=this.state,_=x.prevPoints,w=x.totalLength;return L.createElement(zn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var S=k.t;if(_){var N=_.length/l.length,E=l.map(function(U,O){var R=Math.floor(O*N);if(_[R]){var P=_[R],D=Or(P.x,U.x),q=Or(P.y,U.y);return Cr(Cr({},U),{},{x:D(S),y:q(S)})}if(b){var B=Or(y*2,U.x),W=Or(v/2,U.y);return Cr(Cr({},U),{},{x:B(S),y:W(S)})}return Cr(Cr({},U),{},{x:U.x,y:U.y})});return a.renderCurveStatically(E,n,i)}var C=Or(0,w),A=C(S),I;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(U){return parseFloat(U)});I=a.getStrokeDasharray(A,w,$)}else I=a.generateSimpleStrokeDasharray(w,A);return a.renderCurveStatically(l,n,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!qu(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,g=i.width,b=i.height,y=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var x=this.state.isAnimationFinished,_=l.length===1,w=Le("recharts-line",c),k=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=k||S,E=De(v)?this.id:v,C=(n=Ae(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=C.r,I=A===void 0?3:A,$=C.strokeWidth,U=$===void 0?2:$,O=j6(o)?o:{},R=O.clipDot,P=R===void 0?!0:R,D=I*2+U;return L.createElement(ze,{className:w},k||S?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(E)},L.createElement("rect",{x:k?h:h-g/2,y:S?f:f-b/2,width:k?g:g*2,height:S?b:b*2})),!P&&L.createElement("clipPath",{id:"clipPath-dots-".concat(E)},L.createElement("rect",{x:h-D/2,y:f-D/2,width:g+D,height:b+D}))):null,!_&&this.renderCurve(N,E),this.renderErrorBar(N,E),(_||o)&&this.renderDots(N,P,E),(!y||x)&&fi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Eo(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(Eo(o),Eo(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(L.isValidElement(n))a=L.cloneElement(n,i);else if(Re(n))a=n(i);else{var o=i.key,l=Lk(i,Zse),c=Le("recharts-line-dot",typeof n!="boolean"?n.className:"");a=L.createElement(Kp,fc({key:o},l,{className:c}))}return a}}])}(T.PureComponent);wn(ro,"displayName","Line");wn(ro,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!lo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});wn(ro,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,g){var b=Lt(h,o);return d==="horizontal"?{x:hN({axis:r,ticks:i,bandSize:l,entry:h,index:g}),y:De(b)?null:n.scale(b),value:b,payload:h}:{x:De(b)?null:r.scale(b),y:hN({axis:n,ticks:a,bandSize:l,entry:h,index:g}),value:b,payload:h}});return Cr({points:f,layout:d},u)});function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yO(n.key),n)}}function ple(t,e,r){return e&&hle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mle(t,e,r){return e=Ih(e),gle(t,mO()?Reflect.construct(e,r||[],Ih(t).constructor):e.apply(t,r))}function gle(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yle(t)}function yle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mO=function(){return!!t})()}function Ih(t){return Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ih(t)}function vle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sv(t,e)}function sv(t,e){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sv(t,e)}function gO(t,e,r){return e=yO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yO(t){var e=xle(t,"string");return Vs(e)=="symbol"?e:e+""}function xle(t,e){if(Vs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lv.apply(this,arguments)}function ble(t){var e=t.xAxisId,r=Rb(),n=Mb(),i=tO(e);return i==null?null:T.createElement(ul,lv({},i,{className:Le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return si(o,!0)}}))}var bi=function(t){function e(){return fle(this,e),mle(this,e,arguments)}return vle(e,t),ple(e,[{key:"render",value:function(){return T.createElement(ble,this.props)}}])}(T.Component);gO(bi,"displayName","XAxis");gO(bi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gs(t){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bO(n.key),n)}}function Sle(t,e,r){return e&&_le(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nle(t,e,r){return e=Oh(e),kle(t,vO()?Reflect.construct(e,r||[],Oh(t).constructor):e.apply(t,r))}function kle(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ele(t)}function Ele(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vO=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oh(t)}function Tle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cv(t,e)}function cv(t,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cv(t,e)}function xO(t,e,r){return e=bO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bO(t){var e=Ale(t,"string");return Gs(e)=="symbol"?e:e+""}function Ale(t,e){if(Gs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uv.apply(this,arguments)}var Cle=function(e){var r=e.yAxisId,n=Rb(),i=Mb(),a=rO(r);return a==null?null:T.createElement(ul,uv({},a,{className:Le("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return si(l,!0)}}))},wi=function(t){function e(){return wle(this,e),Nle(this,e,arguments)}return Tle(e,t),Sle(e,[{key:"render",value:function(){return T.createElement(Cle,this.props)}}])}(T.Component);xO(wi,"displayName","YAxis");xO(wi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Bk(t){return Ole(t)||Ile(t)||Ple(t)||jle()}function jle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ple(t,e){if(t){if(typeof t=="string")return dv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dv(t,e)}}function Ile(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ole(t){if(Array.isArray(t))return dv(t)}function dv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var fv=function(e,r,n,i,a){var o=Fr(e,Db),l=Fr(e,nm),c=[].concat(Bk(o),Bk(l)),u=Fr(e,am),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(y,v){if(v.props[d]===n&&Gn(v.props,"extendDomain")&&de(v.props[f])){var x=v.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),u.length){var g="".concat(f,"1"),b="".concat(f,"2");h=u.reduce(function(y,v){if(v.props[d]===n&&Gn(v.props,"extendDomain")&&de(v.props[g])&&de(v.props[b])){var x=v.props[g],_=v.props[b];return[Math.min(y[0],x,_),Math.max(y[1],x,_)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,v){return de(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},h)),h},wO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||c,h),b=r?r+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],g]:c._events[b].push(g):(c._events[b]=g,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,b=new Array(g);h<g;h++)b[h]=f[h].fn;return b},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,g,b){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,_,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,g),!0;case 6:return v.fn.call(v.context,d,f,h,g,b),!0}for(w=1,_=new Array(x-1);w<x;w++)_[w-1]=arguments[w];v.fn.apply(v.context,_)}else{var k=v.length,S;for(w=0;w<k;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!_)for(S=1,_=new Array(x-1);S<x;S++)_[S-1]=arguments[S];v[w].fn.apply(v[w].context,_)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var b=this._events[g];if(b.fn)b.fn===d&&(!h||b.once)&&(!f||b.context===f)&&o(this,g);else{for(var y=0,v=[],x=b.length;y<x;y++)(b[y].fn!==d||h&&!b[y].once||f&&b[y].context!==f)&&v.push(b[y]);v.length?this._events[g]=v.length===1?v[0]:v:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(wO);var Rle=wO.exports;const Mle=Xe(Rle);var Tg=new Mle,Ag="recharts.syncMouseEvents";function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function $le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_O(n.key),n)}}function Lle(t,e,r){return e&&Dle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cg(t,e,r){return e=_O(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _O(t){var e=Ule(t,"string");return wu(e)=="symbol"?e:e+""}function Ule(t,e){if(wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fle=function(){function t(){$le(this,t),Cg(this,"activeIndex",0),Cg(this,"coordinateList",[]),Cg(this,"layout","horizontal")}return Lle(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Ble(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&de(n)&&de(i))return!0}return!1}function qle(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function SO(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=ot(e,r,n,i),l=ot(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Vle(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=ot(l,c,u,f),g=ot(l,c,d,f);n=h.x,i=h.y,a=g.x,o=g.y}else return SO(e);return[{x:n,y:i},{x:a,y:o}]}function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Td(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(r),!0).forEach(function(n){Gle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gle(t,e,r){return e=Hle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hle(t){var e=zle(t,"string");return _u(e)=="symbol"?e:e+""}function zle(t,e){if(_u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wle(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var b,y=uh;if(h==="ScatterChart")b=o,y=dne;else if(h==="BarChart")b=qle(f,o,c,d),y=jb;else if(f==="radial"){var v=SO(o),x=v.cx,_=v.cy,w=v.radius,k=v.startAngle,S=v.endAngle;b={cx:x,cy:_,startAngle:k,endAngle:S,innerRadius:w,outerRadius:w},y=xI}else b={points:Vle(f,o,c)},y=uh;var N=Td(Td(Td(Td({stroke:"#ccc",pointerEvents:"none"},c),b),Ae(g,!1)),{},{payload:l,payloadIndex:u,className:Le("recharts-tooltip-cursor",g.className)});return T.isValidElement(g)?T.cloneElement(g,N):T.createElement(y,N)}var Kle=["item"],Jle=["children","className","width","height","style","compact","title","desc"];function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ko.apply(this,arguments)}function Vk(t,e){return Qle(t)||Xle(t,e)||kO(t,e)||Yle()}function Yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Qle(t){if(Array.isArray(t))return t}function Gk(t,e){if(t==null)return{};var r=Zle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ece(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EO(n.key),n)}}function rce(t,e,r){return e&&tce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nce(t,e,r){return e=Rh(e),ice(t,NO()?Reflect.construct(e,r||[],Rh(t).constructor):e.apply(t,r))}function ice(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ace(t)}function ace(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NO=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rh(t)}function oce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hv(t,e)}function hv(t,e){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hv(t,e)}function zs(t){return cce(t)||lce(t)||kO(t)||sce()}function sce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kO(t,e){if(t){if(typeof t=="string")return pv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pv(t,e)}}function lce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cce(t){if(Array.isArray(t))return pv(t)}function pv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(r),!0).forEach(function(n){je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function je(t,e,r){return e=EO(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EO(t){var e=uce(t,"string");return Hs(e)=="symbol"?e:e+""}function uce(t,e){if(Hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dce={xAxis:["bottom","top"],yAxis:["left","right"]},fce={width:"100%",height:"100%"},TO={x:0,y:0};function Ad(t){return t}var hce=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},pce=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return ne(ne(ne({},i),ot(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return ne(ne(ne({},i),ot(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return TO},om=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(zs(l),zs(u)):l},[]);return o.length>0?o:e&&e.length&&de(i)&&de(a)?e.slice(i,a+1):[]};function AO(t){return t==="number"?[0,"auto"]:void 0}var mv=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=om(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var g=f===void 0?l:f;h=Of(g,o.dataKey,i)}else h=f&&f[n]||l[n];return h?[].concat(zs(c),[hI(u,h)]):c},[])},zk=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=hce(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=PZ(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=mv(e,r,d,f),g=pce(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},mce=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,g=sI(d,a);return n.reduce(function(b,y){var v,x=y.type.defaultProps!==void 0?ne(ne({},y.type.defaultProps),y.props):y.props,_=x.type,w=x.dataKey,k=x.allowDataOverflow,S=x.allowDuplicatedCategory,N=x.scale,E=x.ticks,C=x.includeHidden,A=x[o];if(b[A])return b;var I=om(e.data,{graphicalItems:i.filter(function(Q){var ge,M=o in Q.props?Q.props[o]:(ge=Q.type.defaultProps)===null||ge===void 0?void 0:ge[o];return M===A}),dataStartIndex:c,dataEndIndex:u}),$=I.length,U,O,R;Ble(x.domain,k,_)&&(U=C0(x.domain,null,k),g&&(_==="number"||N!=="auto")&&(R=lc(I,w,"category")));var P=AO(_);if(!U||U.length===0){var D,q=(D=x.domain)!==null&&D!==void 0?D:P;if(w){if(U=lc(I,w,_),_==="category"&&g){var B=b6(U);S&&B?(O=U,U=wh(0,$)):S||(U=yN(q,U,y).reduce(function(Q,ge){return Q.indexOf(ge)>=0?Q:[].concat(zs(Q),[ge])},[]))}else if(_==="category")S?U=U.filter(function(Q){return Q!==""&&!De(Q)}):U=yN(q,U,y).reduce(function(Q,ge){return Q.indexOf(ge)>=0||ge===""||De(ge)?Q:[].concat(zs(Q),[ge])},[]);else if(_==="number"){var W=$Z(I,i.filter(function(Q){var ge,M,Z=o in Q.props?Q.props[o]:(ge=Q.type.defaultProps)===null||ge===void 0?void 0:ge[o],ue="hide"in Q.props?Q.props.hide:(M=Q.type.defaultProps)===null||M===void 0?void 0:M.hide;return Z===A&&(C||!ue)}),w,a,d);W&&(U=W)}g&&(_==="number"||N!=="auto")&&(R=lc(I,w,"category"))}else g?U=wh(0,$):l&&l[A]&&l[A].hasStack&&_==="number"?U=h==="expand"?[0,1]:fI(l[A].stackGroups,c,u):U=oI(I,i.filter(function(Q){var ge=o in Q.props?Q.props[o]:Q.type.defaultProps[o],M="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ge===A&&(C||!M)}),_,d,!0);if(_==="number")U=fv(f,U,A,a,E),q&&(U=C0(q,U,k));else if(_==="category"&&q){var J=q,te=U.every(function(Q){return J.indexOf(Q)>=0});te&&(U=J)}}return ne(ne({},b),{},je({},A,ne(ne({},x),{},{axisType:a,domain:U,categoricalDomain:R,duplicateDomain:O,originalDomain:(v=x.domain)!==null&&v!==void 0?v:P,isCategorical:g,layout:d})))},{})},gce=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=om(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=h.length,b=sI(d,a),y=-1;return n.reduce(function(v,x){var _=x.type.defaultProps!==void 0?ne(ne({},x.type.defaultProps),x.props):x.props,w=_[o],k=AO("number");if(!v[w]){y++;var S;return b?S=wh(0,g):l&&l[w]&&l[w].hasStack?(S=fI(l[w].stackGroups,c,u),S=fv(f,S,w,a)):(S=C0(k,oI(h,n.filter(function(N){var E,C,A=o in N.props?N.props[o]:(E=N.type.defaultProps)===null||E===void 0?void 0:E[o],I="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return A===w&&!I}),"number",d),i.defaultProps.allowDataOverflow),S=fv(f,S,w,a)),ne(ne({},v),{},je({},w,ne(ne({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ur(dce,"".concat(a,".").concat(y%2),null),domain:S,originalDomain:k,isCategorical:b,layout:d})))}return v},{})},yce=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Fr(d,a),g={};return h&&h.length?g=mce(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(g=gce(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},vce=function(e){var r=Bi(e),n=si(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:nb(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:sh(r,n)}},Wk=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ir(r,Ms),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},xce=function(e){return!e||!e.length?!1:e.some(function(r){var n=ui(r&&r.type);return n&&n.indexOf("Bar")>=0})},Kk=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bce=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},g=Ir(f,Ms),b=Ir(f,as),y=Object.keys(c).reduce(function(S,N){var E=c[N],C=E.orientation;return!E.mirror&&!E.hide?ne(ne({},S),{},je({},C,S[C]+E.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(S,N){var E=o[N],C=E.orientation;return!E.mirror&&!E.hide?ne(ne({},S),{},je({},C,Ur(S,"".concat(C))+E.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=ne(ne({},v),y),_=x.bottom;g&&(x.bottom+=g.props.height||Ms.defaultProps.height),b&&r&&(x=RZ(x,i,n,r));var w=u-x.left-x.right,k=d-x.top-x.bottom;return ne(ne({brushBottom:_},x),{},{width:Math.max(w,0),height:Math.max(k,0)})},wce=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Fb=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,_){var w=_.graphicalItems,k=_.stackGroups,S=_.offset,N=_.updateId,E=_.dataStartIndex,C=_.dataEndIndex,A=x.barSize,I=x.layout,$=x.barGap,U=x.barCategoryGap,O=x.maxBarSize,R=Kk(I),P=R.numericAxisName,D=R.cateAxisName,q=xce(w),B=[];return w.forEach(function(W,J){var te=om(x.data,{graphicalItems:[W],dataStartIndex:E,dataEndIndex:C}),Q=W.type.defaultProps!==void 0?ne(ne({},W.type.defaultProps),W.props):W.props,ge=Q.dataKey,M=Q.maxBarSize,Z=Q["".concat(P,"Id")],ue=Q["".concat(D,"Id")],ve={},Oe=c.reduce(function(_e,V){var G=_["".concat(V.axisType,"Map")],fe=Q["".concat(V.axisType,"Id")];G&&G[fe]||V.axisType==="zAxis"||eo();var H=G[fe];return ne(ne({},_e),{},je(je({},V.axisType,H),"".concat(V.axisType,"Ticks"),si(H)))},ve),se=Oe[D],Ne=Oe["".concat(D,"Ticks")],K=k&&k[Z]&&k[Z].hasStack&&HZ(W,k[Z].stackGroups),X=ui(W.type).indexOf("Bar")>=0,Ee=sh(se,Ne),Se=[],ee=q&&IZ({barSize:A,stackGroups:k,totalSize:wce(Oe,D)});if(X){var he,le,Ce=De(M)?O:M,Ge=(he=(le=sh(se,Ne,!0))!==null&&le!==void 0?le:Ce)!==null&&he!==void 0?he:0;Se=OZ({barGap:$,barCategoryGap:U,bandSize:Ge!==Ee?Ge:Ee,sizeList:ee[ue],maxBarSize:Ce}),Ge!==Ee&&(Se=Se.map(function(_e){return ne(ne({},_e),{},{position:ne(ne({},_e.position),{},{offset:_e.position.offset-Ge/2})})}))}var ae=W&&W.type&&W.type.getComposedData;ae&&B.push({props:ne(ne({},ae(ne(ne({},Oe),{},{displayedData:te,props:x,dataKey:ge,item:W,bandSize:Ee,barPosition:Se,offset:S,stackedData:K,layout:I,dataStartIndex:E,dataEndIndex:C}))),{},je(je(je({key:W.key||"item-".concat(J)},P,Oe[P]),D,Oe[D]),"animationId",N)),childIndex:O6(W,x.children),item:W})}),B},g=function(x,_){var w=x.props,k=x.dataStartIndex,S=x.dataEndIndex,N=x.updateId;if(!u1({props:w}))return null;var E=w.children,C=w.layout,A=w.stackOffset,I=w.data,$=w.reverseStackOrder,U=Kk(C),O=U.numericAxisName,R=U.cateAxisName,P=Fr(E,n),D=VZ(I,P,"".concat(O,"Id"),"".concat(R,"Id"),A,$),q=c.reduce(function(Q,ge){var M="".concat(ge.axisType,"Map");return ne(ne({},Q),{},je({},M,yce(w,ne(ne({},ge),{},{graphicalItems:P,stackGroups:ge.axisType===O&&D,dataStartIndex:k,dataEndIndex:S}))))},{}),B=bce(ne(ne({},q),{},{props:w,graphicalItems:P}),_==null?void 0:_.legendBBox);Object.keys(q).forEach(function(Q){q[Q]=d(w,q[Q],B,Q.replace("Map",""),r)});var W=q["".concat(R,"Map")],J=vce(W),te=h(w,ne(ne({},q),{},{dataStartIndex:k,dataEndIndex:S,updateId:N,graphicalItems:P,stackGroups:D,offset:B}));return ne(ne({formattedGraphicalItems:te,graphicalItems:P,offset:B,stackGroups:D},J),q)},b=function(v){function x(_){var w,k,S;return ece(this,x),S=nce(this,x,[_]),je(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),je(S,"accessibilityManager",new Fle),je(S,"handleLegendBBoxUpdate",function(N){if(N){var E=S.state,C=E.dataStartIndex,A=E.dataEndIndex,I=E.updateId;S.setState(ne({legendBBox:N},g({props:S.props,dataStartIndex:C,dataEndIndex:A,updateId:I},ne(ne({},S.state),{},{legendBBox:N}))))}}),je(S,"handleReceiveSyncEvent",function(N,E,C){if(S.props.syncId===N){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),je(S,"handleBrushChange",function(N){var E=N.startIndex,C=N.endIndex;if(E!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var A=S.state.updateId;S.setState(function(){return ne({dataStartIndex:E,dataEndIndex:C},g({props:S.props,dataStartIndex:E,dataEndIndex:C,updateId:A},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:C})}}),je(S,"handleMouseEnter",function(N){var E=S.getMouseInfo(N);if(E){var C=ne(ne({},E),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var A=S.props.onMouseEnter;Re(A)&&A(C,N)}}),je(S,"triggeredAfterMouseMove",function(N){var E=S.getMouseInfo(N),C=E?ne(ne({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var A=S.props.onMouseMove;Re(A)&&A(C,N)}),je(S,"handleItemMouseEnter",function(N){S.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),je(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),je(S,"handleMouseMove",function(N){N.persist(),S.throttleTriggeredAfterMouseMove(N)}),je(S,"handleMouseLeave",function(N){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var C=S.props.onMouseLeave;Re(C)&&C(E,N)}),je(S,"handleOuterEvent",function(N){var E=I6(N),C=Ur(S.props,"".concat(E));if(E&&Re(C)){var A,I;/.*touch.*/i.test(E)?I=S.getMouseInfo(N.changedTouches[0]):I=S.getMouseInfo(N),C((A=I)!==null&&A!==void 0?A:{},N)}}),je(S,"handleClick",function(N){var E=S.getMouseInfo(N);if(E){var C=ne(ne({},E),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var A=S.props.onClick;Re(A)&&A(C,N)}}),je(S,"handleMouseDown",function(N){var E=S.props.onMouseDown;if(Re(E)){var C=S.getMouseInfo(N);E(C,N)}}),je(S,"handleMouseUp",function(N){var E=S.props.onMouseUp;if(Re(E)){var C=S.getMouseInfo(N);E(C,N)}}),je(S,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),je(S,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseDown(N.changedTouches[0])}),je(S,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseUp(N.changedTouches[0])}),je(S,"handleDoubleClick",function(N){var E=S.props.onDoubleClick;if(Re(E)){var C=S.getMouseInfo(N);E(C,N)}}),je(S,"handleContextMenu",function(N){var E=S.props.onContextMenu;if(Re(E)){var C=S.getMouseInfo(N);E(C,N)}}),je(S,"triggerSyncEvent",function(N){S.props.syncId!==void 0&&Tg.emit(Ag,S.props.syncId,N,S.eventEmitterSymbol)}),je(S,"applySyncEvent",function(N){var E=S.props,C=E.layout,A=E.syncMethod,I=S.state.updateId,$=N.dataStartIndex,U=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)S.setState(ne({dataStartIndex:$,dataEndIndex:U},g({props:S.props,dataStartIndex:$,dataEndIndex:U,updateId:I},S.state)));else if(N.activeTooltipIndex!==void 0){var O=N.chartX,R=N.chartY,P=N.activeTooltipIndex,D=S.state,q=D.offset,B=D.tooltipTicks;if(!q)return;if(typeof A=="function")P=A(B,N);else if(A==="value"){P=-1;for(var W=0;W<B.length;W++)if(B[W].value===N.activeLabel){P=W;break}}var J=ne(ne({},q),{},{x:q.left,y:q.top}),te=Math.min(O,J.x+J.width),Q=Math.min(R,J.y+J.height),ge=B[P]&&B[P].value,M=mv(S.state,S.props.data,P),Z=B[P]?{x:C==="horizontal"?B[P].coordinate:te,y:C==="horizontal"?Q:B[P].coordinate}:TO;S.setState(ne(ne({},N),{},{activeLabel:ge,activeCoordinate:Z,activePayload:M,activeTooltipIndex:P}))}else S.setState(N)}),je(S,"renderCursor",function(N){var E,C=S.state,A=C.isTooltipActive,I=C.activeCoordinate,$=C.activePayload,U=C.offset,O=C.activeTooltipIndex,R=C.tooltipAxisBandSize,P=S.getTooltipEventType(),D=(E=N.props.active)!==null&&E!==void 0?E:A,q=S.props.layout,B=N.key||"_recharts-cursor";return L.createElement(Wle,{key:B,activeCoordinate:I,activePayload:$,activeTooltipIndex:O,chartName:r,element:N,isActive:D,layout:q,offset:U,tooltipAxisBandSize:R,tooltipEventType:P})}),je(S,"renderPolarAxis",function(N,E,C){var A=Ur(N,"type.axisType"),I=Ur(S.state,"".concat(A,"Map")),$=N.type.defaultProps,U=$!==void 0?ne(ne({},$),N.props):N.props,O=I&&I[U["".concat(A,"Id")]];return T.cloneElement(N,ne(ne({},O),{},{className:Le(A,O.className),key:N.key||"".concat(E,"-").concat(C),ticks:si(O,!0)}))}),je(S,"renderPolarGrid",function(N){var E=N.props,C=E.radialLines,A=E.polarAngles,I=E.polarRadius,$=S.state,U=$.radiusAxisMap,O=$.angleAxisMap,R=Bi(U),P=Bi(O),D=P.cx,q=P.cy,B=P.innerRadius,W=P.outerRadius;return T.cloneElement(N,{polarAngles:Array.isArray(A)?A:si(P,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(I)?I:si(R,!0).map(function(J){return J.coordinate}),cx:D,cy:q,innerRadius:B,outerRadius:W,key:N.key||"polar-grid",radialLines:C})}),je(S,"renderLegend",function(){var N=S.state.formattedGraphicalItems,E=S.props,C=E.children,A=E.width,I=E.height,$=S.props.margin||{},U=A-($.left||0)-($.right||0),O=iI({children:C,formattedGraphicalItems:N,legendWidth:U,legendContent:u});if(!O)return null;var R=O.item,P=Gk(O,Kle);return T.cloneElement(R,ne(ne({},P),{},{chartWidth:A,chartHeight:I,margin:$,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),je(S,"renderTooltip",function(){var N,E=S.props,C=E.children,A=E.accessibilityLayer,I=Ir(C,Yr);if(!I)return null;var $=S.state,U=$.isTooltipActive,O=$.activeCoordinate,R=$.activePayload,P=$.activeLabel,D=$.offset,q=(N=I.props.active)!==null&&N!==void 0?N:U;return T.cloneElement(I,{viewBox:ne(ne({},D),{},{x:D.left,y:D.top}),active:q,label:P,payload:q?R:[],coordinate:O,accessibilityLayer:A})}),je(S,"renderBrush",function(N){var E=S.props,C=E.margin,A=E.data,I=S.state,$=I.offset,U=I.dataStartIndex,O=I.dataEndIndex,R=I.updateId;return T.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Sd(S.handleBrushChange,N.props.onChange),data:A,x:de(N.props.x)?N.props.x:$.left,y:de(N.props.y)?N.props.y:$.top+$.height+$.brushBottom-(C.bottom||0),width:de(N.props.width)?N.props.width:$.width,startIndex:U,endIndex:O,updateId:"brush-".concat(R)})}),je(S,"renderReferenceElement",function(N,E,C){if(!N)return null;var A=S,I=A.clipPathId,$=S.state,U=$.xAxisMap,O=$.yAxisMap,R=$.offset,P=N.type.defaultProps||{},D=N.props,q=D.xAxisId,B=q===void 0?P.xAxisId:q,W=D.yAxisId,J=W===void 0?P.yAxisId:W;return T.cloneElement(N,{key:N.key||"".concat(E,"-").concat(C),xAxis:U[B],yAxis:O[J],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:I})}),je(S,"renderActivePoints",function(N){var E=N.item,C=N.activePoint,A=N.basePoint,I=N.childIndex,$=N.isRange,U=[],O=E.props.key,R=E.item.type.defaultProps!==void 0?ne(ne({},E.item.type.defaultProps),E.item.props):E.item.props,P=R.activeDot,D=R.dataKey,q=ne(ne({index:I,dataKey:D,cx:C.x,cy:C.y,r:4,fill:Cb(E.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ae(P,!1)),Rf(P));return U.push(x.renderActiveDot(P,q,"".concat(O,"-activePoint-").concat(I))),A?U.push(x.renderActiveDot(P,ne(ne({},q),{},{cx:A.x,cy:A.y}),"".concat(O,"-basePoint-").concat(I))):$&&U.push(null),U}),je(S,"renderGraphicChild",function(N,E,C){var A=S.filterFormatItem(N,E,C);if(!A)return null;var I=S.getTooltipEventType(),$=S.state,U=$.isTooltipActive,O=$.tooltipAxis,R=$.activeTooltipIndex,P=$.activeLabel,D=S.props.children,q=Ir(D,Yr),B=A.props,W=B.points,J=B.isRange,te=B.baseLine,Q=A.item.type.defaultProps!==void 0?ne(ne({},A.item.type.defaultProps),A.item.props):A.item.props,ge=Q.activeDot,M=Q.hide,Z=Q.activeBar,ue=Q.activeShape,ve=!!(!M&&U&&q&&(ge||Z||ue)),Oe={};I!=="axis"&&q&&q.props.trigger==="click"?Oe={onClick:Sd(S.handleItemMouseEnter,N.props.onClick)}:I!=="axis"&&(Oe={onMouseLeave:Sd(S.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Sd(S.handleItemMouseEnter,N.props.onMouseEnter)});var se=T.cloneElement(N,ne(ne({},A.props),Oe));function Ne(V){return typeof O.dataKey=="function"?O.dataKey(V.payload):null}if(ve)if(R>=0){var K,X;if(O.dataKey&&!O.allowDuplicatedCategory){var Ee=typeof O.dataKey=="function"?Ne:"payload.".concat(O.dataKey.toString());K=Of(W,Ee,P),X=J&&te&&Of(te,Ee,P)}else K=W==null?void 0:W[R],X=J&&te&&te[R];if(ue||Z){var Se=N.props.activeIndex!==void 0?N.props.activeIndex:R;return[T.cloneElement(N,ne(ne(ne({},A.props),Oe),{},{activeIndex:Se})),null,null]}if(!De(K))return[se].concat(zs(S.renderActivePoints({item:A,activePoint:K,basePoint:X,childIndex:R,isRange:J})))}else{var ee,he=(ee=S.getItemByXY(S.state.activeCoordinate))!==null&&ee!==void 0?ee:{graphicalItem:se},le=he.graphicalItem,Ce=le.item,Ge=Ce===void 0?N:Ce,ae=le.childIndex,_e=ne(ne(ne({},A.props),Oe),{},{activeIndex:ae});return[T.cloneElement(Ge,_e),null,null]}return J?[se,null,null]:[se,null]}),je(S,"renderCustomized",function(N,E,C){return T.cloneElement(N,ne(ne({key:"recharts-customized-".concat(C)},S.props),S.state))}),je(S,"renderMap",{CartesianGrid:{handler:Ad,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Ad},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Ad},YAxis:{handler:Ad},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:nl("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=nP(S.triggeredAfterMouseMove,(k=_.throttleDelay)!==null&&k!==void 0?k:1e3/60),S.state={},S}return oce(x,v),rce(x,[{key:"componentDidMount",value:function(){var w,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,k=w.children,S=w.data,N=w.height,E=w.layout,C=Ir(k,Yr);if(C){var A=C.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,$=mv(this.state,S,A,I),U=this.state.tooltipTicks[A].coordinate,O=(this.state.offset.top+N)/2,R=E==="horizontal",P=R?{x:U,y:O}:{y:U,x:O},D=this.state.formattedGraphicalItems.find(function(B){var W=B.item;return W.type.name==="Scatter"});D&&(P=ne(ne({},P),D.props.points[A].tooltipPosition),$=D.props.points[A].tooltipPayload);var q={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:I,activePayload:$,activeCoordinate:P};this.setState(q),this.renderCursor(C),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,N;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){Gy([Ir(w.children,Yr)],[Ir(this.props.children,Yr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ir(this.props.children,Yr);if(w&&typeof w.props.shared=="boolean"){var k=w.props.shared?"axis":"item";return l.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var k=this.container,S=k.getBoundingClientRect(),N=aJ(S),E={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},C=S.width/k.offsetWidth||1,A=this.inRange(E.chartX,E.chartY,C);if(!A)return null;var I=this.state,$=I.xAxisMap,U=I.yAxisMap,O=this.getTooltipEventType(),R=zk(this.state,this.props.data,this.props.layout,A);if(O!=="axis"&&$&&U){var P=Bi($).scale,D=Bi(U).scale,q=P&&P.invert?P.invert(E.chartX):null,B=D&&D.invert?D.invert(E.chartY):null;return ne(ne({},E),{},{xValue:q,yValue:B},R)}return R?ne(ne({},E),R):null}},{key:"inRange",value:function(w,k){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,E=w/S,C=k/S;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,I=E>=A.left&&E<=A.left+A.width&&C>=A.top&&C<=A.top+A.height;return I?{x:E,y:C}:null}var $=this.state,U=$.angleAxisMap,O=$.radiusAxisMap;if(U&&O){var R=Bi(U);return bN({x:E,y:C},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,k=this.getTooltipEventType(),S=Ir(w,Yr),N={};S&&k==="axis"&&(S.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Rf(this.props,this.handleOuterEvent);return ne(ne({},E),N)}},{key:"addListener",value:function(){Tg.on(Ag,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Tg.removeListener(Ag,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,k,S){for(var N=this.state.formattedGraphicalItems,E=0,C=N.length;E<C;E++){var A=N[E];if(A.item===w||A.props.key===w.key||k===ui(A.item.type)&&S===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,k=this.state.offset,S=k.left,N=k.top,E=k.height,C=k.width;return L.createElement("defs",null,L.createElement("clipPath",{id:w},L.createElement("rect",{x:S,y:N,height:E,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(k,S){var N=Vk(S,2),E=N[0],C=N[1];return ne(ne({},k),{},je({},E,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(k,S){var N=Vk(S,2),E=N[0],C=N[1];return ne(ne({},k),{},je({},E,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[w])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(w){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[w])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(w){var k=this.state,S=k.formattedGraphicalItems,N=k.activeItem;if(S&&S.length)for(var E=0,C=S.length;E<C;E++){var A=S[E],I=A.props,$=A.item,U=$.type.defaultProps!==void 0?ne(ne({},$.type.defaultProps),$.props):$.props,O=ui($.type);if(O==="Bar"){var R=(I.data||[]).find(function(B){return Hre(w,B)});if(R)return{graphicalItem:A,payload:R}}else if(O==="RadialBar"){var P=(I.data||[]).find(function(B){return bN(w,B)});if(P)return{graphicalItem:A,payload:P}}else if(Zp(A,N)||em(A,N)||gu(A,N)){var D=Oie({graphicalItem:A,activeTooltipItem:N,itemData:U.data}),q=U.activeIndex===void 0?D:U.activeIndex;return{graphicalItem:ne(ne({},A),{},{childIndex:q}),payload:gu(A,N)?U.data[D]:A.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!u1(this))return null;var k=this.props,S=k.children,N=k.className,E=k.width,C=k.height,A=k.style,I=k.compact,$=k.title,U=k.desc,O=Gk(k,Jle),R=Ae(O,!1);if(I)return L.createElement(kk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(zy,Ko({},R,{width:E,height:C,title:$,desc:U}),this.renderClipPath(),f1(S,this.renderMap)));if(this.props.accessibilityLayer){var P,D;R.tabIndex=(P=this.props.tabIndex)!==null&&P!==void 0?P:0,R.role=(D=this.props.role)!==null&&D!==void 0?D:"application",R.onKeyDown=function(B){w.accessibilityManager.keyboardEvent(B)},R.onFocus=function(){w.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return L.createElement(kk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Ko({className:Le("recharts-wrapper",N),style:ne({position:"relative",cursor:"default",width:E,height:C},A)},q,{ref:function(W){w.container=W}}),L.createElement(zy,Ko({},R,{width:E,height:C,title:$,desc:U,style:fce}),this.renderClipPath(),f1(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);je(b,"displayName",r),je(b,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),je(b,"getDerivedStateFromProps",function(v,x){var _=v.dataKey,w=v.data,k=v.children,S=v.width,N=v.height,E=v.layout,C=v.stackOffset,A=v.margin,I=x.dataStartIndex,$=x.dataEndIndex;if(x.updateId===void 0){var U=Wk(v);return ne(ne(ne({},U),{},{updateId:0},g(ne(ne({props:v},U),{},{updateId:0}),x)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:N,prevLayout:E,prevStackOffset:C,prevMargin:A,prevChildren:k})}if(_!==x.prevDataKey||w!==x.prevData||S!==x.prevWidth||N!==x.prevHeight||E!==x.prevLayout||C!==x.prevStackOffset||!is(A,x.prevMargin)){var O=Wk(v),R={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},P=ne(ne({},zk(x,w,E)),{},{updateId:x.updateId+1}),D=ne(ne(ne({},O),R),P);return ne(ne(ne({},D),g(ne({props:v},D),x)),{},{prevDataKey:_,prevData:w,prevWidth:S,prevHeight:N,prevLayout:E,prevStackOffset:C,prevMargin:A,prevChildren:k})}if(!Gy(k,x.prevChildren)){var q,B,W,J,te=Ir(k,Ms),Q=te&&(q=(B=te.props)===null||B===void 0?void 0:B.startIndex)!==null&&q!==void 0?q:I,ge=te&&(W=(J=te.props)===null||J===void 0?void 0:J.endIndex)!==null&&W!==void 0?W:$,M=Q!==I||ge!==$,Z=!De(w),ue=Z&&!M?x.updateId:x.updateId+1;return ne(ne({updateId:ue},g(ne(ne({props:v},x),{},{updateId:ue,dataStartIndex:Q,dataEndIndex:ge}),x)),{},{prevChildren:k,dataStartIndex:Q,dataEndIndex:ge})}return null}),je(b,"renderActiveDot",function(v,x,_){var w;return T.isValidElement(v)?w=T.cloneElement(v,x):Re(v)?w=v(x):w=L.createElement(Kp,x),L.createElement(ze,{className:"recharts-active-dot",key:_},w)});var y=T.forwardRef(function(x,_){return L.createElement(b,Ko({},x,{ref:_}))});return y.displayName=b.displayName,y},CO=Fb({chartName:"LineChart",GraphicalChild:ro,axisComponents:[{axisType:"xAxis",AxisComp:bi},{axisType:"yAxis",AxisComp:wi}],formatAxisMap:WI}),Bb=Fb({chartName:"BarChart",GraphicalChild:Kn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:bi},{axisType:"yAxis",AxisComp:wi}],formatAxisMap:WI}),Jk=Fb({chartName:"PieChart",GraphicalChild:Wn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Qp},{axisType:"radiusAxis",AxisComp:Yp}],formatAxisMap:tee,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const _ce=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:" "}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:" ",val:12,color:"bg-orange-100 text-orange-600"},{label:" ",val:5,color:"bg-blue-100 text-blue-600"},{label:" ",val:3,color:"bg-green-100 text-green-600"},{label:" ",val:1,color:"bg-red-100 text-red-600"}].map((t,e)=>s.jsxs("div",{className:`p-4 rounded-xl shadow-sm ${t.color} dark:bg-opacity-10`,children:[s.jsx("p",{className:"text-sm opacity-80",children:t.label}),s.jsx("p",{className:"text-3xl font-bold mt-2",children:t.val})]},e))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  ()"}),s.jsx("div",{className:"h-64",children:s.jsx(Ra,{width:"100%",height:"100%",children:s.jsxs(Bb,{data:qL,children:[s.jsx(Bs,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(bi,{dataKey:"name",stroke:"#9ca3af"}),s.jsx(wi,{stroke:"#9ca3af"}),s.jsx(Yr,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),s.jsx(Kn,{dataKey:"value",fill:"#800020",radius:[4,4,0,0]})]})})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  (6  )"}),s.jsx("div",{className:"h-64",children:s.jsx(Ra,{width:"100%",height:"100%",children:s.jsxs(CO,{data:VL,children:[s.jsx(Bs,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(bi,{dataKey:"name",stroke:"#9ca3af"}),s.jsx(wi,{stroke:"#9ca3af"}),s.jsx(Yr,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),s.jsx(ro,{type:"monotone",dataKey:"uv",stroke:"#38bdf8",strokeWidth:3})]})})})]})]})]});function Ai({data:t,columns:e,title:r,icon:n,onAdd:i,onEdit:a,onDelete:o,onViewDetails:l,customRowActions:c,extraActions:u,selectedIds:d,onSelect:f}){const[h,g]=T.useState(t),[b,y]=T.useState(""),[v,x]=T.useState(1),[_,w]=T.useState(10),[k,S]=T.useState([]),N=d||k,E=f||S,[C,A]=T.useState(null);T.useEffect(()=>{let q=[...t];if(b){const B=b.toLowerCase();q=q.filter(W=>Object.values(W).join(" ").toLowerCase().includes(B))}C&&q.sort((B,W)=>{const J=B[C.key],te=W[C.key];if(J===te)return 0;if(J==null)return 1;if(te==null)return-1;const Q=J<te?-1:1;return C.direction==="asc"?Q:-Q}),g(q),b&&v!==1&&x(1)},[t,b,C]);const I=q=>{let B="asc";C&&C.key===q&&C.direction==="asc"&&(B="desc"),A({key:q,direction:B})},$=(v-1)*_,U=$+_,O=h.slice($,U),R=q=>{q.target.checked?E(h.map(B=>B.id)):E([])},P=q=>{N.includes(q)?E(N.filter(B=>B!==q)):E([...N,q])},D=l||a||o||c;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:s.jsx(n,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:r}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",r]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[N.length>0&&s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[N.length,"  "]}),u,i&&s.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium text-sm",children:[s.jsx(er,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden md:inline",children:" "})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ka,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"  ...",value:b,onChange:q=>y(q.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),s.jsx("button",{className:"bg-gray-50 dark:bg-gray-700 p-2.5 rounded-xl border border-gray-200 dark:border-gray-600 text-gray-500",children:s.jsx(lp,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[s.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 w-10",children:s.jsx("input",{type:"checkbox",onChange:R,checked:h.length>0&&N.length===h.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((q,B)=>s.jsx("th",{className:`p-4 whitespace-nowrap ${q.sortKey?"cursor-pointer hover:text-primary transition-colors select-none":""}`,onClick:()=>q.sortKey&&I(q.sortKey),children:s.jsxs("div",{className:"flex items-center gap-1",children:[q.header,q.sortKey&&s.jsx("span",{className:"text-gray-400",children:(C==null?void 0:C.key)===q.sortKey?C.direction==="asc"?s.jsx(eL,{className:"w-3 h-3"}):s.jsx(QD,{className:"w-3 h-3"}):s.jsx(ZD,{className:"w-3 h-3 opacity-50"})})]})},B)),D&&s.jsx("th",{className:"p-4",children:""})]})}),s.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:O.length>0?O.map((q,B)=>s.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${N.includes(q.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[s.jsx("td",{className:"p-4",children:s.jsx("input",{type:"checkbox",checked:N.includes(q.id),onChange:()=>P(q.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((W,J)=>s.jsx("td",{className:"p-4",children:W.accessor(q)},J)),D&&s.jsxs("td",{className:"p-4 flex gap-1.5 items-center",children:[c&&c(q),l&&s.jsx("button",{onClick:()=>l(q),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",title:"",children:s.jsx(Tx,{width:18,height:18})}),a&&s.jsx("button",{onClick:()=>a(q),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",title:"",children:s.jsx(cp,{width:18,height:18})}),o&&s.jsx("button",{onClick:()=>o(q),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition",title:"",children:s.jsx(Dt,{width:18,height:18})})]})]},q.id||B)):s.jsx("tr",{children:s.jsx("td",{colSpan:e.length+2,className:"p-12 text-center text-gray-400",children:"  ."})})})]})}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx("span",{children:""}),s.jsxs("select",{value:_,onChange:q=>{w(Number(q.target.value)),x(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"}),s.jsx("option",{value:200,children:"200"})]}),s.jsxs("span",{children:[": ",h.length]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{disabled:v===1,onClick:()=>x(q=>q-1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:s.jsx(ju,{className:"w-4 h-4"})}),s.jsxs("span",{className:"px-4 py-2 text-sm font-bold",children:[" ",v]}),s.jsx("button",{disabled:U>=h.length,onClick:()=>x(q=>q+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:s.jsx(sp,{className:"w-4 h-4"})})]})]})]})]})}const Sce=["user_groups","personnel","org_chart","app_users","locations","equipment_classes","equipment_groups","equipment","equipment_local_names","evaluation_periods","evaluation_criteria","measurement_units","equipment_tree","part_categories_main","part_categories_sub","part_categories_sub_sub","parts","activity_cards","checklist_items","maintenance_plans"],Yk={user_groups:" ",personnel:"",org_chart:" ",app_users:" ",locations:" ",equipment_classes:" ",equipment_groups:" ",equipment:"",equipment_local_names:"  ",evaluation_periods:" ",evaluation_criteria:" ",measurement_units:" ",equipment_tree:" ",part_categories_main:"  ",part_categories_sub:"  ",part_categories_sub_sub:"   ",parts:"",activity_cards:" ",checklist_items:" ",maintenance_plans:" "},Nce=()=>{const[t,e]=T.useState("user_groups"),[r,n]=T.useState([]),[i,a]=T.useState(!1),[o,l]=T.useState(!1),[c,u]=T.useState(null),[d,f]=T.useState([]),[h,g]=T.useState(null),[b,y]=T.useState(!1),[v,x]=T.useState([]),[_,w]=T.useState([]),[k,S]=T.useState([]),[N,E]=T.useState([]),[C,A]=T.useState([]),[I,$]=T.useState([]),[U,O]=T.useState([]),[R,P]=T.useState([]),D=T.useRef(null),q=T.useRef(null),B={user_groups:[{key:"code",header:" "},{key:"name",header:" "}],personnel:[{key:"personnel_code",header:" "},{key:"full_name",header:"   "},{key:"unit",header:""},{key:"mobile",header:""},{key:"email",header:""}],app_users:[{key:"username",header:" "},{key:"avatar",header:""},{key:"full_name",header:"   "},{key:"role",header:" "}],locations:[{key:"code",header:""},{key:"name",header:"  "},{key:"parent_name",header:"  "}],org_chart:[{key:"code",header:" "},{key:"name",header:" "},{key:"parent_name",header:" "},{key:"manager_name",header:" "}],measurement_units:[{key:"title",header:" "}],equipment_local_names:[{key:"class_id",header:""},{key:"group_id",header:""},{key:"local_name",header:" /"}],evaluation_periods:[{key:"code",header:" "},{key:"title",header:" "}],evaluation_criteria:[{key:"org_unit_id",header:" "},{key:"title",header:" "},{key:"max_score",header:" "}],equipment_classes:[{key:"code",header:" "},{key:"name",header:" "}],equipment_groups:[{key:"code",header:" "},{key:"name",header:" "},{key:"class_id",header:" "}],equipment:[{key:"code",header:" "},{key:"name",header:" "},{key:"class_id",header:""},{key:"group_id",header:""}],equipment_tree:[{key:"equipment_id",header:""},{key:"code",header:" "},{key:"name",header:" "},{key:"parent_id",header:""}],part_categories_main:[{key:"code",header:" "},{key:"name",header:"  "}],part_categories_sub:[{key:"parent_name",header:" "},{key:"code",header:" "},{key:"name",header:"  "}],part_categories_sub_sub:[{key:"grand_parent_name",header:" "},{key:"parent_name",header:" "},{key:"code",header:" "},{key:"name",header:"   "}],parts:[{key:"code",header:" "},{key:"name",header:" "},{key:"full_category_path",header:" "},{key:"stock_unit_name",header:" "},{key:"consumption_unit_name",header:" "}],activity_cards:[{key:"code",header:" "},{key:"name",header:" "}],checklist_items:[{key:"activity_card_id",header:" "},{key:"sort_order",header:""},{key:"description",header:""}],maintenance_plans:[{key:"code",header:" "},{key:"name",header:" "},{key:"equipment_id",header:""}]},W=["personnel_code","full_name","username","name","title","code","local_name","class_id","group_id","org_unit_id","max_score","activity_card_id","equipment_id","description"],J=V=>{try{return JSON.parse(localStorage.getItem(`admin_data_${V}`)||"[]")}catch{return[]}},te=(V,G)=>{localStorage.setItem(`admin_data_${V}`,JSON.stringify(G))},Q=async()=>{a(!0),g(null);let V=t;t.startsWith("part_categories_")&&(V="part_categories");try{const{data:G,error:fe}=await $e.from(V).select("*").order("created_at",{ascending:!1});if(fe)throw fe;let H=G||[];if(t.startsWith("part_categories_")&&(P(G||[]),t==="part_categories_main"?H=H.filter(me=>me.level_type==="MAIN"):t==="part_categories_sub"?H=H.filter(me=>me.level_type==="SUB").map(me=>{var pe;return{...me,parent_name:((pe=G==null?void 0:G.find(Te=>Te.id===me.parent_id))==null?void 0:pe.name)||"-"}}):t==="part_categories_sub_sub"&&(H=H.filter(me=>me.level_type==="SUB_SUB").map(me=>{const pe=G==null?void 0:G.find(Ue=>Ue.id===me.parent_id),Te=pe?G==null?void 0:G.find(Ue=>Ue.id===pe.parent_id):null;return{...me,parent_name:(pe==null?void 0:pe.name)||"-",grand_parent_name:(Te==null?void 0:Te.name)||"-"}}))),t==="parts"){const me=R.length>0?R:await Ve("part_categories"),pe=U.length>0?U:await Ve("measurement_units");P(me),O(pe),H=H.map(Te=>{var ur,Gr;const Ue=me.find(Et=>Et.id===Te.category_id);let Kt="-";if(Ue){const Et=me.find(Pi=>Pi.id===Ue.parent_id),On=Et?me.find(Pi=>Pi.id===Et.parent_id):null;Kt=`${(On==null?void 0:On.name)||"?"} > ${(Et==null?void 0:Et.name)||"?"} > ${Ue.name}`}return{...Te,full_category_path:Kt,stock_unit_name:((ur=pe.find(Et=>Et.id===Te.stock_unit_id))==null?void 0:ur.title)||"-",consumption_unit_name:((Gr=pe.find(Et=>Et.id===Te.consumption_unit_id))==null?void 0:Gr.title)||"-"}})}if(t==="app_users"){const me=v.length>0?v:await Ve("personnel");x(me),H=H.map(pe=>{const Te=me.find(Ue=>Ue.id===pe.personnel_id);return{...pe,full_name:Te?Te.full_name:"---",unit:Te?Te.unit:"---",avatar:pe.avatar||(Te?Te.profile_picture:null),personnel_code:Te?Te.personnel_code:null}})}if(t==="org_chart"){if(v.length===0){const me=await Ve("personnel");x(me)}H=H.map(me=>{var pe,Te;return{...me,parent_name:((pe=H.find(Ue=>Ue.id===me.parent_id))==null?void 0:pe.name)||"-",manager_name:((Te=v.find(Ue=>Ue.id===me.manager_id))==null?void 0:Te.full_name)||me.manager_name||"-"}})}if(t==="locations"&&(H=H.map(me=>{var pe;return{...me,parent_name:((pe=H.find(Te=>Te.id===me.parent_id))==null?void 0:pe.name)||"-"}})),t==="personnel"){const me=await Ve("org_chart");S(me),H=H.map(pe=>{const Te=me.find(Ue=>Ue.id===pe.org_unit_id);return{...pe,unit:Te?Te.name:pe.unit||"-"}})}if(t==="evaluation_criteria"){const me=await Ve("org_chart");S(me),H=H.map(pe=>{const Te=me.find(Ue=>Ue.id===pe.org_unit_id);return{...pe,org_unit_name:Te?Te.name:"-"}})}if(t==="equipment_groups"){const me=await Ve("equipment_classes");E(me),H=H.map(pe=>{var Te;return{...pe,class_name:((Te=me.find(Ue=>Ue.id===pe.class_id))==null?void 0:Te.name)||"-"}})}if(t==="equipment"||t==="equipment_local_names"){const me=await Ve("equipment_classes"),pe=await Ve("equipment_groups");E(me),A(pe),H=H.map(Te=>{var Ue,Kt;return{...Te,class_name:((Ue=me.find(ur=>ur.id===Te.class_id))==null?void 0:Ue.name)||"-",group_name:((Kt=pe.find(ur=>ur.id===Te.group_id))==null?void 0:Kt.name)||"-"}})}if(t==="equipment_tree"){const me=await Ve("equipment");$(me),H=H.map(pe=>{var Te,Ue;return{...pe,equipment_name:((Te=me.find(Kt=>Kt.id===pe.equipment_id))==null?void 0:Te.name)||"-",parent_name:((Ue=H.find(Kt=>Kt.id===pe.parent_id))==null?void 0:Ue.name)||"-"}})}y(!1),n(H),te(t,H)}catch(G){console.warn("Supabase fetch failed, switching to local data:",G),y(!0);const fe=J(t);n(fe)}finally{a(!1)}};T.useEffect(()=>{Q(),f([]),(t==="app_users"||t==="org_chart"||t==="evaluation_criteria")&&(Ve("personnel").then(x),Ve("org_chart").then(S)),t==="app_users"&&Ve("user_groups").then(w),t==="personnel"&&Ve("org_chart").then(S),(t==="equipment_groups"||t==="equipment"||t==="equipment_local_names")&&Ve("equipment_classes").then(E),(t==="equipment"||t==="equipment_local_names")&&Ve("equipment_groups").then(A),t==="equipment_tree"&&Ve("equipment").then($),t==="parts"&&Ve("measurement_units").then(O)},[t]);const ge=()=>{u({}),l(!0)},M=V=>{if(t==="app_users"&&V.personnel_id){const G=v.find(fe=>fe.id===V.personnel_id);u({...V,full_name:G==null?void 0:G.full_name,unit:G==null?void 0:G.unit,personnel_profile:G==null?void 0:G.profile_picture})}else if(t==="part_categories_sub"||t==="part_categories_sub_sub")u({...V});else if(t==="parts"){const G=R.find(me=>me.id===V.category_id),fe=R.find(me=>me.id===(G==null?void 0:G.parent_id)),H=R.find(me=>me.id===(fe==null?void 0:fe.parent_id));u({...V,temp_main_cat_id:(H==null?void 0:H.id)||"",temp_sub_cat_id:(fe==null?void 0:fe.id)||""})}else u(V);l(!0)},Z=async V=>{if(!V.personnel_code){alert(":       .");return}if(window.confirm(`        "${V.username}"     (${V.personnel_code})  `)){a(!0);try{const{error:G}=await $e.from("app_users").update({password:V.personnel_code,is_default_password:!0}).eq("id",V.id);if(G)throw G;alert("     .")}catch(G){console.error("Reset Password Error:",G),alert("    : "+G.message)}finally{a(!1)}}},ue=async V=>{if(!window.confirm("      "))return;[...r],n(fe=>fe.filter(H=>H.id!==V.id)),f(fe=>fe.filter(H=>H!==V.id));let G=t;t.startsWith("part_categories_")&&(G="part_categories");try{const{error:fe}=await $e.from(G).delete().eq("id",V.id);if(fe)throw fe;await Q()}catch{console.warn("Delete failed, performing offline delete");const me=J(t).filter(pe=>pe.id!==V.id);te(t,me),y(!0)}},ve=async()=>{if(d.length===0||!window.confirm(`   ${d.length}   `))return;n(G=>G.filter(fe=>!d.includes(fe.id)));let V=t;t.startsWith("part_categories_")&&(V="part_categories");try{const{error:G}=await $e.from(V).delete().in("id",d);if(G)throw G;f([]),await Q()}catch{console.warn("Bulk delete failed, performing offline delete");const H=J(t).filter(me=>!d.includes(me.id));te(t,H),f([]),y(!0)}},Oe=V=>{const G=v.find(fe=>fe.id===V);G&&u({...c,personnel_id:G.id,full_name:G.full_name,unit:G.unit,personnel_profile:G.profile_picture,password:G.personnel_code,is_default_password:!0})},se=()=>{if(!c)return!1;switch(t){case"user_groups":return!!(c.code&&c.name);case"personnel":return!!(c.personnel_code&&c.full_name);case"org_chart":return!!c.name;case"app_users":return!!(c.username&&c.personnel_id&&c.role);case"locations":return!!c.name;case"equipment_classes":return!!(c.code&&c.name);case"equipment_groups":return!!(c.code&&c.name&&c.class_id);case"equipment":return!!(c.code&&c.name&&c.class_id&&c.group_id);case"equipment_local_names":return!!(c.local_name&&c.class_id&&c.group_id);case"evaluation_periods":return!!(c.code&&c.title);case"evaluation_criteria":return!!(c.title&&c.max_score&&c.org_unit_id);case"measurement_units":return!!c.title;case"equipment_tree":return!!(c.code&&c.name&&c.equipment_id);case"part_categories_main":return!!(c.code&&c.name);case"part_categories_sub":return!!(c.code&&c.name&&c.parent_id);case"part_categories_sub_sub":return!!(c.code&&c.name&&c.parent_id);case"parts":return!!(c.name&&c.category_id);case"activity_cards":return!!(c.code&&c.name);case"checklist_items":return!!(c.description&&c.activity_card_id);case"maintenance_plans":return!!(c.name&&c.equipment_id);default:return!1}},Ne=async V=>{V.preventDefault(),a(!0),g(null);let G={...c},fe=t;if(!se()){a(!1),alert("    ()   .");return}if(t.startsWith("part_categories_")){fe="part_categories";const H=r.some(pe=>pe.code===G.code&&pe.id!==G.id),me=r.some(pe=>pe.name===G.name&&pe.id!==G.id);if(H){a(!1),alert("  .");return}if(me){a(!1),alert("  .");return}t==="part_categories_main"&&(G.level_type="MAIN"),t==="part_categories_sub"&&(G.level_type="SUB"),t==="part_categories_sub_sub"&&(G.level_type="SUB_SUB"),delete G.parent_name,delete G.grand_parent_name,delete G.temp_main_cat_id}if(t==="parts"&&(delete G.full_category_path,delete G.temp_main_cat_id,delete G.temp_sub_cat_id,delete G.stock_unit_name,delete G.consumption_unit_name),t==="equipment_classes"){const H=r.some(pe=>pe.code===G.code&&pe.id!==G.id),me=r.some(pe=>pe.name===G.name&&pe.id!==G.id);if(H){a(!1),alert("   .");return}if(me){a(!1),alert("   .");return}}if(t==="equipment_groups"){const H=r.some(pe=>pe.code===G.code&&pe.id!==G.id),me=r.some(pe=>pe.name===G.name&&pe.id!==G.id);if(H){a(!1),alert("   .");return}if(me){a(!1),alert("   .");return}}if(t==="personnel"&&G.org_unit_id){const H=k.find(me=>me.id===G.org_unit_id);H&&(G.unit=H.name)}t==="app_users"&&(delete G.full_name,delete G.unit,delete G.personnel_profile,delete G.avatar,delete G.personnel_code),(t==="org_chart"||t==="locations")&&(delete G.parent_name,t==="org_chart"&&delete G.manager_name),t==="equipment_groups"&&delete G.class_name,(t==="equipment"||t==="equipment_local_names")&&(delete G.class_name,delete G.group_name),t==="equipment_tree"&&(delete G.equipment_name,delete G.parent_name),t==="evaluation_criteria"&&delete G.org_unit_name;try{if(G.id){const{error:H}=await $e.from(fe).update(G).eq("id",G.id);if(H)throw H}else{const{error:H}=await $e.from(fe).insert([G]);if(H)throw H}await Q(),l(!1)}catch(H){if(H.code==="23505")alert(" :     (  )    .");else{console.warn("Save failed, performing offline save:",H);let pe=[...J(t)];if(G.id){const Te=pe.findIndex(Ue=>Ue.id===G.id);Te>=0?pe[Te]={...pe[Te],...G}:pe.push(G)}else G.id=nc(),G.created_at=new Date().toISOString(),pe.unshift(G);te(t,pe),alert("     .         ."),await Q(),l(!1)}}finally{a(!1)}},K=()=>{const G=B[t].map(Ue=>Ue.key),fe=r.length>0?r:[];let H="\uFEFF"+G.join(",")+`
`;fe.forEach(Ue=>{const Kt=G.map(ur=>{let Gr=Ue[ur]||"";return String(Gr).includes(",")&&(Gr=`"${Gr}"`),Gr});H+=Kt.join(",")+`
`});const me=new Blob([H],{type:"text/csv;charset=utf-8;"}),pe=document.createElement("a"),Te=URL.createObjectURL(me);pe.setAttribute("href",Te),pe.setAttribute("download",`${t}_export.csv`),document.body.appendChild(pe),pe.click(),document.body.removeChild(pe)},X=V=>{var H;const G=(H=V.target.files)==null?void 0:H[0];if(!G)return;const fe=new FileReader;fe.onload=async me=>{var Pi;let pe=((Pi=me.target)==null?void 0:Pi.result)||"";pe=pe.replace(/^\uFEFF/,"");const Te=pe.split(/\r?\n/).filter(St=>St.trim()!=="");if(Te.length<2){alert("       ."),D.current&&(D.current.value="");return}const Ue=Te[0],Kt=Ue.includes(";")?";":",",ur=Ue.split(Kt).map(St=>St.trim().replace(/^"|"$/g,"")),Gr=B[t].map(St=>St.key);if(t==="personnel"&&!ur.includes("personnel_code")){alert(':  "personnel_code"  .');return}if(t==="app_users"&&(!ur.includes("username")||!ur.includes("personnel_code"))){alert('   :     "username"  "personnel_code" .');return}const Et=[],On=[];for(let St=1;St<Te.length;St++){const pl=Te[St].split(Kt).map(Rn=>Rn.trim().replace(/^"|"$/g,"")),Hr={};ur.forEach((Rn,pm)=>{let Xn=pl[pm];if(Xn&&Xn!=="")if(t==="app_users")if(Rn==="personnel_code"){const Gu=v.find(mm=>mm.personnel_code===Xn);Gu?(Hr.personnel_id=Gu.id,Hr.password=Xn,Hr.is_default_password=!0):On.push(` ${St+1}:   ${Xn}    .`)}else Gr.includes(Rn)&&(Hr[Rn]=Xn);else Gr.includes(Rn)&&(Hr[Rn]=Xn)}),!(t==="personnel"&&!Hr.personnel_code)&&(t==="app_users"&&!Hr.personnel_id||Object.keys(Hr).length>0&&Et.push(Hr))}if(Et.length===0){alert(`    .
`+On.join(`
`));return}a(!0);try{const{data:St,error:po}=await $e.from(t).insert(Et).select();if(po)throw po;alert(` ${(St==null?void 0:St.length)||Et.length}     .`),await Q()}catch(St){console.error("Upload Error:",St),St.code==="23505"?alert("  :     ."):alert(` : ${St.message}`)}finally{a(!1),D.current&&(D.current.value="")}},fe.readAsText(G)},Ee=V=>{var fe;const G=(fe=V.target.files)==null?void 0:fe[0];if(G){const H=new FileReader;H.onloadend=()=>{u({...c,profile_picture:H.result})},H.readAsDataURL(G)}},Se=(B[t]||[]).map(V=>({header:V.header,accessor:G=>{if(V.key==="avatar"||V.key==="profile_picture")return s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 overflow-hidden flex items-center justify-center",children:G[V.key]?s.jsx("img",{src:G[V.key],alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx(vs,{className:"w-5 h-5 text-gray-400"})});if(typeof G[V.key]=="boolean")return G[V.key]?s.jsx("span",{className:"text-green-600",children:""}):s.jsx("span",{className:"text-gray-400",children:""});if(t==="equipment_groups"&&V.key==="class_id")return G.class_name||"-";if(t==="equipment"||t==="equipment_local_names"){if(V.key==="class_id")return G.class_name||"-";if(V.key==="group_id")return G.group_name||"-"}return t==="evaluation_criteria"&&V.key==="org_unit_id"?G.org_unit_name||"-":t==="equipment_tree"&&V.key==="equipment_id"?G.equipment_name||"-":t==="equipment_tree"&&V.key==="parent_id"?G.parent_name||"-":G[V.key]},sortKey:V.key})),ee=s.jsxs(s.Fragment,{children:[d.length>0&&s.jsxs("button",{onClick:ve,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-2 rounded-lg flex items-center gap-2 text-sm transition animate-fadeIn",children:[s.jsx(Dt,{className:"w-4 h-4"}),"  ",d.length," "]}),s.jsxs("button",{onClick:K,className:"bg-green-50 text-green-700 border border-green-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-green-100 transition",children:[s.jsx(Ex,{className:"w-4 h-4"}),"  / "]}),s.jsx("input",{type:"file",ref:D,accept:".csv",onChange:X,className:"hidden"}),s.jsxs("button",{onClick:()=>{var V;return(V=D.current)==null?void 0:V.click()},className:"bg-blue-50 text-blue-700 border border-blue-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-blue-100 transition",children:[s.jsx(Oc,{className:"w-4 h-4"}),"    (CSV)"]})]}),he=()=>{const V=R.filter(G=>G.level_type==="MAIN");return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.parent_id||"",onChange:G=>u({...c,parent_id:G.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none",children:[s.jsx("option",{value:"",children:" ..."}),V.map(G=>s.jsxs("option",{value:G.id,children:[G.name," (",G.code,")"]},G.id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:c.code||"",onChange:G=>u({...c,code:G.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:c.name||"",onChange:G=>u({...c,name:G.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]})]})]})},le=()=>{const V=R.filter(fe=>fe.level_type==="MAIN"),G=R.filter(fe=>fe.level_type==="SUB"&&(!c.temp_main_cat_id||fe.parent_id===c.temp_main_cat_id));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  ()"}),s.jsxs("select",{value:c.temp_main_cat_id||"",onChange:fe=>u({...c,temp_main_cat_id:fe.target.value,parent_id:""}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none",children:[s.jsx("option",{value:"",children:" ..."}),V.map(fe=>s.jsxs("option",{value:fe.id,children:[fe.name," (",fe.code,")"]},fe.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.parent_id||"",onChange:fe=>u({...c,parent_id:fe.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none",disabled:!c.temp_main_cat_id,children:[s.jsx("option",{value:"",children:" ..."}),G.map(fe=>s.jsxs("option",{value:fe.id,children:[fe.name," (",fe.code,")"]},fe.id))]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["    ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:c.code||"",onChange:fe=>u({...c,code:fe.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["    ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:c.name||"",onChange:fe=>u({...c,name:fe.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]})]})]})},Ce=()=>{const V=R.filter(H=>H.level_type==="MAIN"),G=R.filter(H=>H.level_type==="SUB"&&(!c.temp_main_cat_id||H.parent_id===c.temp_main_cat_id)),fe=R.filter(H=>H.level_type==="SUB_SUB"&&(!c.temp_sub_cat_id||H.parent_id===c.temp_sub_cat_id));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:[s.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2",children:" "}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("select",{value:c.temp_main_cat_id||"",onChange:H=>u({...c,temp_main_cat_id:H.target.value,temp_sub_cat_id:"",category_id:""}),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"",children:".  ..."}),V.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]}),s.jsxs("select",{value:c.temp_sub_cat_id||"",onChange:H=>u({...c,temp_sub_cat_id:H.target.value,category_id:""}),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-800",disabled:!c.temp_main_cat_id,children:[s.jsx("option",{value:"",children:".  ..."}),G.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]}),s.jsxs("select",{value:c.category_id||"",onChange:H=>u({...c,category_id:H.target.value}),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-800 border-primary",disabled:!c.temp_sub_cat_id,children:[s.jsx("option",{value:"",children:".    ()..."}),fe.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),s.jsx("input",{type:"text",value:c.code||"",onChange:H=>u({...c,code:H.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:c.name||"",onChange:H=>u({...c,name:H.target.value}),className:"w-full p-2.5 border rounded-lg outline-none"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),s.jsxs("select",{value:c.stock_unit_id||"",onChange:H=>u({...c,stock_unit_id:H.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-800 outline-none",children:[s.jsx("option",{value:"",children:"..."}),U.map(H=>s.jsx("option",{value:H.id,children:H.title},H.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),s.jsxs("select",{value:c.consumption_unit_id||"",onChange:H=>u({...c,consumption_unit_id:H.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-800 outline-none",children:[s.jsx("option",{value:"",children:"..."}),U.map(H=>s.jsx("option",{value:H.id,children:H.title},H.id))]})]})]})]})},Ge=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 border-4 border-white dark:border-gray-600 shadow-lg overflow-hidden flex items-center justify-center",children:c.personnel_profile?s.jsx("img",{src:c.personnel_profile,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx(vs,{className:"w-10 h-10 text-gray-400"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"font-bold text-lg",children:c.full_name||" "}),s.jsx("p",{className:"text-sm text-gray-500",children:c.unit||"  "})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.personnel_id||"",onChange:V=>Oe(V.target.value),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[s.jsx("option",{value:"",children:"  ..."}),v.map(V=>s.jsxs("option",{value:V.id,children:[V.full_name," (",V.personnel_code,")"]},V.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  () ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",dir:"ltr",value:c.username||"",onChange:V=>u({...c,username:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:"user123"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.role||"",onChange:V=>u({...c,role:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[s.jsx("option",{value:"",children:"  ..."}),_.map(V=>s.jsx("option",{value:V.name,children:V.name},V.id))]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-3 rounded-lg text-xs text-blue-700 dark:text-blue-300 flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"         ."]})]})]}),ae=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),s.jsx("input",{type:"text",value:c.code||"",onChange:V=>u({...c,code:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:c.name||"",onChange:V=>u({...c,name:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  "}),s.jsxs("select",{value:c.parent_id||"",onChange:V=>u({...c,parent_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"  ()"}),r.filter(V=>V.id!==c.id).map(V=>s.jsx("option",{value:V.id,children:V.name},V.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),s.jsxs("select",{value:c.manager_id||"",onChange:V=>u({...c,manager_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:" ..."}),v.map(V=>s.jsxs("option",{value:V.id,children:[V.full_name," (",V.unit,")"]},V.id))]})]})]}),_e=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:""}),s.jsx("input",{type:"text",value:c.code||"",onChange:V=>u({...c,code:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:c.name||"",onChange:V=>u({...c,name:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  "}),s.jsxs("select",{value:c.parent_id||"",onChange:V=>u({...c,parent_id:V.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"  ()"}),r.filter(V=>V.id!==c.id).map(V=>s.jsx("option",{value:V.id,children:V.name},V.id))]})]})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Ja,{className:"text-primary"}),"   "]}),b&&s.jsxs("div",{className:"flex items-center gap-1 bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:[s.jsx(FL,{className:"w-4 h-4"}),"  "]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:Q,className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full hover:rotate-180 transition duration-500",children:s.jsx(jy,{className:`w-5 h-5 ${i?"animate-spin":""}`})})})]}),h&&s.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg border border-red-200",children:h}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-2 overflow-x-auto flex gap-2 pb-3 mb-2",children:Sce.map(V=>s.jsx("button",{onClick:()=>e(V),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors text-sm font-medium
                    ${t===V?"bg-primary text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:Yk[V]},V))}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm min-h-[400px]",children:s.jsx(Ai,{title:Yk[t],data:r,columns:Se,onAdd:ge,onEdit:M,onDelete:ue,extraActions:ee,selectedIds:d,onSelect:f,customRowActions:V=>t==="app_users"?s.jsx("button",{onClick:()=>Z(V),className:"p-1.5 text-slate-400 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"  ",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-key-round","aria-hidden":"true",children:[s.jsx("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),s.jsx("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}):null})}),o&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-fadeIn",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[s.jsx("h3",{className:"font-bold",children:c!=null&&c.id?" ":"  "}),s.jsx("button",{onClick:()=>l(!1),className:"p-1 hover:bg-gray-200 rounded-full",children:s.jsx(yt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:Ne,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[t==="app_users"?Ge():t==="org_chart"?ae():t==="locations"?_e():t==="part_categories_sub"?he():t==="part_categories_sub_sub"?le():t==="parts"?Ce():s.jsxs(s.Fragment,{children:[B[t].map(V=>{const G=W.includes(V.key);if(V.key==="parent_name"||t==="evaluation_criteria"&&V.key==="org_unit_name"||t==="part_categories_main"&&V.key==="level_type")return null;const fe=G&&!(t==="equipment"&&V.key==="description");if(t==="personnel"&&V.key==="unit")return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",G&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.org_unit_id||"",onChange:H=>u({...c,org_unit_id:H.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[s.jsx("option",{value:"",children:" ..."}),k.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]})]},String(V.key));if(t==="evaluation_criteria"&&V.key==="org_unit_id")return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["   ",G&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.org_unit_id||"",onChange:H=>u({...c,org_unit_id:H.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[s.jsx("option",{value:"",children:" ..."}),k.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]})]},String(V.key));if(t==="equipment_groups"&&V.key==="class_id")return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  ",G&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.class_id||"",onChange:H=>u({...c,class_id:H.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[s.jsx("option",{value:"",children:" ..."}),N.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]})]},String(V.key));if(t==="equipment"||t==="equipment_local_names"){if(V.key==="class_id")return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",t==="equipment_local_names"?" (   )":""," ",G&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.class_id||"",onChange:H=>u({...c,class_id:H.target.value,group_id:""}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[s.jsx("option",{value:"",children:" ..."}),N.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]})]},String(V.key));if(V.key==="group_id"){const H=C.filter(me=>me.class_id===c.class_id);return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",t==="equipment_local_names"?" (   )":""," ",G&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.group_id||"",onChange:me=>u({...c,group_id:me.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",disabled:!c.class_id,children:[s.jsx("option",{value:"",children:" ..."}),H.map(me=>s.jsx("option",{value:me.id,children:me.name},me.id))]})]},String(V.key))}}return t==="equipment_tree"&&V.key==="equipment_id"?s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",G&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:c.equipment_id||"",onChange:H=>u({...c,equipment_id:H.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[s.jsx("option",{value:"",children:" ..."}),I.map(H=>s.jsxs("option",{value:H.id,children:[H.name," (",H.code,")"]},H.id))]})]},String(V.key)):t==="equipment_tree"&&V.key==="parent_id"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),s.jsxs("select",{value:c.parent_id||"",onChange:H=>u({...c,parent_id:H.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",children:[s.jsx("option",{value:"",children:"  ()"}),r.filter(H=>H.id!==c.id&&H.equipment_id===c.equipment_id).map(H=>s.jsxs("option",{value:H.id,children:[H.name," (",H.code,")"]},H.id))]})]},String(V.key)):s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[V.header," ",fe&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:V.key==="email"?"email":"text",value:c[V.key]||"",onChange:H=>u({...c,[V.key]:H.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:V.key==="mobile"?": 09123456789":""})]},String(V.key))}),t==="personnel"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),s.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-dashed border-gray-300 dark:border-gray-600",children:[s.jsxs("div",{onClick:()=>{var V;return(V=q.current)==null?void 0:V.click()},className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-600 overflow-hidden border-2 border-white shadow-sm cursor-pointer hover:opacity-80 transition relative group",children:[c.profile_picture?s.jsx("img",{src:c.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx(wf,{className:"w-8 h-8"})}),s.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:s.jsx(Oc,{className:"w-6 h-6 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("input",{type:"file",ref:q,accept:"image/*",className:"hidden",onChange:Ee}),s.jsxs("button",{type:"button",onClick:()=>{var V;return(V=q.current)==null?void 0:V.click()},className:"text-sm bg-blue-50 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-100 flex items-center gap-2 mb-1 w-full justify-center",children:[s.jsx(wf,{className:"w-4 h-4"}),"  "]}),s.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:" : JPG, PNG"})]})]})]})]}),s.jsxs("div",{className:"pt-4 flex gap-3 sticky bottom-0 bg-white dark:bg-gray-800 pb-2 border-t dark:border-gray-700 mt-2",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 py-2.5 border rounded-lg hover:bg-gray-50 transition",children:""}),s.jsxs("button",{type:"submit",disabled:i||!se(),className:`flex-1 py-2.5 rounded-lg flex justify-center gap-2 items-center transition shadow-lg ${i||!se()?"bg-gray-400 text-gray-200 cursor-not-allowed opacity-70":"bg-primary text-white hover:bg-red-800"}`,children:[i?s.jsx(jy,{className:"w-4 h-4 animate-spin"}):s.jsx(jn,{className:"w-4 h-4"})," "]})]})]})]})})]})},Un=({value:t,onChange:e,label:r,error:n,disableFuture:i=!0})=>{const[a,o]=T.useState(!1),[l,c]=T.useState(1403),[u,d]=T.useState(1),f=T.useRef(null);T.useEffect(()=>{if(t){const N=t.split("/").map(Number);N.length===3&&(c(N[0]),d(N[1]))}else{const N=dt().split("/").map(Number);c(N[0]),d(N[1])}},[t,a]),T.useEffect(()=>{const N=E=>{f.current&&!f.current.contains(E.target)&&o(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const h=["","","","","","","","","","","",""],g=["","","","","","",""],b=(N,E)=>E<=6?31:E<=11||N%33===1||N%33===5||N%33===9||N%33===13||N%33===17||N%33===22||N%33===26||N%33===30?30:29,y=(N,E)=>{const{gy:C,gm:A,gd:I}=vj(N,E,1);return new Date(C,A-1,I).getDay()},v=()=>{u===1?(d(12),c(N=>N-1)):d(N=>N-1)},x=()=>{u===12?(d(1),c(N=>N+1)):d(N=>N+1)},_=N=>{const E=`${l}/${String(u).padStart(2,"0")}/${String(N).padStart(2,"0")}`;i&&Cf(E)||(e(E),o(!1))},w=()=>{const N=dt();e(N),o(!1)},k=(y(l,u)+1)%7,S=b(l,u);return s.jsxs("div",{className:"relative",ref:f,children:[r&&s.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:r}),s.jsxs("button",{type:"button",onClick:()=>o(!a),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${n?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-100 hover:border-primary/50"} ${a?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[s.jsx("span",{className:`${t?"text-sm font-medium":"text-gray-400 text-sm"}`,children:t||" ..."}),s.jsx(aL,{className:"w-4 h-4 text-gray-400"})]}),a&&s.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("button",{onClick:v,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:s.jsx(ju,{className:"w-4 h-4"})}),s.jsxs("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:[h[u-1]," ",l]}),s.jsx("button",{onClick:x,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:s.jsx(sp,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-medium text-gray-400",children:g.map((N,E)=>s.jsx("span",{className:E===6?"text-red-500 font-bold":"",children:N},E))}),s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:k}).map((N,E)=>s.jsx("div",{},`empty-${E}`)),Array.from({length:S}).map((N,E)=>{const C=E+1,A=`${l}/${String(u).padStart(2,"0")}/${String(C).padStart(2,"0")}`,I=t===A,$=i&&Cf(A),U=(k+E)%7===6;return s.jsx("button",{type:"button",disabled:$,onClick:()=>_(C),className:`w-8 h-8 rounded-lg text-sm flex items-center justify-center transition-all
                     ${I?"bg-primary text-white shadow-md font-bold":$?"text-gray-200 dark:text-gray-600 cursor-not-allowed":U?"text-red-500 font-medium hover:bg-red-50 dark:hover:bg-red-900/20":"hover:bg-primary/10 text-gray-700 dark:text-gray-300"}`,children:C},C)})]}),s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-gray-700",children:s.jsx("button",{type:"button",onClick:w,className:"w-full py-2 text-xs text-primary bg-primary/5 hover:bg-primary/10 rounded-lg font-medium transition-colors",children:"  "})})]})]})},Xr=({value:t,onChange:e,label:r})=>{const[n,i]=T.useState(!1),[a,o]=T.useState("HOURS"),l=T.useRef(null),[c,u]=T.useState("00"),[d,f]=T.useState("00");T.useEffect(()=>{if(t&&t.includes(":")){const[_,w]=t.split(":");u(_),f(w)}},[t,n]),T.useEffect(()=>{const _=w=>{l.current&&!l.current.contains(w.target)&&i(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const h=_=>{u(_),o("MINUTES")},g=_=>{f(_),e(`${c}:${_}`),i(!1),o("HOURS")},b=(_,w,k)=>{const S=_*(360/w)-90,N=k*Math.cos(S*Math.PI/180),E=k*Math.sin(S*Math.PI/180);return{transform:`translate(${N}px, ${E}px)`}},y=[12,13,14,15,16,17,18,19,20,21,22,23],v=[12,1,2,3,4,5,6,7,8,9,10,11],x=[0,5,10,15,20,25,30,35,40,45,50,55];return s.jsxs("div",{className:"relative",ref:l,children:[r&&s.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:r}),s.jsxs("button",{type:"button",onClick:()=>i(!n),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${n?"ring-2 ring-primary/20 border-primary shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-primary/50"}
        `,children:[s.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"text-gray-800 dark:text-gray-100":"text-gray-400 font-sans text-sm tracking-normal"}`,children:t||"--:--"}),s.jsx(Pu,{className:"w-5 h-5 text-gray-400"})]}),n&&s.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-64 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6 text-4xl font-bold text-gray-700 dark:text-white",children:[s.jsx("button",{type:"button",onClick:()=>o("HOURS"),className:`p-1 rounded ${a==="HOURS"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:c}),s.jsx("span",{className:"text-gray-300 pb-2",children:":"}),s.jsx("button",{type:"button",onClick:()=>o("MINUTES"),className:`p-1 rounded ${a==="MINUTES"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:d})]}),s.jsxs("div",{className:"relative w-48 h-48 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:[s.jsx("div",{className:"absolute w-1 h-1 bg-primary rounded-full z-10"}),a==="HOURS"&&s.jsxs(s.Fragment,{children:[y.map((_,w)=>{const k=_===12?"00":_,S=String(k).padStart(2,"0"),N=c===S;return s.jsx("button",{type:"button",onClick:()=>h(S),style:b(w,12,85),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${N?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:k},`out-${_}`)}),v.map((_,w)=>{const k=String(_).padStart(2,"0"),S=c===k;return s.jsx("button",{type:"button",onClick:()=>h(k),style:b(w,12,50),className:`absolute w-7 h-7 rounded-full flex items-center justify-center text-xs font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-400 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:_===12?"12":_},`in-${_}`)})]}),a==="MINUTES"&&s.jsxs(s.Fragment,{children:[x.map((_,w)=>{const k=String(_).padStart(2,"0"),S=d===k;return s.jsx("button",{type:"button",onClick:()=>g(k),style:b(w,12,80),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:k},`m-${_}`)}),s.jsx("div",{className:"absolute w-2 h-2 bg-gray-300 rounded-full"})]})]}),s.jsx("div",{className:"text-xs text-gray-400 text-center",children:a==="HOURS"?"   ":"   "})]})]})},qb=({initialData:t,onProcessComplete:e})=>{const r=Ys(),n=JSON.parse(localStorage.getItem("currentUser")||"{}"),i=!!t,a=i?"   ()":"  ",[o,l]=T.useState("GENERAL"),[c,u]=T.useState(null),[d,f]=T.useState(null),[h,g]=T.useState(!1),[b,y]=T.useState(null),[v,x]=T.useState(!1),[_,w]=T.useState([]),[k,S]=T.useState([]),[N,E]=T.useState([]),[C,A]=T.useState([]),[I,$]=T.useState([]),[U,O]=T.useState([]),R=T.useRef(null),[P,D]=T.useState({equipCode:"",equipName:"",equipLocalName:"",locationId:"",productionLine:"",requester:n.fullName||" ",reportDate:dt(),reportTime:xs(),shift:"DayWork",workCategory:"MECHANICAL",workType:"REPAIR",priority:"NORMAL",failureDesc:"",actionDesc:"",startDate:dt(),startTime:"",endDate:dt(),endTime:"",downtime:"",repairTime:""}),[q,B]=T.useState([]),[W,J]=T.useState([]),[te,Q]=T.useState([]);T.useEffect(()=>{(async()=>{const he=await Ve("equipment"),le=await Ve("equipment_local_names"),Ce=await Ve("locations");S(he),E(le),$(he),O(le),A(Ce),w(await Ve("measurement_units"))})(),t&&(D(he=>({...he,...t})),t.labor&&B(t.labor),t.parts&&J(t.parts),t.docs&&Q(t.docs))},[t]);const ge=ee=>{const he=ee.target.value,le=k.find(Ce=>Ce.code===he);if(!le){D(Ce=>({...Ce,equipCode:"",equipName:"",locationId:""})),O(N);return}if(D(Ce=>({...Ce,equipCode:he,equipName:le.name,locationId:le.location_id||""})),le.class_id&&le.group_id){const Ce=N.filter(Ge=>Ge.class_id===le.class_id&&Ge.group_id===le.group_id);O(Ce)}else O(N)},M=ee=>{const he=ee.target.value,le=N.find(Ce=>Ce.local_name===he);if(D(Ce=>({...Ce,equipLocalName:he})),le&&le.class_id&&le.group_id){const Ce=k.filter(Ge=>Ge.class_id===le.class_id&&Ge.group_id===le.group_id);$(Ce)}else $(k)},Z=ee=>{const he=window.SpeechRecognition||window.webkitSpeechRecognition;if(!he){alert("         .");return}if(b===ee){y(null);return}const le=new he;le.lang="fa-IR",le.continuous=!1,le.interimResults=!1,le.onstart=()=>y(ee),le.onend=()=>y(null),le.onresult=Ce=>{const Ge=Ce.results[0][0].transcript;D(ae=>({...ae,[ee]:ae[ee]?`${ae[ee]} ${Ge}`:Ge}))},le.start()},ue=()=>{B([...q,{id:Math.random().toString(),name:"",startDate:P.startDate,startTime:P.startTime||"08:00",endDate:P.endDate,endTime:P.endTime||"16:00",durationMinutes:0}])},ve=(ee,he,le)=>{B(Ce=>Ce.map(Ge=>{if(Ge.id!==ee)return Ge;const ae={...Ge,[he]:le};return["startDate","startTime","endDate","endTime"].includes(he)&&(ae.durationMinutes=zL(ae.startDate,ae.startTime,ae.endDate,ae.endTime)),ae}))},Oe=()=>{var ee;J([...W,{id:Math.random().toString(),code:"",name:"",qty:1,unit:((ee=_[0])==null?void 0:ee.title)||""}])},se=(ee,he,le)=>{J(Ce=>Ce.map(Ge=>Ge.id===ee?{...Ge,[he]:le}:Ge))},Ne=ee=>{if(ee.target.files&&ee.target.files.length>0){const he=Array.from(ee.target.files).map(le=>({id:Math.random().toString(),name:le.name}));Q(le=>[...le,...he]),ee.target.value=""}},K=(ee,he)=>{ee(le=>le.filter(Ce=>Ce.id!==he))},X=()=>{if(!P.equipCode)return"     .";if(!P.equipLocalName)return"      .";if(!P.productionLine)return"     .";if(!P.locationId)return"     .";if(!P.workCategory)return"   ()   .";if(!P.failureDesc)return"   .";if(i){if(!P.actionDesc)return"    .";if(!P.startDate||!P.startTime||!P.endDate||!P.endTime)return"      .";if(!P.downtime||!P.repairTime)return"       .";if(Cf(P.startDate)||Cf(P.endDate))return"         .";if(HL(P.startDate,P.startTime,P.endDate,P.endTime)===1)return":            ."}return null},Ee=()=>!(!P.equipCode||!P.equipLocalName||!P.productionLine||!P.locationId||!P.workCategory||!P.priority||!P.workType||!P.failureDesc||i&&(!P.actionDesc||!P.downtime||!P.repairTime)),Se=async ee=>{ee.preventDefault(),f(null);const he=X();if(he){f(he),l("GENERAL"),window.scrollTo(0,0);return}if(!window.confirm(i?"        ":"         "))return;const le={...P,labor:q,parts:W,docs:te};if(i&&e)e(le);else{x(!0);try{const Ce=new Date,Ge=up(Ce.getFullYear(),Ce.getMonth()+1,Ce.getDate()),ae=String(Ge.jy).substring(2),_e=String(Ge.jm).padStart(2,"0"),V=`W${ae}${_e}`,G=await la(V);ia("WORK_ORDER",le,n,G,` : ${P.equipName||P.equipLocalName} - ${P.failureDesc.substring(0,30)}...`)?(g(!0),u(G)):f("   .    .")}catch(Ce){console.error(Ce),f("        .")}finally{x(!1)}}};return c?s.jsx("div",{className:"max-w-2xl mx-auto pt-8 pb-20 px-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden animate-fadeIn",children:[s.jsxs("div",{className:"bg-green-600 p-6 text-center text-white",children:[s.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:s.jsx(Xs,{className:"w-10 h-10 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold mb-1",children:h?"     ":"  "}),s.jsx("p",{className:"opacity-90 font-mono text-lg",children:c})]}),s.jsxs("div",{className:"p-6 space-y-3",children:[s.jsxs("button",{onClick:()=>r("/work-orders"),className:"w-full bg-white border border-gray-200 dark:bg-gray-700 py-3.5 rounded-xl flex items-center justify-center gap-2 font-medium hover:bg-gray-50 dark:hover:bg-gray-600",children:[s.jsx(yL,{className:"w-5 h-5"}),"     "]}),s.jsx("button",{onClick:()=>r("/"),className:"w-full text-gray-500 py-2 text-sm",children:"  "})]})]})}):s.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:a}),i&&s.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold",children:" "})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[s.jsx("button",{type:"button",onClick:()=>l("GENERAL"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${o==="GENERAL"?"border-primary text-primary":"border-transparent"}`,children:" "}),i&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>l("LABOR"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${o==="LABOR"?"border-primary text-primary":"border-transparent"}`,children:" "}),s.jsx("button",{type:"button",onClick:()=>l("PARTS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${o==="PARTS"?"border-primary text-primary":"border-transparent"}`,children:" "})]}),s.jsx("button",{type:"button",onClick:()=>l("DOCS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${o==="DOCS"?"border-primary text-primary":"border-transparent"}`,children:""})]}),s.jsxs("form",{onSubmit:Se,className:"p-6",children:[d&&s.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 flex items-start gap-3 text-sm animate-pulse border border-red-100",children:[s.jsx(YD,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:d})]}),o==="GENERAL"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),s.jsx("span",{className:"font-bold text-sm",children:P.requester})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),s.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportDate})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),s.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportTime})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-xs text-gray-500 mb-1",children:" "}),s.jsxs("select",{value:P.shift,onChange:ee=>D({...P,shift:ee.target.value}),disabled:i,className:`text-sm font-bold border-none bg-transparent outline-none ${i?"cursor-not-allowed":"cursor-pointer"}`,children:[s.jsx("option",{value:"DayWork",children:""}),s.jsx("option",{value:"A",children:" A"}),s.jsx("option",{value:"B",children:" B"}),s.jsx("option",{value:"C",children:" C"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-100 dark:border-gray-700 space-y-4",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-2",children:" "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),i?s.jsx("input",{type:"text",value:P.equipCode,disabled:!0,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed"}):s.jsxs("select",{value:P.equipCode,onChange:ge,className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none disabled:bg-gray-100 disabled:dark:bg-gray-600",children:[s.jsx("option",{value:"",children:" ..."}),I.map(ee=>s.jsxs("option",{value:ee.code,children:[ee.code," - ",ee.name]},ee.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  ()"}),s.jsx("input",{type:"text",readOnly:!0,value:P.equipName,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed opacity-70",placeholder:"     "})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,disabled:i,value:P.equipLocalName,onChange:M,className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[s.jsx("option",{value:"",children:"  ..."}),U.length>0?U.map(ee=>s.jsx("option",{value:ee.local_name,children:ee.local_name},ee.id)):s.jsx("option",{disabled:!0,children:"  "})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,disabled:i,value:P.productionLine,onChange:ee=>D({...P,productionLine:ee.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"Line A",children:"Line A"}),s.jsx("option",{value:"Line B",children:"Line B"}),s.jsx("option",{value:"Line A&B",children:"Line A&B"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{disabled:i,value:P.locationId,onChange:ee=>D({...P,locationId:ee.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[s.jsx("option",{value:"",children:" ..."}),C.map(ee=>s.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,disabled:i,value:P.workType,onChange:ee=>D({...P,workType:ee.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[s.jsx("option",{value:"REPAIR",children:"  (EM)"}),s.jsx("option",{value:"PM",children:"  (PM)"}),s.jsx("option",{value:"PROJECT",children:" / "}),s.jsx("option",{value:"INSPECTION",children:" "}),s.jsx("option",{value:"SERVICE",children:" "})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  () ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,disabled:i,value:P.workCategory,onChange:ee=>D({...P,workCategory:ee.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[s.jsx("option",{value:"MECHANICAL",children:""}),s.jsx("option",{value:"ELECTRICAL",children:""}),s.jsx("option",{value:"INSTRUMENTATION",children:" "}),s.jsx("option",{value:"FACILITIES",children:" "})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,disabled:i,value:P.priority,onChange:ee=>D({...P,priority:ee.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[s.jsx("option",{value:"NORMAL",children:""}),s.jsx("option",{value:"URGENT",children:""}),s.jsx("option",{value:"CRITICAL",children:" ( )"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  /  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{required:!0,readOnly:i,className:`w-full p-4 border rounded-xl h-28 pl-10 resize-none ${i?"bg-gray-100 cursor-not-allowed":"bg-gray-50 dark:bg-gray-700"}`,placeholder:"    ...",value:P.failureDesc,onChange:ee=>D({...P,failureDesc:ee.target.value})}),!i&&s.jsx("button",{type:"button",onClick:()=>Z("failureDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${b==="failureDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:b==="failureDesc"?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):s.jsx(qn,{className:"w-5 h-5"})})]})]}),i&&s.jsxs("div",{className:"space-y-6 border-t-2 border-dashed border-gray-300 dark:border-gray-600 pt-6 mt-2",children:[s.jsxs("h3",{className:"text-lg font-bold text-primary flex items-center gap-2",children:[s.jsx(oj,{className:"w-5 h-5"}),"    (  )"]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{required:!0,className:"w-full p-4 border rounded-xl bg-white dark:bg-gray-700 h-28 pl-10 outline-none resize-none",placeholder:"    ...",value:P.actionDesc,onChange:ee=>D({...P,actionDesc:ee.target.value})}),s.jsx("button",{type:"button",onClick:()=>Z("actionDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${b==="actionDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:b==="actionDesc"?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):s.jsx(qn,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(Un,{label:" ",value:P.startDate,onChange:ee=>D({...P,startDate:ee})}),s.jsx(Xr,{label:" ",value:P.startTime,onChange:ee=>D({...P,startTime:ee})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(Un,{label:" ",value:P.endDate,onChange:ee=>D({...P,endDate:ee})}),s.jsx(Xr,{label:" ",value:P.endTime,onChange:ee=>D({...P,endTime:ee})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["  () ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,value:P.downtime,onChange:ee=>D({...P,downtime:ee.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["   () ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,value:P.repairTime,onChange:ee=>D({...P,repairTime:ee.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]})]})]})]})]}),o==="LABOR"&&s.jsxs("div",{className:"space-y-4",children:[q.map(ee=>s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 space-y-3 animate-fadeIn",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 ml-2",children:[s.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:ee.name,onChange:he=>ve(ee.id,"name",he.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:[s.jsx("option",{value:"",children:"..."}),s.jsx("option",{value:" ",children:"  ()"}),s.jsx("option",{value:" ",children:"  ()"})]})]}),s.jsx("button",{type:"button",onClick:()=>K(B,ee.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg mt-5",children:s.jsx(Dt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(Un,{label:" ",value:ee.startDate,onChange:he=>ve(ee.id,"startDate",he)}),s.jsx(Xr,{label:" ",value:ee.startTime,onChange:he=>ve(ee.id,"startTime",he)}),s.jsx(Un,{label:" ",value:ee.endDate,onChange:he=>ve(ee.id,"endDate",he)}),s.jsx(Xr,{label:" ",value:ee.endTime,onChange:he=>ve(ee.id,"endTime",he)})]})]},ee.id)),s.jsxs("button",{type:"button",onClick:ue,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[s.jsx(er,{className:"w-4 h-4"}),"   "]})]}),o==="PARTS"&&s.jsxs("div",{className:"space-y-4",children:[W.map(ee=>s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl space-y-3 animate-fadeIn relative",children:[s.jsx("button",{type:"button",onClick:()=>K(J,ee.id),className:"absolute top-4 left-4 p-1.5 text-red-500 hover:bg-red-100 rounded",children:s.jsx(Dt,{className:"w-4 h-4"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:" "}),s.jsx("input",{type:"text",value:ee.code,onChange:he=>se(ee.id,"code",he.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:" ..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:ee.name,onChange:he=>se(ee.id,"name",he.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"..."})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:ee.qty,onChange:he=>se(ee.id,"qty",Number(he.target.value)),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{value:ee.unit,onChange:he=>se(ee.id,"unit",he.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:_.length>0?_.map(he=>s.jsx("option",{value:he.title,children:he.title},he.id)):s.jsx("option",{value:"",children:""})})]})]})]},ee.id)),s.jsxs("button",{type:"button",onClick:Oe,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[s.jsx(er,{className:"w-4 h-4"}),"   "]})]}),o==="DOCS"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("input",{type:"file",ref:R,multiple:!0,className:"hidden",onChange:Ne}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition cursor-pointer",onClick:()=>{var ee;return(ee=R.current)==null?void 0:ee.click()},children:[s.jsx(ci,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2 font-medium",children:"       "})]}),te.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-bold text-gray-500",children:"  :"}),te.map(ee=>s.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-700 border p-3 rounded-lg shadow-sm",children:[s.jsx("span",{className:"text-sm truncate max-w-[200px]",children:ee.name}),s.jsx("button",{type:"button",onClick:()=>K(Q,ee.id),className:"text-red-500",children:s.jsx(Dt,{className:"w-4 h-4"})})]},ee.id))]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:s.jsxs("button",{disabled:!Ee()||v,type:"submit",className:`bg-primary text-white px-8 py-3 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 ${!Ee()||v?"opacity-50 cursor-not-allowed bg-gray-400 hover:bg-gray-400 shadow-none":""}`,children:[v?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):s.jsx(jn,{className:"w-5 h-5"}),i?"    ":"     "]})})]})]})]})},kce=()=>{const t=Ys(),[e,r]=T.useState([]),[n,i]=T.useState([]),[a,o]=T.useState([]),[l,c]=T.useState(null),[u,d]=T.useState(!1),[f,h]=T.useState([]),[g,b]=T.useState(""),[y,v]=T.useState("ALL"),[x,_]=T.useState(""),[w,k]=T.useState(""),[S,N]=T.useState(1),[E,C]=T.useState(10);T.useEffect(()=>{const R=L3();r(R.sort((P,D)=>D.createdAt.localeCompare(P.createdAt)))},[]),T.useEffect(()=>{let R=e;g&&(R=R.filter(P=>{var D;return P.title.includes(g)||P.trackingCode.includes(g)||((D=P.data)==null?void 0:D.equipName)&&P.data.equipName.includes(g)})),y!=="ALL"&&(R=R.filter(P=>A(P).includes(y))),x&&(R=R.filter(P=>P.createdAt>=x)),w&&(R=R.filter(P=>P.createdAt<=w)),i(R),N(1),h([])},[e,g,y,x,w]),T.useEffect(()=>{const R=(S-1)*E,P=R+E;o(n.slice(R,P))},[n,S,E]);const A=R=>{if(R.status==="DONE")return" ";const D=Fc().find(B=>B.id===R.workflowId),q=D==null?void 0:D.steps.find(B=>B.id===R.currentStepId);return(q==null?void 0:q.title)||""},I=R=>{const P=A(R);let D="bg-gray-100 text-gray-600";return P.includes("")?D="bg-blue-100 text-blue-700":P.includes("")?D="bg-orange-100 text-orange-700":P.includes("")?D="bg-purple-100 text-purple-700":(P.includes("")||R.status==="DONE")&&(D="bg-green-100 text-green-700"),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${D}`,children:P})},$=R=>{R.target.checked?h(a.map(P=>P.id)):h([])},U=R=>{f.includes(R)?h(f.filter(P=>P!==R)):h([...f,R])},O=()=>{const R=f.length>0?e.filter(J=>f.includes(J.id)):n;if(R.length===0){alert("    .");return}const P=[" ","",""," ","",""],D=R.map(J=>{var te,Q;return[J.trackingCode,((te=J.data)==null?void 0:te.equipName)||"-",J.title,((Q=J.data)==null?void 0:Q.requester)||"-",J.createdAt,A(J)]}),q="data:text/csv;charset=utf-8,\uFEFF"+P.join(",")+`
`+D.map(J=>J.join(",")).join(`
`),B=encodeURI(q),W=document.createElement("a");W.setAttribute("href",B),W.setAttribute("download",`work_orders_report_${new Date().getTime()}.csv`),document.body.appendChild(W),W.click(),document.body.removeChild(W)};return s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:s.jsx(yj,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"  "}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     "})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[f.length>0&&s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[f.length,"   "]}),s.jsxs("button",{onClick:O,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[s.jsx(uj,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden md:inline",children:" "})]}),s.jsxs("button",{onClick:()=>t("/work-orders/new"),className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[s.jsx(er,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden md:inline",children:"  "})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[s.jsxs("div",{className:"p-4 flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1 w-full",children:[s.jsx(Ka,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:" (  ...)",value:g,onChange:R=>b(R.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),s.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${u?"bg-primary/5 border-primary text-primary":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:[s.jsx(lp,{className:"w-5 h-5"}),s.jsx("span",{children:""}),u?s.jsx(lj,{className:"w-4 h-4"}):s.jsx(op,{className:"w-4 h-4"})]})]}),u&&s.jsxs("div",{className:"px-4 pb-4 pt-0 grid grid-cols-1 md:grid-cols-4 gap-4 animate-fadeIn",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),s.jsxs("select",{value:y,onChange:R=>v(R.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none",children:[s.jsx("option",{value:"ALL",children:" "}),s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"",children:"  "}),s.jsx("option",{value:"",children:" "}),s.jsx("option",{value:"",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:"1403/01/01",value:x,onChange:R=>_(R.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:"1403/12/29",value:w,onChange:R=>k(R.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{v("ALL"),_(""),k(""),b("")},className:"w-full p-2.5 text-red-500 hover:bg-red-50 rounded-lg transition text-sm",children:"  "})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[s.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 w-10",children:s.jsx("input",{type:"checkbox",onChange:$,checked:a.length>0&&f.length===a.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:"  / "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:a.length>0?a.map(R=>{var P,D,q;return s.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${f.includes(R.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[s.jsx("td",{className:"p-4",children:s.jsx("input",{type:"checkbox",checked:f.includes(R.id),onChange:()=>U(R.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),s.jsx("td",{className:"p-4 font-mono font-bold text-gray-600 dark:text-gray-300",children:R.trackingCode}),s.jsx("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-100",children:((P=R.data)==null?void 0:P.equipName)||"-"}),s.jsx("td",{className:"p-4 text-gray-500 truncate max-w-[200px]",children:((D=R.data)==null?void 0:D.failureDesc)||R.title}),s.jsx("td",{className:"p-4",children:((q=R.data)==null?void 0:q.requester)||""}),s.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:R.createdAt}),s.jsx("td",{className:"p-4",children:I(R)}),s.jsx("td",{className:"p-4",children:s.jsxs("button",{onClick:()=>c(R),className:"text-primary hover:bg-primary/10 p-2 rounded-lg transition flex items-center gap-1 text-xs font-bold",children:[s.jsx(Tx,{className:"w-4 h-4"})," "]})})]},R.id)}):s.jsx("tr",{children:s.jsxs("td",{colSpan:8,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[s.jsx(Ka,{className:"w-12 h-12 mb-4 opacity-20"}),s.jsx("span",{children:"     ."})]})})})]})}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx("span",{children:""}),s.jsxs("select",{value:E,onChange:R=>{C(Number(R.target.value)),N(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"}),s.jsx("option",{value:200,children:"200"})]}),s.jsx("span",{children:"   "}),s.jsxs("span",{className:"mr-2 px-2 border-r border-gray-300 dark:border-gray-600",children:[": ",n.length," "]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{disabled:S===1,onClick:()=>N(R=>Math.max(1,R-1)),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(ju,{className:"w-4 h-4"})}),s.jsxs("span",{className:"px-4 text-sm font-bold",children:[" ",S,"  ",Math.ceil(n.length/E)||1]}),s.jsx("button",{disabled:S>=Math.ceil(n.length/E),onClick:()=>N(R=>R+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(sp,{className:"w-4 h-4"})})]})]})]}),l&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden animate-fadeIn",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold text-lg",children:l.title}),s.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-xs",children:l.trackingCode})]}),s.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:s.jsx(yt,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-black/20 p-4",children:s.jsx("div",{className:"pointer-events-none opacity-90",children:s.jsx(qb,{initialData:l.data})})}),s.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex justify-end",children:s.jsx("button",{onClick:()=>c(null),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 transition",children:""})})]})})]})},Ece=[{id:"1",desc:"   ",status:null},{id:"2",desc:"  ",status:null},{id:"3",desc:"  ",status:null},{id:"4",desc:"   ",status:null}],Tce=({user:t})=>{const e=Ys(),[r,n]=T.useState("SELECT"),[i,a]=T.useState(Ece),[o,l]=T.useState(""),c=(h,g)=>{a(b=>b.map(y=>y.id===h?{...y,status:g}:y))},u=()=>{n("SENDING"),setTimeout(()=>{l(GL("J")),n("RESULT")},3e3)},d=i.filter(h=>h.status===null).length,f=(i.length-d)/i.length*100;if(r==="SELECT")return s.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] space-y-8",children:[s.jsx("div",{className:"w-40 h-40 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center shadow-xl cursor-pointer hover:scale-105 transition",onClick:()=>n("CHECKLIST"),children:s.jsx(AL,{className:"w-20 h-20 text-primary"})}),s.jsx("p",{className:"text-lg font-medium",children:" QR   "}),s.jsx("button",{onClick:()=>n("CHECKLIST"),className:"bg-primary text-white px-8 py-3 rounded-full shadow-lg",children:"   "})]});if(r==="SENDING")return s.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] text-center p-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary mb-8"}),s.jsx("h2",{className:"text-xl font-bold mb-4",children:"   ..."}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:s.jsx("p",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"      "})})]});if(r==="RESULT"){const h=i.filter(g=>g.status==="NOK");return s.jsxs("div",{className:"max-w-md mx-auto space-y-6 pt-4",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"text-4xl animate-bounce",children:""}),s.jsxs("h2",{className:"text-xl font-bold text-green-600",children:[t.fullName,"  "]}),s.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-2 inline-block font-mono text-sm",children:[" : ",o]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 space-y-4",children:[s.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsx("span",{className:"text-gray-500",children:":"}),s.jsx("span",{children:"  101"}),s.jsx("span",{className:"text-gray-500",children:":"}),s.jsx("span",{children:dt()}),s.jsx("span",{className:"text-gray-500",children:":"}),s.jsxs("span",{className:"text-green-600 font-bold",children:[i.filter(g=>g.status==="OK").length," "]}),s.jsx("span",{className:"text-gray-500",children:":"}),s.jsxs("span",{className:"text-red-600 font-bold",children:[h.length," "]})]}),h.length>0&&s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm mt-2",children:[s.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 mb-1",children:" :"}),s.jsx("ul",{className:"list-disc list-inside",children:h.map(g=>s.jsx("li",{children:g.desc},g.id))})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{className:"flex-1 bg-green-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[s.jsx(Ax,{className:"w-5 h-5"}),"  "]}),s.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-gray-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[s.jsx(fj,{className:"w-5 h-5"})," "]})]})]})}return s.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[s.jsxs("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900 z-10 py-4 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h2",{className:"font-bold text-lg",children:"   PM-101"}),s.jsxs("span",{className:"text-sm bg-accent text-white px-2 py-1 rounded-full",children:[d," "]})]}),s.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${f}%`}})})]}),s.jsx("div",{className:"space-y-4 mt-4",children:i.map(h=>s.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border-r-4 ${h.status==="OK"?"border-green-500":h.status==="NOK"?"border-red-500":"border-gray-300"}`,children:[s.jsx("p",{className:"font-medium mb-4",children:h.desc}),h.status!=="NOK"?s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>c(h.id,"OK"),className:`flex-1 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors ${h.status==="OK"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-green-100"}`,children:[s.jsx(ys,{className:"w-5 h-5"})," "]}),s.jsxs("button",{onClick:()=>c(h.id,"NOK"),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-red-100 text-gray-500 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(yt,{className:"w-5 h-5"})," "]})]}):s.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[s.jsxs("label",{className:"text-xs font-bold text-red-500 block mb-1",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"   ...",className:"w-full p-2 pr-10 border border-red-300 rounded-lg bg-red-50 dark:bg-red-900/10",autoFocus:!0}),s.jsx(qn,{className:"absolute left-2 top-2 text-gray-400 w-5 h-5"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("button",{className:"text-blue-600 flex items-center gap-1 text-sm",children:[s.jsx(wf,{className:"w-4 h-4"}),"  "]}),s.jsx("button",{onClick:()=>c(h.id,null),className:"text-gray-400 text-sm",children:""})]})]})]},h.id))}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-800 border-t dark:border-gray-700 md:relative md:bg-transparent md:border-none",children:s.jsx("button",{disabled:d>0,onClick:u,className:"w-full bg-primary disabled:bg-gray-400 text-white py-4 rounded-xl font-bold shadow-lg transition-all transform active:scale-95",children:"   "})})]})},Ace=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[a,o]=T.useState(!1),[l,c]=T.useState(!1),[u,d]=T.useState([]),[f,h]=T.useState([]),[g,b]=T.useState([]),[y,v]=T.useState([]),[x,_]=T.useState({mainCatId:"",subCatId:"",subSubCatId:"",search:""}),[w,k]=T.useState([]),[S,N]=T.useState({requestDate:dt(),requestTime:xs(),workOrderId:"",description:""}),[E,C]=T.useState([]),[A,I]=T.useState({id:"",partId:"",partName:"",partCode:"",qty:1,unit:"",note:""}),[$,U]=T.useState(!1);T.useEffect(()=>{R(),O()},[]);const O=async()=>{const M=pp("PART_REQUEST");i(M.map(Z=>({...Z,...Z.data})))},R=async()=>{o(!0);const[M,Z,ue,ve]=await Promise.all([Ve("part_categories"),Ve("parts"),Ve("measurement_units"),$e.from("cartable_items").select("*").eq("module","WORK_ORDER").neq("status","DONE")]);d(M||[]),h(Z||[]),b(ue||[]),v(ve.data||[]),ue&&ue.length>0&&I(Oe=>({...Oe,unit:ue[0].title})),o(!1)};T.useEffect(()=>{let M=f;if(x.subSubCatId)M=M.filter(Z=>Z.category_id===x.subSubCatId);else if(x.subCatId){const Z=u.filter(ue=>ue.parent_id===x.subCatId).map(ue=>ue.id);M=M.filter(ue=>Z.includes(ue.category_id))}else if(x.mainCatId){const Z=u.filter(ve=>ve.parent_id===x.mainCatId).map(ve=>ve.id),ue=u.filter(ve=>Z.includes(ve.parent_id)).map(ve=>ve.id);M=M.filter(ve=>ue.includes(ve.category_id))}if(x.search){const Z=x.search.toLowerCase();M=M.filter(ue=>ue.name&&ue.name.toLowerCase().includes(Z)||ue.code&&ue.code.toLowerCase().includes(Z))}k(M)},[x,f,u]);const P=M=>{var ve,Oe;const Z=f.find(se=>se.id===M);if(!Z)return;const ue=((ve=g.find(se=>se.id===Z.consumption_unit_id))==null?void 0:ve.title)||((Oe=g[0])==null?void 0:Oe.title)||"";I(se=>({...se,partId:Z.id,partName:Z.name,partCode:Z.code,unit:ue}))},D=()=>{if(!A.partId&&!A.partName){alert("          .");return}if(A.qty<=0){alert("     .");return}const M={...A,id:Math.random().toString()};C(Z=>[...Z,M]),I({id:"",partId:"",partName:"",partCode:"",qty:1,unit:A.unit,note:""})},q=M=>{I(M),U(!0),C(Z=>Z.filter(ue=>ue.id!==M.id))},B=()=>{var M;!A.partName||A.qty<=0||(C(Z=>[...Z,A]),U(!1),I({id:"",partId:"",partName:"",partCode:"",qty:1,unit:((M=g[0])==null?void 0:M.title)||"",note:""}))},W=M=>{window.confirm("      ")&&C(Z=>Z.filter(ue=>ue.id!==M))},J=async M=>{if(M.preventDefault(),E.length===0){alert("   .      .");return}if(!S.workOrderId&&!S.description.trim()){alert("       ( )  .");return}c(!0);try{const Z=new Date,ue=dt().split("/"),ve=await la("P"),Oe=y.find(ee=>ee.id===S.workOrderId),se=Oe?Oe.tracking_code:null,Ne={tracking_code:ve,requester_id:t.id,requester_name:t.fullName,work_order_id:S.workOrderId||null,work_order_code:se,request_date:S.requestDate,description:S.description||(Oe?`   ${Oe.title}`:""),status:"PENDING"},{data:K,error:X}=await $e.from("part_requests").insert([Ne]).select().single();if(X)throw X;const Ee=E.map(ee=>({request_id:K.id,part_id:ee.partId||null,part_name:ee.partName,qty:ee.qty,unit:ee.unit,note:ee.note})),{error:Se}=await $e.from("part_request_items").insert(Ee);if(Se)throw Se;ia("PART_REQUEST",{...Ne,items:E},t,ve,` : ${E.length} `),alert(`    ${ve}    .`),r("LIST"),O(),C([]),N({requestDate:dt(),requestTime:xs(),workOrderId:"",description:""})}catch(Z){console.error(Z),alert("   : "+Z.message)}finally{c(!1)}},te=u.filter(M=>M.level_type==="MAIN"),Q=u.filter(M=>M.level_type==="SUB"&&(!x.mainCatId||M.parent_id===x.mainCatId)),ge=u.filter(M=>M.level_type==="SUB_SUB"&&(!x.subCatId||M.parent_id===x.subCatId));return e==="LIST"?s.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:s.jsx(Ai,{title:"   ",icon:rc,data:n,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:M=>s.jsx("span",{className:"font-mono font-bold",children:M.trackingCode})},{header:" ",accessor:M=>M.createdAt},{header:"  ",accessor:M=>{var Z;return((Z=M.data)==null?void 0:Z.work_order_code)||"-"}},{header:" ",accessor:M=>{var Z,ue;return s.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-0.5 rounded font-bold",children:((ue=(Z=M.data)==null?void 0:Z.items)==null?void 0:ue.length)||0})}},{header:" ",accessor:M=>{var Z;return((Z=M.data)==null?void 0:Z.requester_name)||t.fullName}},{header:"",accessor:M=>s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${M.status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:M.status==="PENDING"?"  ":" "})}]})}):s.jsxs("div",{className:"max-w-5xl mx-auto pb-20",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:s.jsx(rc,{className:"w-8 h-8 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"   / "}),s.jsx("p",{className:"text-xs text-gray-500",children:"    "})]})]}),s.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:s.jsx(yt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-2 mb-4",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm",children:t.fullName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),s.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm font-mono text-center",children:S.requestDate})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  "}),s.jsxs("select",{value:S.workOrderId,onChange:M=>N({...S,workOrderId:M.target.value}),className:"w-full p-2.5 border rounded-lg bg-white dark:bg-gray-600 text-sm outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"  ()"}),y.map(M=>s.jsxs("option",{value:M.id,children:[M.tracking_code," - ",M.title]},M.id))]})]}),!S.workOrderId&&s.jsxs("div",{className:"md:col-span-3 animate-fadeIn",children:[s.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:["  () ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:S.description,onChange:M=>N({...S,description:M.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary",placeholder:"    ..."})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:[s.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 border-b dark:border-gray-600 pb-2 mb-4 flex items-center gap-2",children:[s.jsx(er,{className:"w-5 h-5 text-green-600"}),$?"  ":"  "]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-3 rounded-lg border border-blue-100 dark:border-blue-800 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-blue-700 mb-2",children:[s.jsx(lp,{className:"w-4 h-4"}),"  "]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2",children:[s.jsxs("select",{value:x.mainCatId,onChange:M=>_({...x,mainCatId:M.target.value,subCatId:"",subSubCatId:""}),className:"p-2 rounded border outline-none text-xs",children:[s.jsx("option",{value:"",children:"  "}),te.map(M=>s.jsx("option",{value:M.id,children:M.name},M.id))]}),s.jsxs("select",{value:x.subCatId,onChange:M=>_({...x,subCatId:M.target.value,subSubCatId:""}),className:"p-2 rounded border outline-none text-xs",disabled:!x.mainCatId,children:[s.jsx("option",{value:"",children:"  "}),Q.map(M=>s.jsx("option",{value:M.id,children:M.name},M.id))]}),s.jsxs("select",{value:x.subSubCatId,onChange:M=>_({...x,subSubCatId:M.target.value}),className:"p-2 rounded border outline-none text-xs",disabled:!x.subCatId,children:[s.jsx("option",{value:"",children:" "}),ge.map(M=>s.jsx("option",{value:M.id,children:M.name},M.id))]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ka,{className:"absolute left-2 top-2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:" /...",value:x.search,onChange:M=>_({...x,search:M.target.value}),className:"w-full p-2 pl-8 rounded border outline-none text-xs"})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:A.partId,onChange:M=>P(M.target.value),className:"w-full p-3 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"--     --"}),w.map(M=>s.jsxs("option",{value:M.id,children:[M.name," ",M.code?`(${M.code})`:""]},M.id))]}),s.jsx("div",{className:"mt-1 text-xs text-gray-400",children:w.length===0?"   .":`${w.length}   .`})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 items-end",children:[s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  (   )"}),s.jsx("input",{type:"text",value:A.partName,onChange:M=>I({...A,partName:M.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:"0.01",step:"0.01",value:A.qty,onChange:M=>I({...A,qty:Number(M.target.value)}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary text-center font-bold"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{value:A.unit,onChange:M=>I({...A,unit:M.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary",children:g.map(M=>s.jsx("option",{value:M.title,children:M.title},M.id))})]})]}),s.jsx("div",{className:"mt-3",children:s.jsx("input",{type:"text",value:A.note,onChange:M=>I({...A,note:M.target.value}),className:"w-full p-2.5 border rounded-lg outline-none focus:ring-2 focus:ring-primary text-sm",placeholder:"     ()..."})}),s.jsx("div",{className:"mt-4 flex justify-end",children:$?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{var M;U(!1),I({id:"",partId:"",partName:"",partCode:"",qty:1,unit:((M=g[0])==null?void 0:M.title)||"",note:""})},className:"px-4 py-2 border rounded-lg text-gray-500 hover:bg-gray-100",children:""}),s.jsx("button",{onClick:B,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-lg",children:""})]}):s.jsxs("button",{onClick:D,className:"w-full sm:w-auto px-6 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700 shadow-lg flex items-center justify-center gap-2 font-bold transition transform active:scale-95",children:[s.jsx(er,{className:"w-5 h-5"}),"   "]})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden h-full flex flex-col",children:[s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border-b dark:border-gray-700 flex justify-between items-center",children:[s.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[s.jsx(vL,{className:"w-5 h-5"}),"   "]}),s.jsx("span",{className:"bg-primary text-white text-xs px-2 py-1 rounded-full",children:E.length})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 max-h-[500px]",children:E.length===0?s.jsxs("div",{className:"text-center py-10 text-gray-400 text-sm",children:[s.jsx(rc,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),"    ."]}):E.map((M,Z)=>s.jsxs("div",{className:"bg-white dark:bg-gray-700 p-3 rounded-lg border border-gray-100 dark:border-gray-600 shadow-sm hover:shadow-md transition relative group",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:M.partName}),s.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-600 px-1.5 py-0.5 rounded font-mono text-gray-500",children:M.partCode||"---"})]}),s.jsxs("div",{className:"text-sm text-blue-600 font-bold mb-1",children:[M.qty," ",M.unit]}),M.note&&s.jsx("div",{className:"text-xs text-gray-500 italic border-t pt-1 mt-1",children:M.note}),s.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white/80 dark:bg-gray-800/80 rounded p-0.5 backdrop-blur-sm",children:[s.jsx("button",{onClick:()=>q(M),className:"p-1 text-blue-500 hover:bg-blue-50 rounded",children:s.jsx(cp,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>W(M.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",children:s.jsx(Dt,{className:"w-4 h-4"})})]})]},M.id))}),s.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:s.jsxs("button",{onClick:J,disabled:E.length===0||l||!S.workOrderId&&!S.description,className:"w-full bg-primary text-white py-3 rounded-xl shadow-xl hover:bg-red-800 transition font-bold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):s.jsx(jn,{className:"w-5 h-5"}),"  "]})})]})})]})]})},Cce=()=>{const[t,e]=T.useState("LIST"),[r,n]=T.useState([]),[i,a]=T.useState(!1),[o,l]=T.useState(!1),c=T.useRef(null),[u,d]=T.useState(null),[f,h]=T.useState({code:"",name:"",type:""});T.useEffect(()=>{g()},[t]);const g=async()=>{a(!0);try{const{data:w,error:k}=await $e.from("technical_documents").select("*").order("created_at",{ascending:!1});if(k)throw k;n(w||[])}catch(w){console.error("Error fetching documents:",w)}finally{a(!1)}},b=()=>{var w;(w=c.current)==null||w.click()},y=w=>{w.target.files&&w.target.files[0]&&d(w.target.files[0])},v=()=>f.code.trim()!==""&&f.name.trim()!==""&&f.type!=="",x=async w=>{if(w.preventDefault(),!!v()){l(!0);try{const k={code:f.code,title:f.name,type:f.type,file_name:u?u.name:" "},{error:S}=await $e.from("technical_documents").insert([k]);if(S)throw S;alert("    ."),h({code:"",name:"",type:""}),d(null),c.current&&(c.current.value=""),e("LIST"),g()}catch(k){alert("   : "+k.message)}finally{l(!1)}}},_=async w=>{if(window.confirm("      "))try{const{error:k}=await $e.from("technical_documents").delete().eq("id",w.id);if(k)throw k;n(S=>S.filter(N=>N.id!==w.id))}catch(k){alert("  : "+k.message)}};return t==="LIST"?s.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx("button",{onClick:g,className:"p-2 bg-white dark:bg-gray-800 rounded-lg shadow hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:s.jsx(jy,{className:`w-5 h-5 ${i?"animate-spin":""}`})})}),s.jsx(Ai,{title:"  ",icon:ec,data:r,onAdd:()=>e("NEW"),onDelete:_,columns:[{header:" ",accessor:w=>s.jsx("span",{className:"font-mono font-bold",children:w.code})},{header:" ",accessor:w=>w.title},{header:" ",accessor:w=>w.type},{header:" ",accessor:w=>w.file_name||"-"},{header:" ",accessor:w=>new Date(w.created_at).toLocaleDateString("fa-IR")}]})]}):s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ec,{className:"w-8 h-8 text-primary"}),s.jsx("h1",{className:"text-2xl font-bold",children:"    "})]}),s.jsx("button",{onClick:()=>e("LIST"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:s.jsx(yt,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm h-fit border border-gray-200 dark:border-gray-700",children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm mb-1 font-bold text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{value:f.code,onChange:w=>h({...f,code:w.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary transition-all",required:!0,placeholder:": MAP-101"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm mb-1 font-bold text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{value:f.name,onChange:w=>h({...f,name:w.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary transition-all",required:!0,placeholder:"   ..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm mb-1 font-bold text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:f.type,onChange:w=>h({...f,type:w.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary transition-all cursor-pointer",required:!0,children:[s.jsx("option",{value:"",children:" ..."}),s.jsx("option",{value:"MAP",children:" "}),s.jsx("option",{value:"CATALOG",children:"  "}),s.jsx("option",{value:"MANUAL",children:" "}),s.jsx("option",{value:"OTHER",children:" "})]})]}),s.jsx("input",{type:"file",ref:c,onChange:y,className:"hidden"}),s.jsxs("div",{onClick:b,className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all mt-6
                ${u?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,children:[s.jsx(Oc,{className:`w-10 h-10 mx-auto mb-4 ${u?"text-green-600":"text-gray-400"}`}),s.jsx("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:u?u.name:"    "}),s.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:"PDF, JPG, PNG (Max 10MB)"})]}),s.jsxs("div",{className:"flex gap-3 pt-6 border-t dark:border-gray-700 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>e("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),s.jsxs("button",{type:"submit",disabled:!v()||o,className:`flex-[2] py-3 rounded-xl shadow-lg font-bold transition-all flex items-center justify-center gap-2
                        ${v()&&!o?"bg-primary text-white hover:bg-red-800 cursor-pointer transform active:scale-95":"bg-gray-300 text-gray-500 dark:bg-gray-700 dark:text-gray-400 cursor-not-allowed opacity-70"}
                    `,children:[o?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):s.jsx(ec,{className:"w-5 h-5"}),"  "]})]})]})})]})},Xk=({value:t,onChange:e,label:r,error:n})=>{const[i,a]=T.useState(!1),o=T.useRef(null),l=Array.from({length:24},(g,b)=>String(b).padStart(2,"0")),c=Array.from({length:12},(g,b)=>String(b*5).padStart(2,"0"));T.useEffect(()=>{const g=b=>{o.current&&!o.current.contains(b.target)&&a(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const[u,d]=t?t.split(":"):["--","--"],f=g=>{e(`${g}:${d==="--"?"00":d}`)},h=g=>{e(`${u==="--"?"00":u}:${g}`),a(!1)};return s.jsxs("div",{className:"relative",ref:o,children:[r&&s.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:r}),s.jsxs("button",{type:"button",onClick:()=>a(!i),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${n?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 hover:border-primary/50 text-gray-800 dark:text-gray-100"} ${i?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[s.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"":"text-gray-400 text-sm font-sans tracking-normal"}`,children:t||" ..."}),s.jsx(Pu,{className:"w-4 h-4 text-gray-400"})]}),i&&s.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-600 p-2 animate-fadeIn flex gap-2 h-64",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[s.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),c.map(g=>s.jsx("button",{type:"button",onClick:()=>h(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${d===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]}),s.jsx("div",{className:"flex items-center justify-center font-bold text-gray-300",children:":"}),s.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[s.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),l.map(g=>s.jsx("button",{type:"button",onClick:()=>f(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${u===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]})]})]})},jce=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[a,o]=T.useState(!1),[l,c]=T.useState(!1),[u,d]=T.useState([]),[f,h]=T.useState([]),[g,b]=T.useState(null);T.useEffect(()=>{y(),Ve("personnel").then(d),Ve("org_chart").then(h),v()},[e]);const y=async()=>{o(!0);const{data:K}=await $e.from("meeting_minutes").select("*").order("created_at",{ascending:!1});K&&i(K),o(!1)},v=async()=>{const{data:K}=await $e.from("app_users").select("avatar").eq("role","ADMIN").limit(1).single();K&&b(K.avatar)},[x,_]=T.useState({subject:"",location:"",meetingDate:dt(),startTime:"",endTime:""}),[w,k]=T.useState([]),[S,N]=T.useState(""),[E,C]=T.useState(null),[A,I]=T.useState([]),[$,U]=T.useState({name:"",role:""});T.useRef(null);const[O,R]=T.useState([]),[P,D]=T.useState(null),q=()=>{if(!$.name||!$.role){alert("      ");return}I([...A,$]),U({name:"",role:""})},B=K=>{I(A.filter((X,Ee)=>Ee!==K))},W=()=>{S.trim()&&(E?(k(w.map(K=>K.id===E?{...K,text:S}:K)),C(null)):k([...w,{id:Math.random().toString(),text:S}]),N(""))},J=K=>{N(K.text),C(K.id)},te=K=>{k(w.filter(X=>X.id!==K))},Q=K=>{const X=["","","","","","","","","",""];return K.toString().replace(/\d/g,Ee=>X[parseInt(Ee)])},ge=()=>{if(!x.startTime||!x.endTime)return!1;const[K,X]=x.startTime.split(":").map(Number),[Ee,Se]=x.endTime.split(":").map(Number);return Ee>K||Ee===K&&Se>X},M=()=>x.subject&&ge()&&A.length>0&&w.length>0,Z=()=>{x.subject||A.length>0?window.confirm("        ")&&(ue(),r("LIST")):(ue(),r("LIST"))},ue=()=>{_({subject:"",location:"",meetingDate:dt(),startTime:"",endTime:""}),I([]),k([]),R([]),D(null)},ve=async K=>{if(K.preventDefault(),!M())return;c(!0);let X=null,Ee="";try{Ee=await la("G");const ee=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t.id)?t.id:null;X={tracking_code:Ee,subject:x.subject,location:x.location,meeting_date:x.meetingDate,start_time:x.startTime,end_time:x.endTime,attendees:A,decisions:w,attached_files:O.map(le=>({name:le.name||"unknown",size:le.size||0,type:le.type||"application/octet-stream"})),creator_id:ee,status:"PENDING"};const{error:he}=await $e.from("meeting_minutes").insert([X]);if(he)throw he;ia("MEETING",X,t,Ee,`: ${x.subject}`),alert("    ."),D(X),r("VIEW")}catch(Se){console.error("Submission Error:",Se);const ee=(Se==null?void 0:Se.message)||(Se==null?void 0:Se.error_description)||(typeof Se=="object"?JSON.stringify(Se):String(Se))||" ";if(alert(`   : 
${ee}

            .`),X){try{ia("MEETING",X,t,Ee||"OFFLINE",` (): ${x.subject}`)}catch(he){console.warn("Local save warning:",he)}D(X),r("VIEW")}}finally{c(!1)}},Oe=()=>{window.print()},se=async()=>{if(navigator.share)try{await navigator.share({title:` ${P.subject}`,text:`  ${P.tracking_code}  ${P.meeting_date}`,url:window.location.href})}catch(K){console.error("Error sharing:",K)}else Oe()},Ne=K=>{D(K),R(K.attached_files||[]),r("VIEW")};return e==="VIEW"&&P?s.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 flex justify-center text-black",children:[s.jsx("style",{children:`
                  @media print {
                      @page { size: A4; margin: 0; }
                      body { background: white; -webkit-print-color-adjust: exact; }
                      .no-print { display: none !important; }
                      .print-container { width: 210mm !important; min-height: 297mm !important; padding: 20mm !important; margin: 0 !important; box-shadow: none !important; }
                      aside, header, footer { display: none !important; }
                  }
              `}),s.jsxs("div",{className:"print-container bg-white shadow-2xl relative text-sm space-y-6 font-sans box-border w-[210mm] min-h-[297mm] p-[20mm]",children:[s.jsxs("div",{className:"flex justify-between items-center border-b-4 border-[#800020] pb-4 mb-6 relative min-h-[100px]",children:[s.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border border-gray-200 flex items-center justify-center shadow-sm",children:g?s.jsx("img",{src:g,alt:"Logo",className:"w-full h-full object-cover"}):s.jsx(Bj,{className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"flex flex-col items-center absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[s.jsx("h1",{className:"text-xl font-black text-[#800020] whitespace-nowrap",children:"     "}),s.jsx("span",{className:"text-sm font-bold text-gray-700 mt-2 bg-gray-100 px-4 py-1 rounded-full border border-gray-200",children:" "})]}),s.jsxs("div",{className:"w-48 text-xs flex flex-col gap-2 bg-gray-50 p-2 rounded-lg border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-500 font-bold",children:":"}),s.jsx("span",{className:"font-mono font-bold text-sm text-[#800020]",children:P.tracking_code})]}),s.jsx("div",{className:"w-full border-t border-gray-200 border-dashed"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-500 font-bold",children:":"}),s.jsx("span",{className:"font-mono font-bold",children:P.meeting_date})]}),s.jsx("div",{className:"w-full border-t border-gray-200 border-dashed"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-500 font-bold",children:":"}),s.jsx("span",{className:"font-bold",children:O.length>0?"":""})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 border border-gray-300 rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:" :"})," ",s.jsx("span",{className:"font-bold",children:P.subject})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:" :"})," ",s.jsx("span",{className:"font-bold",children:P.location||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:" :"})," ",s.jsx("span",{className:"font-bold font-mono",children:P.start_time})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:" :"})," ",s.jsx("span",{className:"font-bold font-mono",children:P.end_time})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-[#800020] border-b-2 border-[#800020] pb-1 mb-3 inline-block",children:"  "}),s.jsxs("table",{className:"w-full border-collapse border border-gray-300 text-center",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border border-gray-300 p-2 w-10",children:""}),s.jsx("th",{className:"border border-gray-300 p-2",children:"   "}),s.jsx("th",{className:"border border-gray-300 p-2",children:" / "}),s.jsx("th",{className:"border border-gray-300 p-2",children:""})]})}),s.jsx("tbody",{children:P.attendees.map((K,X)=>s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-300 p-2",children:Q(X+1)}),s.jsx("td",{className:"border border-gray-300 p-2 font-bold",children:K.name}),s.jsx("td",{className:"border border-gray-300 p-2",children:K.role}),s.jsx("td",{className:"border border-gray-300 p-2"})]},X))})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-[#800020] border-b-2 border-[#800020] pb-1 mb-3 inline-block",children:" "}),s.jsx("div",{className:"border border-gray-300 rounded-lg p-4 space-y-4 min-h-[200px]",children:P.decisions.map((K,X)=>s.jsxs("div",{className:"flex gap-2 text-justify leading-relaxed border-b border-dashed border-gray-200 pb-2 last:border-0",children:[s.jsxs("span",{className:"font-bold text-[#800020]",children:[Q(X+1),"."]}),s.jsx("span",{children:K.text})]},X))})]}),s.jsxs("div",{className:"no-print fixed bottom-0 left-0 right-0 p-4 bg-white border-t flex justify-center gap-4 shadow-lg z-50",children:[s.jsxs("button",{onClick:()=>r("LIST"),className:"bg-gray-100 text-gray-800 px-6 py-3 rounded-xl flex items-center gap-2 hover:bg-gray-200 font-bold transition",children:[s.jsx(fj,{className:"w-5 h-5"})," "]}),s.jsxs("button",{onClick:Oe,className:"bg-blue-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-blue-700 shadow-xl font-bold",children:[s.jsx(Cy,{className:"w-5 h-5"}),"  (PDF)"]}),s.jsxs("button",{onClick:se,className:"bg-green-600 text-white px-8 py-3 rounded-xl flex items-center gap-2 hover:bg-green-700 shadow-xl font-bold",children:[s.jsx(Ax,{className:"w-5 h-5"}),"  "]})]})]})]}):e==="LIST"?s.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:s.jsx(Ai,{title:" ",icon:_f,data:n,onAdd:()=>{ue(),r("NEW")},columns:[{header:" ",accessor:K=>s.jsx("span",{className:"font-mono font-bold",children:K.tracking_code})},{header:" ",accessor:K=>s.jsx("span",{className:"font-bold",children:K.subject})},{header:" ",accessor:K=>K.meeting_date},{header:"",accessor:K=>`${K.start_time} - ${K.end_time}`},{header:"",accessor:K=>K.location},{header:"",accessor:K=>{var X;return s.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 rounded font-bold",children:[((X=K.decisions)==null?void 0:X.length)||0," "]})}}],onViewDetails:Ne})}):s.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:s.jsx(_f,{className:"w-8 h-8 text-primary"})}),s.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),s.jsx("button",{onClick:Z,className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(yt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:ve,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:x.subject,onChange:K=>_({...x,subject:K.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:"  ..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),s.jsx("input",{type:"text",value:x.location,onChange:K=>_({...x,location:K.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),s.jsx("div",{children:s.jsx(Un,{label:" ",value:x.meetingDate,onChange:K=>_({...x,meetingDate:K})})}),s.jsx("div",{children:s.jsx(Xk,{label:" ",value:x.startTime,onChange:K=>_({...x,startTime:K})})}),s.jsx("div",{children:s.jsx(Xk,{label:" ",value:x.endTime,onChange:K=>_({...x,endTime:K}),error:x.endTime&&!ge()?"      ":void 0})})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[s.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-blue-800 dark:text-blue-300",children:[s.jsx(Ja,{className:"w-4 h-4"}),"    ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-2 mb-3 items-end",children:[s.jsxs("div",{className:"flex-[1] min-w-0",children:[s.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" "}),s.jsxs("select",{className:"w-full p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none text-sm",value:$.name,onChange:K=>U({...$,name:K.target.value}),children:[s.jsx("option",{value:"",children:"..."}),u.map(K=>s.jsx("option",{value:K.full_name,children:K.full_name},K.id))]})]}),s.jsxs("div",{className:"flex-[2] min-w-0",children:[s.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" / "}),s.jsxs("select",{className:"w-full p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none text-sm",value:$.role,onChange:K=>U({...$,role:K.target.value}),children:[s.jsx("option",{value:"",children:"..."}),f.map(K=>s.jsx("option",{value:K.name,children:K.name},K.id))]})]}),s.jsx("button",{type:"button",onClick:q,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 h-[38px] w-[38px] flex items-center justify-center",children:s.jsx(er,{className:"w-5 h-5"})})]}),A.length>0?s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:A.map((K,X)=>s.jsxs("div",{className:"flex justify-between items-center p-2 border-b last:border-0 hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"font-bold",children:K.name}),s.jsx("span",{className:"text-gray-400 text-xs",children:"|"}),s.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:K.role})]}),s.jsx("button",{type:"button",onClick:()=>B(X),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(Dt,{className:"w-4 h-4"})})]},X))}):s.jsx("p",{className:"text-xs text-gray-500 text-center py-2 bg-white/50 rounded border border-dashed",children:"    ."})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[s.jsx(Ic,{className:"w-4 h-4"}),"   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("input",{type:"text",value:S,onChange:K=>N(K.target.value),placeholder:" ...",className:"flex-1 p-2.5 border rounded-lg dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",onKeyDown:K=>K.key==="Enter"&&(K.preventDefault(),W())}),s.jsx("button",{type:"button",onClick:W,className:`bg-green-600 text-white px-4 rounded-lg hover:bg-green-700 transition ${S.trim()?"":"opacity-50 cursor-not-allowed"}`,children:E?s.jsx(jn,{className:"w-5 h-5"}):s.jsx(er,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[w.length===0&&s.jsx("p",{className:"text-sm text-gray-400 text-center py-2 italic",children:"   ."}),w.map((K,X)=>s.jsxs("div",{className:"flex justify-between items-start bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 group",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full flex-shrink-0 mt-0.5",children:Q(X+1)}),s.jsx("span",{className:"text-sm text-justify leading-relaxed",children:K.text})]}),s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{type:"button",onClick:()=>J(K),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:s.jsx(cp,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:()=>te(K.id),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:s.jsx(Dt,{className:"w-4 h-4"})})]})]},K.id))]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:Z,className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-500",children:""}),s.jsxs("button",{type:"submit",disabled:!M()||l,className:`flex-[2] text-white py-3 rounded-xl shadow hover:bg-red-800 flex justify-center gap-2 font-bold transition
                    ${M()&&!l?"bg-primary":"bg-gray-400 cursor-not-allowed"}
                `,children:[l?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):s.jsx(jn,{className:"w-5 h-5"}),"   "]})]})]})]})},Pce=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[a,o]=T.useState(!1);T.useEffect(()=>{const v=pp("SUGGESTION");i(v.map(x=>({...x,...x.data})))},[e]);const[l,c]=T.useState(""),u=T.useRef(null),[d,f]=T.useState([]),h=async v=>{if(v.preventDefault(),!!l.trim()){o(!0);try{const x=await la("H"),_={tracking_code:x,user_id:t.id,user_name:t.fullName,description:l,attached_files:d.map(k=>({name:k.name,size:k.size})),status:"PENDING"},{error:w}=await $e.from("technical_suggestions").insert([_]);if(w)throw w;ia("SUGGESTION",{text:l,..._},t,x,`: ${l.substring(0,20)}...`),alert(`     ${x}  .`),r("LIST"),c(""),f([])}catch(x){console.error(x),alert("   : "+x.message)}finally{o(!1)}}},g=()=>{var v;(v=u.current)==null||v.click()},b=v=>{v.target.files&&v.target.files.length>0&&f([...d,...Array.from(v.target.files)])},y=v=>{f(d.filter((x,_)=>_!==v))};return e==="LIST"?s.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:s.jsx(Ai,{title:" ",icon:kf,data:n,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:v=>s.jsx("span",{className:"font-mono font-bold",children:v.trackingCode})},{header:" ",accessor:v=>v.description?v.description.substring(0,50)+"...":v.title},{header:" ",accessor:v=>v.createdAt},{header:" ",accessor:v=>v.user_name||t.fullName},{header:"",accessor:v=>s.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded-full text-xs font-bold",children:v.status==="PENDING"?"  ":"  "})}]})}):s.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kf,{className:"w-8 h-8 text-primary"}),s.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),s.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(yt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:h,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"text",value:dt(),disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:l,onChange:v=>c(v.target.value),className:"w-full h-40 p-3 pl-10 border rounded-lg bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"         ...",required:!0}),s.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-2 text-gray-400 hover:text-primary transition-colors",children:s.jsx(qn,{className:"w-6 h-6"})})]})]}),s.jsxs("div",{children:[s.jsx("input",{type:"file",ref:u,multiple:!0,className:"hidden",onChange:b}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx(ci,{className:"w-4 h-4"}),"  "]}),s.jsx("span",{className:"text-xs text-gray-400",children:" : PDF, JPG (max 5MB)"})]}),d.length>0&&s.jsx("div",{className:"mt-4 space-y-2",children:d.map((v,x)=>s.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg text-sm border border-gray-100 dark:border-gray-600",children:[s.jsx("span",{className:"truncate max-w-[200px]",children:v.name}),s.jsx("button",{type:"button",onClick:()=>y(x),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(Dt,{className:"w-4 h-4"})})]},x))})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),s.jsxs("button",{type:"submit",disabled:!l.trim()||a,className:`flex-[2] text-white py-3 rounded-xl shadow-lg flex items-center justify-center gap-2 transition
                    ${!l.trim()||a?"bg-gray-400 cursor-not-allowed opacity-70":"bg-primary hover:bg-red-800"}
                `,children:[a?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):s.jsx(Ef,{className:"w-5 h-5"})," "]})]})]})]})},Ice=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[a,o]=T.useState([]),[l,c]=T.useState(!1);T.useEffect(()=>{const v=pp("PURCHASE");i(v.map(x=>({...x,...x.data}))),Ve("measurement_units").then(o)},[e]);const[u,d]=T.useState({requestNumber:"",requestDate:dt(),location:" ()",priority:"",desc:"",qty:1,unit:""}),[f,h]=T.useState(null);T.useEffect(()=>{a.length>0&&!u.unit&&d(v=>({...v,unit:a[0].title}))},[a]);const g=()=>/^\d{2}\/\d{4}$/.test(u.requestNumber)&&u.desc.trim().length>0&&u.qty>0&&u.unit.length>0,b=v=>{d({...u,requestNumber:v}),v&&!/^\d{2}\/\d{4}$/.test(v)?h("   (: 03/1234)"):h(null)},y=async v=>{var x;if(v.preventDefault(),!!g()){c(!0);try{const _=await la("K"),w={tracking_code:_,request_number:u.requestNumber,requester_id:t.id,requester_name:t.fullName,request_date:u.requestDate,description:u.desc,qty:u.qty,unit:u.unit,location:u.location,priority:u.priority,status:"PENDING"},{error:k}=await $e.from("purchase_requests").insert([w]);if(k)throw k;ia("PURCHASE",w,t,_,`: ${u.desc.substring(0,20)}...`),alert(`     ${_}  .`),r("LIST"),d({requestNumber:"",requestDate:dt(),location:" ()",priority:"",desc:"",qty:1,unit:((x=a[0])==null?void 0:x.title)||""})}catch(_){console.error(_),alert("   : "+_.message)}finally{c(!1)}}};return e==="LIST"?s.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:s.jsx(Ai,{title:" ",icon:Af,data:n,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:v=>s.jsx("span",{className:"font-mono font-bold",children:v.trackingCode})},{header:" ",accessor:v=>s.jsx("span",{className:"font-mono",children:v.requestNumber||v.request_number})},{header:" ",accessor:v=>v.desc||v.description},{header:"",accessor:v=>`${v.qty} ${v.unit||""}`},{header:"",accessor:v=>v.requestDate||v.request_date},{header:"",accessor:v=>s.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded text-xs font-bold",children:v.status==="PENDING"?" ":" "})}]})}):s.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Af,{className:"w-8 h-8 text-primary"}),s.jsx("h1",{className:"text-2xl font-bold",children:"  /"})]}),s.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:s.jsx(yt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:y,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label-text",children:" "}),s.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"label-text",children:["  (: 03/1234) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:u.requestNumber,onChange:v=>b(v.target.value),className:`input-field font-mono text-center ${f?"border-red-500 ring-1 ring-red-500":""}`,placeholder:"03/1234",required:!0,maxLength:7}),f&&s.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[s.jsx(sj,{className:"w-3 h-3"}),s.jsx("span",{children:f})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label-text",children:" "}),s.jsx(Un,{value:u.requestDate,onChange:v=>d({...u,requestDate:v})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label-text",children:" "}),s.jsxs("select",{className:"input-field",value:u.location,onChange:v=>d({...u,location:v.target.value}),children:[s.jsx("option",{children:" ( )"}),s.jsx("option",{children:" ()"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label-text",children:""}),s.jsxs("select",{className:"input-field",value:u.priority,onChange:v=>d({...u,priority:v.target.value}),children:[s.jsx("option",{children:""}),s.jsx("option",{children:""}),s.jsx("option",{children:" ( )"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"label-text",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:u.desc,onChange:v=>d({...u,desc:v.target.value}),className:"input-field h-32 pl-10",required:!0,placeholder:"     ..."}),s.jsx(qn,{className:"absolute left-3 bottom-3 text-gray-400 cursor-pointer hover:text-primary"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsxs("label",{className:"label-text",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:u.qty,onChange:v=>d({...u,qty:Number(v.target.value)}),className:"input-field text-center font-bold",required:!0,min:"0.01"})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsxs("label",{className:"label-text",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{value:u.unit,onChange:v=>d({...u,unit:v.target.value}),className:"input-field",children:a.length>0?a.map(v=>s.jsx("option",{value:v.title,children:v.title},v.id)):s.jsx("option",{value:"",children:""})})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx("label",{className:"label-text",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",className:"input-field pl-8",placeholder:":  "}),s.jsx(qn,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),s.jsxs("button",{type:"submit",disabled:!g()||l,className:`flex-[2] text-white py-4 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 transition
                        ${!g()||l?"bg-gray-400 cursor-not-allowed opacity-70":"bg-primary hover:bg-red-800"}
                    `,children:[l?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):s.jsx(jn,{className:"w-5 h-5"}),"    "]})]})]}),s.jsx("style",{children:`
        .label-text { display: block; font-size: 0.875rem; margin-bottom: 0.25rem; color: #4b5563; }
        .dark .label-text { color: #d1d5db; }
        .input-field { width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.75rem; background-color: #f9fafb; transition: all 0.2s; outline: none; }
        .dark .input-field { background-color: #374151; border-color: #4b5563; color: white; }
        .input-field:focus { border-color: #800020; box-shadow: 0 0 0 2px rgba(128, 0, 32, 0.1); }
      `})]})},Oce=({user:t,onUpdateUser:e,snowMode:r,setSnowMode:n})=>{const i=T.useRef(null),a=o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l){const u=new FileReader;u.onloadend=()=>{const d=u.result;e({...t,avatar:d})},u.readAsDataURL(l)}};return s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:" "}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[s.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-4xl overflow-hidden",children:t.avatar?s.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:"avatar"}):""}),s.jsx("button",{onClick:()=>{var o;return(o=i.current)==null?void 0:o.click()},className:"absolute bottom-0 right-0 bg-primary text-white p-2 rounded-full shadow-lg hover:bg-red-800 transition cursor-pointer z-10",type:"button",children:s.jsx(wf,{className:"w-4 h-4"})}),s.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:a})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:t.fullName}),s.jsx("p",{className:"text-gray-500",children:t.role})]})]}),s.jsxs("form",{className:"space-y-6",onSubmit:o=>o.preventDefault(),children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:s.jsx(IL,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium block",children:"  "}),s.jsx("span",{className:"text-xs text-gray-500",children:"     "})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r,onChange:o=>n(o.target.checked)}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-500"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-bold border-b pb-2",children:""}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"  "}),s.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"  "}),s.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1",children:"   "}),s.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),s.jsx("button",{type:"button",className:"bg-primary text-white px-6 py-2 rounded shadow hover:bg-red-800 transition",onClick:()=>alert("    ."),children:" "})]})]})]})]})},Rce=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState([]),[a,o]=T.useState([]),[l,c]=T.useState(!1),[u,d]=T.useState(!1);T.useEffect(()=>{const M=pp("PROJECT");i(M.map(Z=>({...Z,...Z.data}))),Ve("personnel").then(o)},[e]);const[f,h]=T.useState({title:"",manager:"",managerId:"",budget:"",startDate:dt(),endDate:"",description:""}),[g,b]=T.useState([]),[y,v]=T.useState(""),[x,_]=T.useState(null),[w,k]=T.useState([]),[S,N]=T.useState({title:"",weight:10}),E=T.useRef(null),[C,A]=T.useState([]),I=()=>{const M=window.SpeechRecognition||window.webkitSpeechRecognition;if(!M){alert("         .");return}if(u){d(!1);return}const Z=new M;Z.lang="fa-IR",Z.continuous=!1,Z.interimResults=!1,Z.onstart=()=>d(!0),Z.onend=()=>d(!1),Z.onresult=ue=>{const ve=ue.results[0][0].transcript;h(Oe=>({...Oe,description:Oe.description?`${Oe.description} ${ve}`:ve}))},Z.start()},$=()=>{y.trim()&&(x?(b(g.map(M=>M.id===x?{...M,text:y}:M)),_(null)):b([...g,{id:Math.random().toString(),text:y}]),v(""))},U=M=>{v(M.text),_(M.id)},O=M=>{b(g.filter(Z=>Z.id!==M))},R=()=>{if(!S.title)return;if(S.weight<0){alert("      .");return}const M=w.reduce((Z,ue)=>Z+ue.weight,0);if(M+S.weight>100){alert(`      .  : ${100-M}`);return}k([...w,{id:Math.random().toString(),title:S.title,weight:S.weight,progress:0}]),N({title:"",weight:10})},P=M=>{k(w.filter(Z=>Z.id!==M))},D=()=>{const M=w.reduce((ue,ve)=>ue+ve.weight,0);if(M===0)return 0;const Z=w.reduce((ue,ve)=>ue+ve.progress*ve.weight,0);return Math.round(Z/M)},q=M=>{if(M.target.files&&M.target.files.length>0){const Z=Array.from(M.target.files),ue=Z.filter(ve=>ve.size<=10*1024*1024);ue.length!==Z.length&&alert("          ."),A(ve=>[...ve,...ue])}E.current&&(E.current.value="")},B=M=>{A(Z=>Z.filter((ue,ve)=>ve!==M))},W=M=>{const Z=M.target.value,ue=a.find(ve=>ve.id===Z);h(ue?{...f,managerId:ue.id,manager:ue.full_name}:{...f,managerId:"",manager:""})},J=()=>{const M=w.reduce((Z,ue)=>Z+ue.weight,0);return f.title&&f.managerId&&g.length>0&&(w.length===0||M===100)},te=async M=>{if(M.preventDefault(),!!J()){c(!0);try{const Z=new Date,ue=up(Z.getFullYear(),Z.getMonth()+1,Z.getDate()),ve=`P${String(ue.jy).substring(2)}${String(ue.jm).padStart(2,"0")}`,Oe=await la(ve),se={...f,budget:f.budget===""?0:Number(f.budget),objectives:g,milestones:w,fileNames:C.map(Ne=>Ne.name),progress:D()};ia("PROJECT",se,t,Oe,`: ${f.title}`),alert(`    ${Oe}        .`),Q()}catch(Z){console.error(Z),alert("   .    .")}finally{c(!1)}}},Q=()=>{r("LIST"),h({title:"",manager:"",managerId:"",budget:"",startDate:dt(),endDate:"",description:""}),b([]),k([]),A([]),v(""),_(null)},ge=()=>{f.title||g.length>0?window.confirm("       ")&&Q():Q()};return e==="LIST"?s.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:s.jsx(Ai,{title:"   ",icon:bf,data:n,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:M=>s.jsx("span",{className:"font-mono font-bold",children:M.trackingCode})},{header:" ",accessor:M=>s.jsx("span",{className:"font-bold",children:M.title})},{header:" ",accessor:M=>M.manager},{header:" ",accessor:M=>M.startDate},{header:" ()",accessor:M=>M.budget?Number(M.budget).toLocaleString():"---"},{header:"",accessor:M=>s.jsxs("div",{className:"w-24",children:[s.jsx("div",{className:"flex justify-between text-xs mb-1",children:s.jsxs("span",{children:[M.progress||0,"%"]})}),s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500",style:{width:`${M.progress||0}%`}})})]})},{header:"",accessor:M=>s.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold",children:M.status==="PENDING"?"  ":" "})}]})}):s.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(bf,{className:"w-8 h-8 text-primary"}),s.jsx("h2",{className:"text-xl font-bold",children:"    "})]}),s.jsxs("form",{onSubmit:te,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{value:f.title,onChange:M=>h({...f,title:M.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:f.managerId,onChange:W,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:" ..."}),a.map(M=>s.jsxs("option",{value:M.id,children:[M.full_name," (",M.unit,")"]},M.id))]})]}),s.jsx("div",{children:s.jsx(Un,{label:" ",value:f.startDate||"",onChange:M=>h({...f,startDate:M}),disableFuture:!1})}),s.jsx("div",{children:s.jsx(Un,{label:"  ()",value:f.endDate||"",onChange:M=>h({...f,endDate:M}),disableFuture:!1})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1 font-medium",children:"  ()"}),s.jsx("input",{type:"number",min:"0",value:f.budget,onChange:M=>h({...f,budget:M.target.value}),className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:"..."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:f.description,onChange:M=>h({...f,description:M.target.value}),className:"w-full p-3 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary min-h-[100px]",placeholder:" ..."}),s.jsx("button",{type:"button",onClick:I,className:`absolute left-2 bottom-2 p-2 rounded-full transition ${u?"bg-red-500 text-white animate-pulse":"text-gray-400 hover:text-primary"}`,children:u?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):s.jsx(qn,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-2 flex items-center gap-2",children:[s.jsx(Ic,{className:"w-5 h-5"}),"     ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsx("input",{type:"text",value:y,onChange:M=>v(M.target.value),placeholder:"      ...",className:"flex-1 p-2.5 border rounded-lg dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",onKeyDown:M=>M.key==="Enter"&&(M.preventDefault(),$())}),s.jsx("button",{type:"button",onClick:$,className:`bg-blue-600 text-white px-4 rounded-lg hover:bg-blue-700 transition ${y.trim()?"":"opacity-50 cursor-not-allowed"}`,children:x?s.jsx(jn,{className:"w-5 h-5"}):s.jsx(er,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[g.length===0&&s.jsx("p",{className:"text-sm text-gray-400 text-center py-2",children:"   ."}),g.map((M,Z)=>s.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-bold w-6 h-6 flex items-center justify-center rounded-full",children:Z+1}),s.jsx("span",{className:"text-sm",children:M.text})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>U(M),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:s.jsx(cp,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:()=>O(M.id),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:s.jsx(Dt,{className:"w-4 h-4"})})]})]},M.id))]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[s.jsx(DL,{className:"w-5 h-5"}),"   (WBS)"]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("input",{type:"text",placeholder:"  (: )",className:"flex-[2] p-2 border rounded-lg dark:bg-gray-700 outline-none",value:S.title,onChange:M=>N({...S,title:M.target.value})}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"number",min:"0",placeholder:" ",className:"w-full p-2 border rounded-lg dark:bg-gray-700 text-center outline-none",value:S.weight,onChange:M=>N({...S,weight:Number(M.target.value)})}),s.jsx("span",{className:"absolute left-2 top-2 text-xs text-gray-400",children:"%"})]}),s.jsx("button",{type:"button",onClick:R,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:s.jsx(er,{className:"w-5 h-5"})})]}),w.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-12 text-xs text-gray-500 px-2",children:[s.jsx("span",{className:"col-span-8",children:" "}),s.jsx("span",{className:"col-span-2 text-center",children:" "}),s.jsx("span",{className:"col-span-2 text-center",children:""})]}),w.map(M=>s.jsxs("div",{className:"grid grid-cols-12 items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm",children:[s.jsxs("span",{className:"col-span-8 font-medium flex items-center gap-2",children:[s.jsx(Ic,{className:"w-4 h-4 text-green-500"})," ",M.title]}),s.jsxs("span",{className:"col-span-2 text-center bg-blue-50 text-blue-700 rounded px-1 text-sm font-bold",children:[M.weight,"%"]}),s.jsx("div",{className:"col-span-2 flex justify-center",children:s.jsx("button",{type:"button",onClick:()=>P(M.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(Dt,{className:"w-4 h-4"})})})]},M.id)),s.jsxs("div",{className:"mt-2 text-left text-sm font-bold flex justify-end gap-2 items-center",children:[s.jsx("span",{children:" :"}),s.jsxs("span",{className:`px-2 py-1 rounded ${w.reduce((M,Z)=>M+Z.weight,0)===100?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[w.reduce((M,Z)=>M+Z.weight,0),"%"]})]})]}):s.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"    ."})]}),s.jsxs("div",{children:[s.jsx("input",{type:"file",ref:E,multiple:!0,className:"hidden",onChange:q}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("label",{className:"font-bold text-sm flex items-center gap-2",children:[s.jsx(ci,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{type:"button",onClick:()=>{var M;return(M=E.current)==null?void 0:M.click()},className:"text-blue-600 text-xs flex items-center gap-1 hover:bg-blue-50 px-2 py-1 rounded transition border border-blue-200",children:[s.jsx(Oc,{className:"w-3 h-3"}),"  "]})]}),C.length===0&&s.jsx("p",{className:"text-xs text-gray-400 italic",children:"     ()"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:C.map((M,Z)=>s.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 p-2 rounded-lg border border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[s.jsx(Sf,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsx("span",{className:"text-xs truncate",children:M.name}),s.jsxs("span",{className:"text-[10px] text-gray-400",children:["(",(M.size/1024/1024).toFixed(2)," MB)"]})]}),s.jsx("button",{type:"button",onClick:()=>B(Z),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(yt,{className:"w-3 h-3"})})]},Z))})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[s.jsxs("button",{type:"button",onClick:ge,className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-2 transition",children:[s.jsx(yt,{className:"w-5 h-5"})," "]}),s.jsxs("button",{type:"submit",disabled:!J()||l,className:`flex-[2] text-white py-3 rounded-xl shadow-lg flex items-center justify-center gap-2 transition font-bold
                    ${J()&&!l?"bg-primary hover:bg-red-800":"bg-gray-400 cursor-not-allowed opacity-70"}
                `,children:[l?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):s.jsx(jn,{className:"w-5 h-5"}),"     "]})]})]})]})},Mce=({user:t})=>{const[e,r]=T.useState("LIST"),[n,i]=T.useState(!1),[a,o]=T.useState([]),[l,c]=T.useState(!1),[u,d]=T.useState([]),[f,h]=T.useState([]),[g,b]=T.useState([]);T.useEffect(()=>{y(),Ve("evaluation_periods").then(d),Ve("evaluation_criteria").then(h),Ve("personnel").then(b)},[e]);const y=async()=>{c(!0);try{const{data:E,error:C}=await $e.from("performance_evaluations").select("*").order("created_at",{ascending:!1});!C&&E&&o(E.map(A=>({...A,personnelName:A.personnel_name,totalScore:A.total_score,criteria:A.criteria_data})))}catch(E){console.error("Fetch Error:",E)}finally{c(!1)}},[v,x]=T.useState({personnelId:"",personnelName:"",unit:"",period:"",criteria:[]});T.useEffect(()=>{u.length>0&&!v.period&&x(E=>({...E,period:u[0].title}))},[u]);const _=v.criteria.reduce((E,C)=>E+C.score,0),w=v.criteria.reduce((E,C)=>E+C.max,0),k=async E=>{var C;if(E.preventDefault(),!v.personnelId){alert("      .");return}if(v.criteria.length===0){alert("          .");return}c(!0);try{const A=await la("G"),I={tracking_code:A,personnel_id:v.personnelId,personnel_name:v.personnelName,unit:v.unit,period:v.period,total_score:_,criteria_data:v.criteria,evaluator_id:t.id,description:`  ${t.fullName}`,status:"PENDING"},{error:$}=await $e.from("performance_evaluations").insert([I]);if($)throw $;ia("PERFORMANCE",{...v,totalScore:_},t,A,` : ${v.personnelName} - ${v.period}`),alert(`     .
 : ${A}`),r("LIST"),x({personnelId:"",personnelName:"",unit:"",org_unit_id:"",period:((C=u[0])==null?void 0:C.title)||"",criteria:[]})}catch(A){console.error("Save Error:",A),alert("   : "+A.message)}finally{c(!1)}},S=(E,C)=>{const A=v.criteria[E].max;if(C>A){alert(`       (${A})  .`);return}const I=[...v.criteria];I[E].score=Math.max(0,C),x({...v,criteria:I})},N=E=>{const C=f.filter(I=>I.org_unit_id===E.org_unit_id),A=C.map(I=>({label:I.title,score:0,max:I.max_score}));x({...v,personnelId:E.id,personnelName:E.full_name,unit:E.unit,org_unit_id:E.org_unit_id,criteria:A}),i(!1),C.length===0&&alert(":        ()   .      .")};return e==="LIST"?s.jsxs("div",{className:"max-w-7xl mx-auto pb-20",children:[l&&s.jsx("div",{className:"text-center py-4",children:s.jsx(Pt,{className:"w-6 h-6 animate-spin mx-auto text-primary"})}),s.jsx(Ai,{title:"  ",icon:kx,data:a,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:E=>s.jsx("span",{className:"font-mono font-bold",children:E.tracking_code||E.trackingCode})},{header:" ",accessor:E=>s.jsx("span",{className:"font-bold",children:E.personnelName})},{header:"",accessor:E=>E.unit},{header:" ",accessor:E=>E.period},{header:" ",accessor:E=>{const C=E.criteria?E.criteria.reduce((A,I)=>A+I.max,0):100;return s.jsxs("span",{className:`font-bold ${E.totalScore>=C*.8?"text-green-600":"text-orange-500"}`,children:[E.totalScore," / ",C]})}},{header:" ",accessor:E=>new Date(E.created_at).toLocaleDateString("fa-IR")}]})]}):s.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[s.jsx("h2",{className:"text-xl font-bold mb-6",children:"   "}),s.jsxs("form",{onSubmit:k,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),v.personnelName?s.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-600 p-3 rounded-lg border border-primary/30",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:v.personnelName}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:[": ",v.unit]})]}),s.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-primary text-sm underline",children:""})]}):s.jsxs("button",{type:"button",onClick:()=>i(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-lg text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[s.jsx(Ja,{className:"w-5 h-5"}),"   "]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{value:v.period,onChange:E=>x({...v,period:E.target.value}),className:"w-full p-3 border rounded-lg bg-white dark:bg-gray-600 outline-none focus:ring-2 focus:ring-primary",children:u.length>0?u.map(E=>s.jsx("option",{value:E.title,children:E.title},E.id)):s.jsx("option",{children:"   "})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-2 mb-4",children:[s.jsxs("h3",{className:"font-bold",children:["  ",v.unit?`( ${v.unit})`:""]}),v.unit&&s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded flex items-center gap-1",children:[s.jsx(Sf,{className:"w-3 h-3"}),"   "]})]}),v.personnelId?v.criteria.length>0?v.criteria.map((E,C)=>s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition animate-fadeIn",children:[s.jsxs("div",{className:"mb-2 md:mb-0",children:[s.jsxs("span",{className:"font-medium block",children:[C+1,". ",E.label]}),s.jsxs("span",{className:"text-xs text-gray-500",children:["   : ",E.max]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",min:"0",max:E.max,value:E.score,onChange:A=>S(C,Number(A.target.value)),className:"w-20 p-2 border rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-primary dark:bg-gray-600"}),s.jsxs("span",{className:"text-gray-400 text-sm",children:["/ ",E.max]})]})]},C)):s.jsx("div",{className:"text-center p-6 bg-yellow-50 text-yellow-700 rounded-xl border border-yellow-200",children:s.jsxs("p",{children:['      "',v.unit,'"   .']})}):s.jsx("p",{className:"text-center text-gray-400 py-4 border-2 border-dashed rounded-xl",children:"          ."})]}),s.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 pt-4 pb-2 border-t dark:border-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-center bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl mb-4",children:[s.jsx("span",{className:"font-bold text-lg text-blue-800 dark:text-blue-300",children:"   "}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-4xl font-black text-primary",children:_}),s.jsxs("span",{className:"text-gray-500",children:["/ ",w||100]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),s.jsx("button",{type:"submit",disabled:v.criteria.length===0||l,className:"flex-1 bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):"   "})]})]})]}),n&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[80vh]",children:[s.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[s.jsx("h3",{className:"font-bold text-lg",children:" "}),s.jsx("button",{onClick:()=>i(!1),children:s.jsx(yt,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ka,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})}),s.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"text-gray-500 bg-gray-50 dark:bg-gray-700/50 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"   "}),s.jsx("th",{className:"p-3",children:" "}),s.jsx("th",{className:"p-3",children:""})]})}),s.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:g.length>0?g.map(E=>s.jsxs("tr",{onClick:()=>N(E),className:"hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition",children:[s.jsx("td",{className:"p-3 font-bold",children:E.full_name}),s.jsx("td",{className:"p-3 text-gray-500 dark:text-gray-400",children:E.unit}),s.jsx("td",{className:"p-3",children:s.jsx("button",{className:"bg-primary/10 text-primary p-1.5 rounded-full",children:s.jsx(ys,{className:"w-4 h-4"})})})]},E.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"p-4 text-center",children:"  ."})})})]})})]})})]})},$ce=({user:t})=>{var b;const[e,r]=T.useState("WORK_ORDER"),[n,i]=T.useState([]),[a,o]=T.useState(null);T.useEffect(()=>{const y=J_(t);i(y)},[t,e]);const l=(y,v)=>{a&&(D3(a.id,y,t),o(null),i(J_(t)))},c=y=>{const x=u(a).find(_=>_.style==="primary"||_.style==="success");x&&a?(a.data=y,l(x.id)):alert("      .")},u=y=>{const x=Fc().find(w=>w.id===y.workflowId);if(!x)return[];const _=x.steps.find(w=>w.id===y.currentStepId);return _?_.actions:[]},d=y=>{const x=Fc().find(w=>w.id===y.workflowId),_=x==null?void 0:x.steps.find(w=>w.id===y.currentStepId);return(_==null?void 0:_.title)||""},f=y=>n.filter(v=>v.module===y).length,h=[{id:"WORK_ORDER",label:" ",icon:Sf},{id:"PROJECT",label:"",icon:bf},{id:"PERFORMANCE",label:" ",icon:kx},{id:"PART_REQUEST",label:" ",icon:rc},{id:"INSPECTION",label:" ",icon:cj},{id:"DOCUMENT",label:" ",icon:ec},{id:"MEETING",label:"",icon:_f},{id:"SUGGESTION",label:"",icon:kf},{id:"PURCHASE",label:" ",icon:Af}],g=({item:y})=>{const v=u(y),[x,_]=T.useState("");return y.module==="WORK_ORDER"?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2",children:[s.jsx(Sf,{className:"w-5 h-5 text-primary"}),y.title]}),s.jsx("span",{className:"text-xs text-gray-500",children:y.trackingCode})]}),s.jsx("button",{onClick:()=>o(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:s.jsx(Ty,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx(qb,{initialData:y.data,onProcessComplete:c})})]}):s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs font-bold",children:y.module}),s.jsx("span",{className:"text-gray-400 text-xs",children:y.trackingCode})]}),s.jsx("h2",{className:"text-xl font-bold",children:y.title}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),s.jsx("button",{onClick:()=>o(null),className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Ty,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-bold border-r-4 border-primary pr-3 mb-3",children:" "}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg text-sm space-y-2",children:Object.entries(y.data).map(([w,k])=>typeof k=="object"||Array.isArray(k)||w==="id"?null:s.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-600 pb-1 last:border-0",children:[s.jsxs("span",{className:"text-gray-500",children:[w,":"]}),s.jsx("span",{className:"font-medium",children:String(k)})]},w))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-bold mb-2",children:" /  ():"}),s.jsx("textarea",{value:x,onChange:w=>_(w.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none",placeholder:"    ...",rows:3})]})]}),s.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 flex gap-3 flex-wrap",children:v.map(w=>{const k=w.style==="primary"?"bg-blue-600 hover:bg-blue-700 text-white":w.style==="success"?"bg-green-600 hover:bg-green-700 text-white":w.style==="danger"?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800";return s.jsx("button",{onClick:()=>l(w.id),className:`flex-1 py-3 px-4 rounded-xl font-bold shadow-md transition transform active:scale-95 ${k}`,children:w.label},w.id)})})]})};return a?s.jsx("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] p-4",children:s.jsx(g,{item:a})}):s.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[s.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:s.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[s.jsx(Nf,{className:"w-5 h-5"}),"  "]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:h.map(y=>s.jsxs("button",{onClick:()=>{r(y.id)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e===y.id?"bg-primary text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(y.icon,{className:"w-4 h-4"}),s.jsx("span",{children:y.label})]}),f(y.id)>0&&s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${e===y.id?"bg-white text-primary":"bg-gray-200 text-gray-700"}`,children:f(y.id)})]},y.id))})]}),s.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:s.jsxs("h3",{className:"font-bold",children:[" : ",(b=h.find(y=>y.id===e))==null?void 0:b.label]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:n.filter(y=>y.module===e).length===0?s.jsxs("div",{className:"text-center py-20 text-gray-400 flex flex-col items-center",children:[s.jsx(Xs,{className:"w-12 h-12 mb-3 opacity-20"}),s.jsx("p",{children:"     ."})]}):n.filter(y=>y.module===e).map(y=>s.jsx("div",{onClick:()=>o(y),className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-md hover:border-primary transition cursor-pointer group",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-primary transition",children:y.title}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded font-bold",children:d(y)}),s.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1 justify-end",children:[s.jsx(Pu,{className:"w-3 h-3"})," ",y.updatedAt]})]})]})},y.id))})]})})]})},Dce=({user:t})=>{const[e,r]=T.useState("INBOX"),[n,i]=T.useState([]),[a,o]=T.useState([]),[l,c]=T.useState(null),[u,d]=T.useState(!1),[f,h]=T.useState([]),[g,b]=T.useState([]),[y,v]=T.useState(!1),x=T.useRef(null),[_,w]=T.useState("USER"),[k,S]=T.useState(""),[N,E]=T.useState(""),[C,A]=T.useState(""),[I,$]=T.useState(!1),[U,O]=T.useState([]),[R,P]=T.useState(""),D=T.useRef(null),[q,B]=T.useState(""),[W,J]=T.useState("newest"),[te,Q]=T.useState(1),[ge,M]=T.useState(10);T.useEffect(()=>{Z()},[t,e]),T.useEffect(()=>{Q(1),B("")},[e]),T.useEffect(()=>{(async()=>{try{const _e=await Ve("app_users"),V=await Ve("personnel"),G=_e.map(fe=>{const H=V.find(me=>me.id===fe.personnel_id);return{id:fe.id,name:H?H.full_name:fe.username}});h(G)}catch(_e){console.error("Error loading users for messages:",_e)}})()},[]),T.useEffect(()=>{const ae=_e=>{x.current&&!x.current.contains(_e.target)&&v(!1)};return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[]);const Z=async()=>{d(!0);try{const{inbox:ae,sent:_e}=await Fj(t.id,t.role);i(ae),o(_e)}catch(ae){console.error("Failed to load messages",ae)}finally{d(!1)}},ue=async ae=>{c(ae),e==="INBOX"&&!ae.readBy.includes(t.id)&&(i(_e=>_e.map(V=>V.id===ae.id?{...V,readBy:[...V.readBy,t.id]}:V)),await I3(ae,t.id))},ve=ae=>{b(_e=>_e.includes(ae)?_e.filter(V=>V!==ae):[..._e,ae])},Oe=ae=>new Promise((_e,V)=>{const G=new FileReader;G.readAsDataURL(ae),G.onload=()=>{_e(G.result)},G.onerror=fe=>{V(fe)}}),se=ae=>{if(ae.target.files&&ae.target.files.length>0){const _e=Array.from(ae.target.files),V=5*1024*1024,G=_e.filter(fe=>fe.size>V?(alert(` ${fe.name}        .`),!1):!0);O(fe=>[...fe,...G])}D.current&&(D.current.value="")},Ne=ae=>{O(_e=>_e.filter((V,G)=>G!==ae))},K=async ae=>{ae.preventDefault();let _e="";if(_==="USER"){if(g.length===0){alert("      ");return}_e=g}else if(_==="ALL")_e="ALL";else{if(!k){alert("    ");return}_e=k}$(!0),P("");try{const V=[];for(const G of U){const fe=await Oe(G);V.push({name:G.name,size:G.size,type:G.type,data:fe})}await P3(t,_e,_,N,C,V),P("    "),E(""),A(""),S(""),b([]),O([]),Z(),setTimeout(()=>{P(""),r("SENT")},3e3)}catch(V){alert("   : "+(V.message||" ")),console.error(V)}finally{$(!1)}},X=ae=>ae.readBy&&ae.readBy.length>0?s.jsx("span",{title:" ",className:"flex text-blue-500",children:s.jsx(w_,{className:"w-4 h-4"})}):s.jsx("span",{title:" ",className:"flex text-gray-400",children:s.jsx(ys,{className:"w-4 h-4"})}),Ee=ae=>{if(ae.receiverType==="ALL")return" ";if(ae.receiverType==="GROUP")return` ${ae.receiverId}`;const _e=f.find(V=>V.id===ae.receiverId);return _e?_e.name:""},ee=(()=>{let ae=e==="INBOX"?n:a;if(q){const _e=q.toLowerCase();ae=ae.filter(V=>V.subject.toLowerCase().includes(_e)||V.body.toLowerCase().includes(_e)||V.senderName.toLowerCase().includes(_e)||e==="SENT"&&Ee(V).toLowerCase().includes(_e))}return ae.sort((_e,V)=>W==="newest"?V.createdAt.localeCompare(_e.createdAt):_e.createdAt.localeCompare(V.createdAt)),ae})(),he=ee.length,le=Math.ceil(he/ge),Ce=(te-1)*ge,Ge=ee.slice(Ce,Ce+ge);return s.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[s.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[s.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:s.jsxs("button",{onClick:()=>{r("COMPOSE"),c(null),P("")},className:"w-full bg-blue-600 text-white py-2 rounded-lg shadow hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[s.jsx(Ef,{className:"w-4 h-4"}),"   "]})}),s.jsxs("div",{className:"p-2 space-y-1",children:[s.jsxs("button",{onClick:()=>{r("INBOX"),c(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="INBOX"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nf,{className:"w-4 h-4"}),"  "]}),n.filter(ae=>!ae.readBy.includes(t.id)).length>0&&s.jsx("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs",children:n.filter(ae=>!ae.readBy.includes(t.id)).length})]}),s.jsx("button",{onClick:()=>{r("SENT"),c(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="SENT"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oc,{className:"w-4 h-4"}),"  "]})})]})]}),s.jsxs("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[e==="COMPOSE"&&s.jsxs("div",{className:"p-6 overflow-y-auto",children:[s.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx(hj,{className:"w-6 h-6 text-primary"}),"   "]}),R&&s.jsxs("div",{className:"mb-4 bg-green-100 border border-green-200 text-green-800 px-4 py-3 rounded-lg flex items-center gap-2 animate-fadeIn",children:[s.jsx(Xs,{className:"w-5 h-5"}),R]}),s.jsxs("form",{onSubmit:K,className:"space-y-4 max-w-2xl",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>w("USER"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${_==="USER"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[s.jsx(vs,{className:"w-4 h-4"})," "]}),s.jsxs("button",{type:"button",onClick:()=>w("GROUP"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${_==="GROUP"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[s.jsx(Ja,{className:"w-4 h-4"})," "]}),s.jsxs("button",{type:"button",onClick:()=>w("ALL"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${_==="ALL"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[s.jsx(hL,{className:"w-4 h-4"})," "]})]})]}),_==="USER"&&s.jsxs("div",{className:"relative",ref:x,children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsxs("div",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none cursor-pointer flex items-center justify-between",onClick:()=>v(!y),children:[s.jsx("span",{className:"text-sm truncate",children:g.length>0?`${g.length}   `:" ..."}),s.jsx(op,{className:"w-4 h-4 text-gray-500"})]}),y&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border dark:border-gray-600 rounded-lg shadow-xl z-50 max-h-60 overflow-y-auto p-1",children:f.map(ae=>s.jsxs("div",{onClick:()=>ve(ae.id),className:"flex items-center gap-2 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.includes(ae.id),readOnly:!0,className:"w-4 h-4 rounded text-primary focus:ring-primary pointer-events-none"}),s.jsx("span",{className:"text-sm",children:ae.name})]},ae.id))}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:g.map(ae=>{const _e=f.find(V=>V.id===ae);return _e?s.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[_e.name,s.jsx("button",{type:"button",onClick:()=>ve(ae),className:"hover:text-red-600",children:s.jsx(yt,{className:"w-3 h-3"})})]},ae):null})})]}),_==="GROUP"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  "}),s.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:k,onChange:ae=>S(ae.target.value),required:!0,children:[s.jsx("option",{value:"",children:" ..."}),s.jsx("option",{value:_r.ADMIN,children:" "}),s.jsx("option",{value:_r.MANAGER,children:" "}),s.jsx("option",{value:_r.USER,children:" "}),s.jsx("option",{value:_r.STOREKEEPER,children:""})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:N,onChange:ae=>E(ae.target.value),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:" ..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:C,onChange:ae=>A(ae.target.value),className:"w-full p-3 border rounded-lg h-40 bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",required:!0,placeholder:"    ..."})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>{var ae;return(ae=D.current)==null?void 0:ae.click()},className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx(ci,{className:"w-4 h-4"}),"  "]}),s.jsx("span",{className:"text-xs text-gray-400",children:"   :  "}),s.jsx("input",{type:"file",ref:D,multiple:!0,className:"hidden",onChange:se})]}),U.length>0&&s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:U.map((ae,_e)=>s.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 px-3 py-1.5 rounded-full text-xs border border-gray-200 dark:border-gray-600",children:[s.jsx("span",{className:"truncate max-w-[150px]",children:ae.name}),s.jsxs("span",{className:"text-gray-400",children:["(",(ae.size/1024/1024).toFixed(2)," MB)"]}),s.jsx("button",{type:"button",onClick:()=>Ne(_e),className:"text-red-500 hover:bg-red-100 rounded-full p-0.5",children:s.jsx(yt,{className:"w-3 h-3"})})]},_e))})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs("button",{disabled:I,type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center gap-2 disabled:opacity-50",children:[I?s.jsx(Pt,{className:"w-5 h-5 animate-spin"}):s.jsx(Ef,{className:"w-5 h-5"}),"  "]})})]})]}),(e==="INBOX"||e==="SENT")&&s.jsxs("div",{className:"flex h-full flex-col md:flex-row",children:[s.jsxs("div",{className:`${l?"hidden md:flex md:w-1/3 border-l dark:border-gray-700":"w-full flex"} flex-col h-full bg-white dark:bg-gray-800`,children:[s.jsxs("div",{className:"p-3 border-b dark:border-gray-700 space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ka,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"...",value:q,onChange:ae=>{B(ae.target.value),Q(1)},className:"w-full pr-9 pl-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm outline-none focus:ring-1 focus:ring-primary"})]}),s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsxs("button",{onClick:()=>J(ae=>ae==="newest"?"oldest":"newest"),className:"flex items-center gap-1 text-gray-500 hover:text-primary transition",children:[s.jsx(XD,{className:"w-3 h-3"}),W==="newest"?"":""]}),s.jsxs("span",{className:"text-gray-400",children:[he," "]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u&&s.jsxs("div",{className:"p-10 text-center text-gray-400",children:[s.jsx(Pt,{className:"w-8 h-8 mx-auto animate-spin mb-2"}),s.jsx("span",{children:"  ..."})]}),!u&&Ge.length===0&&s.jsxs("div",{className:"text-center p-10 text-gray-400",children:[s.jsx(Nf,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),s.jsx("p",{children:"  "})]}),Ge.map(ae=>{const _e=e==="INBOX"&&!ae.readBy.includes(t.id);return s.jsxs("div",{onClick:()=>ue(ae),className:`p-4 border-b dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition relative
                                            ${(l==null?void 0:l.id)===ae.id?"bg-blue-50 dark:bg-blue-900/20":""}
                                            ${_e?"bg-white":"bg-gray-50/30 dark:bg-gray-800/50"}
                                        `,children:[_e&&s.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 bg-blue-500"}),s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:`text-sm ${_e?"font-black text-black dark:text-white":"font-medium text-gray-600 dark:text-gray-400"}`,children:e==="INBOX"?ae.senderName:Ee(ae)}),s.jsx("span",{className:"text-[10px] text-gray-400",dir:"ltr",children:ae.createdAt})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h4",{className:`text-sm truncate pr-2 ${_e?"font-black text-gray-900 dark:text-white":"font-normal text-gray-600 dark:text-gray-400"}`,children:ae.subject}),e==="SENT"&&X(ae)]}),s.jsx("p",{className:`text-xs mt-1 truncate ${_e?"text-gray-800 dark:text-gray-300":"text-gray-400"}`,children:ae.body}),ae.attachments&&ae.attachments.length>0&&s.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-gray-400",children:[s.jsx(ci,{className:"w-3 h-3"}),s.jsxs("span",{children:[ae.attachments.length," "]})]})]},ae.id)})]}),he>0&&s.jsxs("div",{className:"p-3 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-between items-center text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{value:ge,onChange:ae=>{M(Number(ae.target.value)),Q(1)},className:"bg-white dark:bg-gray-800 border dark:border-gray-600 rounded p-1 outline-none",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"}),s.jsx("option",{value:200,children:"200"})]}),s.jsx("span",{className:"text-gray-500",children:""})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{disabled:te===1,onClick:()=>Q(ae=>ae-1),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-30",children:s.jsx(ju,{className:"w-4 h-4"})}),s.jsxs("span",{className:"font-mono",children:[te," / ",le||1]}),s.jsx("button",{disabled:te>=le,onClick:()=>Q(ae=>ae+1),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-30",children:s.jsx(sp,{className:"w-4 h-4"})})]})]})]}),l?s.jsxs("div",{className:"flex-1 flex flex-col h-full bg-gray-50 dark:bg-gray-900/50",children:[s.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:l.subject}),s.jsx("button",{onClick:()=>c(null),className:"md:hidden text-sm text-blue-600",children:""})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-300",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center font-bold text-gray-500",children:e==="INBOX"?l.senderName[0]:s.jsx(vs,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{children:s.jsx("span",{className:"font-bold",children:e==="INBOX"?l.senderName:""})}),s.jsx("p",{className:"text-xs opacity-70",dir:"ltr",children:l.createdAt})]})]}),e==="SENT"&&s.jsxs("div",{className:"mt-4 pt-3 border-t dark:border-gray-700 text-xs text-gray-500",children:[": ",Ee(l),l.readBy.length>0&&s.jsxs("span",{className:"mr-2 text-blue-600 flex items-center gap-1 inline-flex",children:[s.jsx(w_,{className:"w-3 h-3"}),"  "]})]})]}),s.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[s.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200",children:l.body}),l.attachments&&l.attachments.length>0&&s.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-4",children:[s.jsxs("h4",{className:"text-sm font-bold mb-3 flex items-center gap-2",children:[s.jsx(ci,{className:"w-4 h-4"}),"   "]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:l.attachments.map((ae,_e)=>s.jsxs("div",{className:"flex items-center p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm hover:shadow-md transition",children:[s.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg text-gray-500",children:s.jsx(dL,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 px-3 overflow-hidden",children:[s.jsx("p",{className:"text-sm font-medium truncate",title:ae.name,children:ae.name}),s.jsxs("p",{className:"text-xs text-gray-400",children:[(ae.size/1024).toFixed(1)," KB"]})]}),s.jsx("a",{href:ae.data,download:ae.name,className:"text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 p-2 rounded-full transition",title:"",children:s.jsx(Ex,{className:"w-4 h-4"})})]},_e))})]})]})]}):s.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center text-gray-400 bg-gray-50 dark:bg-gray-900/50"})]})]})]})},Lce=({user:t})=>{var U;const[e,r]=T.useState([]),[n,i]=T.useState(!1),[a,o]=T.useState(!1),[l,c]=T.useState(""),[u,d]=T.useState("ALL"),[f,h]=T.useState({}),[g,b]=T.useState(""),[y,v]=T.useState([]),x=T.useRef(null);T.useEffect(()=>{_()},[]);const _=async()=>{i(!0);try{const{data:O,error:R}=await $e.from("personal_notes").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(R)throw R;const P=(O||[]).map(D=>({id:D.id,userId:D.user_id,title:D.title,content:D.content,tags:D.tags||[],reminderDate:D.reminder_date,reminderTime:D.reminder_time,isCompleted:D.is_completed,attachments:D.attachments||[],createdAt:D.created_at,reminderSeen:!1}));r(P)}catch(O){console.error(O)}finally{i(!1)}},w=()=>{h({title:"",content:"",tags:[],isCompleted:!1,reminderDate:dt()}),v([]),o(!0)},k=O=>{h(O),v([]),o(!0)},S=async O=>{if(O.preventDefault(),!!f.title){i(!0);try{const R=[];for(const q of y){const B=new FileReader,W=await new Promise(J=>{B.onload=()=>J(B.result),B.readAsDataURL(q)});R.push({name:q.name,size:q.size,type:q.type,data:W})}const P=[...f.attachments||[],...R],D={user_id:t.id,title:f.title,content:f.content,tags:f.tags,reminder_date:f.reminderDate,reminder_time:f.reminderTime,is_completed:f.isCompleted,attachments:P};f.id?await $e.from("personal_notes").update(D).eq("id",f.id):await $e.from("personal_notes").insert([D]),o(!1),_()}catch{alert("   ")}finally{i(!1)}}},N=async O=>{if(confirm("      ")){r(R=>R.filter(P=>P.id!==O));try{await $e.from("personal_notes").delete().eq("id",O)}catch{alert("   "),_()}}},E=async O=>{const R=!O.isCompleted;r(P=>P.map(D=>D.id===O.id?{...D,isCompleted:R}:D));try{await $e.from("personal_notes").update({is_completed:R}).eq("id",O.id)}catch(P){console.error(P)}},C=O=>{var R;O.key==="Enter"&&g.trim()&&(O.preventDefault(),(R=f.tags)!=null&&R.includes(g.trim())||h(P=>({...P,tags:[...P.tags||[],g.trim()]})),b(""))},A=O=>{h(R=>{var P;return{...R,tags:(P=R.tags)==null?void 0:P.filter(D=>D!==O)}})},I=O=>{O.target.files&&v(R=>[...R,...Array.from(O.target.files)])},$=e.filter(O=>{const R=O.title.includes(l)||O.content.includes(l)||O.tags.some(P=>P.includes(l));return u==="TODO"?R&&!O.isCompleted:u==="DONE"?R&&O.isCompleted:R});return s.jsxs("div",{className:"max-w-7xl mx-auto pb-20 p-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:s.jsx(gj,{className:"w-6 h-6 text-primary"})}),s.jsx("h1",{className:"text-2xl font-bold",children:" "})]}),s.jsxs("button",{onClick:w,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95",children:[s.jsx(er,{className:"w-5 h-5"}),"  "]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 mb-6 flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ka,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"  ...",value:l,onChange:O=>c(O.target.value),className:"w-full pr-10 pl-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-2 focus:ring-primary"})]}),s.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-lg",children:["ALL","TODO","DONE"].map(O=>s.jsx("button",{onClick:()=>d(O),className:`px-4 py-1.5 rounded-md text-sm font-medium transition ${u===O?"bg-white dark:bg-gray-600 shadow text-primary":"text-gray-500 dark:text-gray-300"}`,children:O==="ALL"?"":O==="TODO"?" ":" "},O))})]}),n?s.jsx("div",{className:"text-center py-20",children:s.jsx(Pt,{className:"w-10 h-10 animate-spin mx-auto text-primary"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map((O,R)=>{var P;return s.jsxs("div",{className:`
                        relative group rounded-2xl p-5 border shadow-sm transition hover:shadow-md flex flex-col
                        ${O.isCompleted?"bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700 opacity-70 grayscale-[0.5]":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700"}
                    `,children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h3",{className:`font-bold text-lg line-clamp-1 ${O.isCompleted?"line-through text-gray-500":""}`,children:O.title}),s.jsxs("div",{className:"flex gap-1 pl-1",children:[s.jsx("button",{onClick:D=>{D.stopPropagation(),k(O)},className:"p-1.5 text-gray-400 hover:text-blue-600 bg-gray-50 dark:bg-gray-700/50 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"",children:s.jsx(kL,{className:"w-4 h-4"})}),s.jsx("button",{onClick:D=>{D.stopPropagation(),N(O.id)},className:"p-1.5 text-gray-400 hover:text-red-600 bg-gray-50 dark:bg-gray-700/50 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"",children:s.jsx(Dt,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-3 mb-4 flex-1 whitespace-pre-line leading-relaxed",children:O.content}),s.jsxs("div",{className:"space-y-3 mt-auto",children:[s.jsx("div",{className:"flex flex-wrap gap-1",children:(P=O.tags)==null?void 0:P.map(D=>s.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded-full text-gray-600 dark:text-gray-400",children:["#",D]},D))}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t dark:border-gray-700",children:[O.reminderDate?s.jsxs("div",{className:`flex items-center gap-1 text-xs ${O.isCompleted?"text-gray-400":"text-red-500 bg-red-50 dark:bg-red-900/10 px-2 py-1 rounded"}`,children:[s.jsx(Pu,{className:"w-3 h-3"}),s.jsxs("span",{children:[O.reminderDate," ",O.reminderTime?`- ${O.reminderTime}`:""]})]}):s.jsx("span",{}),s.jsx("button",{onClick:()=>E(O),className:`p-2 rounded-full transition ${O.isCompleted?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-400 hover:text-green-500"}`,title:O.isCompleted?"  ":" ",children:s.jsx(Xs,{className:"w-5 h-5"})})]})]}),O.attachments&&O.attachments.length>0&&s.jsx("div",{className:"absolute top-2 left-2 text-gray-400 transform -rotate-45 pointer-events-none",children:s.jsx(ci,{className:"w-4 h-4"})})]},O.id)})}),a&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("form",{onSubmit:S,className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-lg flex flex-col max-h-[90vh]",children:[s.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[s.jsx("h3",{className:"font-bold text-lg",children:f.id?" ":" "}),s.jsx("button",{type:"button",onClick:()=>o(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:s.jsx(yt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:""}),s.jsx("input",{value:f.title,onChange:O=>h({...f,title:O.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:":   ...",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("textarea",{value:f.content,onChange:O=>h({...f,content:O.target.value}),className:"w-full p-3 h-32 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"   ..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[s.jsx("div",{children:s.jsx(Un,{label:" ",value:f.reminderDate||"",onChange:O=>h({...f,reminderDate:O}),disableFuture:!1})}),s.jsx("div",{children:s.jsx(Xr,{label:" ",value:f.reminderTime||"",onChange:O=>h({...f,reminderTime:O})})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-1 flex items-center gap-2",children:[s.jsx($L,{className:"w-4 h-4"})," "]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2 p-2 border rounded-xl bg-gray-50 dark:bg-gray-700 min-h-[46px]",children:[(U=f.tags)==null?void 0:U.map(O=>s.jsxs("span",{className:"bg-white dark:bg-gray-600 px-2 py-1 rounded text-xs flex items-center gap-1 shadow-sm",children:[O,s.jsx("button",{type:"button",onClick:()=>A(O),className:"hover:text-red-500",children:s.jsx(yt,{className:"w-3 h-3"})})]},O)),s.jsx("input",{value:g,onChange:O=>b(O.target.value),onKeyDown:C,className:"bg-transparent outline-none flex-1 text-sm min-w-[100px]",placeholder:"  Enter ..."})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold mb-1 flex items-center gap-2",children:[s.jsx(ci,{className:"w-4 h-4"}),"  "]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{var O;return(O=x.current)==null?void 0:O.click()},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 text-sm",children:" "}),s.jsxs("span",{className:"text-xs text-gray-400",children:[y.length,"  "]})]}),s.jsx("input",{type:"file",ref:x,onChange:I,multiple:!0,className:"hidden"}),f.attachments&&f.attachments.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:f.attachments.map((O,R)=>s.jsxs("div",{className:"text-xs flex items-center gap-2 text-gray-500",children:[s.jsx(ci,{className:"w-3 h-3"})," ",O.name]},R))})]})]}),s.jsxs("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-6 py-2 border rounded-xl hover:bg-gray-200 transition",children:""}),s.jsxs("button",{type:"submit",className:"px-6 py-2 bg-primary text-white rounded-xl shadow hover:bg-red-800 transition flex items-center gap-2",children:[n?s.jsx(Pt,{className:"w-4 h-4 animate-spin"}):s.jsx(jn,{className:"w-4 h-4"})," "]})]})]})})]})},Uce=()=>{const[t,e]=T.useState([]),[r,n]=T.useState(null);T.useEffect(()=>{e(Fc())},[]);const i=()=>{const c={id:nc(),title:" ",module:"WORK_ORDER",isActive:!1,steps:[]};n(c)},a=()=>{r&&($3(r),e(Fc()),alert("    ."))},o=()=>{if(!r)return;const c={id:nc(),title:" ",assigneeRole:_r.ADMIN,actions:[]};n({...r,steps:[...r.steps,c]})},l=c=>{if(!r)return;const u={id:nc(),label:"  ",nextStepId:"FINISH",style:"primary"};n({...r,steps:r.steps.map(d=>d.id!==c?d:{...d,actions:[...d.actions,u]})})};return r?s.jsxs("div",{className:"max-w-6xl mx-auto pb-20 h-[calc(100vh-100px)] flex flex-col",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm mb-6 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>n(null),className:"text-gray-500 hover:text-gray-800",children:""}),s.jsx("div",{className:"h-8 w-px bg-gray-300"}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),s.jsx("input",{value:r.title,onChange:c=>n({...r,title:c.target.value}),className:"font-bold bg-transparent outline-none border-b border-dashed border-gray-300 focus:border-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),s.jsxs("select",{value:r.module,onChange:c=>n({...r,module:c.target.value}),className:"bg-gray-50 dark:bg-gray-700 rounded p-1 text-sm outline-none",children:[s.jsx("option",{value:"WORK_ORDER",children:"  (Work Order)"}),s.jsx("option",{value:"PROJECT",children:" (Project)"}),s.jsx("option",{value:"PART_REQUEST",children:" "}),s.jsx("option",{value:"PURCHASE",children:" "}),s.jsx("option",{value:"PERFORMANCE",children:" "}),s.jsx("option",{value:"MEETING",children:""}),s.jsx("option",{value:"SUGGESTION",children:""})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[s.jsx("input",{type:"checkbox",checked:r.isActive,onChange:c=>n({...r,isActive:c.target.checked}),className:"w-4 h-4 text-primary rounded"})," "]}),s.jsxs("button",{onClick:a,className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow",children:[s.jsx(jn,{className:"w-4 h-4"}),"  "]})]})]}),s.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto bg-gray-100 dark:bg-gray-900 rounded-xl p-6 border border-dashed border-gray-300 relative",children:s.jsxs("div",{className:"flex gap-8 min-w-max",children:[s.jsxs("div",{className:"w-16 flex flex-col items-center justify-center pt-20 opacity-50",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg mb-2",children:s.jsx(EL,{className:"w-6 h-6 ml-1"})}),s.jsx("span",{className:"text-xs font-bold",children:""})]}),s.jsx(tc,{className:"w-8 h-8 text-gray-300 self-center mt-8"}),r.steps.map((c,u)=>s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 rounded-xl shadow-lg border-t-4 border-primary flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("input",{value:c.title,onChange:d=>{const f=[...r.steps];f[u].title=d.target.value,n({...r,steps:f})},className:"font-bold text-gray-800 dark:text-white bg-transparent outline-none w-full",placeholder:" "}),s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-xs text-gray-500",children:" :"}),s.jsxs("select",{value:c.assigneeRole,onChange:d=>{const f=[...r.steps];f[u].assigneeRole=d.target.value,n({...r,steps:f})},className:"block w-full mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-1 rounded",children:[Object.values(_r).map(d=>s.jsx("option",{value:d,children:d},d)),s.jsx("option",{value:"INITIATOR",children:"  (Initiator)"})]})]})]}),s.jsx("button",{onClick:()=>{const d=r.steps.filter(f=>f.id!==c.id);n({...r,steps:d})},className:"text-red-400 hover:text-red-600",children:s.jsx(Dt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 flex-1 space-y-2",children:[s.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:" (Actions):"}),c.actions.map((d,f)=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600 text-sm space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{value:d.label,onChange:h=>{const g=[...r.steps];g[u].actions[f].label=h.target.value,n({...r,steps:g})},className:"flex-1 bg-transparent border-b border-dashed outline-none",placeholder:" "}),s.jsxs("select",{value:d.style,onChange:h=>{const g=[...r.steps];g[u].actions[f].style=h.target.value,n({...r,steps:g})},className:"text-xs bg-gray-100 rounded",children:[s.jsx("option",{value:"primary",children:""}),s.jsx("option",{value:"success",children:""}),s.jsx("option",{value:"danger",children:""}),s.jsx("option",{value:"neutral",children:""})]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(tc,{className:"w-3 h-3"}),s.jsx("span",{children:" :"}),s.jsxs("select",{value:d.nextStepId,onChange:h=>{const g=[...r.steps];g[u].actions[f].nextStepId=h.target.value,n({...r,steps:g})},className:"bg-transparent font-medium text-gray-800 dark:text-gray-200 outline-none",children:[s.jsx("option",{value:"FINISH",children:" "}),r.steps.map(h=>s.jsx("option",{value:h.id,children:h.title},h.id))]})]})]},d.id)),s.jsx("button",{onClick:()=>l(c.id),className:"w-full py-1 text-xs text-primary border border-dashed border-primary/30 rounded hover:bg-primary/5",children:"+  "})]})]}),s.jsx(tc,{className:"w-8 h-8 text-gray-300"})]},c.id)),s.jsxs("button",{onClick:o,className:"h-80 w-40 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-primary hover:text-primary transition bg-white/50",children:[s.jsx(er,{className:"w-8 h-8 mb-2"}),s.jsx("span",{children:" "})]})]})})]}):s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-20",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(dj,{className:"text-primary"}),"   "]}),s.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[s.jsx(er,{className:"w-4 h-4"}),"  "]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(c=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600",children:s.jsx(Tf,{className:"w-6 h-6"})}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${c.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:c.isActive?"":""})]}),s.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[": ",c.module]}),s.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[c.steps.length,"   "]}),s.jsx("button",{onClick:()=>n(c),className:"w-full py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition",children:" "})]},c.id))})]})},Fce=()=>{const[t,e]=T.useState("LOGINS"),[r,n]=T.useState([]),[i,a]=T.useState([]),[o,l]=T.useState([]),[c,u]=T.useState(!1),[d,f]=T.useState(""),[h,g]=T.useState(!0),b={LOGINS:[{id:"user_name",label:" ",visible:!0},{id:"personnel_code",label:" ",visible:!0},{id:"action",label:" ",visible:!0},{id:"created_at",label:"  ",visible:!0},{id:"ip_address",label:" IP",visible:!0},{id:"details",label:"",visible:!1}],WORK_ORDERS:[{id:"tracking_code",label:" ",visible:!0},{id:"title",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"created_at",label:" ",visible:!0},{id:"status",label:"",visible:!0},{id:"equip_name",label:"",visible:!0},{id:"failure_desc",label:" ",visible:!1}],PARTS:[{id:"tracking_code",label:" ",visible:!0},{id:"requester_name",label:" ",visible:!0},{id:"request_date",label:" ",visible:!0},{id:"description",label:"/",visible:!0},{id:"work_order_code",label:" ",visible:!0},{id:"status",label:"",visible:!0}]};T.useEffect(()=>{y(),l(b[t])},[t]),T.useEffect(()=>{if(d){const w=d.toLowerCase();a(r.filter(k=>Object.values(k).some(S=>String(S).toLowerCase().includes(w))))}else a(r)},[d,r]);const y=async()=>{u(!0);let w=[];try{switch(t){case"LOGINS":const{data:k}=await $e.from("system_logs").select("user_name, personnel_code, action, created_at, ip_address, details").order("created_at",{ascending:!1});w=(k||[]).map(E=>({...E,created_at:new Date(E.created_at).toLocaleString("fa-IR")}));break;case"WORK_ORDERS":const{data:S}=await $e.from("cartable_items").select("tracking_code, title, created_at, status, data").eq("module","WORK_ORDER").order("created_at",{ascending:!1});w=(S||[]).map(E=>{const C=E.data||{};return{tracking_code:E.tracking_code,title:E.title,requester:C.requester||"-",created_at:new Date(E.created_at).toLocaleDateString("fa-IR"),status:E.status==="DONE"?" ":"  ",equip_name:C.equipName||C.equipLocalName||"-",failure_desc:C.failureDesc||"-"}});break;case"PARTS":const{data:N}=await $e.from("part_requests").select("tracking_code, requester_name, request_date, description, work_order_code, status").order("created_at",{ascending:!1});w=(N||[]).map(E=>({...E,status:E.status==="PENDING"?"  ":" "}));break}}catch(k){console.error("Error fetching report data:",k)}finally{u(!1)}n(w),a(w)},v=w=>{l(k=>k.map(S=>S.id===w?{...S,visible:!S.visible}:S))},x=()=>{if(i.length===0)return alert("    ");const w=o.filter(C=>C.visible),k=w.map(C=>C.label),S=i.map(C=>w.map(A=>C[A.id]||"-")),N="data:text/csv;charset=utf-8,\uFEFF"+k.join(",")+`
`+S.map(C=>C.join(",")).join(`
`),E=document.createElement("a");E.setAttribute("href",encodeURI(N)),E.setAttribute("download",`report_${t}_${Date.now()}.csv`),document.body.appendChild(E),E.click(),document.body.removeChild(E)},_=()=>{if(i.length===0)return[];let w="";t==="LOGINS"?w="created_at":(t==="WORK_ORDERS"||t==="PARTS")&&(w="status");const k={};return i.forEach(S=>{let N=S[w]||"";(w==="created_at"||w==="request_date")&&(N=String(N).split(" ")[0]),k[N]=(k[N]||0)+1}),Object.keys(k).map(S=>({name:S,count:k[S]})).slice(0,10)};return s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:s.jsx(pj,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:" "}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"        "})]})]}),s.jsxs("button",{onClick:x,className:"bg-green-600 text-white px-4 py-2 rounded-xl shadow-lg flex items-center gap-2 hover:bg-green-700 transition",children:[s.jsx(uj,{className:"w-5 h-5"}),"  "]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700",children:[s.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[s.jsx(Tf,{className:"w-4 h-4"}),"  "]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsxs("select",{value:t,onChange:w=>e(w.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-sm",children:[s.jsx("option",{value:"LOGINS",children:"   "}),s.jsx("option",{value:"WORK_ORDERS",children:" "}),s.jsx("option",{value:"PARTS",children:" "})]})]}),s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>g(!h),className:"flex items-center justify-between w-full text-xs font-bold text-gray-500 mb-2 hover:text-primary transition",children:[" ",h?s.jsx(lj,{className:"w-3 h-3"}):s.jsx(op,{className:"w-3 h-3"})]}),h&&s.jsx("div",{className:"space-y-1 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg max-h-60 overflow-y-auto",children:o.map(w=>s.jsxs("div",{onClick:()=>v(w.id),className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 p-1 rounded",children:[w.visible?s.jsx(Ic,{className:"w-4 h-4 text-primary"}):s.jsx(mj,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:w.label})]},w.id))})]}),s.jsxs("button",{onClick:y,className:"w-full py-2 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-100 transition text-sm font-bold",children:[s.jsx(jL,{className:`w-4 h-4 ${c?"animate-spin":""}`}),"  "]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700 h-64",children:[s.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:"  "}),s.jsx(Ra,{width:"100%",height:"90%",children:s.jsxs(Bb,{data:_(),children:[s.jsx(Bs,{strokeDasharray:"3 3",vertical:!1}),s.jsx(bi,{dataKey:"name",fontSize:10,angle:-45,textAnchor:"end",height:50}),s.jsx(wi,{fontSize:10}),s.jsx(Yr,{}),s.jsx(Kn,{dataKey:"count",fill:"#800020",radius:[4,4,0,0]})]})})]})]}),s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col h-full min-h-[500px]",children:[s.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[s.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200",children:["  (",i.length," )"]}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(lp,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:w=>f(w.target.value),className:"w-full pr-9 pl-4 py-1.5 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-1 focus:ring-primary"})]})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 sticky top-0 shadow-sm",children:s.jsx("tr",{children:o.filter(w=>w.visible).map(w=>s.jsx("th",{className:"p-4 whitespace-nowrap",children:w.label},w.id))})}),s.jsx("tbody",{className:"divide-y dark:divide-gray-600",children:i.length>0?i.map((w,k)=>s.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:o.filter(S=>S.visible).map(S=>s.jsx("td",{className:"p-4 whitespace-nowrap text-gray-700 dark:text-gray-200",children:w[S.id]||"-"},S.id))},k)):s.jsx("tr",{children:s.jsx("td",{colSpan:o.filter(w=>w.visible).length,className:"p-10 text-center text-gray-400",children:c?"   ...":"  "})})})]})})]})})]})]})},Qk=({title:t,selectedCloths:e,onChange:r})=>{const[n,i]=T.useState(!1),a=T.useRef(null);T.useEffect(()=>{const c=u=>{a.current&&!a.current.contains(u.target)&&i(!1)};return n&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[n]);const o=(c,u)=>{const d=`D${c}-C${u}`;e.includes(d)?r(e.filter(f=>f!==d)):r([...e,d])},l=c=>{const u=Array.from({length:20}).map((f,h)=>`D${c}-C${h+1}`);if(u.every(f=>e.includes(f)))r(e.filter(f=>!u.includes(f)));else{const f=[...new Set([...e,...u])];r(f)}};return s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-white dark:bg-gray-800 relative",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h4",{className:"font-bold text-sm flex items-center gap-2",children:[s.jsx(pL,{className:"w-4 h-4 text-primary"})," : ",t]}),s.jsx("button",{type:"button",onClick:()=>i(!n),className:"text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-100 transition border border-blue-200",children:n?" ":"  "})]}),s.jsx("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-2",children:s.jsxs("span",{children:["  : ",s.jsx("span",{className:"font-bold text-red-500 text-lg",children:e.length})," "]})}),n&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{ref:a,className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center sticky top-0 bg-white dark:bg-gray-900 z-10",children:[s.jsxs("h3",{className:"font-bold text-lg",children:["   - ",t]}),s.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:s.jsx(yt,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-6 space-y-6",children:Array.from({length:6}).map((c,u)=>{const d=u+1,h=Array.from({length:20}).map((g,b)=>`D${d}-C${b+1}`).every(g=>e.includes(g));return s.jsxs("div",{className:"flex flex-col gap-2 border-b pb-4 last:border-0",children:[s.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800/50 p-2 rounded",children:[s.jsxs("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",d]}),s.jsx("button",{type:"button",onClick:()=>l(d),className:`p-1 rounded transition ${h?"text-primary":"text-gray-400 hover:text-gray-600"}`,title:"    ",children:h?s.jsx(Ic,{className:"w-6 h-6"}):s.jsx(mj,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:Array.from({length:20}).map((g,b)=>{const y=b+1,v=`D${d}-C${y}`,x=e.includes(v);return s.jsx("div",{onClick:()=>o(d,y),className:`
                                    w-8 h-8 flex items-center justify-center text-[10px] rounded cursor-pointer border transition-all select-none
                                    ${x?"bg-red-600 text-white border-red-700 shadow-sm font-bold scale-105":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:border-primary text-gray-600 dark:text-gray-400"}
                                    `,title:` ${d} -  ${y}`,children:y},v)})})]},d)})}),s.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex justify-end sticky bottom-0",children:s.jsx("button",{onClick:()=>i(!1),className:"bg-primary text-white px-6 py-2 rounded-xl shadow hover:bg-red-800 transition",children:"  "})})]})})]})},Jr=["07:30","08:30","09:30","10:30","11:30","12:30","01:30","02:30","03:30","04:30","05:30","06:30"],Bce=["08:00","11:00","02:00","05:00"],Zk=["","","","",""],qce=[25,30,40,50,60,70,80,90,100],eE={Day1:"  ",Day2:"  ",Night1:"  ",Night2:"  "},Ml=[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}],tE=t=>t.toString().replace(/\d/g,e=>""[parseInt(e)]),Vce=({user:t})=>{Ys();const[e,r]=T.useState("LIST"),[n,i]=T.useState(1),[a,o]=T.useState(!1),[l,c]=T.useState(null),[u,d]=T.useState([]),[f,h]=T.useState(!1),[g,b]=T.useState(!1),[y,v]=T.useState(null),[x,_]=T.useState([]),[w,k]=T.useState(null),[S,N]=T.useState([]),[E,C]=T.useState({name:"A",type:"Day1",date:dt(),shiftDuration:"12:00",supervisor:t.id,supervisorName:t.fullName}),[A,I]=T.useState({}),[$,U]=T.useState({}),[O,R]=T.useState({lineA:{},lineB:{}}),[P,D]=T.useState({lineA:{},lineB:{}}),[q,B]=T.useState({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}}}),[W,J]=T.useState({lineA:{primary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""},secondary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""}},lineB:{primary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""},secondary:{active:!1,activeCyclones:[],pressure08:"",angle08:"",pressure02:"",angle02:""}}}),[te,Q]=T.useState({lineA:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""},lineB:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""}}),[ge,M]=T.useState({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),[Z,ue]=T.useState({lineA:[{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}}],lineB:[{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",description:"",data:{}}]}),[ve,Oe]=T.useState({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),[se,Ne]=T.useState({process:[],cleanWater:[]}),[K,X]=T.useState({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""},generalDescription:[""]}),[Ee,Se]=T.useState({nextShiftActions:[""]});T.useEffect(()=>{Ve("personnel").then(j=>{N(j),I({})}),he(),ee()},[]);const ee=async()=>{const{data:j}=await $e.from("app_users").select("avatar").eq("role","ADMIN").limit(1).single();j&&k(j.avatar)},he=async()=>{const F=(await O3()).map(z=>({...z,total_production_a:Number(z.total_production_a),total_production_b:Number(z.total_production_b)}));_(F)},le=e==="VIEW"&&!g,Ce=({active:j,onClick:F})=>s.jsx("button",{type:"button",onClick:F,disabled:le,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all shadow-sm border-2 transform active:scale-95 ${j?"bg-cyan-500 border-cyan-500 text-white shadow-cyan-200 shadow-md":"bg-white border-gray-300 text-gray-300 hover:border-gray-400"}`,title:j?"":"",children:s.jsx(TL,{className:"w-5 h-5"})}),Ge=({value:j,onChange:F,filterPresent:z=!1})=>{const Y=z?S.filter(re=>A[re.id]==="PRESENT"):S;return s.jsxs("select",{value:j,onChange:re=>F(re.target.value),disabled:le,className:"w-full p-2 rounded text-xs border bg-white dark:bg-gray-700 outline-none",children:[s.jsx("option",{value:"",children:" ..."}),Y.map(re=>s.jsx("option",{value:re.full_name,children:re.full_name},re.id))]})},ae=j=>{var F,z;if(le)return!0;if(j===1&&(!E.date||!E.shiftDuration))return!1;if(j===2)for(const Y of["lineA","lineB"])for(const re of Jr){const ie=P[Y][re];if(O[Y][re]>0){if(!ie)return!1;const Be=(((F=ie[0])==null?void 0:F.percent)||0)+(((z=ie[1])==null?void 0:z.percent)||0);if(Be===0||Be>100)return!1}if(ie&&(ie[0].type&&ie[0].percent<=0||ie[1].type&&ie[1].percent<=0))return!1}if(j===3)for(const Y of["lineA","lineB"])for(const re of["primary","secondary"]){const ie=q[Y][re];if(ie.active&&(!ie.amp08||!ie.dens08||!ie.amp02||!ie.dens02))return!1}if(j===4)for(const Y of["lineA","lineB"])for(const re of["primary","secondary"]){const ie=W[Y][re];if(ie.active&&ie.activeCyclones.length===0)return!1}if(j===5)for(const Y of["lineA","lineB"]){const re=te[Y];if(re.active&&!re.single&&!re.upper&&!re.middle&&!re.lower)return!1}if(j===6)for(const Y of["lineA","lineB","reserve"]){const re=ge[Y];if(re.active&&(!re.operator||!re.hours))return!1}if(j===7){for(const Y of["lineA","lineB"])for(const re of Z[Y])if(re.active){if(!re.hoursWorked||!re.channelOutput)return!1;const ie=re.data["08:00"];if(!ie||!ie.pressure||!ie.jack||!ie.mudLine)return!1}}if(j===8){for(const Y of["lineA","lineB"])for(const re of ve[Y])if(re.active&&(!re.operator||!re.hours))return!1}if(j===9){const Y=G(E.shiftDuration),re=G(K.lineA.workTime)+G(K.lineA.stopTime),ie=G(K.lineB.workTime)+G(K.lineB.stopTime);if(re!==Y||ie!==Y)return!1}return!0},_e=()=>{for(let j=1;j<=9;j++)if(!ae(j))return!1;return!0},V=[{id:1,label:" ",icon:Ja},{id:2,label:"",icon:uL},{id:3,label:"",icon:oj},{id:4,label:"",icon:S_},{id:5,label:" ",icon:S_},{id:6,label:" ",icon:gL},{id:7,label:"",icon:__},{id:8,label:" ",icon:CL},{id:9,label:"  ",icon:RL}],G=j=>{if(!j||j==="00:00")return 0;const[F,z]=j.split(":").map(Number);return F*60+z},fe=j=>{const F=G(j),z=G(E.shiftDuration);return F<=z},H=(j,F,z)=>{D(Y=>{const re={...Y[j]};for(let ie=F;ie<Jr.length;ie++)re[Jr[ie]]=JSON.parse(JSON.stringify(z));return{...Y,[j]:re}})},me=(j,F,z)=>{if(le)return;const Y=Number(z);if(Y<0)return;const re=Jr.indexOf(F);R(ie=>{const ye={...ie[j]};if(re!==-1)for(let Be=re;Be<Jr.length;Be++)ye[Jr[Be]]=Y;return{...ie,[j]:ye}})},pe=(j,F,z,Y)=>{if(le)return;const re=Jr[F],ie=P[j][re]||Ml,ye=JSON.parse(JSON.stringify(ie));Y===""?ye[z]={...ye[z],type:"",isCustom:!0}:ye[z]={...ye[z],type:Y,isCustom:!1},H(j,F,ye)},Te=(j,F,z,Y)=>{if(le)return;const re=Jr[F],ie=P[j][re]||Ml,ye=JSON.parse(JSON.stringify(ie));ye[z]={...ye[z],type:Y,isCustom:!0},H(j,F,ye)},Ue=(j,F,z)=>{if(le)return;const Y=Jr[F],re=P[j][Y]||Ml,ie=JSON.parse(JSON.stringify(re));ie[z]={...ie[z],type:"",isCustom:!1,percent:0},H(j,F,ie)},Kt=(j,F,z,Y)=>{if(le)return;const re=Jr[F],ie=P[j][re]||Ml,ye=JSON.parse(JSON.stringify(ie));let Be=Number(Y);Be<0&&(Be=0),Be>100&&(Be=100);const mo=ye[z===0?1:0].percent||0;if(Be+mo>100){alert("       .");return}ye[z]={...ye[z],percent:Be},z===0&&Be===100&&(ye[1]={type:"",percent:0,isCustom:!1}),H(j,F,ye)},ur=(j,F)=>{const z=q[j][F];!z.ballSize||!z.barrelCount||Number(z.barrelCount)<=0||B(Y=>({...Y,[j]:{...Y[j],[F]:{...Y[j][F],charges:[...Y[j][F].charges,{size:Number(z.ballSize),count:Number(z.barrelCount)}],ballSize:"",barrelCount:""}}}))},Gr=(j,F,z)=>{B(Y=>({...Y,[j]:{...Y[j],[F]:{...Y[j][F],charges:Y[j][F].charges.filter((re,ie)=>ie!==z)}}}))},Et=(j,F,z,Y)=>{if((z==="hoursWorked"||z==="channelOutput")&&!fe(Y)){alert("        .");return}ue(re=>{const ie=[...re[j]];return ie[F]={...ie[F],[z]:Y},{...re,[j]:ie}})},On=(j,F,z,Y,re)=>{ue(ie=>{const ye=[...ie[j]],Be=ye[F].data[z]||{pressure:"",jack:"",mudLine:""};return ye[F].data={...ye[F].data,[z]:{...Be,[Y]:re}},{...ie,[j]:ye}})},Pi=(j,F)=>{const z=window.SpeechRecognition||window.webkitSpeechRecognition;if(!z){alert("         .");return}const Y=new z;Y.lang="fa-IR",Y.continuous=!1,Y.interimResults=!1,Y.onresult=re=>{const ie=re.results[0][0].transcript;j(F?`${F} ${ie}`:ie)},Y.start()},St=(j,F)=>{const z=window.SpeechRecognition||window.webkitSpeechRecognition;if(!z)return;const Y=new z;Y.lang="fa-IR",Y.continuous=!1,Y.onresult=re=>{const ie=re.results[0][0].transcript;pl(j,F,ie,!0)},Y.start()},po=(j,F,z)=>{le||X(Y=>({...Y,[j]:{...Y[j],[F]:z}}))},pl=(j,F,z,Y=!1)=>{j==="downtime"?X(re=>{const ie=[...re.generalDescription];return ie[F]=Y&&ie[F]?`${ie[F]} ${z}`:z,{...re,generalDescription:ie}}):Se(re=>{const ie=[...re.nextShiftActions];return ie[F]=Y&&ie[F]?`${ie[F]} ${z}`:z,{...re,nextShiftActions:ie}})},Hr=j=>{j==="downtime"?X(F=>({...F,generalDescription:[...F.generalDescription,""]})):Se(F=>({...F,nextShiftActions:[...F.nextShiftActions,""]}))},Rn=(j,F)=>{j==="downtime"?X(z=>({...z,generalDescription:z.generalDescription.filter((Y,re)=>re!==F)})):Se(z=>({...z,nextShiftActions:z.nextShiftActions.filter((Y,re)=>re!==F)}))},pm=()=>{C({name:"A",type:"Day1",date:dt(),shiftDuration:"12:00",supervisor:t.id,supervisorName:t.fullName}),R({lineA:{},lineB:{}}),X({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""},generalDescription:[""]}),I({}),r("FORM"),i(1)},Xn=async()=>{o(!0);try{const F={code:await la("T"),shiftInfo:E,production:O,feedInfo:P,ballMills:q,hydrocyclones:W,drumMagnets:te,concentrateFilters:ge,thickeners:Z,recoveryFilters:ve,pumps:se,downtime:K,footer:Ee,totalA:Object.values(O.lineA).reduce((z,Y)=>z+Y,0),totalB:Object.values(O.lineB).reduce((z,Y)=>z+Y,0),attendanceMap:A,leaveTypes:$};await R3(F),alert("    ."),h(!1),v(F),r("VIEW")}catch(j){alert("   "),console.error(j)}finally{o(!1)}},Gu=j=>{const F=j.full_data;v(F),F&&(C(F.shiftInfo),R(F.production),D(F.feedInfo||{lineA:{},lineB:{}}),B(F.ballMills),J(F.hydrocyclones),Q(F.drumMagnets),M(F.concentrateFilters),ue(F.thickeners),Oe(F.recoveryFilters),Ne(F.pumps),X(F.downtime),Se(F.footer),I(F.attendanceMap||{}),U(F.leaveTypes||{})),r("VIEW")},mm=j=>{const F=j.full_data;F&&(C(F.shiftInfo),R(F.production),D(F.feedInfo||{lineA:{},lineB:{}}),B(F.ballMills),J(F.hydrocyclones),Q(F.drumMagnets),M(F.concentrateFilters),ue(F.thickeners),Oe(F.recoveryFilters),Ne(F.pumps),X(F.downtime),Se(F.footer),I(F.attendanceMap||{}),U(F.leaveTypes||{})),b(!1),r("VIEW")},SR=s.jsx("button",{onClick:()=>window.print(),className:"bg-white border p-2 rounded hover:bg-gray-50 text-gray-600",children:s.jsx(Cy,{className:"w-5 h-5"})}),Zb=j=>{const F=bs(j);return F?["","","","","","",""][F.getDay()]:""},gm=(j,F)=>{I(z=>({...z,[j]:F}))},ym=j=>{I(F=>{const z={...F};return delete z[j],z})};if(e==="VIEW"&&y){const j=y.totalA||0,F=y.totalB||0,z=G(y.shiftInfo.shiftDuration)/60,Y=Object.values(y.attendanceMap||{}).filter(qe=>qe==="PRESENT").length,re=Object.values(y.attendanceMap||{}).filter(qe=>qe==="LEAVE").length,ie=Object.values(y.attendanceMap||{}).filter(qe=>qe==="ABSENT").length,ye=G(y.downtime.lineA.workTime),Be=G(y.downtime.lineA.stopTime),fn=G(y.downtime.lineB.workTime),mo=G(y.downtime.lineB.stopTime),ml=[{name:"",value:ye,color:"#22c55e"},{name:"",value:Be,color:"#ef4444"}],tt=[{name:"",value:fn,color:"#22c55e"},{name:"",value:mo,color:"#ef4444"}],ew=Jr.map(qe=>({time:qe,lineA:y.production.lineA[qe]||0,lineB:y.production.lineB[qe]||0})),NR=()=>{const qe=document.getElementById("report-content");if(!qe)return;const Hu=`ShiftReport_${y.shiftInfo.date.replace(/\//g,"-")}_Shift${y.shiftInfo.name}_${y.shiftInfo.type}.pdf`,gl=document.createElement("script");gl.src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",gl.onload=()=>{const Ii={margin:0,filename:Hu,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};window.html2pdf().set(Ii).from(qe).save()},document.body.appendChild(gl)},tw=async()=>{const qe=document.getElementById("report-content");if(!qe)return;if(!window.html2pdf){const Ii=document.createElement("script");Ii.src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",Ii.onload=()=>tw(),document.body.appendChild(Ii);return}const Hu=`ShiftReport_${y.shiftInfo.date.replace(/\//g,"-")}_Shift${y.shiftInfo.name}_${y.shiftInfo.type}.pdf`,gl={margin:0,filename:Hu,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};try{const kR=await window.html2pdf().set(gl).from(qe).toPdf().output("blob"),rw=new File([kR],Hu,{type:"application/pdf"});if(navigator.canShare&&navigator.canShare({files:[rw]}))await navigator.share({files:[rw],title:" ",text:`  ${y.shiftInfo.date}`});else throw new Error("Sharing files not supported")}catch(Ii){console.error("Sharing failed:",Ii),alert("       .     ."),navigator.share&&navigator.share({title:" ",url:window.location.href})}};return s.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 flex flex-col items-center gap-4 text-black",children:[s.jsxs("div",{className:"fixed bottom-4 z-50 flex gap-4 no-print bg-white/90 backdrop-blur p-3 rounded-2xl shadow-xl border border-gray-200",children:[s.jsxs("button",{onClick:()=>r("LIST"),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-xl text-gray-700 font-bold transition",children:[s.jsx(tc,{className:"w-5 h-5"})," "]}),s.jsxs("button",{onClick:tw,className:"flex items-center gap-2 px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-xl font-bold transition",children:[s.jsx(Ax,{className:"w-5 h-5"}),"  "]}),s.jsxs("button",{onClick:NR,className:"flex items-center gap-2 px-4 py-2 bg-green-100 hover:bg-green-200 text-green-700 rounded-xl font-bold transition",children:[s.jsx(Ex,{className:"w-5 h-5"}),"  PDF"]}),s.jsxs("button",{onClick:()=>window.print(),className:"flex-1 flex items-center justify-center gap-2 px-6 py-2 bg-[#800020] text-white rounded-xl font-bold shadow-lg hover:bg-red-800 transition",children:[s.jsx(Cy,{className:"w-5 h-5"})," "]})]}),s.jsxs("div",{id:"report-content",className:"bg-white shadow-2xl w-[210mm] min-h-[297mm] mx-auto p-[10mm] box-border relative print:w-full print:shadow-none print:m-0 print:p-0",children:[s.jsx("style",{children:`
                      @media print {
                          @page { size: A4; margin: 0; }
                          body, html { height: auto; overflow: visible; background: white; }
                          .no-print { display: none !important; }
                          /* Hide all parents except the report content path */
                          body > div > div { display: none; } /* Specific to this layout structure */
                          
                          #report-content {
                              position: absolute;
                              top: 0;
                              left: 0;
                              width: 210mm;
                              margin: 0;
                              padding: 0;
                              box-shadow: none;
                              z-index: 9999;
                              visibility: visible;
                              height: auto !important;
                              overflow: visible !important;
                          }
                          /* Ensure pages break */
                          .page-break { page-break-before: always; margin-top: 2rem; display: block; }
                          
                          /* Hide everything else visually */
                          body * { visibility: hidden; }
                          #report-content, #report-content * { visibility: visible; }
                      }
                  `}),s.jsxs("div",{className:"h-[277mm] relative flex flex-col box-border",children:[s.jsxs("div",{className:"flex justify-between items-center border-b-4 border-[#800020] pb-4 mb-4",children:[s.jsx("div",{className:"w-1/4 flex justify-start",children:s.jsx("div",{className:"w-20 h-20 rounded-full border-2 border-[#800020] overflow-hidden shadow-sm",children:w?s.jsx("img",{src:w,className:"w-full h-full object-cover",alt:"Admin"}):s.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-400",children:s.jsx(Ja,{className:"w-8 h-8"})})})}),s.jsxs("div",{className:"text-center flex-1",children:[s.jsx("h1",{className:"text-xl font-black text-[#800020] mb-1",children:"     "}),s.jsx("h2",{className:"text-sm font-bold text-gray-700 px-3 py-1",children:"     "})]}),s.jsxs("div",{className:"w-1/4 text-xs space-y-1.5 text-right font-medium text-gray-600 bg-gray-50 p-2 rounded-lg border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:" "})," ",s.jsx("span",{className:"font-mono font-bold text-black",children:y.code})]}),s.jsx("div",{className:"border-t border-dashed border-gray-300"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:""})," ",s.jsxs("span",{className:"font-bold text-black text-left",dir:"ltr",children:[y.shiftInfo.date," (",Zb(y.shiftInfo.date),")"]})]}),s.jsx("div",{className:"border-t border-dashed border-gray-300"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:""})," ",s.jsxs("span",{className:"font-bold text-black text-left",dir:"ltr",children:[eE[y.shiftInfo.type]," (",y.shiftInfo.name,")"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-2 rounded-xl text-center",children:[s.jsx("span",{className:"block text-[10px] text-blue-600 font-bold mb-1",children:"   A"}),s.jsx("div",{className:"flex flex-col items-center",children:s.jsxs("span",{className:"text-xl font-black text-blue-800",children:[j.toLocaleString()," ",s.jsx("span",{className:"text-xs font-normal",children:""})]})})]}),s.jsxs("div",{className:"bg-red-50 border border-red-100 p-2 rounded-xl text-center",children:[s.jsx("span",{className:"block text-[10px] text-red-600 font-bold mb-1",children:"   B"}),s.jsx("div",{className:"flex flex-col items-center",children:s.jsxs("span",{className:"text-xl font-black text-red-800",children:[F.toLocaleString()," ",s.jsx("span",{className:"text-xs font-normal",children:""})]})})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-3 rounded-xl text-center flex flex-col justify-center",children:[s.jsx("span",{className:"block text-[10px] text-gray-600 font-bold mb-1",children:" "}),s.jsxs("span",{className:"text-xl font-black text-gray-800",children:[z," ",s.jsx("span",{className:"text-xs font-normal",children:""})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-100 p-2 rounded-xl text-center flex flex-col justify-center gap-1",children:[s.jsx("span",{className:"block text-[10px] text-green-700 font-bold mb-1 border-b border-green-200",children:" "}),s.jsxs("div",{className:"flex justify-between text-[10px] px-1",children:[s.jsx("span",{children:":"})," ",s.jsx("span",{className:"font-bold",children:Y})]}),s.jsxs("div",{className:"flex justify-between text-[10px] px-1",children:[s.jsx("span",{children:":"})," ",s.jsx("span",{className:"font-bold",children:re})]}),s.jsxs("div",{className:"flex justify-between text-[10px] px-1",children:[s.jsx("span",{children:":"})," ",s.jsx("span",{className:"font-bold text-red-600",children:ie})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 h-48",children:[s.jsxs("div",{className:"bg-blue-50/50 rounded-xl p-2 border border-blue-100 relative flex flex-col items-center justify-center",children:[s.jsx("h4",{className:"text-[10px] font-bold text-blue-800 absolute top-2 right-2",children:"  A"}),s.jsx(Ra,{width:"100%",height:"100%",children:s.jsx(Jk,{children:s.jsx(Wn,{data:ml,cx:"50%",cy:"50%",innerRadius:25,outerRadius:40,paddingAngle:5,dataKey:"value",children:ml.map((qe,Jt)=>s.jsx(zc,{fill:qe.color},`cell-${Jt}`))})})}),s.jsxs("div",{className:"absolute bottom-1 left-0 right-0 flex justify-center gap-3 text-[10px]",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})," ",y.downtime.lineA.workTime]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})," ",y.downtime.lineA.stopTime]})]})]}),s.jsxs("div",{className:"bg-red-50/50 rounded-xl p-2 border border-red-100 relative flex flex-col items-center justify-center",children:[s.jsx("h4",{className:"text-[10px] font-bold text-red-800 absolute top-2 right-2",children:"  B"}),s.jsx(Ra,{width:"100%",height:"100%",children:s.jsx(Jk,{children:s.jsx(Wn,{data:tt,cx:"50%",cy:"50%",innerRadius:25,outerRadius:40,paddingAngle:5,dataKey:"value",children:tt.map((qe,Jt)=>s.jsx(zc,{fill:qe.color},`cell-${Jt}`))})})}),s.jsxs("div",{className:"absolute bottom-1 left-0 right-0 flex justify-center gap-3 text-[10px]",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})," ",y.downtime.lineB.workTime]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})," ",y.downtime.lineB.stopTime]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-1 relative flex flex-col",children:[s.jsx("h4",{className:"text-xs font-bold text-gray-500 absolute top-2 right-2",children:"   "}),s.jsx("div",{className:"flex-1 mt-4",children:s.jsx(Ra,{width:"100%",height:"100%",children:s.jsxs(Bb,{data:ew,margin:{top:20,right:30,left:0,bottom:5},children:[s.jsx(Bs,{strokeDasharray:"3 3",vertical:!1}),s.jsx(bi,{dataKey:"time",tick:{fontSize:8,angle:-45,textAnchor:"end"},interval:0,height:40,tickMargin:5}),s.jsx(wi,{tick:{fontSize:9},width:30,tickMargin:5}),s.jsx(Kn,{dataKey:"lineA",name:" A",fill:"#3b82f6",radius:[2,2,0,0]}),s.jsx(Kn,{dataKey:"lineB",name:" B",fill:"#ef4444",radius:[2,2,0,0]})]})})})]})]}),s.jsxs("div",{className:"h-32 bg-white border border-gray-200 rounded-xl p-2 mb-4 relative",children:[s.jsx("h4",{className:"text-xs font-bold text-gray-500 absolute top-2 right-2",children:"   "}),s.jsx(Ra,{width:"100%",height:"100%",children:s.jsxs(CO,{data:ew,margin:{top:20,right:20,left:0,bottom:5},children:[s.jsx(Bs,{strokeDasharray:"3 3"}),s.jsx(bi,{dataKey:"time",tick:{fontSize:9}}),s.jsx(wi,{tick:{fontSize:9},width:30}),s.jsx(ro,{type:"monotone",dataKey:"lineA",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:" A"}),s.jsx(ro,{type:"monotone",dataKey:"lineB",stroke:"#ef4444",strokeWidth:2,dot:!1,name:" B"})]})})]}),s.jsxs("div",{className:"flex gap-4 flex-1 mb-4 min-h-[200px]",children:[s.jsxs("div",{className:"flex-1 bg-blue-50 rounded-xl border border-blue-200 p-2 flex flex-col gap-2",children:[s.jsx("h3",{className:"font-bold text-blue-800 border-b border-blue-200 pb-1 text-xs text-center",children:"   A"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px]",children:[s.jsxs("div",{className:"bg-white/60 rounded p-1.5",children:[s.jsx("strong",{className:"block text-blue-700 mb-0.5 border-b border-blue-100",children:" "}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:":"})," ",s.jsx("span",{children:y.ballMills.lineA.primary.amp08})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:":"})," ",s.jsx("span",{children:y.ballMills.lineA.primary.dens08})]}),s.jsx("div",{className:"mt-1 pt-1 border-t border-dashed",children:y.ballMills.lineA.primary.charges.length>0?y.ballMills.lineA.primary.charges.map((qe,Jt)=>s.jsxs("div",{children:[" ",qe.size,": ",qe.count]},Jt)):" "})]}),s.jsxs("div",{className:"bg-white/60 rounded p-1.5",children:[s.jsx("strong",{className:"block text-blue-700 mb-0.5 border-b border-blue-100",children:" "}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:":"})," ",s.jsx("span",{children:y.ballMills.lineA.secondary.amp08})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:":"})," ",s.jsx("span",{children:y.ballMills.lineA.secondary.dens08})]}),s.jsx("div",{className:"mt-1 pt-1 border-t border-dashed",children:y.ballMills.lineA.secondary.charges.length>0?y.ballMills.lineA.secondary.charges.map((qe,Jt)=>s.jsxs("div",{children:[" ",qe.size,": ",qe.count]},Jt)):" "})]}),s.jsxs("div",{className:"bg-white/60 rounded p-1.5 col-span-2 flex justify-between items-center",children:[s.jsx("strong",{className:"text-blue-700",children:" :"}),s.jsxs("span",{children:[y.concentrateFilters.lineA.cloths.length,"  "]})]})]})]}),s.jsxs("div",{className:"flex-1 bg-red-50 rounded-xl border border-red-200 p-2 flex flex-col gap-2",children:[s.jsx("h3",{className:"font-bold text-red-800 border-b border-red-200 pb-1 text-xs text-center",children:"   B"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px]",children:[s.jsxs("div",{className:"bg-white/60 rounded p-1.5",children:[s.jsx("strong",{className:"block text-red-700 mb-0.5 border-b border-red-100",children:" "}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:":"})," ",s.jsx("span",{children:y.ballMills.lineB.primary.amp08})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:":"})," ",s.jsx("span",{children:y.ballMills.lineB.primary.dens08})]}),s.jsx("div",{className:"mt-1 pt-1 border-t border-dashed",children:y.ballMills.lineB.primary.charges.length>0?y.ballMills.lineB.primary.charges.map((qe,Jt)=>s.jsxs("div",{children:[" ",qe.size,": ",qe.count]},Jt)):" "})]}),s.jsxs("div",{className:"bg-white/60 rounded p-1.5",children:[s.jsx("strong",{className:"block text-red-700 mb-0.5 border-b border-red-100",children:" "}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:":"})," ",s.jsx("span",{children:y.ballMills.lineB.secondary.amp08})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:":"})," ",s.jsx("span",{children:y.ballMills.lineB.secondary.dens08})]}),s.jsx("div",{className:"mt-1 pt-1 border-t border-dashed",children:y.ballMills.lineB.secondary.charges.length>0?y.ballMills.lineB.secondary.charges.map((qe,Jt)=>s.jsxs("div",{children:[" ",qe.size,": ",qe.count]},Jt)):" "})]}),s.jsxs("div",{className:"bg-white/60 rounded p-1.5 col-span-2 flex justify-between items-center",children:[s.jsx("strong",{className:"text-red-700",children:" :"}),s.jsxs("span",{children:[y.concentrateFilters.lineB.cloths.length,"  "]})]})]})]})]})]}),s.jsx("div",{className:"page-break"}),s.jsxs("div",{className:"h-[277mm] flex flex-col pt-10 box-border",children:[s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4 mb-6 min-h-[150px]",children:[s.jsx("h3",{className:"font-bold text-[#800020] border-b pb-2 mb-2 text-sm",children:"  "}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-xs leading-relaxed p-3 bg-white rounded border border-gray-100 h-full",children:[s.jsx("strong",{className:"block text-blue-600 mb-2 border-b border-blue-50 pb-1",children:" A:"}),y.downtime.lineA.reason||"   ."]}),s.jsxs("div",{className:"text-xs leading-relaxed p-3 bg-white rounded border border-gray-100 h-full",children:[s.jsx("strong",{className:"block text-red-600 mb-2 border-b border-red-50 pb-1",children:" B:"}),y.downtime.lineB.reason||"   ."]})]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6 flex-1 min-h-[200px]",children:[s.jsx("h3",{className:"font-bold text-yellow-800 border-b border-yellow-200 pb-2 mb-2 text-sm",children:"  "}),s.jsxs("div",{className:"text-xs leading-relaxed text-justify p-2",children:[y.downtime.generalDescription.map((qe,Jt)=>s.jsxs("p",{className:"mb-2 border-b border-dashed border-yellow-100 pb-1 last:border-0",children:[" ",qe]},Jt)),y.downtime.generalDescription.length===0&&s.jsx("span",{className:"text-gray-400",children:"   ."})]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-auto min-h-[150px]",children:[s.jsx("h3",{className:"font-bold text-green-800 border-b border-green-200 pb-2 mb-2 text-sm",children:"    "}),s.jsxs("div",{className:"text-xs leading-relaxed text-justify p-2",children:[y.footer.nextShiftActions.map((qe,Jt)=>s.jsxs("p",{className:"mb-2 border-b border-dashed border-green-100 pb-1 last:border-0",children:[" ",qe]},Jt)),y.footer.nextShiftActions.length===0&&s.jsx("span",{className:"text-gray-400",children:"   ."})]})]}),s.jsx("div",{className:"mt-auto pt-10 pb-8",children:s.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center",children:[s.jsxs("div",{className:"flex flex-col gap-12",children:[s.jsx("span",{className:"font-bold text-sm text-gray-700",children:" "}),s.jsx("div",{className:"border-b-2 border-gray-300 w-3/4 mx-auto"}),s.jsx("span",{className:"text-xs text-gray-500",children:y.shiftInfo.supervisorName})]}),s.jsxs("div",{className:"flex flex-col gap-12",children:[s.jsx("span",{className:"font-bold text-sm text-gray-700",children:" "}),s.jsx("div",{className:"border-b-2 border-gray-300 w-3/4 mx-auto"})]}),s.jsxs("div",{className:"flex flex-col gap-12",children:[s.jsx("span",{className:"font-bold text-sm text-gray-700",children:" "}),s.jsx("div",{className:"border-b-2 border-gray-300 w-3/4 mx-auto"})]})]})})]})]})]})}return e==="FORM"?(ae(n),s.jsxs("div",{className:"max-w-7xl mx-auto pb-24",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-gray-50 dark:bg-gray-900 z-20 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ay,{className:"w-8 h-8 text-primary"}),s.jsx("div",{children:s.jsx("h1",{className:"text-2xl font-bold",children:"   "})})]}),s.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:s.jsx(yt,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm mb-6 sticky top-16 z-10 border border-gray-200 dark:border-gray-700 overflow-x-auto",children:s.jsx("div",{className:"flex min-w-max",children:V.map(j=>s.jsxs("button",{onClick:()=>i(j.id),className:`flex-1 py-4 px-6 flex items-center justify-center gap-2 text-sm font-bold transition-all border-b-4 
                        ${n===j.id?"border-primary text-primary bg-primary/5":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(j.icon,{className:"w-5 h-5"})," ",j.label]},j.id))})}),s.jsxs("form",{className:"space-y-6",onSubmit:j=>{j.preventDefault(),h(!0)},children:[n===1&&s.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:""}),s.jsx("select",{value:E.name,onChange:j=>C({...E,name:j.target.value}),className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none text-sm",children:["A","B","C"].map(j=>s.jsxs("option",{value:j,children:[" ",j]},j))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),s.jsxs("select",{value:E.type,onChange:j=>C({...E,type:j.target.value}),className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none text-sm",children:[s.jsx("option",{value:"Day1",children:"  "}),s.jsx("option",{value:"Day2",children:"  "}),s.jsx("option",{value:"Night1",children:"  "}),s.jsx("option",{value:"Night2",children:"  "})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"w-full",children:[s.jsx("label",{className:"block text-xs font-black mb-1.5 text-gray-800 dark:text-white",children:" "}),s.jsx(Xr,{value:E.shiftDuration,onChange:j=>C({...E,shiftDuration:j})})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),s.jsx("div",{className:"w-full p-2.5 border rounded-xl bg-gray-100 dark:bg-gray-600 text-center text-sm",children:Zb(E.date)})]}),s.jsx("div",{children:s.jsxs("div",{className:"w-full",children:[s.jsx("label",{className:"block text-xs font-black mb-1.5 text-gray-800 dark:text-white",children:""}),s.jsx(Un,{value:E.date,onChange:j=>!le&&C({...E,date:j})})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),s.jsx("div",{className:"w-full p-2.5 border rounded-xl bg-gray-100 dark:bg-gray-600 truncate text-sm",children:E.supervisorName})]})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-700 dark:text-gray-200",children:"    "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-t-xl border-b-2 border-green-500 flex items-center justify-center gap-2",children:[s.jsx(LL,{className:"w-5 h-5 text-green-700 dark:text-green-400"}),s.jsx("h4",{className:"font-bold text-green-700 dark:text-green-400 text-center",children:""})]}),s.jsxs("div",{className:"bg-green-50/50 dark:bg-green-900/10 p-3 rounded-b-xl border border-green-200 dark:border-green-800 min-h-[200px]",children:[!le&&s.jsxs("select",{className:"w-full p-2 mb-3 text-sm border rounded bg-white dark:bg-gray-800 outline-none focus:ring-1 focus:ring-green-500",onChange:j=>{j.target.value&&gm(j.target.value,"PRESENT"),j.target.value=""},children:[s.jsx("option",{value:"",children:"+  "}),S.filter(j=>!A[j.id]).map(j=>s.jsx("option",{value:j.id,children:j.full_name},j.id))]}),s.jsx("div",{className:"space-y-2",children:S.filter(j=>A[j.id]==="PRESENT").map(j=>s.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-2 rounded shadow-sm border-r-4 border-green-500",children:[s.jsx("span",{className:"text-sm font-medium",children:j.full_name}),!le&&s.jsx("button",{type:"button",onClick:()=>ym(j.id),className:"text-gray-400 hover:text-red-500",children:s.jsx(Dt,{className:"w-4 h-4"})})]},j.id))})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-t-xl border-b-2 border-orange-500 flex items-center justify-center gap-2",children:[s.jsx(iL,{className:"w-5 h-5 text-orange-700 dark:text-orange-400"}),s.jsx("h4",{className:"font-bold text-orange-700 dark:text-orange-400 text-center",children:""})]}),s.jsxs("div",{className:"bg-orange-50/50 dark:bg-orange-900/10 p-3 rounded-b-xl border border-orange-200 dark:border-orange-800 min-h-[200px]",children:[!le&&s.jsxs("select",{className:"w-full p-2 mb-3 text-sm border rounded bg-white dark:bg-gray-800 outline-none focus:ring-1 focus:ring-orange-500",onChange:j=>{j.target.value&&gm(j.target.value,"LEAVE"),j.target.value=""},children:[s.jsx("option",{value:"",children:"+  "}),S.filter(j=>!A[j.id]).map(j=>s.jsx("option",{value:j.id,children:j.full_name},j.id))]}),s.jsx("div",{className:"space-y-2",children:S.filter(j=>A[j.id]==="LEAVE").map(j=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded shadow-sm border-r-4 border-orange-500",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:j.full_name}),!le&&s.jsx("button",{type:"button",onClick:()=>ym(j.id),className:"text-gray-400 hover:text-red-500",children:s.jsx(Dt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex gap-2 text-xs bg-orange-50 dark:bg-orange-900/10 p-1.5 rounded",children:[s.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:`leave-${j.id}`,checked:$[j.id]==="HOURLY",onChange:()=>U(F=>({...F,[j.id]:"HOURLY"}))})," "]}),s.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[s.jsx("input",{type:"radio",name:`leave-${j.id}`,checked:$[j.id]==="DAILY",onChange:()=>U(F=>({...F,[j.id]:"DAILY"}))})," "]})]})]},j.id))})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-t-xl border-b-2 border-red-500 flex items-center justify-center gap-2",children:[s.jsx(UL,{className:"w-5 h-5 text-red-700 dark:text-red-400"}),s.jsx("h4",{className:"font-bold text-red-700 dark:text-red-400 text-center",children:""})]}),s.jsxs("div",{className:"bg-red-50/50 dark:bg-red-900/10 p-3 rounded-b-xl border border-red-200 dark:border-red-800 min-h-[200px]",children:[!le&&s.jsxs("select",{className:"w-full p-2 mb-3 text-sm border rounded bg-white dark:bg-gray-800 outline-none focus:ring-1 focus:ring-red-500",onChange:j=>{j.target.value&&gm(j.target.value,"ABSENT"),j.target.value=""},children:[s.jsx("option",{value:"",children:"+  "}),S.filter(j=>!A[j.id]).map(j=>s.jsx("option",{value:j.id,children:j.full_name},j.id))]}),s.jsx("div",{className:"space-y-2",children:S.filter(j=>A[j.id]==="ABSENT").map(j=>s.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-2 rounded shadow-sm border-r-4 border-red-500",children:[s.jsx("span",{className:"text-sm font-medium",children:j.full_name}),!le&&s.jsx("button",{type:"button",onClick:()=>ym(j.id),className:"text-gray-400 hover:text-red-500",children:s.jsx(Dt,{className:"w-4 h-4"})})]},j.id))})]})]})]})]})]}),n===2&&s.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:["lineA","lineB"].map(j=>s.jsxs("div",{className:"mb-8",children:[s.jsxs("h3",{className:`font-bold mb-4 ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:[" ",j==="lineA"?"A":"B"]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-center text-xs",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[s.jsx("th",{className:"p-2",children:""}),s.jsx("th",{className:"p-2",children:""}),s.jsx("th",{className:"p-2",children:" "}),s.jsx("th",{className:"p-2",children:""}),s.jsx("th",{className:"p-2",children:"  2"}),s.jsx("th",{className:"p-2",children:""})]})}),s.jsx("tbody",{children:Jr.map((F,z)=>{var Be,fn,mo,ml;const Y=P[j][F]||Ml,re=((Be=Y[0])==null?void 0:Be.percent)||0;(fn=Y[1])!=null&&fn.percent;const ie=re>0&&re<100,ye=Zk.filter(tt=>tt!==Y[0].type);return s.jsxs("tr",{className:"border-b dark:border-gray-700",children:[s.jsx("td",{className:"p-2 font-bold",children:F}),s.jsx("td",{className:"p-1",children:s.jsx("input",{type:"number",className:"w-24 p-1 text-center border rounded font-bold",value:O[j][F]||"",onChange:tt=>me(j,F,tt.target.value)})}),s.jsx("td",{className:"p-1",children:(mo=Y[0])!=null&&mo.isCustom?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"text",className:"w-24 p-1 border rounded text-xs",value:Y[0].type,onChange:tt=>Te(j,z,0,tt.target.value),disabled:le,placeholder:" ...",autoFocus:!0}),s.jsx("button",{type:"button",onClick:()=>Ue(j,z,0),className:"text-red-500 hover:text-red-700",children:s.jsx(yt,{className:"w-3 h-3"})})]}):s.jsxs("select",{className:"w-24 p-1 border rounded",value:Y[0].type,onChange:tt=>pe(j,z,0,tt.target.value),disabled:le,children:[s.jsx("option",{value:"",children:"-"}),Zk.map(tt=>s.jsx("option",{value:tt,children:tt},tt))]})}),s.jsx("td",{className:"p-1",children:s.jsx("input",{type:"number",min:"0",max:"100",className:"w-12 p-1 text-center border rounded",value:Y[0].percent||"",onChange:tt=>Kt(j,z,0,tt.target.value),required:!0})}),s.jsx("td",{className:"p-1",children:ie?(ml=Y[1])!=null&&ml.isCustom?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"text",className:"w-24 p-1 border rounded text-xs",value:Y[1].type,onChange:tt=>Te(j,z,1,tt.target.value),disabled:le,placeholder:" ...",autoFocus:!0}),s.jsx("button",{type:"button",onClick:()=>Ue(j,z,1),className:"text-red-500 hover:text-red-700",children:s.jsx(yt,{className:"w-3 h-3"})})]}):Y[1].type||Y[1].percent>0?s.jsxs("select",{className:"w-24 p-1 border rounded",value:Y[1].type,onChange:tt=>pe(j,z,1,tt.target.value),disabled:le,children:[s.jsx("option",{value:"",children:"-"}),ye.map(tt=>s.jsx("option",{value:tt,children:tt},tt))]}):s.jsx("div",{className:"flex justify-center",children:s.jsx(er,{className:"w-4 h-4 text-green-500 cursor-pointer",onClick:()=>pe(j,z,1,ye[0])})}):s.jsx("span",{className:"text-gray-300",children:"-"})}),s.jsx("td",{className:"p-1",children:ie?Y[1].type||Y[1].percent>0?s.jsx("input",{type:"number",min:"0",max:"100",className:"w-12 p-1 text-center border rounded",value:Y[1].percent||"",onChange:tt=>Kt(j,z,1,tt.target.value)}):null:s.jsx("span",{className:"text-gray-300",children:"-"})})]},F)})}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 font-bold border-t dark:border-gray-600",children:[s.jsx("td",{className:"p-3 text-center",children:""}),s.jsxs("td",{className:`p-3 text-center text-sm font-black ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:[Object.values(O[j]).reduce((F,z)=>F+(Number(z)||0),0).toLocaleString()," "]}),s.jsx("td",{colSpan:4})]})})]})})]},j))}),n===3&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(j=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:`font-bold text-center ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:["  ",j==="lineA"?"A":"B"]}),["primary","secondary"].map(F=>{const z=q[j][F],Y=z.charges.map(ie=>ie.size),re=qce.filter(ie=>!Y.includes(ie));return s.jsxs("div",{className:"border rounded-xl p-4 bg-white dark:bg-gray-800",children:[s.jsxs("div",{className:"flex justify-between mb-3",children:[s.jsx("h4",{className:"font-bold text-sm",children:F==="primary"?"  1":"  2"}),s.jsx(Ce,{active:z.active,onClick:()=>B(ie=>({...ie,[j]:{...ie[j],[F]:{...ie[j][F],active:!z.active}}}))})]}),z.active&&s.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("div",{className:"text-xs font-bold text-gray-500 text-center border-b pb-1 mb-2",children:" 08:00"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",min:"0",placeholder:" *",className:`w-full p-2 border rounded pl-6 ${Number(z.amp08)>970?"text-red-600 font-bold":""}`,value:z.amp08,onChange:ie=>{B(ye=>({...ye,[j]:{...ye[j],[F]:{...ye[j][F],amp08:ie.target.value}}}))}}),s.jsx("span",{className:"absolute left-2 top-2 text-gray-400 font-bold",children:"A"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",min:"0",placeholder:" *",className:"w-full p-2 border rounded pl-10",value:z.dens08,onChange:ie=>{B(ye=>({...ye,[j]:{...ye[j],[F]:{...ye[j][F],dens08:ie.target.value}}}))}}),s.jsx("span",{className:"absolute left-2 top-2 text-gray-400 font-bold",children:"Gr/Lit"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[s.jsx("div",{className:"text-xs font-bold text-gray-500 text-center border-b pb-1 mb-2",children:" 02:00"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",min:"0",placeholder:" *",className:`w-full p-2 border rounded pl-6 ${Number(z.amp02)>970?"text-red-600 font-bold":""}`,value:z.amp02,onChange:ie=>{B(ye=>({...ye,[j]:{...ye[j],[F]:{...ye[j][F],amp02:ie.target.value}}}))}}),s.jsx("span",{className:"absolute left-2 top-2 text-gray-400 font-bold",children:"A"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",min:"0",placeholder:" *",className:"w-full p-2 border rounded pl-10",value:z.dens02,onChange:ie=>{B(ye=>({...ye,[j]:{...ye[j],[F]:{...ye[j][F],dens02:ie.target.value}}}))}}),s.jsx("span",{className:"absolute left-2 top-2 text-gray-400 font-bold",children:"Gr/Lit"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded text-xs mt-2",children:[s.jsx("label",{className:"block mb-1 font-bold text-gray-500",children:" "}),s.jsxs("div",{className:"flex gap-1 mb-2",children:[s.jsxs("select",{className:"flex-1 p-1 border rounded",value:z.ballSize,onChange:ie=>{B(ye=>({...ye,[j]:{...ye[j],[F]:{...ye[j][F],ballSize:ie.target.value}}}))},children:[s.jsx("option",{value:"",children:""}),re.map(ie=>s.jsx("option",{value:ie,children:ie},ie))]}),s.jsx("input",{type:"number",min:"1",className:"w-16 p-1 border rounded text-center",placeholder:"",value:z.barrelCount,onChange:ie=>{B(ye=>({...ye,[j]:{...ye[j],[F]:{...ye[j][F],barrelCount:ie.target.value}}}))}}),s.jsx("button",{type:"button",onClick:()=>ur(j,F),className:"bg-green-500 text-white p-1 rounded disabled:bg-gray-300 disabled:cursor-not-allowed",disabled:!z.ballSize||!z.barrelCount||Number(z.barrelCount)<=0,children:s.jsx(er,{className:"w-4 h-4"})})]}),z.charges.map((ie,ye)=>s.jsxs("div",{className:"flex justify-between bg-white px-2 py-1 rounded mb-1 shadow-sm",children:[s.jsxs("span",{children:[" ",ie.size,": ",ie.count," "]}),s.jsx("button",{type:"button",onClick:()=>Gr(j,F,ye),className:"text-red-500",children:s.jsx(Dt,{className:"w-3 h-3"})})]},ye))]})]})]},F)})]},j))}),n===4&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(j=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:`font-bold text-center mb-4 ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:["  ",j==="lineA"?"A":"B"]}),["primary","secondary"].map(F=>{const z=W[j][F];return s.jsxs("div",{className:"border rounded-xl p-4 bg-white dark:bg-gray-800",children:[s.jsxs("div",{className:"flex justify-between mb-3",children:[s.jsx("h4",{className:"font-bold text-sm",children:F==="primary"?"  1":"  2"}),s.jsx(Ce,{active:z.active,onClick:()=>J(Y=>({...Y,[j]:{...Y[j],[F]:{...Y[j][F],active:!z.active}}}))})]}),z.active&&s.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs items-center bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"font-bold text-gray-500 col-span-2 text-center border-b pb-1 mb-1",children:" 08:00"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",min:"0",placeholder:"",className:"w-full p-2 border rounded text-center pl-8",value:z.pressure08,onChange:Y=>{J(re=>({...re,[j]:{...re[j],[F]:{...re[j][F],pressure08:Y.target.value}}}))}}),s.jsx("span",{className:"absolute left-2 top-2 text-gray-400 font-bold",children:"Bar"})]}),s.jsx("input",{type:"text",placeholder:" ",className:"w-full p-2 border rounded text-center",value:z.angle08,onChange:Y=>{J(re=>({...re,[j]:{...re[j],[F]:{...re[j][F],angle08:Y.target.value}}}))}})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs items-center bg-gray-50 p-2 rounded",children:[s.jsx("span",{className:"font-bold text-gray-500 col-span-2 text-center border-b pb-1 mb-1",children:" 02:00"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",min:"0",placeholder:"",className:"w-full p-2 border rounded text-center pl-8",value:z.pressure02,onChange:Y=>{J(re=>({...re,[j]:{...re[j],[F]:{...re[j][F],pressure02:Y.target.value}}}))}}),s.jsx("span",{className:"absolute left-2 top-2 text-gray-400 font-bold",children:"Bar"})]}),s.jsx("input",{type:"text",placeholder:" ",className:"w-full p-2 border rounded text-center",value:z.angle02,onChange:Y=>{J(re=>({...re,[j]:{...re[j],[F]:{...re[j][F],angle02:Y.target.value}}}))}})]}),s.jsxs("div",{className:`pt-2 rounded p-2 ${z.activeCyclones.length===0?"bg-red-50 border border-red-300":""}`,children:[s.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:" "}),s.jsx("div",{className:"grid grid-cols-6 md:grid-cols-12 gap-1 justify-items-center",children:Array.from({length:12},(Y,re)=>re+1).map(Y=>s.jsx("button",{type:"button",onClick:()=>{const ie=z.activeCyclones.includes(Y)?z.activeCyclones.filter(ye=>ye!==Y):[...z.activeCyclones,Y];J(ye=>({...ye,[j]:{...ye[j],[F]:{...ye[j][F],activeCyclones:ie}}}))},className:`w-7 h-7 rounded-full border text-[10px] font-bold transition-all ${z.activeCyclones.includes(Y)?"bg-cyan-500 text-white shadow-md transform scale-110 border-cyan-600":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:Y},Y))})]})]})]},F)})]},j))}),n===5&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(j=>{const F=te[j],z={single:" ",upper:"  ",middle:"  ",lower:"  "},Y=F.single||F.upper||F.middle||F.lower;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex justify-between mb-4",children:[s.jsxs("h3",{className:`font-bold text-center ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:["    ",j==="lineA"?"A":"B"]}),s.jsx(Ce,{active:F.active,onClick:()=>Q(re=>({...re,[j]:{...re[j],active:!F.active}}))})]}),F.active&&s.jsxs("div",{className:"animate-fadeIn",children:[s.jsx("div",{className:`grid grid-cols-1 gap-3 mb-4 p-2 rounded ${Y?"":"bg-red-50 border border-red-200"}`,children:["single","upper","middle","lower"].map(re=>s.jsx("button",{type:"button",onClick:()=>Q(ie=>({...ie,[j]:{...ie[j],[re]:!ie[j][re]}})),className:`p-3 rounded-lg border text-sm font-bold transition-all ${te[j][re]?"bg-cyan-500 text-white border-cyan-600 shadow-md":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:z[re]},re))}),s.jsx("div",{className:"relative",children:s.jsx("textarea",{className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none",placeholder:"...",rows:3,value:te[j].description,onChange:re=>{const ie=re.target.value;Q(ye=>({...ye,[j]:{...ye[j],description:ie}}))}})})]})]},j)})}),n===6&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["lineA","lineB","reserve"].map(j=>{const F=ge[j],z=j==="lineA"?"   A":j==="lineB"?"   B":"  ";return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl border",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h4",{className:"font-bold text-sm",children:z}),s.jsx(Ce,{active:F.active,onClick:()=>M(Y=>({...Y,[j]:{...Y[j],active:!F.active}}))})]}),F.active&&s.jsxs("div",{className:"animate-fadeIn space-y-3",children:[s.jsx("div",{className:F.operator?"":"border border-red-300 rounded p-1",children:s.jsx(Ge,{value:F.operator,onChange:Y=>M(re=>({...re,[j]:{...re[j],operator:Y}})),filterPresent:!0})}),s.jsx("div",{className:`w-full ${F.hours?"":"border border-red-300 rounded p-1"}`,children:s.jsx(Xr,{label:" ",value:F.hours,onChange:Y=>{fe(Y)?M(re=>({...re,[j]:{...re[j],hours:Y}})):alert("        .")}})}),s.jsx("div",{className:"mt-2",children:s.jsx(Qk,{title:z,selectedCloths:F.cloths,onChange:Y=>M(re=>({...re,[j]:{...re[j],cloths:Y}}))})})]})]},j)})}),n===7&&s.jsx("div",{className:"space-y-6",children:["lineA","lineB"].map(j=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl",children:[s.jsxs("h3",{className:`font-bold text-center mb-4 ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:["  ",j==="lineA"?"A":"B"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,1,2].map(F=>{const z=Z[j][F];return s.jsxs("div",{className:"border rounded-xl p-4 bg-white dark:bg-gray-800 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("h4",{className:"font-bold text-sm",children:["  ",F+1]}),s.jsx(Ce,{active:z.active,onClick:()=>Et(j,F,"active",!z.active)})]}),z.active&&s.jsxs("div",{className:"animate-fadeIn space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx("div",{className:z.hoursWorked?"":"border border-red-300 rounded",children:s.jsx(Xr,{label:" ",value:z.hoursWorked,onChange:Y=>Et(j,F,"hoursWorked",Y)})}),s.jsx("div",{className:z.channelOutput?"":"border border-red-300 rounded",children:s.jsx(Xr,{label:"  ",value:z.channelOutput,onChange:Y=>Et(j,F,"channelOutput",Y)})})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-1 mb-2 text-center text-[10px] text-gray-500 font-bold",children:[s.jsx("div",{children:""}),s.jsx("div",{children:""}),s.jsx("div",{children:""}),s.jsx("div",{children:" "})]}),Bce.map(Y=>{var re,ie,ye;return s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-2 items-center",children:[s.jsx("span",{className:"font-bold bg-white dark:bg-gray-600 p-1.5 rounded text-center text-xs shadow-sm",children:Y}),s.jsx("input",{type:"number",className:"border rounded p-1.5 text-center text-xs w-full",value:((re=z.data[Y])==null?void 0:re.pressure)||"",onChange:Be=>On(j,F,Y,"pressure",Be.target.value)}),s.jsx("input",{type:"number",className:"border rounded p-1.5 text-center text-xs w-full",value:((ie=z.data[Y])==null?void 0:ie.jack)||"",onChange:Be=>On(j,F,Y,"jack",Be.target.value)}),s.jsx("input",{type:"number",className:"border rounded p-1.5 text-center text-xs w-full",value:((ye=z.data[Y])==null?void 0:ye.mudLine)||"",onChange:Be=>On(j,F,Y,"mudLine",Be.target.value)})]},Y)})]})]})]},F)})})]},j))}),n===8&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(j=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl",children:[s.jsxs("h3",{className:`font-bold text-center mb-4 ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:["   ",j==="lineA"?"A":"B"]}),[0,1].map(F=>{const z=ve[j][F],Y=`   ${F+1}`;return s.jsxs("div",{className:"bg-white dark:bg-gray-900 border rounded-xl p-4 mb-4 last:mb-0 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h4",{className:"font-bold text-sm",children:Y}),s.jsx(Ce,{active:z.active,onClick:()=>{const re=[...ve[j]];re[F].active=!z.active,Oe(ie=>({...ie,[j]:re}))}})]}),z.active&&s.jsxs("div",{className:"animate-fadeIn space-y-3",children:[s.jsx("div",{className:z.operator?"":"border border-red-300 rounded p-1",children:s.jsx(Ge,{value:z.operator,onChange:re=>{const ie=[...ve[j]];ie[F].operator=re,Oe(ye=>({...ye,[j]:ie}))},filterPresent:!0})}),s.jsx("div",{className:z.hours?"":"border border-red-300 rounded p-1",children:s.jsx(Xr,{label:" ",value:z.hours,onChange:re=>{const ie=[...ve[j]];ie[F].hours=re,Oe(ye=>({...ye,[j]:ie}))}})}),s.jsx("div",{className:"mt-2",children:s.jsx(Qk,{title:`${Y}  ${j==="lineA"?"A":"B"}`,selectedCloths:z.cloths,onChange:re=>{const ie=[...ve[j]];ie[F].cloths=re,Oe(ye=>({...ye,[j]:ie}))}})})]})]},F)})]},j))}),n===9&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(j=>{const F=K[j].stopTime,z=K[j].workTime,Y=G(F)>0,re=G(E.shiftDuration),ye=G(z)+G(F)===re;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("h3",{className:`font-bold text-center mb-4 ${j==="lineA"?"text-blue-600":"text-red-600"}`,children:["  /   ",j==="lineA"?"A":"B"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx("div",{children:s.jsx(Xr,{label:" ",value:K[j].workTime,onChange:Be=>po(j,"workTime",Be)})}),s.jsx("div",{children:s.jsx(Xr,{label:" ",value:K[j].stopTime,onChange:Be=>po(j,"stopTime",Be)})})]}),!ye&&s.jsx("div",{className:"text-red-500 text-xs text-center mb-2 font-bold animate-pulse",children:"         "}),Y&&s.jsxs("div",{className:"animate-fadeIn",children:[s.jsx("label",{className:"block text-sm font-bold mb-1 text-gray-500",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{className:"w-full p-3 border rounded-lg bg-gray-50 dark:bg-gray-700 min-h-[80px]",placeholder:"...",value:K[j].reason,onChange:Be=>X(fn=>({...fn,[j]:{...fn[j],reason:Be.target.value}})),disabled:le}),!le&&s.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-1 rounded-full text-gray-400 hover:text-primary",onClick:()=>Pi(Be=>X(fn=>({...fn,[j]:{...fn[j],reason:Be}})),K[j].reason),children:s.jsx(qn,{className:"w-5 h-5"})})]})]})]},j)})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsx("h3",{className:"font-bold mb-6 text-center text-lg",children:"  "}),s.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"text-sm font-bold mb-3 text-gray-600 dark:text-gray-300",children:" "}),s.jsx("div",{className:"flex justify-center gap-3",children:["1","2","3"].map(j=>s.jsxs("button",{type:"button",disabled:le,onClick:()=>{const F=se.process.includes(j);Ne(z=>({...z,process:F?z.process.filter(Y=>Y!==j):[...z.process,j]}))},className:`w-12 h-12 rounded-full border font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center relative ${se.process.includes(j)?"bg-cyan-600 text-white border-cyan-700 shadow-lg":"bg-gray-100 text-gray-500 border-gray-200 hover:bg-gray-200"}`,children:[s.jsx(lL,{className:"w-6 h-6"}),s.jsx("span",{className:"absolute -top-2 -right-2 bg-white text-black text-[10px] w-5 h-5 rounded-full border flex items-center justify-center font-bold",children:j})]},j))})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"text-sm font-bold mb-3 text-gray-600 dark:text-gray-300",children:"  "}),s.jsx("div",{className:"flex justify-center gap-3",children:["1","2","3"].map(j=>s.jsxs("button",{type:"button",disabled:le,onClick:()=>{const F=se.cleanWater.includes(j);Ne(z=>({...z,cleanWater:F?z.cleanWater.filter(Y=>Y!==j):[...z.cleanWater,j]}))},className:`w-12 h-12 rounded-full border font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center relative ${se.cleanWater.includes(j)?"bg-cyan-400 text-white border-cyan-500 shadow-lg":"bg-gray-100 text-gray-500 border-gray-200 hover:bg-gray-200"}`,children:[s.jsx(__,{className:"w-6 h-6"}),s.jsx("span",{className:"absolute -top-2 -right-2 bg-white text-black text-[10px] w-5 h-5 rounded-full border flex items-center justify-center font-bold",children:j})]},j))})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-lg",children:" "}),!le&&s.jsx("button",{type:"button",onClick:()=>Hr("downtime"),disabled:K.generalDescription.length>0&&!K.generalDescription[K.generalDescription.length-1].trim(),className:`bg-blue-600 text-white w-8 h-8 rounded-full flex items-center justify-center transition ${K.generalDescription.length>0&&!K.generalDescription[K.generalDescription.length-1].trim()?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:s.jsx(er,{className:"w-5 h-5"})})]}),K.generalDescription.map((j,F)=>s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsxs("span",{className:"font-bold text-gray-400 w-6 pt-2",children:[tE(F+1),"."]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx("textarea",{value:j,onChange:z=>pl("downtime",F,z.target.value),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 min-h-[60px]",disabled:le}),!le&&s.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-1 rounded-full text-gray-400 hover:text-primary",onClick:()=>St("downtime",F),children:s.jsx(qn,{className:"w-4 h-4"})})]}),!le&&s.jsx("button",{type:"button",onClick:()=>Rn("downtime",F),className:"text-red-500 self-center hover:bg-red-50 p-2 rounded-full",children:s.jsx(Dt,{className:"w-5 h-5"})})]},F)),K.generalDescription.length===0&&s.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"   ."})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-lg",children:"   "}),!le&&s.jsx("button",{type:"button",onClick:()=>Hr("footer"),disabled:Ee.nextShiftActions.length>0&&!Ee.nextShiftActions[Ee.nextShiftActions.length-1].trim(),className:`bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center transition ${Ee.nextShiftActions.length>0&&!Ee.nextShiftActions[Ee.nextShiftActions.length-1].trim()?"opacity-50 cursor-not-allowed":"hover:bg-green-700"}`,children:s.jsx(er,{className:"w-5 h-5"})})]}),Ee.nextShiftActions.map((j,F)=>s.jsxs("div",{className:"flex gap-2 mb-3",children:[s.jsxs("span",{className:"font-bold text-gray-400 w-6 pt-2",children:[tE(F+1),"."]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx("textarea",{value:j,onChange:z=>pl("footer",F,z.target.value),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 min-h-[60px]",disabled:le}),!le&&s.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-1 rounded-full text-gray-400 hover:text-primary",onClick:()=>St("footer",F),children:s.jsx(qn,{className:"w-4 h-4"})})]}),!le&&s.jsx("button",{type:"button",onClick:()=>Rn("footer",F),className:"text-red-500 self-center hover:bg-red-50 p-2 rounded-full",children:s.jsx(Dt,{className:"w-5 h-5"})})]},F)),Ee.nextShiftActions.length===0&&s.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"   ."})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t dark:border-gray-700 pb-20",children:[s.jsxs("button",{type:"button",onClick:()=>i(j=>Math.max(1,j-1)),disabled:n===1,className:"px-6 py-3 rounded-xl border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 transition flex items-center gap-2",children:[s.jsx(tc,{className:"w-5 h-5"}),"  "]}),n===9?!le&&s.jsxs("button",{type:"submit",disabled:a||!_e(),className:`bg-primary text-white px-8 py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center gap-2 transform active:scale-95 font-bold text-lg ${!_e()||a?"opacity-50 cursor-not-allowed bg-gray-400":""}`,children:[a?s.jsx(Pt,{className:"w-6 h-6 animate-spin"}):s.jsx(jn,{className:"w-6 h-6"}),"  "]}):s.jsxs("button",{type:"button",onClick:()=>i(j=>Math.min(9,j+1)),disabled:!ae(n),className:`px-8 py-3 rounded-xl shadow transition flex items-center gap-2 font-bold ${ae(n)?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:["  ",s.jsx(Ty,{className:"w-5 h-5"})]})]})]}),f&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fadeIn",children:s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden transform scale-100 transition-all",children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:s.jsx(ys,{className:"w-10 h-10 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"  "}),s.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:["       ",s.jsx("br",{}),"         ."]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 py-3 border border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition font-bold text-gray-700 dark:text-gray-300",children:"  "}),s.jsx("button",{type:"button",onClick:Xn,className:"flex-1 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 shadow-lg transition font-bold",children:"  "})]})]})})})]})):s.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:s.jsx(Ai,{title:" ",icon:Ay,data:x,onAdd:pm,columns:[{header:" ",accessor:j=>s.jsx("span",{className:"font-mono font-bold",children:j.tracking_code})},{header:"",accessor:j=>j.shift_date},{header:"",accessor:j=>j.shift_name},{header:" ",accessor:j=>eE[j.shift_type]||j.shift_type},{header:"",accessor:j=>j.supervisor_name||"---"},{header:"  A",accessor:j=>s.jsx("span",{className:"text-blue-600 font-bold bg-blue-50 px-2 py-1 rounded",children:j.total_production_a})},{header:"  B",accessor:j=>s.jsx("span",{className:"text-red-600 font-bold bg-red-50 px-2 py-1 rounded",children:j.total_production_b})}],onViewDetails:Gu,onEdit:mm,extraActions:SR,selectedIds:u,onSelect:d})})},Gce=({enabled:t})=>{const[e,r]=T.useState([]);return T.useEffect(()=>{if(t){const n=Array.from({length:40}).map((i,a)=>({id:a,left:Math.random()*100+"vw",animationDuration:Math.random()*3+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.3,size:Math.random()*4+2+"px"}));r(n)}else r([])},[t]),t?s.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[s.jsx("style",{children:`
          @keyframes snowfall {
            0% { transform: translateY(-10px) translateX(0); }
            100% { transform: translateY(110vh) translateX(20px); }
          }
        `}),e.map(n=>s.jsx("div",{className:"absolute bg-white rounded-full drop-shadow-sm",style:{left:n.left,top:"-10px",width:n.size,height:n.size,opacity:n.opacity,animation:`snowfall ${n.animationDuration} linear infinite`,animationDelay:n.animationDelay}},n.id))]}):null};var Hce={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let zce,Wce;function Kce(){return{geminiUrl:zce,vertexUrl:Wce}}function Jce(t,e,r,n){var i,a;if(!(t!=null&&t.baseUrl)){const o=Kce();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:r:(a=o.geminiUrl)!==null&&a!==void 0?a:n}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ci{}function xe(t,e){const r=/\{([^}]+)\}/g;return t.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,r){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(r))t[l]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(r))for(let u=0;u<c.length;u++){const d=c[u];m(d,e.slice(a+1),r[u])}else for(const u of c)m(u,e.slice(a+1),r)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];m(c[0],e.slice(a+1),r);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const n=e[e.length-1],i=t[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(t,r):t[n]=r}function p(t,e,r=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return r;const i=e[n];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const o=t[a];return Array.isArray(o)?o.map(l=>p(l,e.slice(n+1),r)):r}else return r}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return r;throw n}}function Yce(t,e){for(const[r,n]of Object.entries(e)){const i=r.split("."),a=n.split("."),o=new Set;let l=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){l=c;break}if(l!==-1&&a.length>l)for(let c=l;c<a.length;c++){const u=a[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}gv(t,i,a,0,o)}}function gv(t,e,r,n,i){if(n>=e.length||typeof t!="object"||t===null)return;const a=e[n];if(a.endsWith("[]")){const o=a.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const c of l[o])gv(c,e,r,n+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(u=>!u.startsWith("_")&&!i.has(u)),c={};for(const u of l)c[u]=o[u];for(const[u,d]of Object.entries(c)){const f=[];for(const h of r.slice(n))h==="*"?f.push(u):f.push(h);m(o,f,d)}for(const u of l)delete o[u]}}else{const o=t;a in o&&gv(o[a],e,r,n+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vb(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xce(t){const e={},r=p(t,["operationName"]);r!=null&&m(e,["operationName"],r);const n=p(t,["resourceName"]);return n!=null&&m(e,["_url","resourceName"],n),e}function Qce(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response","generateVideoResponse"]);return o!=null&&m(e,["response"],eue(o)),e}function Zce(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response"]);return o!=null&&m(e,["response"],tue(o)),e}function eue(t){const e={},r=p(t,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>rue(o))),m(e,["generatedVideos"],a)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&m(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function tue(t){const e={},r=p(t,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>nue(o))),m(e,["generatedVideos"],a)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&m(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function rue(t){const e={},r=p(t,["video"]);return r!=null&&m(e,["video"],cue(r)),e}function nue(t){const e={},r=p(t,["_self"]);return r!=null&&m(e,["video"],uue(r)),e}function iue(t){const e={},r=p(t,["operationName"]);return r!=null&&m(e,["_url","operationName"],r),e}function aue(t){const e={},r=p(t,["operationName"]);return r!=null&&m(e,["_url","operationName"],r),e}function oue(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response"]);return o!=null&&m(e,["response"],sue(o)),e}function sue(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["parent"]);n!=null&&m(e,["parent"],n);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function jO(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response"]);return o!=null&&m(e,["response"],lue(o)),e}function lue(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["parent"]);n!=null&&m(e,["parent"],n);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function cue(t){const e={},r=p(t,["uri"]);r!=null&&m(e,["uri"],r);const n=p(t,["encodedVideo"]);n!=null&&m(e,["videoBytes"],Vb(n));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function uue(t){const e={},r=p(t,["gcsUri"]);r!=null&&m(e,["uri"],r);const n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["videoBytes"],Vb(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(rE||(rE={}));var nE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(nE||(nE={}));var iE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(iE||(iE={}));var zi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(zi||(zi={}));var aE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(aE||(aE={}));var oE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(oE||(oE={}));var sE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(sE||(sE={}));var lE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(lE||(lE={}));var cE;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(cE||(cE={}));var uE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(uE||(uE={}));var dE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(dE||(dE={}));var fE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(fE||(fE={}));var hE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(hE||(hE={}));var pE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(pE||(pE={}));var mE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(mE||(mE={}));var gE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gE||(gE={}));var yE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(yE||(yE={}));var vE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(vE||(vE={}));var xE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(xE||(xE={}));var Mh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Mh||(Mh={}));var bE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bE||(bE={}));var wE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(wE||(wE={}));var _E;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(_E||(_E={}));var yv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yv||(yv={}));var SE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(SE||(SE={}));var NE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(NE||(NE={}));var kE;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(kE||(kE={}));var EE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(EE||(EE={}));var TE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(TE||(TE={}));var AE;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(AE||(AE={}));var CE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(CE||(CE={}));var jE;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(jE||(jE={}));var PE;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(PE||(PE={}));var IE;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(IE||(IE={}));var OE;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(OE||(OE={}));var RE;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(RE||(RE={}));var ME;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ME||(ME={}));var $E;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($E||($E={}));var DE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(DE||(DE={}));var LE;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(LE||(LE={}));var UE;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(UE||(UE={}));var FE;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(FE||(FE={}));var BE;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(BE||(BE={}));var qE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(qE||(qE={}));var VE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(VE||(VE={}));var GE;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(GE||(GE={}));var HE;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(HE||(HE={}));var zE;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(zE||(zE={}));var WE;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(WE||(WE={}));var KE;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(KE||(KE={}));var JE;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(JE||(JE={}));var YE;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(YE||(YE={}));var XE;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(XE||(XE={}));var QE;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(QE||(QE={}));var ZE;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(ZE||(ZE={}));var Jo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Jo||(Jo={}));class vv{constructor(e){const r={};for(const n of e.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=e}json(){return this.responseInternal.json()}}class $l{get text(){var e,r,n,i,a,o,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[g,b]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(b!==null||b!==void 0)&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,r,n,i,a,o,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,r,n,i,a,o,l,c;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,r,n,i,a,o,l,c,u;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,r,n,i,a,o,l,c,u;if(((i=(n=(r=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class eT{}class tT{}class due{}class fue{}class hue{}class pue{}class rT{}class nT{}class iT{}class mue{}class $h{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new $h;let i;const a=e;return r?i=Zce(a):i=Qce(a),Object.assign(n,i),n}}class aT{}class oT{}class sT{}class lT{}class gue{}class yue{}class vue{}class Gb{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new Gb,a=oue(e);return Object.assign(n,a),n}}class xue{}class bue{}class wue{}class cT{}class _ue{get text(){var e,r,n;let i="",a=!1;const o=[];for(const l of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[c,u]of Object.entries(l))c!=="text"&&c!=="thought"&&u!==null&&o.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,r,n;let i="";const a=[];for(const o of(n=(r=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[l,c]of Object.entries(o))l!=="inlineData"&&c!==null&&a.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Sue{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Hb{_fromAPIResponse({apiResponse:e,_isVertexAI:r}){const n=new Hb,a=jO(e);return Object.assign(n,a),n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ke(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const r=e.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function PO(t,e){const r=Ke(t,e);return r?r.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}`:r.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${r}`:r:""}function IO(t){return Array.isArray(t)?t.map(e=>Dh(e)):[Dh(t)]}function Dh(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function OO(t){const e=Dh(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function RO(t){const e=Dh(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function uT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function MO(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>uT(e)):[uT(t)]}function xv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function dT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function fT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function lr(t){if(t==null)throw new Error("ContentUnion is required");return xv(t)?t:{role:"user",parts:MO(t)}}function zb(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(r=>{const n=lr(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const r=lr(e);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(e)?e.map(r=>lr(r)):[lr(e)]}function an(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(dT(t)||fT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[lr(t)]}const e=[],r=[],n=xv(t[0]);for(const i of t){const a=xv(i);if(a!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(dT(i)||fT(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||e.push({role:"user",parts:MO(r)}),e}function Nue(t,e){t.includes("null")&&(e.nullable=!0);const r=t.filter(n=>n!=="null");if(r.length===1)e.type=Object.values(zi).includes(r[0].toUpperCase())?r[0].toUpperCase():zi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of r)e.anyOf.push({type:Object.values(zi).includes(n.toUpperCase())?n.toUpperCase():zi.TYPE_UNSPECIFIED})}}function ls(t){const e={},r=["items"],n=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Nue(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(zi).includes(l.toUpperCase())?l.toUpperCase():zi.TYPE_UNSPECIFIED}else if(r.includes(o))e[o]=ls(l);else if(n.includes(o)){const c=[];for(const u of l){if(u.type=="null"){e.nullable=!0;continue}c.push(ls(u))}e[o]=c}else if(i.includes(o)){const c={};for(const[u,d]of Object.entries(l))c[u]=ls(d);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=l}return e}function Wb(t){return ls(t)}function Kb(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Jb(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function dl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ls(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ls(e.response));return t}function fl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const r of t)e.push(r);return e}function kue(t,e,r,n=1){const i=!e.startsWith(`${r}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${r}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${r}/${e}`:e:i?`${r}/${e}`:e}function ji(t,e){if(typeof e!="string")throw new Error("name must be a string");return kue(t,e,"cachedContents")}function $O(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ha(t){return Vb(t)}function Eue(t){return t!=null&&typeof t=="object"&&"name"in t}function Tue(t){return t!=null&&typeof t=="object"&&"video"in t}function Aue(t){return t!=null&&typeof t=="object"&&"uri"in t}function DO(t){var e;let r;if(Eue(t)&&(r=t.name),!(Aue(t)&&(r=t.uri,r===void 0))&&!(Tue(t)&&(r=(e=t.video)===null||e===void 0?void 0:e.uri,r===void 0))){if(typeof t=="string"&&(r=t),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function LO(t,e){let r;return t.isVertexAI()?r=e?"publishers/google/models":"models":r=e?"models":"tunedModels",r}function UO(t){for(const e of["models","tunedModels","publisherModels"])if(Cue(t,e))return t[e];return[]}function Cue(t,e){return t!==null&&typeof t=="object"&&e in t}function jue(t,e={}){const r=t,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function Pue(t,e={}){const r=[],n=new Set;for(const i of t){const a=i.name;if(n.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);n.add(a);const o=jue(i,e);o.functionDeclarations&&r.push(...o.functionDeclarations)}return{functionDeclarations:r}}function FO(t,e){let r;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))r={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))r={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))r={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:e}}else r=e;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function Iue(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function BO(t){if(typeof t!="object"||t===null)return{};const e=t,r=e.inlinedResponses;if(typeof r!="object"||r===null)return t;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const c=o.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function hl(t,e){const r=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function qO(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oue(t){const e={},r=p(t,["responsesFile"]);r!=null&&m(e,["fileName"],r);const n=p(t,["inlinedResponses","inlinedResponses"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>hde(o))),m(e,["inlinedResponses"],a)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["inlinedEmbedContentResponses"],a)}return e}function Rue(t){const e={},r=p(t,["predictionsFormat"]);r!=null&&m(e,["format"],r);const n=p(t,["gcsDestination","outputUriPrefix"]);n!=null&&m(e,["gcsUri"],n);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Mue(t){const e={},r=p(t,["format"]);r!=null&&m(e,["predictionsFormat"],r);const n=p(t,["gcsUri"]);n!=null&&m(e,["gcsDestination","outputUriPrefix"],n);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Wd(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata","displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],qO(i));const a=p(t,["metadata","createTime"]);a!=null&&m(e,["createTime"],a);const o=p(t,["metadata","endTime"]);o!=null&&m(e,["endTime"],o);const l=p(t,["metadata","updateTime"]);l!=null&&m(e,["updateTime"],l);const c=p(t,["metadata","model"]);c!=null&&m(e,["model"],c);const u=p(t,["metadata","output"]);return u!=null&&m(e,["dest"],Oue(BO(u))),e}function bv(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["state"]);i!=null&&m(e,["state"],qO(i));const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const l=p(t,["startTime"]);l!=null&&m(e,["startTime"],l);const c=p(t,["endTime"]);c!=null&&m(e,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&m(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&m(e,["src"],$ue(f));const h=p(t,["outputConfig"]);h!=null&&m(e,["dest"],Rue(BO(h)));const g=p(t,["completionStats"]);return g!=null&&m(e,["completionStats"],g),e}function $ue(t){const e={},r=p(t,["instancesFormat"]);r!=null&&m(e,["format"],r);const n=p(t,["gcsSource","uris"]);n!=null&&m(e,["gcsUri"],n);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Due(t,e){const r={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=p(e,["fileName"]);n!=null&&m(r,["fileName"],n);const i=p(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>fde(t,o))),m(r,["requests","requests"],a)}return r}function Lue(t){const e={},r=p(t,["format"]);r!=null&&m(e,["instancesFormat"],r);const n=p(t,["gcsUri"]);n!=null&&m(e,["gcsSource","uris"],n);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Uue(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function Fue(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],hl(t,n)),r}function Bue(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],hl(t,n)),r}function que(t){const e={},r=p(t,["content"]);r!=null&&m(e,["content"],r);const n=p(t,["citationMetadata"]);n!=null&&m(e,["citationMetadata"],Vue(n));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const a=p(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=p(t,["avgLogprobs"]);o!=null&&m(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&m(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Vue(t){const e={},r=p(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),m(e,["citations"],n)}return e}function VO(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>bde(a))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function Gue(t,e){const r={},n=p(t,["displayName"]);if(e!==void 0&&n!=null&&m(e,["batch","displayName"],n),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function Hue(t,e){const r={},n=p(t,["displayName"]);e!==void 0&&n!=null&&m(e,["displayName"],n);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Mue(Iue(i))),r}function hT(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["src"]);i!=null&&m(r,["batch","inputConfig"],Due(t,FO(t,i)));const a=p(e,["config"]);return a!=null&&Gue(a,r),r}function zue(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["model"],Ke(t,n));const i=p(e,["src"]);i!=null&&m(r,["inputConfig"],Lue(FO(t,i)));const a=p(e,["config"]);return a!=null&&Hue(a,r),r}function Wue(t,e){const r={},n=p(t,["displayName"]);return e!==void 0&&n!=null&&m(e,["batch","displayName"],n),r}function Kue(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["src"]);i!=null&&m(r,["batch","inputConfig"],tde(t,i));const a=p(e,["config"]);return a!=null&&Wue(a,r),r}function Jue(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],hl(t,n)),r}function Yue(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],hl(t,n)),r}function Xue(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);return a!=null&&m(e,["error"],a),e}function Que(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);return a!=null&&m(e,["error"],a),e}function Zue(t,e){const r={},n=p(e,["contents"]);if(n!=null){let a=zb(t,n);Array.isArray(a)&&(a=a.map(o=>o)),m(r,["requests[]","request","content"],a)}const i=p(e,["config"]);return i!=null&&(m(r,["_self"],ede(i,r)),Yce(r,{"requests[].*":"requests[].request.*"})),r}function ede(t,e){const r={},n=p(t,["taskType"]);e!==void 0&&n!=null&&m(e,["requests[]","taskType"],n);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function tde(t,e){const r={},n=p(e,["fileName"]);n!=null&&m(r,["file_name"],n);const i=p(e,["inlinedRequests"]);return i!=null&&m(r,["requests"],Zue(t,i)),r}function rde(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function nde(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ide(t){const e={},r=p(t,["mode"]);r!=null&&m(e,["mode"],r);const n=p(t,["allowedFunctionNames"]);if(n!=null&&m(e,["allowedFunctionNames"],n),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ade(t,e,r){const n={},i=p(e,["systemInstruction"]);r!==void 0&&i!=null&&m(r,["systemInstruction"],VO(lr(i)));const a=p(e,["temperature"]);a!=null&&m(n,["temperature"],a);const o=p(e,["topP"]);o!=null&&m(n,["topP"],o);const l=p(e,["topK"]);l!=null&&m(n,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&m(n,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&m(n,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(n,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(n,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(n,["presencePenalty"],g);const b=p(e,["frequencyPenalty"]);b!=null&&m(n,["frequencyPenalty"],b);const y=p(e,["seed"]);y!=null&&m(n,["seed"],y);const v=p(e,["responseMimeType"]);v!=null&&m(n,["responseMimeType"],v);const x=p(e,["responseSchema"]);x!=null&&m(n,["responseSchema"],Wb(x));const _=p(e,["responseJsonSchema"]);if(_!=null&&m(n,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=p(e,["safetySettings"]);if(r!==void 0&&w!=null){let O=w;Array.isArray(O)&&(O=O.map(R=>wde(R))),m(r,["safetySettings"],O)}const k=p(e,["tools"]);if(r!==void 0&&k!=null){let O=fl(k);Array.isArray(O)&&(O=O.map(R=>Sde(dl(R)))),m(r,["tools"],O)}const S=p(e,["toolConfig"]);if(r!==void 0&&S!=null&&m(r,["toolConfig"],_de(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=p(e,["cachedContent"]);r!==void 0&&N!=null&&m(r,["cachedContent"],ji(t,N));const E=p(e,["responseModalities"]);E!=null&&m(n,["responseModalities"],E);const C=p(e,["mediaResolution"]);C!=null&&m(n,["mediaResolution"],C);const A=p(e,["speechConfig"]);if(A!=null&&m(n,["speechConfig"],Kb(A)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=p(e,["thinkingConfig"]);I!=null&&m(n,["thinkingConfig"],I);const $=p(e,["imageConfig"]);$!=null&&m(n,["imageConfig"],dde($));const U=p(e,["enableEnhancedCivicAnswers"]);return U!=null&&m(n,["enableEnhancedCivicAnswers"],U),n}function ode(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>que(u))),m(e,["candidates"],c)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const o=p(t,["responseId"]);o!=null&&m(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function sde(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],hl(t,n)),r}function lde(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],hl(t,n)),r}function cde(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function ude(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function dde(t){const e={},r=p(t,["aspectRatio"]);r!=null&&m(e,["aspectRatio"],r);const n=p(t,["imageSize"]);if(n!=null&&m(e,["imageSize"],n),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function fde(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["request","model"],Ke(t,n));const i=p(e,["contents"]);if(i!=null){let l=an(i);Array.isArray(l)&&(l=l.map(c=>VO(c))),m(r,["request","contents"],l)}const a=p(e,["metadata"]);a!=null&&m(r,["metadata"],a);const o=p(e,["config"]);return o!=null&&m(r,["request","generationConfig"],ade(t,o,p(r,["request"],{}))),r}function hde(t){const e={},r=p(t,["response"]);r!=null&&m(e,["response"],ode(r));const n=p(t,["error"]);return n!=null&&m(e,["error"],n),e}function pde(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function mde(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function gde(t){const e={},r=p(t,["config"]);return r!=null&&pde(r,e),e}function yde(t){const e={},r=p(t,["config"]);return r!=null&&mde(r,e),e}function vde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Wd(o))),m(e,["batchJobs"],a)}return e}function xde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>bv(o))),m(e,["batchJobs"],a)}return e}function bde(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],rde(a));const o=p(t,["functionCall"]);o!=null&&m(e,["functionCall"],nde(o));const l=p(t,["functionResponse"]);l!=null&&m(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&m(e,["inlineData"],Uue(c));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function wde(t){const e={},r=p(t,["category"]);if(r!=null&&m(e,["category"],r),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["threshold"]);return n!=null&&m(e,["threshold"],n),e}function _de(t){const e={},r=p(t,["functionCallingConfig"]);r!=null&&m(e,["functionCallingConfig"],ide(r));const n=p(t,["retrievalConfig"]);return n!=null&&m(e,["retrievalConfig"],n),e}function Sde(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const a=p(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const o=p(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],cde(l));const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],ude(c));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _i;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(_i||(_i={}));class ho{constructor(e,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(e,n,i)}init(e,r,n){var i,a;this.nameInternal=e,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r==null?void 0:r.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!n||Object.keys(n).length===0?o={config:{}}:typeof n=="object"?o=Object.assign({},n):o=n,o.config&&(o.config.pageToken=r.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nde extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new ho(_i.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(e){const r=hT(this.apiClient,e),n=r._url,i=xe("{model}:batchGenerateContent",n),l=r.batch.inputConfig.requests,c=l.requests,u=[];for(const d of c){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=h,f.request=g}u.push(f)}return l.requests=u,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?n.dest=`${a.slice(0,-6)}/dest`:n.dest=`${a}_dest_${i}`;else if(o)n.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=zue(this.apiClient,e);return l=xe("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>bv(d))}else{const u=hT(this.apiClient,e);return l=xe("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>Wd(d))}}async createEmbeddingsInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Kue(this.apiClient,e);return a=xe("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>Wd(c))}}async get(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=lde(this.apiClient,e);return l=xe("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>bv(d))}else{const u=sde(this.apiClient,e);return l=xe("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>Wd(d))}}async cancel(e){var r,n,i,a;let o="",l={};if(this.apiClient.isVertexAI()){const c=Bue(this.apiClient,e);o=xe("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}else{const c=Fue(this.apiClient,e);o=xe("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=yde(e);return l=xe("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=xde(d),h=new cT;return Object.assign(h,f),h})}else{const u=gde(e);return l=xe("batches",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=vde(d),h=new cT;return Object.assign(h,f),h})}}async delete(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Yue(this.apiClient,e);return l=xe("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Que(d))}else{const u=Jue(this.apiClient,e);return l=xe("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Xue(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kde(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function pT(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Kde(a))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function Ede(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&m(e,["ttl"],n);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const a=p(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let d=an(o);Array.isArray(d)&&(d=d.map(f=>pT(f))),m(e,["contents"],d)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&m(e,["systemInstruction"],pT(lr(l)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>Yde(f))),m(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],Jde(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Tde(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&m(e,["ttl"],n);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const a=p(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let f=an(o);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["contents"],f)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&m(e,["systemInstruction"],lr(l));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>Xde(h))),m(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&m(e,["encryption_spec","kmsKeyName"],d),r}function Ade(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["model"],PO(t,n));const i=p(e,["config"]);return i!=null&&Ede(i,r),r}function Cde(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["model"],PO(t,n));const i=p(e,["config"]);return i!=null&&Tde(i,r),r}function jde(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],ji(t,n)),r}function Pde(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],ji(t,n)),r}function Ide(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function Ode(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function Rde(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function Mde(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $de(t){const e={},r=p(t,["mode"]);r!=null&&m(e,["mode"],r);const n=p(t,["allowedFunctionNames"]);if(n!=null&&m(e,["allowedFunctionNames"],n),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Dde(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=p(t,["description"]);r!=null&&m(e,["description"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=p(t,["response"]);o!=null&&m(e,["response"],o);const l=p(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function Lde(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],ji(t,n)),r}function Ude(t,e){const r={},n=p(e,["name"]);return n!=null&&m(r,["_url","name"],ji(t,n)),r}function Fde(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function Bde(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function qde(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function Vde(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function Gde(t){const e={},r=p(t,["config"]);return r!=null&&qde(r,e),e}function Hde(t){const e={},r=p(t,["config"]);return r!=null&&Vde(r,e),e}function zde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["cachedContents"],a)}return e}function Wde(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["cachedContents"],a)}return e}function Kde(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],Rde(a));const o=p(t,["functionCall"]);o!=null&&m(e,["functionCall"],Mde(o));const l=p(t,["functionResponse"]);l!=null&&m(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&m(e,["inlineData"],kde(c));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Jde(t){const e={},r=p(t,["functionCallingConfig"]);r!=null&&m(e,["functionCallingConfig"],$de(r));const n=p(t,["retrievalConfig"]);return n!=null&&m(e,["retrievalConfig"],n),e}function Yde(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const a=p(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const o=p(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],Fde(l));const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],Bde(c));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Xde(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Dde(h))),m(e,["functionDeclarations"],f)}const n=p(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const a=p(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=p(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const l=p(t,["enterpriseWebSearch"]);l!=null&&m(e,["enterpriseWebSearch"],l);const c=p(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],c);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Qde(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&m(e,["ttl"],n);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),r}function Zde(t,e){const r={},n=p(t,["ttl"]);e!==void 0&&n!=null&&m(e,["ttl"],n);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),r}function efe(t,e){const r={},n=p(e,["name"]);n!=null&&m(r,["_url","name"],ji(t,n));const i=p(e,["config"]);return i!=null&&Qde(i,r),r}function tfe(t,e){const r={},n=p(e,["name"]);n!=null&&m(r,["_url","name"],ji(t,n));const i=p(e,["config"]);return i!=null&&Zde(i,r),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rfe extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new ho(_i.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Cde(this.apiClient,e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Ade(this.apiClient,e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Ude(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Lde(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Pde(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Ode(d),h=new sT;return Object.assign(h,f),h})}else{const u=jde(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Ide(d),h=new sT;return Object.assign(h,f),h})}}async update(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=tfe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=efe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Hde(e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Wde(d),h=new lT;return Object.assign(h,f),h})}else{const u=Gde(e);return l=xe("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=zde(d),h=new lT;return Object.assign(h,f),h})}}}function Lh(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function mT(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Me(t){return this instanceof Me?(this.v=t,this):new Me(t)}function Tn(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(b){return Promise.resolve(b).then(g,f)}}function l(g,b){n[g]&&(i[g]=function(y){return new Promise(function(v,x){a.push([g,y,v,x])>1||c(g,y)})},b&&(i[g]=b(i[g])))}function c(g,b){try{u(n[g](b))}catch(y){h(a[0][3],y)}}function u(g){g.value instanceof Me?Promise.resolve(g.value.v).then(d,f):h(a[0][2],g)}function d(g){c("next",g)}function f(g){c("throw",g)}function h(g,b){g(b),a.shift(),a.length&&c(a[0][0],a[0][1])}}function An(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof mT=="function"?mT(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(l,c){o=t[a](o),i(l,c,o.done,o.value)})}}function i(a,o,l,c){Promise.resolve(c).then(function(u){a({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nfe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const r=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return r===void 0?!1:GO(r)}function GO(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ife(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function gT(t){if(t===void 0||t.length===0)return[];const e=[],r=t.length;let n=0;for(;n<r;)if(t[n].role==="user")e.push(t[n]),n++;else{const i=[];let a=!0;for(;n<r&&t[n].role==="model";)i.push(t[n]),a&&!GO(t[n])&&(a=!1),n++;a?e.push(...i):e.pop()}return e}class afe{constructor(e,r){this.modelsModule=e,this.apiClient=r}create(e){return new ofe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ofe{constructor(e,r,n,i={},a=[]){this.apiClient=e,this.modelsModule=r,this.model=n,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),ife(a)}async sendMessage(e){var r;await this.sendPromise;const n=lr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var a,o,l;const c=await i,u=(o=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,d=c.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(l=d.slice(f))!==null&&l!==void 0?l:[]);const g=u?[u]:[];this.recordHistory(n,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var r;await this.sendPromise;const n=lr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=e.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,n)}getHistory(e=!1){const r=e?gT(this.history):this.history;return structuredClone(r)}processStreamResponse(e,r){return Tn(this,arguments,function*(){var i,a,o,l,c,u;const d=[];try{for(var f=!0,h=An(e),g;g=yield Me(h.next()),i=g.done,!i;f=!0){l=g.value,f=!1;const b=l;if(nfe(b)){const y=(u=(c=b.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;y!==void 0&&d.push(y)}yield yield Me(b)}}catch(b){a={error:b}}finally{try{!f&&!i&&(o=h.return)&&(yield Me(o.call(h)))}finally{if(a)throw a.error}}this.recordHistory(r,d)})}recordHistory(e,r,n){let i=[];r.length>0&&r.every(a=>a.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...gT(n)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sm extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,sm.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sfe(t){const e={},r=p(t,["file"]);return r!=null&&m(e,["file"],r),e}function lfe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function cfe(t){const e={},r=p(t,["name"]);return r!=null&&m(e,["_url","file"],DO(r)),e}function ufe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function dfe(t){const e={},r=p(t,["name"]);return r!=null&&m(e,["_url","file"],DO(r)),e}function ffe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function hfe(t){const e={},r=p(t,["config"]);return r!=null&&ffe(r,e),e}function pfe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mfe extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new ho(_i.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(r=>r)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=hfe(e);return a=xe("files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=pfe(c),d=new xue;return Object.assign(d,u),d})}}async createInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=sfe(e);return a=xe("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=lfe(c),d=new bue;return Object.assign(d,u),d})}}async get(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dfe(e);return a=xe("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=cfe(e);return a=xe("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=ufe(c),d=new wue;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kd(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function gfe(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Ife(a))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function yfe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function vfe(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xfe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=p(t,["description"]);r!=null&&m(e,["description"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=p(t,["response"]);o!=null&&m(e,["response"],o);const l=p(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function bfe(t){const e={},r=p(t,["modelSelectionConfig"]);r!=null&&m(e,["modelConfig"],r);const n=p(t,["responseJsonSchema"]);n!=null&&m(e,["responseJsonSchema"],n);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const a=p(t,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const o=p(t,["enableAffectiveDialog"]);o!=null&&m(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&m(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&m(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const b=p(t,["responseModalities"]);b!=null&&m(e,["responseModalities"],b);const y=p(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const v=p(t,["routingConfig"]);v!=null&&m(e,["routingConfig"],v);const x=p(t,["seed"]);x!=null&&m(e,["seed"],x);const _=p(t,["speechConfig"]);_!=null&&m(e,["speechConfig"],_);const w=p(t,["stopSequences"]);w!=null&&m(e,["stopSequences"],w);const k=p(t,["temperature"]);k!=null&&m(e,["temperature"],k);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const N=p(t,["topK"]);N!=null&&m(e,["topK"],N);const E=p(t,["topP"]);if(E!=null&&m(e,["topP"],E),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function wfe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function _fe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function Sfe(t,e){const r={},n=p(t,["generationConfig"]);e!==void 0&&n!=null&&m(e,["setup","generationConfig"],n);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const a=p(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=p(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Jb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&m(e,["setup","systemInstruction"],gfe(lr(b)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let N=fl(y);Array.isArray(N)&&(N=N.map(E=>Rfe(dl(E)))),m(e,["setup","tools"],N)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&m(e,["setup","sessionResumption"],Ofe(v));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","outputAudioTranscription"],_);const w=p(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&m(e,["setup","realtimeInputConfig"],w);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&m(e,["setup","contextWindowCompression"],k);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function Nfe(t,e){const r={},n=p(t,["generationConfig"]);e!==void 0&&n!=null&&m(e,["setup","generationConfig"],bfe(n));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const a=p(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=p(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Jb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&m(e,["setup","systemInstruction"],lr(b));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let E=fl(y);Array.isArray(E)&&(E=E.map(C=>Mfe(dl(C)))),m(e,["setup","tools"],E)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&m(e,["setup","sessionResumption"],v);const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","outputAudioTranscription"],_);const w=p(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&m(e,["setup","realtimeInputConfig"],w);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&m(e,["setup","contextWindowCompression"],k);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&m(e,["setup","proactivity"],S);const N=p(t,["explicitVadSignal"]);return e!==void 0&&N!=null&&m(e,["setup","explicitVadSignal"],N),r}function kfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["setup","model"],Ke(t,n));const i=p(e,["config"]);return i!=null&&m(r,["config"],Sfe(i,r)),r}function Efe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["setup","model"],Ke(t,n));const i=p(e,["config"]);return i!=null&&m(r,["config"],Nfe(i,r)),r}function Tfe(t){const e={},r=p(t,["musicGenerationConfig"]);return r!=null&&m(e,["musicGenerationConfig"],r),e}function Afe(t){const e={},r=p(t,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),m(e,["weightedPrompts"],n)}return e}function Cfe(t){const e={},r=p(t,["media"]);if(r!=null){let u=IO(r);Array.isArray(u)&&(u=u.map(d=>Kd(d))),m(e,["mediaChunks"],u)}const n=p(t,["audio"]);n!=null&&m(e,["audio"],Kd(RO(n)));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const a=p(t,["video"]);a!=null&&m(e,["video"],Kd(OO(a)));const o=p(t,["text"]);o!=null&&m(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&m(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&m(e,["activityEnd"],c),e}function jfe(t){const e={},r=p(t,["media"]);if(r!=null){let u=IO(r);Array.isArray(u)&&(u=u.map(d=>d)),m(e,["mediaChunks"],u)}const n=p(t,["audio"]);n!=null&&m(e,["audio"],RO(n));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const a=p(t,["video"]);a!=null&&m(e,["video"],OO(a));const o=p(t,["text"]);o!=null&&m(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&m(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&m(e,["activityEnd"],c),e}function Pfe(t){const e={},r=p(t,["setupComplete"]);r!=null&&m(e,["setupComplete"],r);const n=p(t,["serverContent"]);n!=null&&m(e,["serverContent"],n);const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const a=p(t,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],a);const o=p(t,["usageMetadata"]);o!=null&&m(e,["usageMetadata"],$fe(o));const l=p(t,["goAway"]);l!=null&&m(e,["goAway"],l);const c=p(t,["sessionResumptionUpdate"]);c!=null&&m(e,["sessionResumptionUpdate"],c);const u=p(t,["voiceActivityDetectionSignal"]);return u!=null&&m(e,["voiceActivityDetectionSignal"],u),e}function Ife(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],yfe(a));const o=p(t,["functionCall"]);o!=null&&m(e,["functionCall"],vfe(o));const l=p(t,["functionResponse"]);l!=null&&m(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&m(e,["inlineData"],Kd(c));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Ofe(t){const e={},r=p(t,["handle"]);if(r!=null&&m(e,["handle"],r),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Rfe(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const a=p(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const o=p(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],wfe(l));const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],_fe(c));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Mfe(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>xfe(h))),m(e,["functionDeclarations"],f)}const n=p(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const a=p(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=p(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const l=p(t,["enterpriseWebSearch"]);l!=null&&m(e,["enterpriseWebSearch"],l);const c=p(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],c);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function $fe(t){const e={},r=p(t,["promptTokenCount"]);r!=null&&m(e,["promptTokenCount"],r);const n=p(t,["cachedContentTokenCount"]);n!=null&&m(e,["cachedContentTokenCount"],n);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const o=p(t,["thoughtsTokenCount"]);o!=null&&m(e,["thoughtsTokenCount"],o);const l=p(t,["totalTokenCount"]);l!=null&&m(e,["totalTokenCount"],l);const c=p(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(b=>b)),m(e,["promptTokensDetails"],g)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(b=>b)),m(e,["cacheTokensDetails"],g)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(b=>b)),m(e,["responseTokensDetails"],g)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(b=>b)),m(e,["toolUsePromptTokensDetails"],g)}const h=p(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dfe(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function Lfe(t){const e={},r=p(t,["content"]);r!=null&&m(e,["content"],r);const n=p(t,["citationMetadata"]);n!=null&&m(e,["citationMetadata"],Ufe(n));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const a=p(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=p(t,["avgLogprobs"]);o!=null&&m(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&m(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&m(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Ufe(t){const e={},r=p(t,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),m(e,["citations"],n)}return e}function Ffe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["contents"]);if(i!=null){let a=an(i);Array.isArray(a)&&(a=a.map(o=>o)),m(r,["contents"],a)}return r}function Bfe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["tokensInfo"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),m(e,["tokensInfo"],i)}return e}function qfe(t){const e={},r=p(t,["values"]);r!=null&&m(e,["values"],r);const n=p(t,["statistics"]);return n!=null&&m(e,["statistics"],Vfe(n)),e}function Vfe(t){const e={},r=p(t,["truncated"]);r!=null&&m(e,["truncated"],r);const n=p(t,["token_count"]);return n!=null&&m(e,["tokenCount"],n),e}function lm(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Qhe(a))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function Gfe(t){const e={},r=p(t,["controlType"]);r!=null&&m(e,["controlType"],r);const n=p(t,["enableControlImageComputation"]);return n!=null&&m(e,["computeControl"],n),e}function Hfe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function zfe(t,e){const r={},n=p(t,["systemInstruction"]);e!==void 0&&n!=null&&m(e,["systemInstruction"],lr(n));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>KO(l))),m(e,["tools"],o)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&m(e,["generationConfig"],Dhe(a)),r}function Wfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["contents"]);if(i!=null){let o=an(i);Array.isArray(o)&&(o=o.map(l=>lm(l))),m(r,["contents"],o)}const a=p(e,["config"]);return a!=null&&Hfe(a),r}function Kfe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["contents"]);if(i!=null){let o=an(i);Array.isArray(o)&&(o=o.map(l=>l)),m(r,["contents"],o)}const a=p(e,["config"]);return a!=null&&zfe(a,r),r}function Jfe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["totalTokens"]);n!=null&&m(e,["totalTokens"],n);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function Yfe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["totalTokens"]);return n!=null&&m(e,["totalTokens"],n),e}function Xfe(t,e){const r={},n=p(e,["model"]);return n!=null&&m(r,["_url","name"],Ke(t,n)),r}function Qfe(t,e){const r={},n=p(e,["model"]);return n!=null&&m(r,["_url","name"],Ke(t,n)),r}function Zfe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function ehe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}function the(t,e){const r={},n=p(t,["outputGcsUri"]);e!==void 0&&n!=null&&m(e,["parameters","storageUri"],n);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&m(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const b=p(t,["outputMimeType"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","mimeType"],b);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const v=p(t,["addWatermark"]);e!==void 0&&v!=null&&m(e,["parameters","addWatermark"],v);const x=p(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const _=p(t,["editMode"]);e!==void 0&&_!=null&&m(e,["parameters","editMode"],_);const w=p(t,["baseSteps"]);return e!==void 0&&w!=null&&m(e,["parameters","editConfig","baseSteps"],w),r}function rhe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const a=p(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>ipe(c))),m(r,["instances[0]","referenceImages"],l)}const o=p(e,["config"]);return o!=null&&the(o,r),r}function nhe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>cm(a))),m(e,["generatedImages"],i)}return e}function ihe(t,e){const r={},n=p(t,["taskType"]);e!==void 0&&n!=null&&m(e,["requests[]","taskType"],n);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function ahe(t,e){const r={},n=p(t,["taskType"]);e!==void 0&&n!=null&&m(e,["instances[]","task_type"],n);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&m(e,["parameters","outputDimensionality"],a);const o=p(t,["mimeType"]);e!==void 0&&o!=null&&m(e,["instances[]","mimeType"],o);const l=p(t,["autoTruncate"]);return e!==void 0&&l!=null&&m(e,["parameters","autoTruncate"],l),r}function ohe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["contents"]);if(i!=null){let l=zb(t,i);Array.isArray(l)&&(l=l.map(c=>c)),m(r,["requests[]","content"],l)}const a=p(e,["config"]);a!=null&&ihe(a,r);const o=p(e,["model"]);return o!==void 0&&m(r,["requests[]","model"],Ke(t,o)),r}function she(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["contents"]);if(i!=null){let o=zb(t,i);Array.isArray(o)&&(o=o.map(l=>l)),m(r,["instances[]","content"],o)}const a=p(e,["config"]);return a!=null&&ahe(a,r),r}function lhe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["embeddings"],a)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function che(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions[]","embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>qfe(o))),m(e,["embeddings"],a)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function uhe(t){const e={},r=p(t,["endpoint"]);r!=null&&m(e,["name"],r);const n=p(t,["deployedModelId"]);return n!=null&&m(e,["deployedModelId"],n),e}function dhe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function fhe(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hhe(t){const e={},r=p(t,["mode"]);r!=null&&m(e,["mode"],r);const n=p(t,["allowedFunctionNames"]);if(n!=null&&m(e,["allowedFunctionNames"],n),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function phe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=p(t,["description"]);r!=null&&m(e,["description"],r);const n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=p(t,["response"]);o!=null&&m(e,["response"],o);const l=p(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function mhe(t,e,r){const n={},i=p(e,["systemInstruction"]);r!==void 0&&i!=null&&m(r,["systemInstruction"],lm(lr(i)));const a=p(e,["temperature"]);a!=null&&m(n,["temperature"],a);const o=p(e,["topP"]);o!=null&&m(n,["topP"],o);const l=p(e,["topK"]);l!=null&&m(n,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&m(n,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&m(n,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(n,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(n,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(n,["presencePenalty"],g);const b=p(e,["frequencyPenalty"]);b!=null&&m(n,["frequencyPenalty"],b);const y=p(e,["seed"]);y!=null&&m(n,["seed"],y);const v=p(e,["responseMimeType"]);v!=null&&m(n,["responseMimeType"],v);const x=p(e,["responseSchema"]);x!=null&&m(n,["responseSchema"],Wb(x));const _=p(e,["responseJsonSchema"]);if(_!=null&&m(n,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=p(e,["safetySettings"]);if(r!==void 0&&w!=null){let O=w;Array.isArray(O)&&(O=O.map(R=>ape(R))),m(r,["safetySettings"],O)}const k=p(e,["tools"]);if(r!==void 0&&k!=null){let O=fl(k);Array.isArray(O)&&(O=O.map(R=>fpe(dl(R)))),m(r,["tools"],O)}const S=p(e,["toolConfig"]);if(r!==void 0&&S!=null&&m(r,["toolConfig"],dpe(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=p(e,["cachedContent"]);r!==void 0&&N!=null&&m(r,["cachedContent"],ji(t,N));const E=p(e,["responseModalities"]);E!=null&&m(n,["responseModalities"],E);const C=p(e,["mediaResolution"]);C!=null&&m(n,["mediaResolution"],C);const A=p(e,["speechConfig"]);if(A!=null&&m(n,["speechConfig"],Kb(A)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=p(e,["thinkingConfig"]);I!=null&&m(n,["thinkingConfig"],I);const $=p(e,["imageConfig"]);$!=null&&m(n,["imageConfig"],qhe($));const U=p(e,["enableEnhancedCivicAnswers"]);return U!=null&&m(n,["enableEnhancedCivicAnswers"],U),n}function ghe(t,e,r){const n={},i=p(e,["systemInstruction"]);r!==void 0&&i!=null&&m(r,["systemInstruction"],lr(i));const a=p(e,["temperature"]);a!=null&&m(n,["temperature"],a);const o=p(e,["topP"]);o!=null&&m(n,["topP"],o);const l=p(e,["topK"]);l!=null&&m(n,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&m(n,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&m(n,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(n,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(n,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(n,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(n,["presencePenalty"],g);const b=p(e,["frequencyPenalty"]);b!=null&&m(n,["frequencyPenalty"],b);const y=p(e,["seed"]);y!=null&&m(n,["seed"],y);const v=p(e,["responseMimeType"]);v!=null&&m(n,["responseMimeType"],v);const x=p(e,["responseSchema"]);x!=null&&m(n,["responseSchema"],Wb(x));const _=p(e,["responseJsonSchema"]);_!=null&&m(n,["responseJsonSchema"],_);const w=p(e,["routingConfig"]);w!=null&&m(n,["routingConfig"],w);const k=p(e,["modelSelectionConfig"]);k!=null&&m(n,["modelConfig"],k);const S=p(e,["safetySettings"]);if(r!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(q=>q)),m(r,["safetySettings"],D)}const N=p(e,["tools"]);if(r!==void 0&&N!=null){let D=fl(N);Array.isArray(D)&&(D=D.map(q=>KO(dl(q)))),m(r,["tools"],D)}const E=p(e,["toolConfig"]);r!==void 0&&E!=null&&m(r,["toolConfig"],E);const C=p(e,["labels"]);r!==void 0&&C!=null&&m(r,["labels"],C);const A=p(e,["cachedContent"]);r!==void 0&&A!=null&&m(r,["cachedContent"],ji(t,A));const I=p(e,["responseModalities"]);I!=null&&m(n,["responseModalities"],I);const $=p(e,["mediaResolution"]);$!=null&&m(n,["mediaResolution"],$);const U=p(e,["speechConfig"]);U!=null&&m(n,["speechConfig"],Kb(U));const O=p(e,["audioTimestamp"]);O!=null&&m(n,["audioTimestamp"],O);const R=p(e,["thinkingConfig"]);R!=null&&m(n,["thinkingConfig"],R);const P=p(e,["imageConfig"]);if(P!=null&&m(n,["imageConfig"],Vhe(P)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function yT(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["contents"]);if(i!=null){let o=an(i);Array.isArray(o)&&(o=o.map(l=>lm(l))),m(r,["contents"],o)}const a=p(e,["config"]);return a!=null&&m(r,["generationConfig"],mhe(t,a,r)),r}function vT(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["contents"]);if(i!=null){let o=an(i);Array.isArray(o)&&(o=o.map(l=>l)),m(r,["contents"],o)}const a=p(e,["config"]);return a!=null&&m(r,["generationConfig"],ghe(t,a,r)),r}function xT(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>Lfe(u))),m(e,["candidates"],c)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const o=p(t,["responseId"]);o!=null&&m(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function bT(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>d)),m(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const a=p(t,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&m(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function yhe(t,e){const r={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=p(t,["numberOfImages"]);e!==void 0&&n!=null&&m(e,["parameters","sampleCount"],n);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&m(e,["parameters","includeSafetyAttributes"],c);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&m(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=p(t,["imageSize"]);if(e!==void 0&&g!=null&&m(e,["parameters","sampleImageSize"],g),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function vhe(t,e){const r={},n=p(t,["outputGcsUri"]);e!==void 0&&n!=null&&m(e,["parameters","storageUri"],n);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&m(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const b=p(t,["outputMimeType"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","mimeType"],b);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const v=p(t,["addWatermark"]);e!==void 0&&v!=null&&m(e,["parameters","addWatermark"],v);const x=p(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const _=p(t,["imageSize"]);e!==void 0&&_!=null&&m(e,["parameters","sampleImageSize"],_);const w=p(t,["enhancePrompt"]);return e!==void 0&&w!=null&&m(e,["parameters","enhancePrompt"],w),r}function xhe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const a=p(e,["config"]);return a!=null&&yhe(a,r),r}function bhe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const a=p(e,["config"]);return a!=null&&vhe(a,r),r}function whe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Ohe(o))),m(e,["generatedImages"],a)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],zO(i)),e}function _he(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>cm(o))),m(e,["generatedImages"],a)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],WO(i)),e}function She(t,e){const r={},n=p(t,["numberOfVideos"]);if(e!==void 0&&n!=null&&m(e,["parameters","sampleCount"],n),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const o=p(t,["resolution"]);e!==void 0&&o!=null&&m(e,["parameters","resolution"],o);const l=p(t,["personGeneration"]);if(e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&m(e,["parameters","negativePrompt"],c);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&m(e,["instances[0]","lastFrame"],um(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>kpe(g))),m(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Nhe(t,e){const r={},n=p(t,["numberOfVideos"]);e!==void 0&&n!=null&&m(e,["parameters","sampleCount"],n);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const a=p(t,["fps"]);e!==void 0&&a!=null&&m(e,["parameters","fps"],a);const o=p(t,["durationSeconds"]);e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const u=p(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&m(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const g=p(t,["enhancePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","enhancePrompt"],g);const b=p(t,["generateAudio"]);e!==void 0&&b!=null&&m(e,["parameters","generateAudio"],b);const y=p(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],In(y));const v=p(t,["referenceImages"]);if(e!==void 0&&v!=null){let w=v;Array.isArray(w)&&(w=w.map(k=>Epe(k))),m(e,["instances[0]","referenceImages"],w)}const x=p(t,["mask"]);e!==void 0&&x!=null&&m(e,["instances[0]","mask"],Npe(x));const _=p(t,["compressionQuality"]);return e!==void 0&&_!=null&&m(e,["parameters","compressionQuality"],_),r}function khe(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response","generateVideoResponse"]);return o!=null&&m(e,["response"],Che(o)),e}function Ehe(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response"]);return o!=null&&m(e,["response"],jhe(o)),e}function The(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const a=p(e,["image"]);a!=null&&m(r,["instances[0]","image"],um(a));const o=p(e,["video"]);o!=null&&m(r,["instances[0]","video"],JO(o));const l=p(e,["source"]);l!=null&&Phe(l,r);const c=p(e,["config"]);return c!=null&&She(c,r),r}function Ahe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["prompt"]);i!=null&&m(r,["instances[0]","prompt"],i);const a=p(e,["image"]);a!=null&&m(r,["instances[0]","image"],In(a));const o=p(e,["video"]);o!=null&&m(r,["instances[0]","video"],YO(o));const l=p(e,["source"]);l!=null&&Ihe(l,r);const c=p(e,["config"]);return c!=null&&Nhe(c,r),r}function Che(t){const e={},r=p(t,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Mhe(o))),m(e,["generatedVideos"],a)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&m(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function jhe(t){const e={},r=p(t,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>$he(o))),m(e,["generatedVideos"],a)}const n=p(t,["raiMediaFilteredCount"]);n!=null&&m(e,["raiMediaFilteredCount"],n);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Phe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&m(e,["instances[0]","prompt"],n);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],um(i));const a=p(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],JO(a)),r}function Ihe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&m(e,["instances[0]","prompt"],n);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],In(i));const a=p(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],YO(a)),r}function Ohe(t){const e={},r=p(t,["_self"]);r!=null&&m(e,["image"],Ghe(r));const n=p(t,["raiFilteredReason"]);n!=null&&m(e,["raiFilteredReason"],n);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],zO(i)),e}function cm(t){const e={},r=p(t,["_self"]);r!=null&&m(e,["image"],HO(r));const n=p(t,["raiFilteredReason"]);n!=null&&m(e,["raiFilteredReason"],n);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],WO(i));const a=p(t,["prompt"]);return a!=null&&m(e,["enhancedPrompt"],a),e}function Rhe(t){const e={},r=p(t,["_self"]);r!=null&&m(e,["mask"],HO(r));const n=p(t,["labels"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),m(e,["labels"],i)}return e}function Mhe(t){const e={},r=p(t,["video"]);return r!=null&&m(e,["video"],_pe(r)),e}function $he(t){const e={},r=p(t,["_self"]);return r!=null&&m(e,["video"],Spe(r)),e}function Dhe(t){const e={},r=p(t,["modelSelectionConfig"]);r!=null&&m(e,["modelConfig"],r);const n=p(t,["responseJsonSchema"]);n!=null&&m(e,["responseJsonSchema"],n);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const a=p(t,["candidateCount"]);a!=null&&m(e,["candidateCount"],a);const o=p(t,["enableAffectiveDialog"]);o!=null&&m(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&m(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&m(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const b=p(t,["responseModalities"]);b!=null&&m(e,["responseModalities"],b);const y=p(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const v=p(t,["routingConfig"]);v!=null&&m(e,["routingConfig"],v);const x=p(t,["seed"]);x!=null&&m(e,["seed"],x);const _=p(t,["speechConfig"]);_!=null&&m(e,["speechConfig"],_);const w=p(t,["stopSequences"]);w!=null&&m(e,["stopSequences"],w);const k=p(t,["temperature"]);k!=null&&m(e,["temperature"],k);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const N=p(t,["topK"]);N!=null&&m(e,["topK"],N);const E=p(t,["topP"]);if(E!=null&&m(e,["topP"],E),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Lhe(t,e){const r={},n=p(e,["model"]);return n!=null&&m(r,["_url","name"],Ke(t,n)),r}function Uhe(t,e){const r={},n=p(e,["model"]);return n!=null&&m(r,["_url","name"],Ke(t,n)),r}function Fhe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function Bhe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function qhe(t){const e={},r=p(t,["aspectRatio"]);r!=null&&m(e,["aspectRatio"],r);const n=p(t,["imageSize"]);if(n!=null&&m(e,["imageSize"],n),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Vhe(t){const e={},r=p(t,["aspectRatio"]);r!=null&&m(e,["aspectRatio"],r);const n=p(t,["imageSize"]);n!=null&&m(e,["imageSize"],n);const i=p(t,["outputMimeType"]);i!=null&&m(e,["imageOutputOptions","mimeType"],i);const a=p(t,["outputCompressionQuality"]);return a!=null&&m(e,["imageOutputOptions","compressionQuality"],a),e}function Ghe(t){const e={},r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],ha(r));const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function HO(t){const e={},r=p(t,["gcsUri"]);r!=null&&m(e,["gcsUri"],r);const n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],ha(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function um(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],ha(r));const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function In(t){const e={},r=p(t,["gcsUri"]);r!=null&&m(e,["gcsUri"],r);const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],ha(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Hhe(t,e,r){const n={},i=p(e,["pageSize"]);r!==void 0&&i!=null&&m(r,["_query","pageSize"],i);const a=p(e,["pageToken"]);r!==void 0&&a!=null&&m(r,["_query","pageToken"],a);const o=p(e,["filter"]);r!==void 0&&o!=null&&m(r,["_query","filter"],o);const l=p(e,["queryBase"]);return r!==void 0&&l!=null&&m(r,["_url","models_url"],LO(t,l)),n}function zhe(t,e,r){const n={},i=p(e,["pageSize"]);r!==void 0&&i!=null&&m(r,["_query","pageSize"],i);const a=p(e,["pageToken"]);r!==void 0&&a!=null&&m(r,["_query","pageToken"],a);const o=p(e,["filter"]);r!==void 0&&o!=null&&m(r,["_query","filter"],o);const l=p(e,["queryBase"]);return r!==void 0&&l!=null&&m(r,["_url","models_url"],LO(t,l)),n}function Whe(t,e){const r={},n=p(e,["config"]);return n!=null&&Hhe(t,n,r),r}function Khe(t,e){const r={},n=p(e,["config"]);return n!=null&&zhe(t,n,r),r}function Jhe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["_self"]);if(i!=null){let a=UO(i);Array.isArray(a)&&(a=a.map(o=>wv(o))),m(e,["models"],a)}return e}function Yhe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["_self"]);if(i!=null){let a=UO(i);Array.isArray(a)&&(a=a.map(o=>_v(o))),m(e,["models"],a)}return e}function Xhe(t){const e={},r=p(t,["maskMode"]);r!=null&&m(e,["maskMode"],r);const n=p(t,["segmentationClasses"]);n!=null&&m(e,["maskClasses"],n);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function wv(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const a=p(t,["version"]);a!=null&&m(e,["version"],a);const o=p(t,["_self"]);o!=null&&m(e,["tunedModelInfo"],hpe(o));const l=p(t,["inputTokenLimit"]);l!=null&&m(e,["inputTokenLimit"],l);const c=p(t,["outputTokenLimit"]);c!=null&&m(e,["outputTokenLimit"],c);const u=p(t,["supportedGenerationMethods"]);u!=null&&m(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&m(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&m(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&m(e,["topP"],h);const g=p(t,["topK"]);g!=null&&m(e,["topK"],g);const b=p(t,["thinking"]);return b!=null&&m(e,["thinking"],b),e}function _v(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const a=p(t,["versionId"]);a!=null&&m(e,["version"],a);const o=p(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>uhe(h))),m(e,["endpoints"],f)}const l=p(t,["labels"]);l!=null&&m(e,["labels"],l);const c=p(t,["_self"]);c!=null&&m(e,["tunedModelInfo"],ppe(c));const u=p(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),m(e,["checkpoints"],f)}return e}function Qhe(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],dhe(a));const o=p(t,["functionCall"]);o!=null&&m(e,["functionCall"],fhe(o));const l=p(t,["functionResponse"]);l!=null&&m(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&m(e,["inlineData"],Dfe(c));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Zhe(t){const e={},r=p(t,["productImage"]);return r!=null&&m(e,["image"],In(r)),e}function epe(t,e){const r={},n=p(t,["numberOfImages"]);e!==void 0&&n!=null&&m(e,["parameters","sampleCount"],n);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const o=p(t,["seed"]);e!==void 0&&o!=null&&m(e,["parameters","seed"],o);const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&m(e,["parameters","safetySetting"],l);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const g=p(t,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),r}function tpe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["source"]);i!=null&&npe(i,r);const a=p(e,["config"]);return a!=null&&epe(a,r),r}function rpe(t){const e={},r=p(t,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>cm(i))),m(e,["generatedImages"],n)}return e}function npe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&m(e,["instances[0]","prompt"],n);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],In(i));const a=p(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>Zhe(l))),m(e,["instances[0]","productImages"],o)}return r}function ipe(t){const e={},r=p(t,["referenceImage"]);r!=null&&m(e,["referenceImage"],In(r));const n=p(t,["referenceId"]);n!=null&&m(e,["referenceId"],n);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const a=p(t,["maskImageConfig"]);a!=null&&m(e,["maskImageConfig"],Xhe(a));const o=p(t,["controlImageConfig"]);o!=null&&m(e,["controlImageConfig"],Gfe(o));const l=p(t,["styleImageConfig"]);l!=null&&m(e,["styleImageConfig"],l);const c=p(t,["subjectImageConfig"]);return c!=null&&m(e,["subjectImageConfig"],c),e}function zO(t){const e={},r=p(t,["safetyAttributes","categories"]);r!=null&&m(e,["categories"],r);const n=p(t,["safetyAttributes","scores"]);n!=null&&m(e,["scores"],n);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function WO(t){const e={},r=p(t,["safetyAttributes","categories"]);r!=null&&m(e,["categories"],r);const n=p(t,["safetyAttributes","scores"]);n!=null&&m(e,["scores"],n);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function ape(t){const e={},r=p(t,["category"]);if(r!=null&&m(e,["category"],r),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["threshold"]);return n!=null&&m(e,["threshold"],n),e}function ope(t){const e={},r=p(t,["image"]);return r!=null&&m(e,["image"],In(r)),e}function spe(t,e){const r={},n=p(t,["mode"]);e!==void 0&&n!=null&&m(e,["parameters","mode"],n);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const a=p(t,["confidenceThreshold"]);e!==void 0&&a!=null&&m(e,["parameters","confidenceThreshold"],a);const o=p(t,["maskDilation"]);e!==void 0&&o!=null&&m(e,["parameters","maskDilation"],o);const l=p(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&m(e,["parameters","binaryColorThreshold"],l);const c=p(t,["labels"]);return e!==void 0&&c!=null&&m(e,["labels"],c),r}function lpe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["source"]);i!=null&&upe(i,r);const a=p(e,["config"]);return a!=null&&spe(a,r),r}function cpe(t){const e={},r=p(t,["predictions"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>Rhe(i))),m(e,["generatedMasks"],n)}return e}function upe(t,e){const r={},n=p(t,["prompt"]);e!==void 0&&n!=null&&m(e,["instances[0]","prompt"],n);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],In(i));const a=p(t,["scribbleImage"]);return e!==void 0&&a!=null&&m(e,["instances[0]","scribble"],ope(a)),r}function dpe(t){const e={},r=p(t,["functionCallingConfig"]);r!=null&&m(e,["functionCallingConfig"],hhe(r));const n=p(t,["retrievalConfig"]);return n!=null&&m(e,["retrievalConfig"],n),e}function fpe(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const a=p(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const o=p(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],Fhe(l));const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],Bhe(c));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function KO(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>phe(h))),m(e,["functionDeclarations"],f)}const n=p(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const a=p(t,["computerUse"]);if(a!=null&&m(e,["computerUse"],a),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=p(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const l=p(t,["enterpriseWebSearch"]);l!=null&&m(e,["enterpriseWebSearch"],l);const c=p(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],c);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function hpe(t){const e={},r=p(t,["baseModel"]);r!=null&&m(e,["baseModel"],r);const n=p(t,["createTime"]);n!=null&&m(e,["createTime"],n);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function ppe(t){const e={},r=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&m(e,["baseModel"],r);const n=p(t,["createTime"]);n!=null&&m(e,["createTime"],n);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function mpe(t,e){const r={},n=p(t,["displayName"]);e!==void 0&&n!=null&&m(e,["displayName"],n);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),r}function gpe(t,e){const r={},n=p(t,["displayName"]);e!==void 0&&n!=null&&m(e,["displayName"],n);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),r}function ype(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","name"],Ke(t,n));const i=p(e,["config"]);return i!=null&&mpe(i,r),r}function vpe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["config"]);return i!=null&&gpe(i,r),r}function xpe(t,e){const r={},n=p(t,["outputGcsUri"]);e!==void 0&&n!=null&&m(e,["parameters","storageUri"],n);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a);const o=p(t,["includeRaiReason"]);e!==void 0&&o!=null&&m(e,["parameters","includeRaiReason"],o);const l=p(t,["outputMimeType"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","mimeType"],l);const c=p(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&m(e,["parameters","outputOptions","compressionQuality"],c);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const g=p(t,["mode"]);return e!==void 0&&g!=null&&m(e,["parameters","mode"],g),r}function bpe(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["_url","model"],Ke(t,n));const i=p(e,["image"]);i!=null&&m(r,["instances[0]","image"],In(i));const a=p(e,["upscaleFactor"]);a!=null&&m(r,["parameters","upscaleConfig","upscaleFactor"],a);const o=p(e,["config"]);return o!=null&&xpe(o,r),r}function wpe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>cm(a))),m(e,["generatedImages"],i)}return e}function _pe(t){const e={},r=p(t,["uri"]);r!=null&&m(e,["uri"],r);const n=p(t,["encodedVideo"]);n!=null&&m(e,["videoBytes"],ha(n));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function Spe(t){const e={},r=p(t,["gcsUri"]);r!=null&&m(e,["uri"],r);const n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["videoBytes"],ha(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Npe(t){const e={},r=p(t,["image"]);r!=null&&m(e,["_self"],In(r));const n=p(t,["maskMode"]);return n!=null&&m(e,["maskMode"],n),e}function kpe(t){const e={},r=p(t,["image"]);r!=null&&m(e,["image"],um(r));const n=p(t,["referenceType"]);return n!=null&&m(e,["referenceType"],n),e}function Epe(t){const e={},r=p(t,["image"]);r!=null&&m(e,["image"],In(r));const n=p(t,["referenceType"]);return n!=null&&m(e,["referenceType"],n),e}function JO(t){const e={},r=p(t,["uri"]);r!=null&&m(e,["uri"],r);const n=p(t,["videoBytes"]);n!=null&&m(e,["encodedVideo"],ha(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function YO(t){const e={},r=p(t,["uri"]);r!=null&&m(e,["gcsUri"],r);const n=p(t,["videoBytes"]);n!=null&&m(e,["bytesBase64Encoded"],ha(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tpe(t,e){const r={},n=p(t,["displayName"]);return e!==void 0&&n!=null&&m(e,["displayName"],n),r}function Ape(t){const e={},r=p(t,["config"]);return r!=null&&Tpe(r,e),e}function Cpe(t,e){const r={},n=p(t,["force"]);return e!==void 0&&n!=null&&m(e,["_query","force"],n),r}function jpe(t){const e={},r=p(t,["name"]);r!=null&&m(e,["_url","name"],r);const n=p(t,["config"]);return n!=null&&Cpe(n,e),e}function Ppe(t){const e={},r=p(t,["name"]);return r!=null&&m(e,["_url","name"],r),e}function Ipe(t,e){const r={},n=p(t,["customMetadata"]);if(e!==void 0&&n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["customMetadata"],a)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),r}function Ope(t){const e={},r=p(t,["name"]);r!=null&&m(e,["name"],r);const n=p(t,["metadata"]);n!=null&&m(e,["metadata"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response"]);return o!=null&&m(e,["response"],Mpe(o)),e}function Rpe(t){const e={},r=p(t,["fileSearchStoreName"]);r!=null&&m(e,["_url","file_search_store_name"],r);const n=p(t,["fileName"]);n!=null&&m(e,["fileName"],n);const i=p(t,["config"]);return i!=null&&Ipe(i,e),e}function Mpe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["parent"]);n!=null&&m(e,["parent"],n);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function $pe(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function Dpe(t){const e={},r=p(t,["config"]);return r!=null&&$pe(r,e),e}function Lpe(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["fileSearchStores"],a)}return e}function XO(t,e){const r={},n=p(t,["mimeType"]);e!==void 0&&n!=null&&m(e,["mimeType"],n);const i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const a=p(t,["customMetadata"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),m(e,["customMetadata"],l)}const o=p(t,["chunkingConfig"]);return e!==void 0&&o!=null&&m(e,["chunkingConfig"],o),r}function Upe(t){const e={},r=p(t,["fileSearchStoreName"]);r!=null&&m(e,["_url","file_search_store_name"],r);const n=p(t,["config"]);return n!=null&&XO(n,e),e}function Fpe(t){const e={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(e,["sdkHttpResponse"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bpe="Content-Type",qpe="X-Server-Timeout",Vpe="User-Agent",Sv="x-goog-api-client",Gpe="1.34.0",Hpe=`google-genai-sdk/${Gpe}`,zpe="v1beta1",Wpe="v1beta";class Kpe{constructor(e){var r,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:zpe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Wpe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),r=new URL(e);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,r,n);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,r){const n=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(r))typeof a=="object"?n[i]=Object.assign(Object.assign({},n[i]),a):a!==void 0&&(n[i]=a);return n}async requestStream(e){let r=this.clientOptions.httpOptions;e.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,r,n,i){if(r&&r.timeout||i){const a=new AbortController,o=a.signal;if(r.timeout&&(r==null?void 0:r.timeout)>0){const l=setTimeout(()=>a.abort(),r.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=o}return r&&r.extraBody!==null&&Jpe(e,r.extraBody),e.headers=await this.getHeadersInternal(r,n),e}async unaryApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await wT(i),new vv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,r,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await wT(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Tn(this,arguments,function*(){var n;const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield Me(i.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=a.decode(d,{stream:!0});try{const b=JSON.parse(f);if("error"in b){const y=JSON.parse(JSON.stringify(b.error)),v=y.status,x=y.code,_=`got status: ${v}. ${JSON.stringify(b)}`;if(x>=400&&x<600)throw new sm({message:_,status:x})}}catch(b){if(b.name==="ApiError")throw b}o+=f;let h=-1,g=0;for(;;){h=-1,g=0;for(const v of c){const x=o.indexOf(v);x!==-1&&(h===-1||x<h)&&(h=x,g=v.length)}if(h===-1)break;const b=o.substring(0,h);o=o.substring(h+g);const y=b.trim();if(y.startsWith(l)){const v=y.substring(l.length).trim();try{const x=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Me(new vv(x))}catch(x){throw new Error(`exception parsing stream chunk ${v}. ${x}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,r){return fetch(e,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},r=Hpe+" "+this.clientOptions.userAgentExtra;return e[Vpe]=r,e[Sv]=r,e[Bpe]="application/json",e}async getHeadersInternal(e,r){const n=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))n.append(i,a);e.timeout&&e.timeout>0&&n.append(qpe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(e){var r;let n="";return typeof e=="string"&&(n=e.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(e,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const l=(n=r==null?void 0:r.mimeType)!==null&&n!==void 0?n:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c={file:i},u=this.getFileName(e),d=xe("upload/v1beta/files",c._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,c,r==null?void 0:r.httpOptions);return a.upload(e,f,this)}async uploadFileToFileSearchStore(e,r,n){var i;const a=this.clientOptions.uploader,o=await a.stat(r),l=String(o.size),c=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(r),f={};n!=null&&XO(n,f);const h=await this.fetchUploadUrl(u,l,c,d,f,n==null?void 0:n.httpOptions);return a.uploadToFileSearchStore(r,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,r,n,i,a,o){var l;let c={};o?c=o:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(l=u==null?void 0:u.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function wT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const r=t.status;let n;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?n=await t.json():n={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new sm({message:i,status:r}):new Error(i)}}function Jpe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))r=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(a,o){const l=Object.assign({},a);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const u=o[c],d=l[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?l[c]=n(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),l[c]=u)}return l}const i=n(r,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ype="mcp_used/unknown";let Xpe=!1;function QO(t){for(const e of t)if(Qpe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Xpe}function ZO(t){var e;const r=(e=t[Sv])!==null&&e!==void 0?e:"";t[Sv]=(r+` ${Ype}`).trimStart()}function Qpe(t){return t!==null&&typeof t=="object"&&t instanceof Yb}function Zpe(t){return Tn(this,arguments,function*(r,n=100){let i,a=0;for(;a<n;){const o=yield Me(r.listTools({cursor:i}));for(const l of o.tools)yield yield Me(l),a++;if(!o.nextCursor)break;i=o.nextCursor}})}class Yb{constructor(e=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=r}static create(e,r){return new Yb(e,r)}async initialize(){var e,r,n,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const d of this.mcpClients)try{for(var l=!0,c=(r=void 0,An(Zpe(d))),u;u=await c.next(),e=u.done,!e;l=!0){i=u.value,l=!1;const f=i;o.push(f);const h=f.name;if(a[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);a[h]=d}}catch(f){r={error:f}}finally{try{!l&&!e&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Pue(this.mcpTools,this.config)}async callTool(e){await this.initialize();const r=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:n.name,arguments:n.args},void 0,a);r.push({functionResponse:{name:n.name,response:o.isError?{error:o}:o}})}return r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function eme(t,e,r){const n=new Sue;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),e(n)}class tme{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n}async connect(e){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=ime(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let u=()=>{};const d=new Promise(w=>{u=w}),f=e.callbacks,h=function(){u({})},g=this.apiClient,b={onopen:h,onmessage:w=>{eme(g,f.onmessage,w)},onerror:(r=f==null?void 0:f.onerror)!==null&&r!==void 0?r:function(w){},onclose:(n=f==null?void 0:f.onclose)!==null&&n!==void 0?n:function(w){}},y=this.webSocketFactory.create(c,nme(o),b);y.connect(),await d;const _={setup:{model:Ke(this.apiClient,e.model)}};return y.send(JSON.stringify(_)),new rme(y,this.apiClient)}}class rme{constructor(e,r){this.conn=e,this.apiClient=r}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=Afe(e);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const r=Tfe(e);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const r={playbackControl:e};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Jo.PLAY)}pause(){this.sendPlaybackControl(Jo.PAUSE)}stop(){this.sendPlaybackControl(Jo.STOP)}resetContext(){this.sendPlaybackControl(Jo.RESET_CONTEXT)}close(){this.conn.close()}}function nme(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function ime(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ame="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ome(t,e,r){const n=new _ue;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=Pfe(a);Object.assign(n,o)}else Object.assign(n,a);e(n)}class sme{constructor(e,r,n){this.apiClient=e,this.auth=r,this.webSocketFactory=n,this.music=new tme(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var r,n,i,a,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&QO(e.config.tools)&&ZO(f);const h=dme(f);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const A=this.apiClient.getApiKey();let I="BidiGenerateContent",$="key";A!=null&&A.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",$="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${I}?${$}=${A}`}let g=()=>{};const b=new Promise(A=>{g=A}),y=e.callbacks,v=function(){var A;(A=y==null?void 0:y.onopen)===null||A===void 0||A.call(y),g({})},x=this.apiClient,_={onopen:v,onmessage:A=>{ome(x,y.onmessage,A)},onerror:(r=y==null?void 0:y.onerror)!==null&&r!==void 0?r:function(A){},onclose:(n=y==null?void 0:y.onclose)!==null&&n!==void 0?n:function(A){}},w=this.webSocketFactory.create(d,ume(h),_);w.connect(),await b;let k=Ke(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const A=this.apiClient.getProject(),I=this.apiClient.getLocation();k=`projects/${A}/locations/${I}/`+k}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Mh.AUDIO]}:e.config.responseModalities=[Mh.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],E=[];for(const A of N)if(this.isCallableTool(A)){const I=A;E.push(await I.tool())}else E.push(A);E.length>0&&(e.config.tools=E);const C={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=Efe(this.apiClient,C):S=kfe(this.apiClient,C),delete S.config,w.send(JSON.stringify(S)),new cme(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const lme={turnComplete:!0};class cme{constructor(e,r){this.conn=e,this.apiClient=r}tLiveClientContent(e,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=an(r.turns),e.isVertexAI()||(n=n.map(i=>lm(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(e,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(ame)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},lme),e);const r=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(r))}sendRealtimeInput(e){let r={};this.apiClient.isVertexAI()?r={realtimeInput:jfe(e)}:r={realtimeInput:Cfe(e)},this.conn.send(JSON.stringify(r))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function ume(t){const e={};return t.forEach((r,n)=>{e[n]=r}),e}function dme(t){const e=new Headers;for(const[r,n]of Object.entries(t))e.append(r,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _T=10;function ST(t){var e,r,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(r=t==null?void 0:t.tools)!==null&&r!==void 0?r:[])if(cs(o)){i=!0;break}if(!i)return!0;const a=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function cs(t){return"callTool"in t&&typeof t.callTool=="function"}function fme(t){var e,r,n;return(n=(r=(e=t.config)===null||e===void 0?void 0:e.tools)===null||r===void 0?void 0:r.some(i=>cs(i)))!==null&&n!==void 0?n:!1}function NT(t){var e;const r=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((n,i)=>{if(cs(n))return;const a=n;a.functionDeclarations&&a.functionDeclarations.length>0&&r.push(i)}),r}function kT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hme extends Ci{constructor(e){super(),this.apiClient=e,this.generateContent=async r=>{var n,i,a,o,l;const c=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!fme(r)||ST(r.config))return await this.generateContentInternal(c);const u=NT(r);if(u.length>0){const y=u.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let d,f;const h=an(c.contents),g=(a=(i=(n=c.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:_T;let b=0;for(;b<g&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const y=d.candidates[0].content,v=[];for(const x of(l=(o=r.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(cs(x)){const w=await x.callTool(d.functionCalls);v.push(...w)}b++,f={role:"user",parts:v},c.contents=an(c.contents),c.contents.push(y),c.contents.push(f),kT(c.config)&&(h.push(y),h.push(f))}return kT(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async r=>{var n,i,a,o,l;if(this.maybeMoveToResponseJsonSchem(r),ST(r.config)){const f=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(f)}const c=NT(r);if(c.length>0){const f=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(i=(n=r==null?void 0:r.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,d=(l=(o=r==null?void 0:r.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let a;const o=[];if(n!=null&&n.generatedImages)for(const c of n.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:o.push(c);let l;return a?l={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:n.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:n.sdkHttpResponse},l}),this.list=async r=>{var n;const o={config:Object.assign(Object.assign({},{queryBase:!0}),r==null?void 0:r.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((n=o.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new ho(_i.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,a,o,l,c;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((o=(a=r.source)===null||a===void 0?void 0:a.video)===null||o===void 0)&&o.uri&&(!((c=(l=r.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var r,n,i;const a=(r=e.config)===null||r===void 0?void 0:r.tools;if(!a)return e;const o=await Promise.all(a.map(async c=>cs(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&QO(e.config.tools)){const c=(i=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),ZO(u),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return l}async initAfcToolsMap(e){var r,n,i;const a=new Map;for(const o of(n=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(cs(o)){const l=o,c=await l.tool();for(const u of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,l)}}return a}async processAfcStream(e){var r,n,i;const a=(i=(n=(r=e.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:_T;let o=!1,l=0;const c=await this.initAfcToolsMap(e);return function(u,d,f){return Tn(this,arguments,function*(){for(var h,g,b,y,v,x;l<a;){o&&(l++,o=!1);const S=yield Me(u.processParamsMaybeAddMcpUsage(f)),N=yield Me(u.generateContentStreamInternal(S)),E=[],C=[];try{for(var _=!0,w=(g=void 0,An(N)),k;k=yield Me(w.next()),h=k.done,!h;_=!0){y=k.value,_=!1;const A=y;if(yield yield Me(A),A.candidates&&(!((v=A.candidates[0])===null||v===void 0)&&v.content)){C.push(A.candidates[0].content);for(const I of(x=A.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(l<a&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(I.functionCall.name)){const $=yield Me(d.get(I.functionCall.name).callTool([I.functionCall]));E.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(A){g={error:A}}finally{try{!_&&!h&&(b=w.return)&&(yield Me(b.call(w)))}finally{if(g)throw g.error}}if(E.length>0){o=!0;const A=new $l;A.candidates=[{content:{role:"user",parts:E}}],yield yield Me(A);const I=[];I.push(...C),I.push({role:"user",parts:E});const $=an(f.contents).concat(I);f.contents=$}else break}})}(this,c,e)}async generateContentInternal(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=vT(this.apiClient,e);return l=xe("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=bT(d),h=new $l;return Object.assign(h,f),h})}else{const u=yT(this.apiClient,e);return l=xe("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=xT(d),h=new $l;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=vT(this.apiClient,e);return l=xe("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),o.then(function(f){return Tn(this,arguments,function*(){var h,g,b,y;try{for(var v=!0,x=An(f),_;_=yield Me(x.next()),h=_.done,!h;v=!0){y=_.value,v=!1;const w=y,k=bT(yield Me(w.json()));k.sdkHttpResponse={headers:w.headers};const S=new $l;Object.assign(S,k),yield yield Me(S)}}catch(w){g={error:w}}finally{try{!v&&!h&&(b=x.return)&&(yield Me(b.call(x)))}finally{if(g)throw g.error}}})})}else{const u=yT(this.apiClient,e);return l=xe("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(f){return Tn(this,arguments,function*(){var h,g,b,y;try{for(var v=!0,x=An(f),_;_=yield Me(x.next()),h=_.done,!h;v=!0){y=_.value,v=!1;const w=y,k=xT(yield Me(w.json()));k.sdkHttpResponse={headers:w.headers};const S=new $l;Object.assign(S,k),yield yield Me(S)}}catch(w){g={error:w}}finally{try{!v&&!h&&(b=x.return)&&(yield Me(b.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=she(this.apiClient,e);return l=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=che(d),h=new eT;return Object.assign(h,f),h})}else{const u=ohe(this.apiClient,e);return l=xe("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=lhe(d),h=new eT;return Object.assign(h,f),h})}}async generateImagesInternal(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=bhe(this.apiClient,e);return l=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=_he(d),h=new tT;return Object.assign(h,f),h})}else{const u=xhe(this.apiClient,e);return l=xe("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=whe(d),h=new tT;return Object.assign(h,f),h})}}async editImageInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=rhe(this.apiClient,e);return a=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=nhe(c),d=new due;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=bpe(this.apiClient,e);return a=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=wpe(c),d=new fue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=tpe(this.apiClient,e);return a=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=rpe(c),d=new hue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=lpe(this.apiClient,e);return a=xe("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=cpe(c),d=new pue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Uhe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>_v(d))}else{const u=Lhe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>wv(d))}}async listInternal(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Khe(this.apiClient,e);return l=xe("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Yhe(d),h=new rT;return Object.assign(h,f),h})}else{const u=Whe(this.apiClient,e);return l=xe("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Jhe(d),h=new rT;return Object.assign(h,f),h})}}async update(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=vpe(this.apiClient,e);return l=xe("{model}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>_v(d))}else{const u=ype(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>wv(d))}}async delete(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Qfe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=ehe(d),h=new nT;return Object.assign(h,f),h})}else{const u=Xfe(this.apiClient,e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Zfe(d),h=new nT;return Object.assign(h,f),h})}}async countTokens(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Kfe(this.apiClient,e);return l=xe("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Yfe(d),h=new iT;return Object.assign(h,f),h})}else{const u=Wfe(this.apiClient,e);return l=xe("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Jfe(d),h=new iT;return Object.assign(h,f),h})}}async computeTokens(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Ffe(this.apiClient,e);return a=xe("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=Bfe(c),d=new mue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Ahe(this.apiClient,e);return l=xe("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o.then(d=>{const f=Ehe(d),h=new $h;return Object.assign(h,f),h})}else{const u=The(this.apiClient,e);return l=xe("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o.then(d=>{const f=khe(d),h=new $h;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pme extends Ci{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const r=e.operation,n=e.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=aue(e);return l=xe("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),o}else{const u=iue(e);return l=xe("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Xce(e);return a=xe("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mme(t){const e={},r=p(t,["data"]);if(r!=null&&m(e,["data"],r),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function gme(t){const e={},r=p(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>kme(a))),m(e,["parts"],i)}const n=p(t,["role"]);return n!=null&&m(e,["role"],n),e}function yme(t,e,r){const n={},i=p(e,["expireTime"]);r!==void 0&&i!=null&&m(r,["expireTime"],i);const a=p(e,["newSessionExpireTime"]);r!==void 0&&a!=null&&m(r,["newSessionExpireTime"],a);const o=p(e,["uses"]);r!==void 0&&o!=null&&m(r,["uses"],o);const l=p(e,["liveConnectConstraints"]);r!==void 0&&l!=null&&m(r,["bidiGenerateContentSetup"],Nme(t,l));const c=p(e,["lockAdditionalFields"]);return r!==void 0&&c!=null&&m(r,["fieldMask"],c),n}function vme(t,e){const r={},n=p(e,["config"]);return n!=null&&m(r,["config"],yme(t,n,r)),r}function xme(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const n=p(t,["mimeType"]);return n!=null&&m(e,["mimeType"],n),e}function bme(t){const e={},r=p(t,["id"]);r!=null&&m(e,["id"],r);const n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wme(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=p(t,["enableWidget"]);return r!=null&&m(e,["enableWidget"],r),e}function _me(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=p(t,["timeRangeFilter"]);return r!=null&&m(e,["timeRangeFilter"],r),e}function Sme(t,e){const r={},n=p(t,["generationConfig"]);e!==void 0&&n!=null&&m(e,["setup","generationConfig"],n);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const a=p(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=p(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Jb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&m(e,["setup","systemInstruction"],gme(lr(b)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let N=fl(y);Array.isArray(N)&&(N=N.map(E=>Tme(dl(E)))),m(e,["setup","tools"],N)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&m(e,["setup","sessionResumption"],Eme(v));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","outputAudioTranscription"],_);const w=p(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&m(e,["setup","realtimeInputConfig"],w);const k=p(t,["contextWindowCompression"]);e!==void 0&&k!=null&&m(e,["setup","contextWindowCompression"],k);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function Nme(t,e){const r={},n=p(e,["model"]);n!=null&&m(r,["setup","model"],Ke(t,n));const i=p(e,["config"]);return i!=null&&m(r,["config"],Sme(i,r)),r}function kme(t){const e={},r=p(t,["mediaResolution"]);r!=null&&m(e,["mediaResolution"],r);const n=p(t,["codeExecutionResult"]);n!=null&&m(e,["codeExecutionResult"],n);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],xme(a));const o=p(t,["functionCall"]);o!=null&&m(e,["functionCall"],bme(o));const l=p(t,["functionResponse"]);l!=null&&m(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&m(e,["inlineData"],mme(c));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Eme(t){const e={},r=p(t,["handle"]);if(r!=null&&m(e,["handle"],r),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Tme(t){const e={},r=p(t,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["googleSearchRetrieval"]);n!=null&&m(e,["googleSearchRetrieval"],n);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const a=p(t,["fileSearch"]);a!=null&&m(e,["fileSearch"],a);const o=p(t,["codeExecution"]);if(o!=null&&m(e,["codeExecution"],o),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],wme(l));const c=p(t,["googleSearch"]);c!=null&&m(e,["googleSearch"],_me(c));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ame(t){const e=[];for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const n=t[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(a=>`${r}.${a}`);e.push(...i)}else e.push(r)}return e.join(",")}function Cme(t,e){let r=null;const n=t.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const a=n.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,r=a):delete t.bidiGenerateContentSetup}else n!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(r){const a=Ame(r);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const c=[];a&&c.push(a),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class jme extends Ci{constructor(e){super(),this.apiClient=e}async create(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=vme(this.apiClient,e);a=xe("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const c=Cme(l,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pme(t,e){const r={},n=p(t,["force"]);return e!==void 0&&n!=null&&m(e,["_query","force"],n),r}function Ime(t){const e={},r=p(t,["name"]);r!=null&&m(e,["_url","name"],r);const n=p(t,["config"]);return n!=null&&Pme(n,e),e}function Ome(t){const e={},r=p(t,["name"]);return r!=null&&m(e,["_url","name"],r),e}function Rme(t,e){const r={},n=p(t,["pageSize"]);e!==void 0&&n!=null&&m(e,["_query","pageSize"],n);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),r}function Mme(t){const e={},r=p(t,["parent"]);r!=null&&m(e,["_url","parent"],r);const n=p(t,["config"]);return n!=null&&Rme(n,e),e}function $me(t){const e={},r=p(t,["sdkHttpResponse"]);r!=null&&m(e,["sdkHttpResponse"],r);const n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),m(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dme extends Ci{constructor(e){super(),this.apiClient=e,this.list=async r=>new ho(_i.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ome(e);return a=xe("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ime(e);i=xe("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Mme(e);return a=xe("{parent}/documents",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=$me(c),d=new gue;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lme extends Ci{constructor(e,r=new Dme(e)){super(),this.apiClient=e,this.documents=r,this.list=async(n={})=>new ho(_i.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ape(e);return a=xe("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ppe(e);return a=xe("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=jpe(e);i=xe("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Dpe(e);return a=xe("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Lpe(c),d=new yue;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Upe(e);return a=xe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Fpe(c),d=new vue;return Object.assign(d,u),d})}}async importFile(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Rpe(e);return a=xe("{file_search_store_name}:importFile",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Ope(c),d=new Gb;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let eR=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return eR=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const Ume=()=>eR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const kv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cn extends Error{}class yr extends cn{constructor(e,r,n,i){super(`${yr.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.error=r}static makeMessage(e,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new dm({message:n,cause:kv(r)});const a=r;return e===400?new rR(e,a,n,i):e===401?new nR(e,a,n,i):e===403?new iR(e,a,n,i):e===404?new aR(e,a,n,i):e===409?new oR(e,a,n,i):e===422?new sR(e,a,n,i):e===429?new lR(e,a,n,i):e>=500?new cR(e,a,n,i):new yr(e,a,n,i)}}class Ev extends yr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class dm extends yr{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class tR extends dm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class rR extends yr{}class nR extends yr{}class iR extends yr{}class aR extends yr{}class oR extends yr{}class sR extends yr{}class lR extends yr{}class cR extends yr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fme=/^[a-z][a-z0-9+.-]*:/i,Bme=t=>Fme.test(t);let Tv=t=>(Tv=Array.isArray,Tv(t));const qme=Tv;let Vme=qme;const ET=Vme;function Gme(t){if(!t)return!0;for(const e in t)return!1;return!0}function Hme(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const zme=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new cn(`${t} must be an integer`);if(e<0)throw new cn(`${t} must be a positive integer`);return e},Wme=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kme=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jme(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Yme=()=>{var t,e,r,n,i;const a=Jme();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jo,"X-Stainless-OS":AT(Deno.build.os),"X-Stainless-Arch":TT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jo,"X-Stainless-OS":AT((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":TT((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=Xme();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Xme(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,a=n[2]||0,o=n[3]||0;return{browser:e,version:`${i}.${a}.${o}`}}}return null}const TT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",AT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Cd;const Qme=()=>Cd??(Cd=Yme());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zme(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function uR(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ege(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return uR({start(){},async pull(r){const{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=e.return)===null||r===void 0?void 0:r.call(e))}})}function dR(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function tge(t){var e,r;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((r=(e=t[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(e));return}const n=t.getReader(),i=n.cancel();n.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rge=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fR=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,r=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function jg(t,e,r){return fR(),new File(t,e??"unknown_file",r)}function nge(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const ige=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hR=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",age=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&hR(t),oge=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function sge(t,e,r){if(fR(),t=await t,age(t))return t instanceof File?t:jg([await t.arrayBuffer()],t.name);if(oge(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),jg(await Av(i),e,r)}const n=await Av(t);if(e||(e=nge(t)),!(r!=null&&r.type)){const i=n.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return jg(n,e,r)}async function Av(t){var e,r,n,i,a;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(hR(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(ige(t))try{for(var l=!0,c=An(t),u;u=await c.next(),e=u.done,!e;l=!0){i=u.value,l=!1;const d=i;o.push(...await Av(d))}}catch(d){r={error:d}}finally{try{!l&&!e&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}else{const d=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${lge(t)}`)}return o}function lge(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pR{constructor(e){this._client=e}}pR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mR(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const CT=Object.freeze(Object.create(null)),cge=(t=mR)=>function(r,...n){if(r.length===1)return r[0];let i=!1;const a=[],o=r.reduce((d,f,h)=>{var g,b,y;/[?#]/.test(f)&&(i=!0);const v=n[h];let x=(i?encodeURIComponent:t)(""+v);return h!==n.length&&(v==null||typeof v=="object"&&v.toString===((y=Object.getPrototypeOf((b=Object.getPrototypeOf((g=v.hasOwnProperty)!==null&&g!==void 0?g:CT))!==null&&b!==void 0?b:CT))===null||y===void 0?void 0:y.toString))&&(x=v+"",a.push({start:d.length+f.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),d+f+(h===n.length?"":x)},""),l=o.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(l))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((d,f)=>d.start-f.start),a.length>0){let d=0;const f=a.reduce((h,g)=>{const b=" ".repeat(g.start-d),y="^".repeat(g.length);return d=g.start+g.length,h+b+y},"");throw new cn(`Path parameters result in path with invalid segments:
${a.map(h=>h.error).join(`
`)}
${o}
${f}`)}return o},jd=cge(mR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gR extends pR{create(e,r){var n;const{api_version:i=this._client.apiVersion}=e,a=Lh(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new cn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new cn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(jd`/${i}/interactions`,Object.assign(Object.assign({body:a},r),{stream:(n=e.stream)!==null&&n!==void 0?n:!1}))}delete(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(jd`/${i}/interactions/${e}`,n)}cancel(e,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(jd`/${i}/interactions/${e}/cancel`,n)}get(e,r={},n){var i;const a=r??{},{api_version:o=this._client.apiVersion}=a,l=Lh(a,["api_version"]);return this._client.get(jd`/${o}/interactions/${e}`,Object.assign(Object.assign({query:l},n),{stream:(i=r==null?void 0:r.stream)!==null&&i!==void 0?i:!1}))}}gR._key=Object.freeze(["interactions"]);class yR extends gR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uge(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}let Pd;function Xb(t){let e;return(Pd??(e=new globalThis.TextEncoder,Pd=e.encode.bind(e)))(t)}let Id;function jT(t){let e;return(Id??(e=new globalThis.TextDecoder,Id=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fm{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Xb(e):e;this.buffer=uge([this.buffer,r]);const n=[];let i;for(;(i=dge(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(jT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=jT(this.buffer.subarray(0,a));n.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}fm.NEWLINE_CHARS=new Set([`
`,"\r"]);fm.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dge(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function fge(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uh={off:0,error:200,warn:300,info:400,debug:500},PT=(t,e,r)=>{if(t){if(Hme(Uh,t))return t;dr(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Uh))}`)}};function Gl(){}function Od(t,e,r){return!e||Uh[t]>Uh[r]?Gl:e[t].bind(e)}const hge={error:Gl,warn:Gl,info:Gl,debug:Gl};let IT=new WeakMap;function dr(t){var e;const r=t.logger,n=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!r)return hge;const i=IT.get(r);if(i&&i[0]===n)return i[1];const a={error:Od("error",r,n),warn:Od("warn",r,n),info:Od("info",r,n),debug:Od("debug",r,n)};return IT.set(r,[n,a]),a}const ka=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yo{constructor(e,r,n){this.iterator=e,this.controller=r,this.client=n}static fromSSEResponse(e,r,n){let i=!1;const a=n?dr(n):console;function o(){return Tn(this,arguments,function*(){var c,u,d,f;if(i)throw new cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,b=An(pge(e,r)),y;y=yield Me(b.next()),c=y.done,!c;g=!0){f=y.value,g=!1;const v=f;if(!h)if(v.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Me(JSON.parse(v.data))}catch(x){throw a.error("Could not parse message into JSON:",v.data),a.error("From chunk:",v.raw),x}}}catch(v){u={error:v}}finally{try{!g&&!c&&(d=b.return)&&(yield Me(d.call(b)))}finally{if(u)throw u.error}}h=!0}catch(v){if(Nv(v))return yield Me(void 0);throw v}finally{h||r.abort()}})}return new Yo(o,r,n)}static fromReadableStream(e,r,n){let i=!1;function a(){return Tn(this,arguments,function*(){var c,u,d,f;const h=new fm,g=dR(e);try{for(var b=!0,y=An(g),v;v=yield Me(y.next()),c=v.done,!c;b=!0){f=v.value,b=!1;const x=f;for(const _ of h.decode(x))yield yield Me(_)}}catch(x){u={error:x}}finally{try{!b&&!c&&(d=y.return)&&(yield Me(d.call(y)))}finally{if(u)throw u.error}}for(const x of h.flush())yield yield Me(x)})}function o(){return Tn(this,arguments,function*(){var c,u,d,f;if(i)throw new cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,b=An(a()),y;y=yield Me(b.next()),c=y.done,!c;g=!0){f=y.value,g=!1;const v=f;h||v&&(yield yield Me(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!g&&!c&&(d=b.return)&&(yield Me(d.call(b)))}finally{if(u)throw u.error}}h=!0}catch(v){if(Nv(v))return yield Me(void 0);throw v}finally{h||r.abort()}})}return new Yo(o,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),i=a=>({next:()=>{if(a.length===0){const o=n.next();e.push(o),r.push(o)}return a.shift()}});return[new Yo(()=>i(e),this.controller,this.client),new Yo(()=>i(r),this.controller,this.client)]}toReadableStream(){const e=this;let r;return uR({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:a}=await r.next();if(a)return n.close();const o=Xb(JSON.stringify(i)+`
`);n.enqueue(o)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function pge(t,e){return Tn(this,arguments,function*(){var n,i,a,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new cn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new cn("Attempted to iterate over a response with no body");const l=new gge,c=new fm,u=dR(t.body);try{for(var d=!0,f=An(mge(u)),h;h=yield Me(f.next()),n=h.done,!n;d=!0){o=h.value,d=!1;const g=o;for(const b of c.decode(g)){const y=l.decode(b);y&&(yield yield Me(y))}}}catch(g){i={error:g}}finally{try{!d&&!n&&(a=f.return)&&(yield Me(a.call(f)))}finally{if(i)throw i.error}}for(const g of c.flush()){const b=l.decode(g);b&&(yield yield Me(b))}})}function mge(t){return Tn(this,arguments,function*(){var r,n,i,a;let o=new Uint8Array;try{for(var l=!0,c=An(t),u;u=yield Me(c.next()),r=u.done,!r;l=!0){a=u.value,l=!1;const d=a;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Xb(d):d;let h=new Uint8Array(o.length+f.length);h.set(o),h.set(f,o.length),o=h;let g;for(;(g=fge(o))!==-1;)yield yield Me(o.slice(0,g)),o=o.slice(g)}}catch(d){n={error:d}}finally{try{!l&&!r&&(i=c.return)&&(yield Me(i.call(c)))}finally{if(n)throw n.error}}o.length>0&&(yield yield Me(o))})}class gge{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=yge(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function yge(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vge(t,e){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:a}=e,o=await(async()=>{var l;if(e.options.stream)return dr(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):Yo.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;const c=r.headers.get("content-type"),u=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await r.json():await r.text()})();return dr(t).debug(`[${n}] response parsed`,ka({retryOfRequestLogID:i,url:r.url,status:r.status,body:o,durationMs:Date.now()-a})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qb extends Promise{constructor(e,r,n=vge){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new Qb(this.client,this.responsePromise,async(r,n)=>e(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vR=Symbol("brand.privateNullableHeaders");function*xge(t){if(!t)return;if(vR in t){const{values:n,nulls:i}=t;yield*n.entries();for(const a of i)yield[a,null];return}let e=!1,r;t instanceof Headers?r=t.entries():ET(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=ET(n[1])?n[1]:[n[1]];let o=!1;for(const l of a)l!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,l])}}const Dl=t=>{const e=new Headers,r=new Set;for(const n of t){const i=new Set;for(const[a,o]of xge(n)){const l=a.toLowerCase();i.has(l)||(e.delete(a),i.add(l)),o===null?(e.delete(a),r.add(l)):(e.append(a,o),r.delete(l))}}return{[vR]:!0,values:e,nulls:r}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pg=t=>{var e,r,n,i,a,o;if(typeof globalThis.process<"u")return(n=(r=(e=Hce)===null||e===void 0?void 0:e[t])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(o=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xR;class hm{constructor(e){var r,n,i,a,o,l,c,{baseURL:u=Pg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(r=Pg("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:f="v1beta"}=e,h=Lh(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(n=g.timeout)!==null&&n!==void 0?n:hm.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const b="warn";this.logLevel=b,this.logLevel=(o=(a=PT(g.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:PT(Pg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:b,this.fetchOptions=g.fetchOptions,this.maxRetries=(l=g.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=g.fetch)!==null&&c!==void 0?c:Zme(),this.encoder=rge,this._options=g,this.apiKey=d,this.apiVersion=f,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const r=Dl([e.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return Dl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Dl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new cn(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${jo}`}defaultIdempotencyKey(){return`stainless-node-retry-${Ume()}`}makeStatusError(e,r,n,i){return yr.generate(e,r,n,i)}buildURL(e,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,a=Bme(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return Gme(o)||(r=Object.assign(Object.assign({},o),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(a.search=this.stringifyQuery(r)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const r=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:e,path:r},i)))}request(e,r=null){return new Qb(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){var i,a,o;const l=await e,c=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=c),await this.prepareOptions(l);const{req:u,url:d,timeout:f}=await this.buildRequest(l,{retryCount:c-r});await this.prepareRequest(u,{url:d,options:l});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=n===void 0?"":`, retryOf: ${n}`,b=Date.now();if(dr(this).debug(`[${h}] sending request`,ka({retryOfRequestLogID:n,method:l.method,url:d,options:l,headers:u.headers})),!((a=l.signal)===null||a===void 0)&&a.aborted)throw new Ev;const y=new AbortController,v=await this.fetchWithTimeout(d,u,f,y).catch(kv),x=Date.now();if(v instanceof globalThis.Error){const w=`retrying, ${r} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new Ev;const k=Nv(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(r)return dr(this).info(`[${h}] connection ${k?"timed out":"failed"} - ${w}`),dr(this).debug(`[${h}] connection ${k?"timed out":"failed"} (${w})`,ka({retryOfRequestLogID:n,url:d,durationMs:x-b,message:v.message})),this.retryRequest(l,r,n??h);throw dr(this).info(`[${h}] connection ${k?"timed out":"failed"} - error; no more retries left`),dr(this).debug(`[${h}] connection ${k?"timed out":"failed"} (error; no more retries left)`,ka({retryOfRequestLogID:n,url:d,durationMs:x-b,message:v.message})),k?new tR:new dm({cause:v})}const _=`[${h}${g}] ${u.method} ${d} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${x-b}ms`;if(!v.ok){const w=await this.shouldRetry(v);if(r&&w){const A=`retrying, ${r} attempts remaining`;return await tge(v.body),dr(this).info(`${_} - ${A}`),dr(this).debug(`[${h}] response error (${A})`,ka({retryOfRequestLogID:n,url:v.url,status:v.status,headers:v.headers,durationMs:x-b})),this.retryRequest(l,r,n??h,v.headers)}const k=w?"error; no more retries left":"error; not retryable";dr(this).info(`${_} - ${k}`);const S=await v.text().catch(A=>kv(A).message),N=Wme(S),E=N?void 0:S;throw dr(this).debug(`[${h}] response error (${k})`,ka({retryOfRequestLogID:n,url:v.url,status:v.status,headers:v.headers,message:E,durationMs:Date.now()-b})),this.makeStatusError(v.status,N,E,v.headers)}return dr(this).info(_),dr(this).debug(`[${h}] response start`,ka({retryOfRequestLogID:n,url:v.url,status:v.status,headers:v.headers,durationMs:x-b})),{response:v,options:l,controller:y,requestLogID:h,retryOfRequestLogID:n,startTime:b}}async fetchWithTimeout(e,r,n,i){const a=r||{},{signal:o,method:l}=a,c=Lh(a,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),n),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);l&&(f.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){var a;let o;const l=i==null?void 0:i.get("retry-after-ms");if(l){const u=parseFloat(l);Number.isNaN(u)||(o=u)}const c=i==null?void 0:i.get("retry-after");if(c&&!o){const u=parseFloat(c);Number.isNaN(u)?o=Date.parse(c)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,u)}return await Kme(o),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){const a=r-e,o=Math.min(.5*Math.pow(2,a),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(e,{retryCount:r=0}={}){var n,i,a;const o=Object.assign({},e),{method:l,path:c,query:u,defaultBaseURL:d}=o,f=this.buildURL(c,u,d);"timeout"in o&&zme("timeout",o.timeout),o.timeout=(n=o.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:o}),b=await this.buildHeaders({options:e,method:l,bodyHeaders:h,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:b},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=o.fetchOptions)!==null&&a!==void 0?a:{}),url:f,timeout:o.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let a={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let l=Dl([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Qme()),this._options.defaultHeaders,n,e.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=Dl([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:ege(e)}:this.encoder({body:e,headers:n})}}hm.DEFAULT_TIMEOUT=6e4;class Wt extends hm{constructor(){super(...arguments),this.interactions=new yR(this)}}xR=Wt;Wt.GeminiNextGenAPIClient=xR;Wt.GeminiNextGenAPIClientError=cn;Wt.APIError=yr;Wt.APIConnectionError=dm;Wt.APIConnectionTimeoutError=tR;Wt.APIUserAbortError=Ev;Wt.NotFoundError=aR;Wt.ConflictError=oR;Wt.RateLimitError=lR;Wt.BadRequestError=rR;Wt.AuthenticationError=nR;Wt.InternalServerError=cR;Wt.PermissionDeniedError=iR;Wt.UnprocessableEntityError=sR;Wt.toFile=sge;Wt.Interactions=yR;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bge(t,e){const r={},n=p(t,["name"]);return n!=null&&m(r,["_url","name"],n),r}function wge(t,e){const r={},n=p(t,["name"]);return n!=null&&m(r,["_url","name"],n),r}function _ge(t,e){const r={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(r,["sdkHttpResponse"],n),r}function Sge(t,e){const r={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(r,["sdkHttpResponse"],n),r}function Nge(t,e,r){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(t,["epochCount"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","epochCount"],a);const o=p(t,["learningRateMultiplier"]);if(o!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=p(t,["batchSize"]);e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","batchSize"],l);const c=p(t,["learningRate"]);if(e!==void 0&&c!=null&&m(e,["tuningTask","hyperparameters","learningRate"],c),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return n}function kge(t,e,r){const n={};let i=p(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec"],OT(g))}else if(i==="PREFERENCE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec"],OT(g))}const a=p(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&m(e,["tunedModelDisplayName"],a);const o=p(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);let l=p(r,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(l==="PREFERENCE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let c=p(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(c==="PREFERENCE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=p(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=p(r,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),n}function Ege(t,e){const r={},n=p(t,["baseModel"]);n!=null&&m(r,["baseModel"],n);const i=p(t,["preTunedModel"]);i!=null&&m(r,["preTunedModel"],i);const a=p(t,["trainingDataset"]);a!=null&&Dge(a);const o=p(t,["config"]);return o!=null&&Nge(o,r),r}function Tge(t,e){const r={},n=p(t,["baseModel"]);n!=null&&m(r,["baseModel"],n);const i=p(t,["preTunedModel"]);i!=null&&m(r,["preTunedModel"],i);const a=p(t,["trainingDataset"]);a!=null&&Lge(a,r,e);const o=p(t,["config"]);return o!=null&&kge(o,r,e),r}function Age(t,e){const r={},n=p(t,["name"]);return n!=null&&m(r,["_url","name"],n),r}function Cge(t,e){const r={},n=p(t,["name"]);return n!=null&&m(r,["_url","name"],n),r}function jge(t,e,r){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function Pge(t,e,r){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&m(e,["_query","pageToken"],a);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function Ige(t,e){const r={},n=p(t,["config"]);return n!=null&&jge(n,r),r}function Oge(t,e){const r={},n=p(t,["config"]);return n!=null&&Pge(n,r),r}function Rge(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(r,["nextPageToken"],i);const a=p(t,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>bR(l))),m(r,["tuningJobs"],o)}return r}function Mge(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(r,["nextPageToken"],i);const a=p(t,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>Cv(l))),m(r,["tuningJobs"],o)}return r}function $ge(t,e){const r={},n=p(t,["name"]);n!=null&&m(r,["model"],n);const i=p(t,["name"]);return i!=null&&m(r,["endpoint"],i),r}function Dge(t,e){const r={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),m(r,["examples","examples"],i)}return r}function Lge(t,e,r){const n={};let i=p(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let a=p(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function bR(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(r,["name"],i);const a=p(t,["state"]);a!=null&&m(r,["state"],$O(a));const o=p(t,["createTime"]);o!=null&&m(r,["createTime"],o);const l=p(t,["tuningTask","startTime"]);l!=null&&m(r,["startTime"],l);const c=p(t,["tuningTask","completeTime"]);c!=null&&m(r,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&m(r,["updateTime"],u);const d=p(t,["description"]);d!=null&&m(r,["description"],d);const f=p(t,["baseModel"]);f!=null&&m(r,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&m(r,["tunedModel"],$ge(h)),r}function Cv(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(r,["name"],i);const a=p(t,["state"]);a!=null&&m(r,["state"],$O(a));const o=p(t,["createTime"]);o!=null&&m(r,["createTime"],o);const l=p(t,["startTime"]);l!=null&&m(r,["startTime"],l);const c=p(t,["endTime"]);c!=null&&m(r,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&m(r,["updateTime"],u);const d=p(t,["error"]);d!=null&&m(r,["error"],d);const f=p(t,["description"]);f!=null&&m(r,["description"],f);const h=p(t,["baseModel"]);h!=null&&m(r,["baseModel"],h);const g=p(t,["tunedModel"]);g!=null&&m(r,["tunedModel"],g);const b=p(t,["preTunedModel"]);b!=null&&m(r,["preTunedModel"],b);const y=p(t,["supervisedTuningSpec"]);y!=null&&m(r,["supervisedTuningSpec"],y);const v=p(t,["preferenceOptimizationSpec"]);v!=null&&m(r,["preferenceOptimizationSpec"],v);const x=p(t,["tuningDataStats"]);x!=null&&m(r,["tuningDataStats"],x);const _=p(t,["encryptionSpec"]);_!=null&&m(r,["encryptionSpec"],_);const w=p(t,["partnerModelTuningSpec"]);w!=null&&m(r,["partnerModelTuningSpec"],w);const k=p(t,["customBaseModel"]);k!=null&&m(r,["customBaseModel"],k);const S=p(t,["experiment"]);S!=null&&m(r,["experiment"],S);const N=p(t,["labels"]);N!=null&&m(r,["labels"],N);const E=p(t,["outputUri"]);E!=null&&m(r,["outputUri"],E);const C=p(t,["pipelineJob"]);C!=null&&m(r,["pipelineJob"],C);const A=p(t,["serviceAccount"]);A!=null&&m(r,["serviceAccount"],A);const I=p(t,["tunedModelDisplayName"]);I!=null&&m(r,["tunedModelDisplayName"],I);const $=p(t,["veoTuningSpec"]);return $!=null&&m(r,["veoTuningSpec"],$),r}function Uge(t,e){const r={},n=p(t,["sdkHttpResponse"]);n!=null&&m(r,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(r,["name"],i);const a=p(t,["metadata"]);a!=null&&m(r,["metadata"],a);const o=p(t,["done"]);o!=null&&m(r,["done"],o);const l=p(t,["error"]);return l!=null&&m(r,["error"],l),r}function OT(t,e){const r={},n=p(t,["gcsUri"]);n!=null&&m(r,["validationDatasetUri"],n);const i=p(t,["vertexDatasetResource"]);return i!=null&&m(r,["validationDatasetUri"],i),r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fge extends Ci{constructor(e){super(),this.apiClient=e,this.list=async(r={})=>new ho(_i.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},r),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:yv.JOB_STATE_QUEUED}}}}async getInternal(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Cge(e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Cv(d))}else{const u=Age(e);return l=xe("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>bR(d))}}async listInternal(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Oge(e);return l=xe("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Mge(d),h=new aT;return Object.assign(h,f),h})}else{const u=Ige(e);return l=xe("tunedModels",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Rge(d),h=new aT;return Object.assign(h,f),h})}}async cancel(e){var r,n,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=wge(e);return l=xe("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Sge(d),h=new oT;return Object.assign(h,f),h})}else{const u=bge(e);return l=xe("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=_ge(d),h=new oT;return Object.assign(h,f),h})}}async tuneInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Tge(e,e);return a=xe("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>Cv(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var r,n;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ege(e);return a=xe("tunedModels",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>Uge(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bge{async download(e,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qge=1024*1024*8,Vge=3,Gge=1e3,Hge=2,Fh="x-goog-upload-status";async function zge(t,e,r){var n;const i=await wR(t,e,r),a=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[Fh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Wge(t,e,r){var n;const i=await wR(t,e,r),a=await(i==null?void 0:i.json());if(((n=i==null?void 0:i.headers)===null||n===void 0?void 0:n[Fh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=jO(a),l=new Hb;return Object.assign(l,o),l}async function wR(t,e,r){var n,i;let a=0,o=0,l=new vv(new Response),c="upload";for(a=t.size;o<a;){const u=Math.min(qge,a-o),d=t.slice(o,o+u);o+u>=a&&(c+=", finalize");let f=0,h=Gge;for(;f<Vge&&(l=await r.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((n=l==null?void 0:l.headers)===null||n===void 0)&&n[Fh]));)f++,await Jge(h),h=h*Hge;if(o+=u,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Fh])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function Kge(t){return{size:t.size,type:t.type}}function Jge(t){return new Promise(e=>setTimeout(e,t))}class Yge{async upload(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zge(e,r,n)}async uploadToFileSearchStore(e,r,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Wge(e,r,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Kge(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xge{create(e,r,n){return new Qge(e,r,n)}}class Qge{constructor(e,r,n){this.url=e,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RT="x-goog-api-key";class Zge{constructor(e){this.apiKey=e}async addAuthHeaders(e,r){if(e.get(RT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(RT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eye="gl-node/";class tye{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new Wt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=r.interactions,this._interactions}constructor(e){var r;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=e.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=e.apiKey;const n=Jce(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Zge(this.apiKey);this.apiClient=new Kpe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:eye+"web",uploader:new Yge,downloader:new Bge}),this.models=new hme(this.apiClient),this.live=new sme(this.apiClient,i,new Xge),this.batches=new Nde(this.apiClient),this.chats=new afe(this.models,this.apiClient),this.caches=new rfe(this.apiClient),this.files=new mfe(this.apiClient),this.operations=new pme(this.apiClient),this.authTokens=new jme(this.apiClient),this.tunings=new Fge(this.apiClient),this.fileSearchStores=new Lme(this.apiClient)}}const rye=({user:t})=>{const[e,r]=T.useState(!1),[n,i]=T.useState(""),[a,o]=T.useState([{id:"1",role:"model",text:` ${t.fullName} 
  .           .`}]),[l,c]=T.useState(!1),u=T.useRef(null);T.useEffect(()=>{var h;(h=u.current)==null||h.scrollIntoView({behavior:"smooth"})},[a]);const d=async()=>{try{const{data:h}=await $e.from("cartable_items").select("*").eq("module","WORK_ORDER").order("created_at",{ascending:!1}).limit(20),g=(h||[]).map(x=>{const _=x.data||{};return{code:x.tracking_code,title:x.title,status:_.status||x.status,equipment:_.equipName||"",failure:_.failureDesc,date:x.created_at,requester:_.requester}}),{data:b}=await $e.from("cartable_items").select("*").eq("module","PART_REQUEST").limit(10),y=(b||[]).map(x=>{const _=x.data||{};return{part:_.partName,qty:_.qty,requester:x.description}});return`
          You are an intelligent assistant for a Factory Maintenance Management System (CMMS).
          Your goal is to help the maintenance manager by analyzing the provided data.
          
          HERE IS THE LIVE DATA FROM THE DATABASE (Supabase):
          ${JSON.stringify({currentTime:new Date().toLocaleString("fa-IR"),currentUser:t.fullName,recentWorkOrders:g,activePartsRequests:y})}

          INSTRUCTIONS:
          1. Answer solely based on the data provided above.
          2. If asked for "Top Failures" or similar, count the occurrences of equipment names in the workOrdersSummary.
          3. Respond in Persian (Farsi).
          4. Be concise and professional.
          5. Use formatting (bullet points, bold text) to make it readable.
          6. If the data is empty, say so.
          7. For "Most frequent failures", calculate the frequency of equipment names in the work orders list and show the top 10.
        `}catch(h){return console.error("Error collecting context:",h),"Error loading system data. Please answer generally."}},f=async h=>{if(h.preventDefault(),!n.trim())return;const g={id:Date.now().toString(),role:"user",text:n};o(b=>[...b,g]),i(""),c(!0);try{const b=new tye({apiKey:"AIzaSyBbrl8wKH28MYJn0yx2AZO6fqQUyhlm-KI"}),y=await d(),x=(await b.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:y+`

User Question: `+n}]}],config:{temperature:.3}})).text||"    .";o(_=>[..._,{id:(Date.now()+1).toString(),role:"model",text:x}])}catch(b){console.error("AI Error:",b);let y=`: ${b.message||"      ."}`;b.message&&b.message.toLowerCase().includes("failed to fetch")?y=`        .

         (VPN)        .`:b.message&&(b.message.includes("403")||b.message.includes("400"))&&(y="  API        ."),o(v=>[...v,{id:(Date.now()+1).toString(),role:"model",text:y}])}finally{c(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>r(!e),className:`fixed bottom-6 left-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 flex items-center gap-2
            ${e?"bg-red-500 rotate-90":"bg-gradient-to-r from-blue-600 to-purple-600 animate-pulse"} text-white`,children:e?s.jsx(yt,{className:"w-6 h-6"}):s.jsx(nL,{className:"w-7 h-7"})}),e&&s.jsxs("div",{className:"fixed bottom-24 left-6 z-50 w-full max-w-sm md:max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col h-[500px] animate-slideUp",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center gap-3 text-white",children:[s.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:s.jsx(OL,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold",children:" "}),s.jsx("p",{className:"text-xs opacity-80",children:"  "})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[a.map(h=>s.jsx("div",{className:`flex ${h.role==="user"?"justify-start":"justify-end"}`,children:s.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap shadow-sm
                        ${h.role==="user"?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-br-none border border-gray-100 dark:border-gray-600":"bg-blue-600 text-white rounded-bl-none"}
                     `,children:h.text})},h.id)),l&&s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"bg-blue-600/10 text-blue-600 p-3 rounded-2xl rounded-bl-none flex items-center gap-2 text-xs font-bold",children:[s.jsx(Pt,{className:"w-4 h-4 animate-spin"}),"   ..."]})}),s.jsx("div",{ref:u})]}),s.jsxs("form",{onSubmit:f,className:"p-3 bg-white dark:bg-gray-800 border-t dark:border-gray-700 flex gap-2",children:[s.jsx("input",{type:"text",value:n,onChange:h=>i(h.target.value),placeholder:"   ...",className:"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),s.jsx("button",{type:"submit",disabled:l||!n.trim(),className:"bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:s.jsx(Ef,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"px-4 py-1 bg-gray-50 dark:bg-gray-900 text-[10px] text-center text-gray-400 border-t dark:border-gray-700",children:"           ."})]})]})},nye=()=>{const[t,e]=T.useState(0),[r,n]=T.useState(!1);return T.useEffect(()=>{setTimeout(()=>n(!0),2500);const i=4e3,a=30,l=100/(i/a),c=setInterval(()=>{e(u=>u>=100?(clearInterval(c),100):Math.min(u+l,100))},a);return()=>{clearInterval(c)}},[]),s.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 transition-colors overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),s.jsxs("div",{className:"flex flex-col items-center z-10 relative",children:[s.jsx("div",{className:"w-48 h-48 mb-6 relative",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",fill:"none",className:"w-full h-full drop-shadow-xl",children:[s.jsx("defs",{children:s.jsxs("filter",{id:"softGlow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[s.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),s.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),s.jsx("path",{d:"M100 25 L175 165 H25 L100 25 Z",stroke:"#7f1d1d",strokeWidth:"10",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",className:"logo-part-triangle"}),s.jsxs("g",{strokeLinejoin:"round",strokeLinecap:"round",children:[s.jsx("path",{d:"M100 180 L150 155 L100 130 L50 155 Z",fill:"#7f1d1d",stroke:"#7f1d1d",strokeWidth:"4",className:"logo-part-rhombus-bottom"}),s.jsx("path",{d:"M100 145 L140 120 L100 95 L60 120 Z",fill:"#991b1b",stroke:"#991b1b",strokeWidth:"4",className:"logo-part-rhombus-middle"}),s.jsx("path",{d:"M100 110 L130 90 L100 70 L70 90 Z",fill:"#b91c1c",stroke:"#b91c1c",strokeWidth:"4",className:"logo-part-rhombus-top"})]}),s.jsx("circle",{cx:"100",cy:"40",r:"8",fill:"#7f1d1d",className:"logo-part-dot"})]})}),s.jsxs("div",{className:`text-center transition-all duration-1000 transform ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[s.jsx("h1",{className:"text-3xl font-black text-[#800020] dark:text-red-400 mb-2 tracking-wide",children:"  "}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium mb-10",children:"    "})]}),s.jsx("div",{className:"w-48 h-1 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden relative",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-[#800020] to-red-500 rounded-full transition-all duration-100 ease-linear shadow-[0_0_10px_rgba(128,0,32,0.5)]",style:{width:`${t}%`}})})]}),s.jsx("style",{children:`
        /* 1. Triangle Drawing Animation */
        .logo-part-triangle {
            stroke-dasharray: 600;
            stroke-dashoffset: 600;
            opacity: 0.3;
            animation: drawTriangle 2.5s ease-out forwards;
        }
        @keyframes drawTriangle {
            0% { stroke-dashoffset: 600; opacity: 0; }
            100% { stroke-dashoffset: 0; opacity: 0.3; }
        }

        /* 2. Rhombus Assembly Animations */
        /* Staggered to complete by approx 3.8s */
        .logo-part-rhombus-bottom {
            opacity: 0;
            transform-origin: center;
            animation: assemblePart 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 0.8s;
        }
        .logo-part-rhombus-middle {
            opacity: 0;
            transform-origin: center;
            animation: assemblePart 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 1.6s;
        }
        .logo-part-rhombus-top {
            opacity: 0;
            transform-origin: center;
            animation: assemblePart 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            animation-delay: 2.4s;
        }

        @keyframes assemblePart {
            0% { opacity: 0; transform: translateY(25px) scale(0.8); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* 3. Dot Pop In (Last piece) */
        .logo-part-dot {
            opacity: 0;
            transform-origin: center;
            animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            animation-delay: 3.2s;
        }
        @keyframes popIn {
            0% { opacity: 0; transform: scale(0); }
            100% { opacity: 1; transform: scale(1); }
        }
      `})]})},MT=300*1e3,iye=()=>{const[t,e]=T.useState(!0),[r,n]=T.useState(()=>{try{const g=localStorage.getItem("lastActivityTime");if(g&&Date.now()-parseInt(g,10)>MT)return localStorage.removeItem("currentUser"),null;const b=localStorage.getItem("currentUser");return b?JSON.parse(b):null}catch(g){return console.error("Failed to parse user from local storage",g),localStorage.removeItem("currentUser"),null}}),[i,a]=T.useState(()=>localStorage.getItem("theme")==="dark"),[o,l]=T.useState(()=>localStorage.getItem("snowMode")==="true"),c=T.useRef(null);T.useEffect(()=>{const g=setTimeout(()=>{e(!1)},6e3);return()=>clearTimeout(g)},[]);const u=T.useCallback(async(g=!1)=>{if(r){const b=await N_();try{await $e.from("system_logs").insert([{user_id:r.id,user_name:r.fullName,personnel_code:r.personnelCode||"---",action:g?"  ( )":"  ",ip_address:b,details:`Logout Time: ${dt()} ${xs()}`}])}catch(x){console.error("Logout logging failed:",x)}const y=localStorage.getItem("theme"),v=localStorage.getItem("snowMode");localStorage.clear(),y&&localStorage.setItem("theme",y),v&&localStorage.setItem("snowMode",v)}n(null),g&&alert("               .")},[r]),d=T.useCallback(()=>{r&&(localStorage.setItem("lastActivityTime",Date.now().toString()),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{u(!0)},MT))},[r,u]);T.useEffect(()=>{if(!r)return;const g=["mousedown","mousemove","keydown","scroll","touchstart"],b=()=>d();return g.forEach(y=>document.addEventListener(y,b)),d(),()=>{g.forEach(y=>document.removeEventListener(y,b)),c.current&&clearTimeout(c.current)}},[r,d]),T.useEffect(()=>{i?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[i]),T.useEffect(()=>{localStorage.setItem("snowMode",String(o))},[o]);const f=async g=>{n(g),localStorage.setItem("currentUser",JSON.stringify(g)),localStorage.setItem("lastActivityTime",Date.now().toString());try{const b=await N_();await $e.from("system_logs").insert([{user_id:g.id,user_name:g.fullName,personnel_code:g.personnelCode||(g.username==="admin"?"9999":"0000"),action:"  ",ip_address:b,details:`Role: ${g.role}`}])}catch(b){console.error("Login logging failed:",b)}},h=g=>{n(g),localStorage.setItem("currentUser",JSON.stringify(g))};return t?s.jsx(nye,{}):s.jsxs(WD,{children:[s.jsx(Gce,{enabled:o}),r&&s.jsx(rye,{user:r}),s.jsx(U3,{user:r,onLogout:()=>u(!1),darkMode:i,toggleDarkMode:()=>a(!i),children:s.jsxs(GD,{children:[s.jsx(xt,{path:"/login",element:r?s.jsx(Nt,{to:"/"}):s.jsx(B3,{onLogin:f})}),s.jsx(xt,{path:"/",element:r?s.jsx(_ce,{}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/inbox",element:r?s.jsx($ce,{user:r}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/messages",element:r?s.jsx(Dce,{user:r}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/notes",element:r?s.jsx(Lce,{user:r}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/reports",element:r?s.jsx(Fce,{}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/shift-report",element:r?s.jsx(Vce,{user:r}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/work-orders",element:r?s.jsx(kce,{}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/work-orders/new",element:r?s.jsx(qb,{}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/projects",element:r?s.jsx(Rce,{user:r}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/performance",element:r?s.jsx(Mce,{user:r}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/part-requests",element:r?s.jsx(Ace,{user:r}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/inspections",element:r?s.jsx(Tce,{user:r}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/documents",element:r?s.jsx(Cce,{}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/meetings",element:r?s.jsx(jce,{user:r}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/suggestions",element:r?s.jsx(Pce,{user:r}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/purchases",element:r?s.jsx(Ice,{user:r}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"/workflow-designer",element:(r==null?void 0:r.role)===_r.ADMIN?s.jsx(Uce,{}):s.jsx(Nt,{to:"/"})}),s.jsx(xt,{path:"/admin",element:(r==null?void 0:r.role)===_r.ADMIN?s.jsx(Nce,{}):s.jsx(Nt,{to:"/"})}),s.jsx(xt,{path:"/settings",element:r?s.jsx(Oce,{user:r,onUpdateUser:h,snowMode:o,setSnowMode:l}):s.jsx(Nt,{to:"/login"})}),s.jsx(xt,{path:"*",element:s.jsx(Nt,{to:"/"})})]})})]})};class aye extends L.Component{constructor(e){super(e),this.state={hasError:!1,error:null},this.props=e}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Uncaught error:",e,r)}render(){var e;return this.state.hasError?s.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",textAlign:"center",direction:"rtl",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[s.jsx("h1",{style:{color:"#800020",marginBottom:"10px"},children:"    "}),s.jsx("p",{style:{marginBottom:"20px"},children:"            ."}),s.jsx("div",{style:{marginBottom:"20px",padding:"10px",background:"#f3f4f6",borderRadius:"8px",textAlign:"left",direction:"ltr",overflow:"auto",maxHeight:"200px",fontSize:"12px",maxWidth:"100%",width:"400px"},children:(e=this.state.error)==null?void 0:e.toString()}),s.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{padding:"12px 24px",backgroundColor:"#800020",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:"    "})]}):this.props.children||null}}const _R=document.getElementById("root");if(!_R)throw new Error("Failed to find the root element");const oye=Ig.createRoot(_R);oye.render(s.jsx(L.StrictMode,{children:s.jsx(aye,{children:s.jsx(iye,{})})}));
