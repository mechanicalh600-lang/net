function Nj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var UA={exports:{}},Qf={},FA={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=Symbol.for("react.element"),Cj=Symbol.for("react.portal"),Pj=Symbol.for("react.fragment"),Ij=Symbol.for("react.strict_mode"),Oj=Symbol.for("react.profiler"),jj=Symbol.for("react.provider"),Rj=Symbol.for("react.context"),Mj=Symbol.for("react.forward_ref"),$j=Symbol.for("react.suspense"),Dj=Symbol.for("react.memo"),Lj=Symbol.for("react.lazy"),sb=Symbol.iterator;function Uj(t){return t===null||typeof t!="object"?null:(t=sb&&t[sb]||t["@@iterator"],typeof t=="function"?t:null)}var BA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VA=Object.assign,qA={};function ds(t,e,n){this.props=t,this.context=e,this.refs=qA,this.updater=n||BA}ds.prototype.isReactComponent={};ds.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ds.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GA(){}GA.prototype=ds.prototype;function Iv(t,e,n){this.props=t,this.context=e,this.refs=qA,this.updater=n||BA}var Ov=Iv.prototype=new GA;Ov.constructor=Iv;VA(Ov,ds.prototype);Ov.isPureReactComponent=!0;var lb=Array.isArray,HA=Object.prototype.hasOwnProperty,jv={current:null},zA={key:!0,ref:!0,__self:!0,__source:!0};function WA(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)HA.call(e,r)&&!zA.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ju,type:t,key:o,ref:a,props:i,_owner:jv.current}}function Fj(t,e){return{$$typeof:ju,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rv(t){return typeof t=="object"&&t!==null&&t.$$typeof===ju}function Bj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ub=/\/+/g;function wp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bj(""+t.key):e.toString(36)}function Vc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ju:case Cj:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+wp(a,0):r,lb(i)?(n="",t!=null&&(n=t.replace(ub,"$&/")+"/"),Vc(i,e,n,"",function(u){return u})):i!=null&&(Rv(i)&&(i=Fj(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ub,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",lb(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+wp(o,s);a+=Vc(o,e,n,l,i)}else if(l=Uj(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+wp(o,s++),a+=Vc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function tc(t,e,n){if(t==null)return t;var r=[],i=0;return Vc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Vj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},qc={transition:null},qj={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:qc,ReactCurrentOwner:jv};function KA(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:tc,forEach:function(t,e,n){tc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tc(t,function(){e++}),e},toArray:function(t){return tc(t,function(e){return e})||[]},only:function(t){if(!Rv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=ds;_e.Fragment=Pj;_e.Profiler=Oj;_e.PureComponent=Iv;_e.StrictMode=Ij;_e.Suspense=$j;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qj;_e.act=KA;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=VA({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=jv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)HA.call(e,l)&&!zA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ju,type:t.type,key:i,ref:o,props:r,_owner:a}};_e.createContext=function(t){return t={$$typeof:Rj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jj,_context:t},t.Consumer=t};_e.createElement=WA;_e.createFactory=function(t){var e=WA.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:Mj,render:t}};_e.isValidElement=Rv;_e.lazy=function(t){return{$$typeof:Lj,_payload:{_status:-1,_result:t},_init:Vj}};_e.memo=function(t,e){return{$$typeof:Dj,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=qc.transition;qc.transition={};try{t()}finally{qc.transition=e}};_e.unstable_act=KA;_e.useCallback=function(t,e){return Kt.current.useCallback(t,e)};_e.useContext=function(t){return Kt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Kt.current.useEffect(t,e)};_e.useId=function(){return Kt.current.useId()};_e.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Kt.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};_e.useRef=function(t){return Kt.current.useRef(t)};_e.useState=function(t){return Kt.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Kt.current.useTransition()};_e.version="18.3.1";FA.exports=_e;var N=FA.exports;const j=Oe(N),Gj=Nj({__proto__:null,default:j},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj=N,zj=Symbol.for("react.element"),Wj=Symbol.for("react.fragment"),Kj=Object.prototype.hasOwnProperty,Jj=Hj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yj={key:!0,ref:!0,__self:!0,__source:!0};function JA(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Kj.call(e,r)&&!Yj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zj,type:t,key:o,ref:a,props:i,_owner:Jj.current}}Qf.Fragment=Wj;Qf.jsx=JA;Qf.jsxs=JA;UA.exports=Qf;var c=UA.exports,Dm={},YA={exports:{}},wn={},XA={exports:{}},QA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,B){var H=L.length;L.push(B);e:for(;0<H;){var Y=H-1>>>1,z=L[Y];if(0<i(z,B))L[Y]=B,L[H]=z,H=Y;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var B=L[0],H=L.pop();if(H!==B){L[0]=H;e:for(var Y=0,z=L.length,oe=z>>>1;Y<oe;){var xe=2*(Y+1)-1,Ee=L[xe],Pe=xe+1,Ze=L[Pe];if(0>i(Ee,H))Pe<z&&0>i(Ze,Ee)?(L[Y]=Ze,L[Pe]=H,Y=Pe):(L[Y]=Ee,L[xe]=H,Y=xe);else if(Pe<z&&0>i(Ze,H))L[Y]=Ze,L[Pe]=H,Y=Pe;else break e}}return B}function i(L,B){var H=L.sortIndex-B.sortIndex;return H!==0?H:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],d=1,f=null,h=3,g=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=L)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function T(L){if(y=!1,_(L),!v)if(n(l)!==null)v=!0,D(S);else{var B=n(u);B!==null&&q(T,B.startTime-L)}}function S(L,B){v=!1,y&&(y=!1,b(k),k=-1),g=!0;var H=h;try{for(_(B),f=n(l);f!==null&&(!(f.expirationTime>B)||L&&!O());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var z=Y(f.expirationTime<=B);B=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),_(B)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var xe=n(u);xe!==null&&q(T,xe.startTime-B),oe=!1}return oe}finally{f=null,h=H,g=!1}}var E=!1,A=null,k=-1,C=5,P=-1;function O(){return!(t.unstable_now()-P<C)}function $(){if(A!==null){var L=t.unstable_now();P=L;var B=!0;try{B=A(!0,L)}finally{B?U():(E=!1,A=null)}}else E=!1}var U;if(typeof x=="function")U=function(){x($)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,I=R.port2;R.port1.onmessage=$,U=function(){I.postMessage(null)}}else U=function(){w($,0)};function D(L){A=L,E||(E=!0,U())}function q(L,B){k=w(function(){L(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,D(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var H=h;h=B;try{return L()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=h;h=L;try{return B()}finally{h=H}},t.unstable_scheduleCallback=function(L,B,H){var Y=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,L){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=H+z,L={id:d++,callback:B,priorityLevel:L,startTime:H,expirationTime:z,sortIndex:-1},H>Y?(L.sortIndex=H,e(u,L),n(l)===null&&L===n(u)&&(y?(b(k),k=-1):y=!0,q(T,H-Y))):(L.sortIndex=z,e(l,L),v||g||(v=!0,D(S))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var B=h;return function(){var H=h;h=B;try{return L.apply(this,arguments)}finally{h=H}}}})(QA);XA.exports=QA;var Xj=XA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qj=N,bn=Xj;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZA=new Set,El={};function ko(t,e){Oa(t,e),Oa(t+"Capture",e)}function Oa(t,e){for(El[t]=e,t=0;t<e.length;t++)ZA.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lm=Object.prototype.hasOwnProperty,Zj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cb={},db={};function eR(t){return Lm.call(db,t)?!0:Lm.call(cb,t)?!1:Zj.test(t)?db[t]=!0:(cb[t]=!0,!1)}function tR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nR(t,e,n,r){if(e===null||typeof e>"u"||tR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mv=/[\-:]([a-z])/g;function $v(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mv,$v);Ot[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mv,$v);Ot[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mv,$v);Ot[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dv(t,e,n,r){var i=Ot.hasOwnProperty(e)?Ot[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nR(e,n,i,r)&&(n=null),r||i===null?eR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gr=Qj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nc=Symbol.for("react.element"),Zo=Symbol.for("react.portal"),ea=Symbol.for("react.fragment"),Lv=Symbol.for("react.strict_mode"),Um=Symbol.for("react.profiler"),ek=Symbol.for("react.provider"),tk=Symbol.for("react.context"),Uv=Symbol.for("react.forward_ref"),Fm=Symbol.for("react.suspense"),Bm=Symbol.for("react.suspense_list"),Fv=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),nk=Symbol.for("react.offscreen"),fb=Symbol.iterator;function Os(t){return t===null||typeof t!="object"?null:(t=fb&&t[fb]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,_p;function Qs(t){if(_p===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_p=e&&e[1]||""}return`
`+_p+t}var Sp=!1;function Ep(t,e){if(!t||Sp)return"";Sp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Sp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qs(t):""}function rR(t){switch(t.tag){case 5:return Qs(t.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return t=Ep(t.type,!1),t;case 11:return t=Ep(t.type.render,!1),t;case 1:return t=Ep(t.type,!0),t;default:return""}}function Vm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ea:return"Fragment";case Zo:return"Portal";case Um:return"Profiler";case Lv:return"StrictMode";case Fm:return"Suspense";case Bm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tk:return(t.displayName||"Context")+".Consumer";case ek:return(t._context.displayName||"Context")+".Provider";case Uv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fv:return e=t.displayName||null,e!==null?e:Vm(t.type)||"Memo";case Zr:e=t._payload,t=t._init;try{return Vm(t(e))}catch{}}return null}function iR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vm(e);case 8:return e===Lv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oR(t){var e=rk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rc(t){t._valueTracker||(t._valueTracker=oR(t))}function ik(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qm(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ok(t,e){e=e.checked,e!=null&&Dv(t,"checked",e,!1)}function Gm(t,e){ok(t,e);var n=Ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hm(t,e.type,Ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hm(t,e,n){(e!=="number"||rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zs=Array.isArray;function xa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ei(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Zs(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ei(n)}}function ak(t,e){var n=Ei(e.value),r=Ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ic,lk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ic=ic||document.createElement("div"),ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aR=["Webkit","ms","Moz","O"];Object.keys(ol).forEach(function(t){aR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ol[e]=ol[t]})});function uk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ol.hasOwnProperty(t)&&ol[t]?(""+e).trim():e+"px"}function ck(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sR=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Km(t,e){if(e){if(sR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Jm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ym=null;function Bv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xm=null,ba=null,wa=null;function yb(t){if(t=$u(t)){if(typeof Xm!="function")throw Error(J(280));var e=t.stateNode;e&&(e=rh(e),Xm(t.stateNode,t.type,e))}}function dk(t){ba?wa?wa.push(t):wa=[t]:ba=t}function fk(){if(ba){var t=ba,e=wa;if(wa=ba=null,yb(t),e)for(t=0;t<e.length;t++)yb(e[t])}}function hk(t,e){return t(e)}function pk(){}var Tp=!1;function mk(t,e,n){if(Tp)return t(e,n);Tp=!0;try{return hk(t,e,n)}finally{Tp=!1,(ba!==null||wa!==null)&&(pk(),fk())}}function Al(t,e){var n=t.stateNode;if(n===null)return null;var r=rh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Qm=!1;if($r)try{var js={};Object.defineProperty(js,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Qm=!1}function lR(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var al=!1,id=null,od=!1,Zm=null,uR={onError:function(t){al=!0,id=t}};function cR(t,e,n,r,i,o,a,s,l){al=!1,id=null,lR.apply(uR,arguments)}function dR(t,e,n,r,i,o,a,s,l){if(cR.apply(this,arguments),al){if(al){var u=id;al=!1,id=null}else throw Error(J(198));od||(od=!0,Zm=u)}}function No(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vb(t){if(No(t)!==t)throw Error(J(188))}function fR(t){var e=t.alternate;if(!e){if(e=No(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return vb(i),t;if(o===r)return vb(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function yk(t){return t=fR(t),t!==null?vk(t):null}function vk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vk(t);if(e!==null)return e;t=t.sibling}return null}var xk=bn.unstable_scheduleCallback,xb=bn.unstable_cancelCallback,hR=bn.unstable_shouldYield,pR=bn.unstable_requestPaint,ot=bn.unstable_now,mR=bn.unstable_getCurrentPriorityLevel,Vv=bn.unstable_ImmediatePriority,bk=bn.unstable_UserBlockingPriority,ad=bn.unstable_NormalPriority,gR=bn.unstable_LowPriority,wk=bn.unstable_IdlePriority,Zf=null,dr=null;function yR(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Zf,t,void 0,(t.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:bR,vR=Math.log,xR=Math.LN2;function bR(t){return t>>>=0,t===0?32:31-(vR(t)/xR|0)|0}var oc=64,ac=4194304;function el(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=el(s):(o&=a,o!==0&&(r=el(o)))}else a=n&~i,a!==0?r=el(a):o!==0&&(r=el(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qn(e),i=1<<n,r|=t[n],e&=~i;return r}function wR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _R(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Qn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=wR(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function eg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _k(){var t=oc;return oc<<=1,!(oc&4194240)&&(oc=64),t}function Ap(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ru(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qn(e),t[e]=n}function SR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function qv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function Sk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ek,Gv,Tk,Ak,kk,tg=!1,sc=[],pi=null,mi=null,gi=null,kl=new Map,Nl=new Map,ii=[],ER="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bb(t,e){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(e.pointerId)}}function Rs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=$u(e),e!==null&&Gv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TR(t,e,n,r,i){switch(e){case"focusin":return pi=Rs(pi,t,e,n,r,i),!0;case"dragenter":return mi=Rs(mi,t,e,n,r,i),!0;case"mouseover":return gi=Rs(gi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return kl.set(o,Rs(kl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nl.set(o,Rs(Nl.get(o)||null,t,e,n,r,i)),!0}return!1}function Nk(t){var e=eo(t.target);if(e!==null){var n=No(e);if(n!==null){if(e=n.tag,e===13){if(e=gk(n),e!==null){t.blockedOn=e,kk(t.priority,function(){Tk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ng(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ym=r,n.target.dispatchEvent(r),Ym=null}else return e=$u(n),e!==null&&Gv(e),t.blockedOn=n,!1;e.shift()}return!0}function wb(t,e,n){Gc(t)&&n.delete(e)}function AR(){tg=!1,pi!==null&&Gc(pi)&&(pi=null),mi!==null&&Gc(mi)&&(mi=null),gi!==null&&Gc(gi)&&(gi=null),kl.forEach(wb),Nl.forEach(wb)}function Ms(t,e){t.blockedOn===e&&(t.blockedOn=null,tg||(tg=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,AR)))}function Cl(t){function e(i){return Ms(i,t)}if(0<sc.length){Ms(sc[0],t);for(var n=1;n<sc.length;n++){var r=sc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pi!==null&&Ms(pi,t),mi!==null&&Ms(mi,t),gi!==null&&Ms(gi,t),kl.forEach(e),Nl.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)Nk(n),n.blockedOn===null&&ii.shift()}var _a=Gr.ReactCurrentBatchConfig,ld=!0;function kR(t,e,n,r){var i=Ie,o=_a.transition;_a.transition=null;try{Ie=1,Hv(t,e,n,r)}finally{Ie=i,_a.transition=o}}function NR(t,e,n,r){var i=Ie,o=_a.transition;_a.transition=null;try{Ie=4,Hv(t,e,n,r)}finally{Ie=i,_a.transition=o}}function Hv(t,e,n,r){if(ld){var i=ng(t,e,n,r);if(i===null)$p(t,e,r,ud,n),bb(t,r);else if(TR(i,t,e,n,r))r.stopPropagation();else if(bb(t,r),e&4&&-1<ER.indexOf(t)){for(;i!==null;){var o=$u(i);if(o!==null&&Ek(o),o=ng(t,e,n,r),o===null&&$p(t,e,r,ud,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else $p(t,e,r,null,n)}}var ud=null;function ng(t,e,n,r){if(ud=null,t=Bv(r),t=eo(t),t!==null)if(e=No(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ud=t,null}function Ck(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mR()){case Vv:return 1;case bk:return 4;case ad:case gR:return 16;case wk:return 536870912;default:return 16}default:return 16}}var li=null,zv=null,Hc=null;function Pk(){if(Hc)return Hc;var t,e=zv,n=e.length,r,i="value"in li?li.value:li.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Hc=i.slice(t,1<r?1-r:void 0)}function zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lc(){return!0}function _b(){return!1}function _n(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?lc:_b,this.isPropagationStopped=_b,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),e}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wv=_n(fs),Mu=Qe({},fs,{view:0,detail:0}),CR=_n(Mu),kp,Np,$s,eh=Qe({},Mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$s&&($s&&t.type==="mousemove"?(kp=t.screenX-$s.screenX,Np=t.screenY-$s.screenY):Np=kp=0,$s=t),kp)},movementY:function(t){return"movementY"in t?t.movementY:Np}}),Sb=_n(eh),PR=Qe({},eh,{dataTransfer:0}),IR=_n(PR),OR=Qe({},Mu,{relatedTarget:0}),Cp=_n(OR),jR=Qe({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),RR=_n(jR),MR=Qe({},fs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$R=_n(MR),DR=Qe({},fs,{data:0}),Eb=_n(DR),LR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FR[t])?!!e[t]:!1}function Kv(){return BR}var VR=Qe({},Mu,{key:function(t){if(t.key){var e=LR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kv,charCode:function(t){return t.type==="keypress"?zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qR=_n(VR),GR=Qe({},eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tb=_n(GR),HR=Qe({},Mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kv}),zR=_n(HR),WR=Qe({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),KR=_n(WR),JR=Qe({},eh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YR=_n(JR),XR=[9,13,27,32],Jv=$r&&"CompositionEvent"in window,sl=null;$r&&"documentMode"in document&&(sl=document.documentMode);var QR=$r&&"TextEvent"in window&&!sl,Ik=$r&&(!Jv||sl&&8<sl&&11>=sl),Ab=" ",kb=!1;function Ok(t,e){switch(t){case"keyup":return XR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ta=!1;function ZR(t,e){switch(t){case"compositionend":return jk(e);case"keypress":return e.which!==32?null:(kb=!0,Ab);case"textInput":return t=e.data,t===Ab&&kb?null:t;default:return null}}function eM(t,e){if(ta)return t==="compositionend"||!Jv&&Ok(t,e)?(t=Pk(),Hc=zv=li=null,ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ik&&e.locale!=="ko"?null:e.data;default:return null}}var tM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tM[t.type]:e==="textarea"}function Rk(t,e,n,r){dk(r),e=cd(e,"onChange"),0<e.length&&(n=new Wv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ll=null,Pl=null;function nM(t){Hk(t,0)}function th(t){var e=ia(t);if(ik(e))return t}function rM(t,e){if(t==="change")return e}var Mk=!1;if($r){var Pp;if($r){var Ip="oninput"in document;if(!Ip){var Cb=document.createElement("div");Cb.setAttribute("oninput","return;"),Ip=typeof Cb.oninput=="function"}Pp=Ip}else Pp=!1;Mk=Pp&&(!document.documentMode||9<document.documentMode)}function Pb(){ll&&(ll.detachEvent("onpropertychange",$k),Pl=ll=null)}function $k(t){if(t.propertyName==="value"&&th(Pl)){var e=[];Rk(e,Pl,t,Bv(t)),mk(nM,e)}}function iM(t,e,n){t==="focusin"?(Pb(),ll=e,Pl=n,ll.attachEvent("onpropertychange",$k)):t==="focusout"&&Pb()}function oM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return th(Pl)}function aM(t,e){if(t==="click")return th(e)}function sM(t,e){if(t==="input"||t==="change")return th(e)}function lM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:lM;function Il(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lm.call(e,i)||!rr(t[i],e[i]))return!1}return!0}function Ib(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ob(t,e){var n=Ib(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ib(n)}}function Dk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lk(){for(var t=window,e=rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rd(t.document)}return e}function Yv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uM(t){var e=Lk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dk(n.ownerDocument.documentElement,n)){if(r!==null&&Yv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Ob(n,o);var a=Ob(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cM=$r&&"documentMode"in document&&11>=document.documentMode,na=null,rg=null,ul=null,ig=!1;function jb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ig||na==null||na!==rd(r)||(r=na,"selectionStart"in r&&Yv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ul&&Il(ul,r)||(ul=r,r=cd(rg,"onSelect"),0<r.length&&(e=new Wv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=na)))}function uc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ra={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},Op={},Uk={};$r&&(Uk=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function nh(t){if(Op[t])return Op[t];if(!ra[t])return t;var e=ra[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Uk)return Op[t]=e[n];return t}var Fk=nh("animationend"),Bk=nh("animationiteration"),Vk=nh("animationstart"),qk=nh("transitionend"),Gk=new Map,Rb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(t,e){Gk.set(t,e),ko(e,[t])}for(var jp=0;jp<Rb.length;jp++){var Rp=Rb[jp],dM=Rp.toLowerCase(),fM=Rp[0].toUpperCase()+Rp.slice(1);Ni(dM,"on"+fM)}Ni(Fk,"onAnimationEnd");Ni(Bk,"onAnimationIteration");Ni(Vk,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(qk,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hM=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function Mb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dR(r,e,void 0,t),t.currentTarget=null}function Hk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Mb(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Mb(i,s,u),o=l}}}if(od)throw t=Zm,od=!1,Zm=null,t}function Ve(t,e){var n=e[ug];n===void 0&&(n=e[ug]=new Set);var r=t+"__bubble";n.has(r)||(zk(e,t,2,!1),n.add(r))}function Mp(t,e,n){var r=0;e&&(r|=4),zk(n,t,r,e)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Ol(t){if(!t[cc]){t[cc]=!0,ZA.forEach(function(n){n!=="selectionchange"&&(hM.has(n)||Mp(n,!1,t),Mp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cc]||(e[cc]=!0,Mp("selectionchange",!1,e))}}function zk(t,e,n,r){switch(Ck(e)){case 1:var i=kR;break;case 4:i=NR;break;default:i=Hv}n=i.bind(null,e,n,t),i=void 0,!Qm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $p(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=eo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}mk(function(){var u=o,d=Bv(n),f=[];e:{var h=Gk.get(t);if(h!==void 0){var g=Wv,v=t;switch(t){case"keypress":if(zc(n)===0)break e;case"keydown":case"keyup":g=qR;break;case"focusin":v="focus",g=Cp;break;case"focusout":v="blur",g=Cp;break;case"beforeblur":case"afterblur":g=Cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Sb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=IR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zR;break;case Fk:case Bk:case Vk:g=RR;break;case qk:g=KR;break;case"scroll":g=CR;break;case"wheel":g=YR;break;case"copy":case"cut":case"paste":g=$R;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Tb}var y=(e&4)!==0,w=!y&&t==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var x=u,_;x!==null;){_=x;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,b!==null&&(T=Al(x,b),T!=null&&y.push(jl(x,T,_)))),w)break;x=x.return}0<y.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Ym&&(v=n.relatedTarget||n.fromElement)&&(eo(v)||v[Dr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?eo(v):null,v!==null&&(w=No(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=Sb,T="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=Tb,T="onPointerLeave",b="onPointerEnter",x="pointer"),w=g==null?h:ia(g),_=v==null?h:ia(v),h=new y(T,x+"leave",g,n,d),h.target=w,h.relatedTarget=_,T=null,eo(d)===u&&(y=new y(b,x+"enter",v,n,d),y.target=_,y.relatedTarget=w,T=y),w=T,g&&v)t:{for(y=g,b=v,x=0,_=y;_;_=Lo(_))x++;for(_=0,T=b;T;T=Lo(T))_++;for(;0<x-_;)y=Lo(y),x--;for(;0<_-x;)b=Lo(b),_--;for(;x--;){if(y===b||b!==null&&y===b.alternate)break t;y=Lo(y),b=Lo(b)}y=null}else y=null;g!==null&&$b(f,h,g,y,!1),v!==null&&w!==null&&$b(f,w,v,y,!0)}}e:{if(h=u?ia(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=rM;else if(Nb(h))if(Mk)S=sM;else{S=oM;var E=iM}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=aM);if(S&&(S=S(t,u))){Rk(f,S,n,d);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Hm(h,"number",h.value)}switch(E=u?ia(u):window,t){case"focusin":(Nb(E)||E.contentEditable==="true")&&(na=E,rg=u,ul=null);break;case"focusout":ul=rg=na=null;break;case"mousedown":ig=!0;break;case"contextmenu":case"mouseup":case"dragend":ig=!1,jb(f,n,d);break;case"selectionchange":if(cM)break;case"keydown":case"keyup":jb(f,n,d)}var A;if(Jv)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ta?Ok(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Ik&&n.locale!=="ko"&&(ta||k!=="onCompositionStart"?k==="onCompositionEnd"&&ta&&(A=Pk()):(li=d,zv="value"in li?li.value:li.textContent,ta=!0)),E=cd(u,k),0<E.length&&(k=new Eb(k,t,null,n,d),f.push({event:k,listeners:E}),A?k.data=A:(A=jk(n),A!==null&&(k.data=A)))),(A=QR?ZR(t,n):eM(t,n))&&(u=cd(u,"onBeforeInput"),0<u.length&&(d=new Eb("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}Hk(f,e)})}function jl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Al(t,n),o!=null&&r.unshift(jl(t,o,i)),o=Al(t,e),o!=null&&r.push(jl(t,o,i))),t=t.return}return r}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $b(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Al(n,o),l!=null&&a.unshift(jl(n,l,s))):i||(l=Al(n,o),l!=null&&a.push(jl(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var pM=/\r\n?/g,mM=/\u0000|\uFFFD/g;function Db(t){return(typeof t=="string"?t:""+t).replace(pM,`
`).replace(mM,"")}function dc(t,e,n){if(e=Db(e),Db(t)!==e&&n)throw Error(J(425))}function dd(){}var og=null,ag=null;function sg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lg=typeof setTimeout=="function"?setTimeout:void 0,gM=typeof clearTimeout=="function"?clearTimeout:void 0,Lb=typeof Promise=="function"?Promise:void 0,yM=typeof queueMicrotask=="function"?queueMicrotask:typeof Lb<"u"?function(t){return Lb.resolve(null).then(t).catch(vM)}:lg;function vM(t){setTimeout(function(){throw t})}function Dp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cl(e)}function yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ub(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hs=Math.random().toString(36).slice(2),ur="__reactFiber$"+hs,Rl="__reactProps$"+hs,Dr="__reactContainer$"+hs,ug="__reactEvents$"+hs,xM="__reactListeners$"+hs,bM="__reactHandles$"+hs;function eo(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ub(t);t!==null;){if(n=t[ur])return n;t=Ub(t)}return e}t=n,n=t.parentNode}return null}function $u(t){return t=t[ur]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function rh(t){return t[Rl]||null}var cg=[],oa=-1;function Ci(t){return{current:t}}function He(t){0>oa||(t.current=cg[oa],cg[oa]=null,oa--)}function Fe(t,e){oa++,cg[oa]=t.current,t.current=e}var Ti={},Ut=Ci(Ti),tn=Ci(!1),mo=Ti;function ja(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nn(t){return t=t.childContextTypes,t!=null}function fd(){He(tn),He(Ut)}function Fb(t,e,n){if(Ut.current!==Ti)throw Error(J(168));Fe(Ut,e),Fe(tn,n)}function Wk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,iR(t)||"Unknown",i));return Qe({},n,r)}function hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,mo=Ut.current,Fe(Ut,t),Fe(tn,tn.current),!0}function Bb(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=Wk(t,e,mo),r.__reactInternalMemoizedMergedChildContext=t,He(tn),He(Ut),Fe(Ut,t)):He(tn),Fe(tn,n)}var Ar=null,ih=!1,Lp=!1;function Kk(t){Ar===null?Ar=[t]:Ar.push(t)}function wM(t){ih=!0,Kk(t)}function Pi(){if(!Lp&&Ar!==null){Lp=!0;var t=0,e=Ie;try{var n=Ar;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,ih=!1}catch(i){throw Ar!==null&&(Ar=Ar.slice(t+1)),xk(Vv,Pi),i}finally{Ie=e,Lp=!1}}return null}var aa=[],sa=0,pd=null,md=0,An=[],kn=0,go=null,kr=1,Nr="";function Gi(t,e){aa[sa++]=md,aa[sa++]=pd,pd=t,md=e}function Jk(t,e,n){An[kn++]=kr,An[kn++]=Nr,An[kn++]=go,go=t;var r=kr;t=Nr;var i=32-Qn(r)-1;r&=~(1<<i),n+=1;var o=32-Qn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,kr=1<<32-Qn(e)+i|n<<i|r,Nr=o+t}else kr=1<<o|n<<i|r,Nr=t}function Xv(t){t.return!==null&&(Gi(t,1),Jk(t,1,0))}function Qv(t){for(;t===pd;)pd=aa[--sa],aa[sa]=null,md=aa[--sa],aa[sa]=null;for(;t===go;)go=An[--kn],An[kn]=null,Nr=An[--kn],An[kn]=null,kr=An[--kn],An[kn]=null}var gn=null,mn=null,ze=!1,Yn=null;function Yk(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,mn=yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=go!==null?{id:kr,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gn=t,mn=null,!0):!1;default:return!1}}function dg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fg(t){if(ze){var e=mn;if(e){var n=e;if(!Vb(t,e)){if(dg(t))throw Error(J(418));e=yi(n.nextSibling);var r=gn;e&&Vb(t,e)?Yk(r,n):(t.flags=t.flags&-4097|2,ze=!1,gn=t)}}else{if(dg(t))throw Error(J(418));t.flags=t.flags&-4097|2,ze=!1,gn=t}}}function qb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function fc(t){if(t!==gn)return!1;if(!ze)return qb(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sg(t.type,t.memoizedProps)),e&&(e=mn)){if(dg(t))throw Xk(),Error(J(418));for(;e;)Yk(t,e),e=yi(e.nextSibling)}if(qb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mn=yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mn=null}}else mn=gn?yi(t.stateNode.nextSibling):null;return!0}function Xk(){for(var t=mn;t;)t=yi(t.nextSibling)}function Ra(){mn=gn=null,ze=!1}function Zv(t){Yn===null?Yn=[t]:Yn.push(t)}var _M=Gr.ReactCurrentBatchConfig;function Ds(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function hc(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gb(t){var e=t._init;return e(t._payload)}function Qk(t){function e(b,x){if(t){var _=b.deletions;_===null?(b.deletions=[x],b.flags|=16):_.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=wi(b,x),b.index=0,b.sibling=null,b}function o(b,x,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<x?(b.flags|=2,x):_):(b.flags|=2,x)):(b.flags|=1048576,x)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,x,_,T){return x===null||x.tag!==6?(x=Hp(_,b.mode,T),x.return=b,x):(x=i(x,_),x.return=b,x)}function l(b,x,_,T){var S=_.type;return S===ea?d(b,x,_.props.children,T,_.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zr&&Gb(S)===x.type)?(T=i(x,_.props),T.ref=Ds(b,x,_),T.return=b,T):(T=Zc(_.type,_.key,_.props,null,b.mode,T),T.ref=Ds(b,x,_),T.return=b,T)}function u(b,x,_,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=zp(_,b.mode,T),x.return=b,x):(x=i(x,_.children||[]),x.return=b,x)}function d(b,x,_,T,S){return x===null||x.tag!==7?(x=uo(_,b.mode,T,S),x.return=b,x):(x=i(x,_),x.return=b,x)}function f(b,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Hp(""+x,b.mode,_),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case nc:return _=Zc(x.type,x.key,x.props,null,b.mode,_),_.ref=Ds(b,null,x),_.return=b,_;case Zo:return x=zp(x,b.mode,_),x.return=b,x;case Zr:var T=x._init;return f(b,T(x._payload),_)}if(Zs(x)||Os(x))return x=uo(x,b.mode,_,null),x.return=b,x;hc(b,x)}return null}function h(b,x,_,T){var S=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(b,x,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case nc:return _.key===S?l(b,x,_,T):null;case Zo:return _.key===S?u(b,x,_,T):null;case Zr:return S=_._init,h(b,x,S(_._payload),T)}if(Zs(_)||Os(_))return S!==null?null:d(b,x,_,T,null);hc(b,_)}return null}function g(b,x,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return b=b.get(_)||null,s(x,b,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case nc:return b=b.get(T.key===null?_:T.key)||null,l(x,b,T,S);case Zo:return b=b.get(T.key===null?_:T.key)||null,u(x,b,T,S);case Zr:var E=T._init;return g(b,x,_,E(T._payload),S)}if(Zs(T)||Os(T))return b=b.get(_)||null,d(x,b,T,S,null);hc(x,T)}return null}function v(b,x,_,T){for(var S=null,E=null,A=x,k=x=0,C=null;A!==null&&k<_.length;k++){A.index>k?(C=A,A=null):C=A.sibling;var P=h(b,A,_[k],T);if(P===null){A===null&&(A=C);break}t&&A&&P.alternate===null&&e(b,A),x=o(P,x,k),E===null?S=P:E.sibling=P,E=P,A=C}if(k===_.length)return n(b,A),ze&&Gi(b,k),S;if(A===null){for(;k<_.length;k++)A=f(b,_[k],T),A!==null&&(x=o(A,x,k),E===null?S=A:E.sibling=A,E=A);return ze&&Gi(b,k),S}for(A=r(b,A);k<_.length;k++)C=g(A,b,k,_[k],T),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?k:C.key),x=o(C,x,k),E===null?S=C:E.sibling=C,E=C);return t&&A.forEach(function(O){return e(b,O)}),ze&&Gi(b,k),S}function y(b,x,_,T){var S=Os(_);if(typeof S!="function")throw Error(J(150));if(_=S.call(_),_==null)throw Error(J(151));for(var E=S=null,A=x,k=x=0,C=null,P=_.next();A!==null&&!P.done;k++,P=_.next()){A.index>k?(C=A,A=null):C=A.sibling;var O=h(b,A,P.value,T);if(O===null){A===null&&(A=C);break}t&&A&&O.alternate===null&&e(b,A),x=o(O,x,k),E===null?S=O:E.sibling=O,E=O,A=C}if(P.done)return n(b,A),ze&&Gi(b,k),S;if(A===null){for(;!P.done;k++,P=_.next())P=f(b,P.value,T),P!==null&&(x=o(P,x,k),E===null?S=P:E.sibling=P,E=P);return ze&&Gi(b,k),S}for(A=r(b,A);!P.done;k++,P=_.next())P=g(A,b,k,P.value,T),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?k:P.key),x=o(P,x,k),E===null?S=P:E.sibling=P,E=P);return t&&A.forEach(function($){return e(b,$)}),ze&&Gi(b,k),S}function w(b,x,_,T){if(typeof _=="object"&&_!==null&&_.type===ea&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case nc:e:{for(var S=_.key,E=x;E!==null;){if(E.key===S){if(S=_.type,S===ea){if(E.tag===7){n(b,E.sibling),x=i(E,_.props.children),x.return=b,b=x;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zr&&Gb(S)===E.type){n(b,E.sibling),x=i(E,_.props),x.ref=Ds(b,E,_),x.return=b,b=x;break e}n(b,E);break}else e(b,E);E=E.sibling}_.type===ea?(x=uo(_.props.children,b.mode,T,_.key),x.return=b,b=x):(T=Zc(_.type,_.key,_.props,null,b.mode,T),T.ref=Ds(b,x,_),T.return=b,b=T)}return a(b);case Zo:e:{for(E=_.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(b,x.sibling),x=i(x,_.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else e(b,x);x=x.sibling}x=zp(_,b.mode,T),x.return=b,b=x}return a(b);case Zr:return E=_._init,w(b,x,E(_._payload),T)}if(Zs(_))return v(b,x,_,T);if(Os(_))return y(b,x,_,T);hc(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(b,x.sibling),x=i(x,_),x.return=b,b=x):(n(b,x),x=Hp(_,b.mode,T),x.return=b,b=x),a(b)):n(b,x)}return w}var Ma=Qk(!0),Zk=Qk(!1),gd=Ci(null),yd=null,la=null,e0=null;function t0(){e0=la=yd=null}function n0(t){var e=gd.current;He(gd),t._currentValue=e}function hg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sa(t,e){yd=t,e0=la=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(e0!==t)if(t={context:t,memoizedValue:e,next:null},la===null){if(yd===null)throw Error(J(308));la=t,yd.dependencies={lanes:0,firstContext:t}}else la=la.next=t;return e}var to=null;function r0(t){to===null?to=[t]:to.push(t)}function eN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,r0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Lr(t,r)}function Lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ei=!1;function i0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Lr(t,n)}return i=r.interleaved,i===null?(e.next=e,r0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Lr(t,n)}function Wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qv(t,n)}}function Hb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vd(t,e,n,r){var i=t.updateQueue;ei=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,y=s;switch(h=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=Qe({},f,h);break e;case 2:ei=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);vo|=a,t.lanes=a,t.memoizedState=f}}function zb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Du={},fr=Ci(Du),Ml=Ci(Du),$l=Ci(Du);function no(t){if(t===Du)throw Error(J(174));return t}function o0(t,e){switch(Fe($l,e),Fe(Ml,t),Fe(fr,Du),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wm(e,t)}He(fr),Fe(fr,e)}function $a(){He(fr),He(Ml),He($l)}function nN(t){no($l.current);var e=no(fr.current),n=Wm(e,t.type);e!==n&&(Fe(Ml,t),Fe(fr,n))}function a0(t){Ml.current===t&&(He(fr),He(Ml))}var Ye=Ci(0);function xd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Up=[];function s0(){for(var t=0;t<Up.length;t++)Up[t]._workInProgressVersionPrimary=null;Up.length=0}var Kc=Gr.ReactCurrentDispatcher,Fp=Gr.ReactCurrentBatchConfig,yo=0,Xe=null,gt=null,_t=null,bd=!1,cl=!1,Dl=0,SM=0;function jt(){throw Error(J(321))}function l0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rr(t[n],e[n]))return!1;return!0}function u0(t,e,n,r,i,o){if(yo=o,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kc.current=t===null||t.memoizedState===null?kM:NM,t=n(r,i),cl){o=0;do{if(cl=!1,Dl=0,25<=o)throw Error(J(301));o+=1,_t=gt=null,e.updateQueue=null,Kc.current=CM,t=n(r,i)}while(cl)}if(Kc.current=wd,e=gt!==null&&gt.next!==null,yo=0,_t=gt=Xe=null,bd=!1,e)throw Error(J(300));return t}function c0(){var t=Dl!==0;return Dl=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Xe.memoizedState=_t=t:_t=_t.next=t,_t}function Mn(){if(gt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=_t===null?Xe.memoizedState:_t.next;if(e!==null)_t=e,gt=t;else{if(t===null)throw Error(J(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},_t===null?Xe.memoizedState=_t=t:_t=_t.next=t}return _t}function Ll(t,e){return typeof e=="function"?e(t):e}function Bp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var d=u.lane;if((yo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Xe.lanes|=d,vo|=d}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,rr(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Xe.lanes|=o,vo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);rr(o,e.memoizedState)||(Qt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function rN(){}function iN(t,e){var n=Xe,r=Mn(),i=e(),o=!rr(r.memoizedState,i);if(o&&(r.memoizedState=i,Qt=!0),r=r.queue,d0(sN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Ul(9,aN.bind(null,n,r,i,e),void 0,null),Et===null)throw Error(J(349));yo&30||oN(n,e,i)}return i}function oN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aN(t,e,n,r){e.value=n,e.getSnapshot=r,lN(e)&&uN(t)}function sN(t,e,n){return n(function(){lN(e)&&uN(t)})}function lN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rr(t,n)}catch{return!0}}function uN(t){var e=Lr(t,1);e!==null&&Zn(e,t,1,-1)}function Wb(t){var e=sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:t},e.queue=t,t=t.dispatch=AM.bind(null,Xe,t),[e.memoizedState,t]}function Ul(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cN(){return Mn().memoizedState}function Jc(t,e,n,r){var i=sr();Xe.flags|=t,i.memoizedState=Ul(1|e,n,void 0,r===void 0?null:r)}function oh(t,e,n,r){var i=Mn();r=r===void 0?null:r;var o=void 0;if(gt!==null){var a=gt.memoizedState;if(o=a.destroy,r!==null&&l0(r,a.deps)){i.memoizedState=Ul(e,n,o,r);return}}Xe.flags|=t,i.memoizedState=Ul(1|e,n,o,r)}function Kb(t,e){return Jc(8390656,8,t,e)}function d0(t,e){return oh(2048,8,t,e)}function dN(t,e){return oh(4,2,t,e)}function fN(t,e){return oh(4,4,t,e)}function hN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pN(t,e,n){return n=n!=null?n.concat([t]):null,oh(4,4,hN.bind(null,e,t),n)}function f0(){}function mN(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&l0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gN(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&l0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yN(t,e,n){return yo&21?(rr(n,e)||(n=_k(),Xe.lanes|=n,vo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function EM(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=Fp.transition;Fp.transition={};try{t(!1),e()}finally{Ie=n,Fp.transition=r}}function vN(){return Mn().memoizedState}function TM(t,e,n){var r=bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xN(t))bN(e,n);else if(n=eN(t,e,n,r),n!==null){var i=zt();Zn(n,t,r,i),wN(n,e,r)}}function AM(t,e,n){var r=bi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xN(t))bN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,rr(s,a)){var l=e.interleaved;l===null?(i.next=i,r0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=eN(t,e,i,r),n!==null&&(i=zt(),Zn(n,t,r,i),wN(n,e,r))}}function xN(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function bN(t,e){cl=bd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qv(t,n)}}var wd={readContext:Rn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},kM={readContext:Rn,useCallback:function(t,e){return sr().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:Kb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jc(4194308,4,hN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jc(4,2,t,e)},useMemo:function(t,e){var n=sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TM.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=sr();return t={current:t},e.memoizedState=t},useState:Wb,useDebugValue:f0,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=Wb(!1),e=t[0];return t=EM.bind(null,t[1]),sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=sr();if(ze){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Et===null)throw Error(J(349));yo&30||oN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Kb(sN.bind(null,r,o,t),[t]),r.flags|=2048,Ul(9,aN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=sr(),e=Et.identifierPrefix;if(ze){var n=Nr,r=kr;n=(r&~(1<<32-Qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NM={readContext:Rn,useCallback:mN,useContext:Rn,useEffect:d0,useImperativeHandle:pN,useInsertionEffect:dN,useLayoutEffect:fN,useMemo:gN,useReducer:Bp,useRef:cN,useState:function(){return Bp(Ll)},useDebugValue:f0,useDeferredValue:function(t){var e=Mn();return yN(e,gt.memoizedState,t)},useTransition:function(){var t=Bp(Ll)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:rN,useSyncExternalStore:iN,useId:vN,unstable_isNewReconciler:!1},CM={readContext:Rn,useCallback:mN,useContext:Rn,useEffect:d0,useImperativeHandle:pN,useInsertionEffect:dN,useLayoutEffect:fN,useMemo:gN,useReducer:Vp,useRef:cN,useState:function(){return Vp(Ll)},useDebugValue:f0,useDeferredValue:function(t){var e=Mn();return gt===null?e.memoizedState=t:yN(e,gt.memoizedState,t)},useTransition:function(){var t=Vp(Ll)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:rN,useSyncExternalStore:iN,useId:vN,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ah={isMounted:function(t){return(t=t._reactInternals)?No(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),i=bi(t),o=Or(r,i);o.payload=e,n!=null&&(o.callback=n),e=vi(t,o,i),e!==null&&(Zn(e,t,i,r),Wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),i=bi(t),o=Or(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=vi(t,o,i),e!==null&&(Zn(e,t,i,r),Wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=bi(t),i=Or(n,r);i.tag=2,e!=null&&(i.callback=e),e=vi(t,i,r),e!==null&&(Zn(e,t,r,n),Wc(e,t,r))}};function Jb(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Il(n,r)||!Il(i,o):!0}function _N(t,e,n){var r=!1,i=Ti,o=e.contextType;return typeof o=="object"&&o!==null?o=Rn(o):(i=nn(e)?mo:Ut.current,r=e.contextTypes,o=(r=r!=null)?ja(t,i):Ti),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ah,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Yb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ah.enqueueReplaceState(e,e.state,null)}function mg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},i0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Rn(o):(o=nn(e)?mo:Ut.current,i.context=ja(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(pg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ah.enqueueReplaceState(i,i.state,null),vd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Da(t,e){try{var n="",r=e;do n+=rR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function qp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PM=typeof WeakMap=="function"?WeakMap:Map;function SN(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sd||(Sd=!0,Ag=r),gg(t,e)},n}function EN(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){gg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){gg(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Xb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=GM.bind(null,t,e,n),e.then(t,t))}function Qb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,vi(n,e,1))),n.lanes|=1),t)}var IM=Gr.ReactCurrentOwner,Qt=!1;function Bt(t,e,n,r){e.child=t===null?Zk(e,null,n,r):Ma(e,t.child,n,r)}function ew(t,e,n,r,i){n=n.render;var o=e.ref;return Sa(e,i),r=u0(t,e,n,r,o,i),n=c0(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(ze&&n&&Xv(e),e.flags|=1,Bt(t,e,r,i),e.child)}function tw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!b0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,TN(t,e,o,r,i)):(t=Zc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Il,n(a,r)&&t.ref===e.ref)return Ur(t,e,i)}return e.flags|=1,t=wi(o,r),t.ref=e.ref,t.return=e,e.child=t}function TN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Il(o,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,Ur(t,e,i)}return yg(t,e,n,r,i)}function AN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(ca,un),un|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(ca,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Fe(ca,un),un|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Fe(ca,un),un|=r;return Bt(t,e,i,n),e.child}function kN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yg(t,e,n,r,i){var o=nn(n)?mo:Ut.current;return o=ja(e,o),Sa(e,i),n=u0(t,e,n,r,o,i),r=c0(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(ze&&r&&Xv(e),e.flags|=1,Bt(t,e,n,i),e.child)}function nw(t,e,n,r,i){if(nn(n)){var o=!0;hd(e)}else o=!1;if(Sa(e,i),e.stateNode===null)Yc(t,e),_N(e,n,r),mg(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rn(u):(u=nn(n)?mo:Ut.current,u=ja(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Yb(e,a,r,u),ei=!1;var h=e.memoizedState;a.state=h,vd(e,r,a,i),l=e.memoizedState,s!==r||h!==l||tn.current||ei?(typeof d=="function"&&(pg(e,n,d,r),l=e.memoizedState),(s=ei||Jb(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,tN(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Gn(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rn(l):(l=nn(n)?mo:Ut.current,l=ja(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Yb(e,a,r,l),ei=!1,h=e.memoizedState,a.state=h,vd(e,r,a,i);var v=e.memoizedState;s!==f||h!==v||tn.current||ei?(typeof g=="function"&&(pg(e,n,g,r),v=e.memoizedState),(u=ei||Jb(e,n,u,r,h,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return vg(t,e,n,r,o,i)}function vg(t,e,n,r,i,o){kN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Bb(e,n,!1),Ur(t,e,o);r=e.stateNode,IM.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ma(e,t.child,null,o),e.child=Ma(e,null,s,o)):Bt(t,e,s,o),e.memoizedState=r.state,i&&Bb(e,n,!0),e.child}function NN(t){var e=t.stateNode;e.pendingContext?Fb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fb(t,e.context,!1),o0(t,e.containerInfo)}function rw(t,e,n,r,i){return Ra(),Zv(i),e.flags|=256,Bt(t,e,n,r),e.child}var xg={dehydrated:null,treeContext:null,retryLane:0};function bg(t){return{baseLanes:t,cachePool:null,transitions:null}}function CN(t,e,n){var r=e.pendingProps,i=Ye.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Ye,i&1),t===null)return fg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=uh(a,r,0,null),t=uo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=bg(n),e.memoizedState=xg,t):h0(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return OM(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=wi(s,o):(o=uo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?bg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=xg,r}return o=t.child,t=o.sibling,r=wi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function h0(t,e){return e=uh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pc(t,e,n,r){return r!==null&&Zv(r),Ma(e,t.child,null,n),t=h0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OM(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=qp(Error(J(422))),pc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=uh({mode:"visible",children:r.children},i,0,null),o=uo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ma(e,t.child,null,a),e.child.memoizedState=bg(a),e.memoizedState=xg,o);if(!(e.mode&1))return pc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=qp(o,r,void 0),pc(t,e,a,r)}if(s=(a&t.childLanes)!==0,Qt||s){if(r=Et,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Lr(t,i),Zn(r,t,i,-1))}return x0(),r=qp(Error(J(421))),pc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=HM.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,mn=yi(i.nextSibling),gn=e,ze=!0,Yn=null,t!==null&&(An[kn++]=kr,An[kn++]=Nr,An[kn++]=go,kr=t.id,Nr=t.overflow,go=e),e=h0(e,r.children),e.flags|=4096,e)}function iw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hg(t.return,e,n)}function Gp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function PN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Bt(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iw(t,n,e);else if(t.tag===19)iw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gp(e,!0,n,null,o);break;case"together":Gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jM(t,e,n){switch(e.tag){case 3:NN(e),Ra();break;case 5:nN(e);break;case 1:nn(e.type)&&hd(e);break;case 4:o0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(gd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?CN(t,e,n):(Fe(Ye,Ye.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,AN(t,e,n)}return Ur(t,e,n)}var IN,wg,ON,jN;IN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wg=function(){};ON=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,no(fr.current);var o=null;switch(n){case"input":i=qm(t,i),r=qm(t,r),o=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),o=[];break;case"textarea":i=zm(t,i),r=zm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dd)}Km(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};jN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ls(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RM(t,e,n){var r=e.pendingProps;switch(Qv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return nn(e.type)&&fd(),Rt(e),null;case 3:return r=e.stateNode,$a(),He(tn),He(Ut),s0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&(Cg(Yn),Yn=null))),wg(t,e),Rt(e),null;case 5:a0(e);var i=no($l.current);if(n=e.type,t!==null&&e.stateNode!=null)ON(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Rt(e),null}if(t=no(fr.current),fc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ur]=e,r[Rl]=o,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<tl.length;i++)Ve(tl[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":hb(r,o),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",r);break;case"textarea":mb(r,o),Ve("invalid",r)}Km(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&dc(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&dc(r.textContent,s,t),i=["children",""+s]):El.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ve("scroll",r)}switch(n){case"input":rc(r),pb(r,o,!0);break;case"textarea":rc(r),gb(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=dd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ur]=e,t[Rl]=r,IN(t,e,!1,!1),e.stateNode=t;e:{switch(a=Jm(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<tl.length;i++)Ve(tl[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":hb(t,r),i=qm(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":mb(t,r),i=zm(t,r),Ve("invalid",t);break;default:i=r}Km(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?ck(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tl(t,l):typeof l=="number"&&Tl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(El.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ve("scroll",t):l!=null&&Dv(t,o,l,a))}switch(n){case"input":rc(t),pb(t,r,!1);break;case"textarea":rc(t),gb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ei(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?xa(t,!!r.multiple,o,!1):r.defaultValue!=null&&xa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)jN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=no($l.current),no(fr.current),fc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(o=r.nodeValue!==n)&&(t=gn,t!==null))switch(t.tag){case 3:dc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return Rt(e),null;case 13:if(He(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&mn!==null&&e.mode&1&&!(e.flags&128))Xk(),Ra(),e.flags|=98560,o=!1;else if(o=fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[ur]=e}else Ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),o=!1}else Yn!==null&&(Cg(Yn),Yn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?vt===0&&(vt=3):x0())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return $a(),wg(t,e),t===null&&Ol(e.stateNode.containerInfo),Rt(e),null;case 10:return n0(e.type._context),Rt(e),null;case 17:return nn(e.type)&&fd(),Rt(e),null;case 19:if(He(Ye),o=e.memoizedState,o===null)return Rt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Ls(o,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xd(t),a!==null){for(e.flags|=128,Ls(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ye,Ye.current&1|2),e.child}t=t.sibling}o.tail!==null&&ot()>La&&(e.flags|=128,r=!0,Ls(o,!1),e.lanes=4194304)}else{if(!r)if(t=xd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ls(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ze)return Rt(e),null}else 2*ot()-o.renderingStartTime>La&&n!==1073741824&&(e.flags|=128,r=!0,Ls(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ot(),e.sibling=null,n=Ye.current,Fe(Ye,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return v0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function MM(t,e){switch(Qv(e),e.tag){case 1:return nn(e.type)&&fd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),He(tn),He(Ut),s0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return a0(e),null;case 13:if(He(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Ye),null;case 4:return $a(),null;case 10:return n0(e.type._context),null;case 22:case 23:return v0(),null;case 24:return null;default:return null}}var mc=!1,$t=!1,$M=typeof WeakSet=="function"?WeakSet:Set,re=null;function ua(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function _g(t,e,n){try{n()}catch(r){tt(t,e,r)}}var ow=!1;function DM(t,e){if(og=ld,t=Lk(),Yv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++d===r&&(l=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ag={focusedElem:t,selectionRange:n},ld=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:Gn(e.type,y),w);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(T){tt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return v=ow,ow=!1,v}function dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&_g(e,n,o)}i=i.next}while(i!==r)}}function sh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function RN(t){var e=t.alternate;e!==null&&(t.alternate=null,RN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[Rl],delete e[ug],delete e[xM],delete e[bM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MN(t){return t.tag===5||t.tag===3||t.tag===4}function aw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dd));else if(r!==4&&(t=t.child,t!==null))for(Eg(t,e,n),t=t.sibling;t!==null;)Eg(t,e,n),t=t.sibling}function Tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tg(t,e,n),t=t.sibling;t!==null;)Tg(t,e,n),t=t.sibling}var Pt=null,zn=!1;function Qr(t,e,n){for(n=n.child;n!==null;)$N(t,e,n),n=n.sibling}function $N(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Zf,n)}catch{}switch(n.tag){case 5:$t||ua(n,e);case 6:var r=Pt,i=zn;Pt=null,Qr(t,e,n),Pt=r,zn=i,Pt!==null&&(zn?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(zn?(t=Pt,n=n.stateNode,t.nodeType===8?Dp(t.parentNode,n):t.nodeType===1&&Dp(t,n),Cl(t)):Dp(Pt,n.stateNode));break;case 4:r=Pt,i=zn,Pt=n.stateNode.containerInfo,zn=!0,Qr(t,e,n),Pt=r,zn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&_g(n,e,a),i=i.next}while(i!==r)}Qr(t,e,n);break;case 1:if(!$t&&(ua(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){tt(n,e,s)}Qr(t,e,n);break;case 21:Qr(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,Qr(t,e,n),$t=r):Qr(t,e,n);break;default:Qr(t,e,n)}}function sw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $M),e.forEach(function(r){var i=zM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Pt=s.stateNode,zn=!1;break e;case 3:Pt=s.stateNode.containerInfo,zn=!0;break e;case 4:Pt=s.stateNode.containerInfo,zn=!0;break e}s=s.return}if(Pt===null)throw Error(J(160));$N(o,a,i),Pt=null,zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DN(e,t),e=e.sibling}function DN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),ar(t),r&4){try{dl(3,t,t.return),sh(3,t)}catch(y){tt(t,t.return,y)}try{dl(5,t,t.return)}catch(y){tt(t,t.return,y)}}break;case 1:Bn(e,t),ar(t),r&512&&n!==null&&ua(n,n.return);break;case 5:if(Bn(e,t),ar(t),r&512&&n!==null&&ua(n,n.return),t.flags&32){var i=t.stateNode;try{Tl(i,"")}catch(y){tt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&ok(i,o),Jm(s,a);var u=Jm(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?ck(i,f):d==="dangerouslySetInnerHTML"?lk(i,f):d==="children"?Tl(i,f):Dv(i,d,f,u)}switch(s){case"input":Gm(i,o);break;case"textarea":ak(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?xa(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?xa(i,!!o.multiple,o.defaultValue,!0):xa(i,!!o.multiple,o.multiple?[]:"",!1))}i[Rl]=o}catch(y){tt(t,t.return,y)}}break;case 6:if(Bn(e,t),ar(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){tt(t,t.return,y)}}break;case 3:if(Bn(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cl(e.containerInfo)}catch(y){tt(t,t.return,y)}break;case 4:Bn(e,t),ar(t);break;case 13:Bn(e,t),ar(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(g0=ot())),r&4&&sw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?($t=(u=$t)||d,Bn(e,t),$t=u):Bn(e,t),ar(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(re=t,d=t.child;d!==null;){for(f=re=d;re!==null;){switch(h=re,g=h.child,h.tag){case 0:case 11:case 14:case 15:dl(4,h,h.return);break;case 1:ua(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){tt(r,n,y)}}break;case 5:ua(h,h.return);break;case 22:if(h.memoizedState!==null){uw(f);continue}}g!==null?(g.return=h,re=g):uw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=uk("display",a))}catch(y){tt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){tt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bn(e,t),ar(t),r&4&&sw(t);break;case 21:break;default:Bn(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MN(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tl(i,""),r.flags&=-33);var o=aw(t);Tg(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=aw(t);Eg(t,s,a);break;default:throw Error(J(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LM(t,e,n){re=t,LN(t)}function LN(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||mc;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||$t;s=mc;var u=$t;if(mc=a,($t=l)&&!u)for(re=i;re!==null;)a=re,l=a.child,a.tag===22&&a.memoizedState!==null?cw(i):l!==null?(l.return=a,re=l):cw(i);for(;o!==null;)re=o,LN(o),o=o.sibling;re=i,mc=s,$t=u}lw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,re=o):lw(t)}}function lw(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||sh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&zb(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zb(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}$t||e.flags&512&&Sg(e)}catch(h){tt(e,e.return,h)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function uw(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function cw(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sh(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var o=e.return;try{Sg(e)}catch(l){tt(e,o,l)}break;case 5:var a=e.return;try{Sg(e)}catch(l){tt(e,a,l)}}}catch(l){tt(e,e.return,l)}if(e===t){re=null;break}var s=e.sibling;if(s!==null){s.return=e.return,re=s;break}re=e.return}}var UM=Math.ceil,_d=Gr.ReactCurrentDispatcher,p0=Gr.ReactCurrentOwner,On=Gr.ReactCurrentBatchConfig,Se=0,Et=null,ct=null,It=0,un=0,ca=Ci(0),vt=0,Fl=null,vo=0,lh=0,m0=0,fl=null,Xt=null,g0=0,La=1/0,Sr=null,Sd=!1,Ag=null,xi=null,gc=!1,ui=null,Ed=0,hl=0,kg=null,Xc=-1,Qc=0;function zt(){return Se&6?ot():Xc!==-1?Xc:Xc=ot()}function bi(t){return t.mode&1?Se&2&&It!==0?It&-It:_M.transition!==null?(Qc===0&&(Qc=_k()),Qc):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:Ck(t.type)),t):1}function Zn(t,e,n,r){if(50<hl)throw hl=0,kg=null,Error(J(185));Ru(t,n,r),(!(Se&2)||t!==Et)&&(t===Et&&(!(Se&2)&&(lh|=n),vt===4&&oi(t,It)),rn(t,r),n===1&&Se===0&&!(e.mode&1)&&(La=ot()+500,ih&&Pi()))}function rn(t,e){var n=t.callbackNode;_R(t,e);var r=sd(t,t===Et?It:0);if(r===0)n!==null&&xb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xb(n),e===1)t.tag===0?wM(dw.bind(null,t)):Kk(dw.bind(null,t)),yM(function(){!(Se&6)&&Pi()}),n=null;else{switch(Sk(r)){case 1:n=Vv;break;case 4:n=bk;break;case 16:n=ad;break;case 536870912:n=wk;break;default:n=ad}n=zN(n,UN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UN(t,e){if(Xc=-1,Qc=0,Se&6)throw Error(J(327));var n=t.callbackNode;if(Ea()&&t.callbackNode!==n)return null;var r=sd(t,t===Et?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Td(t,r);else{e=r;var i=Se;Se|=2;var o=BN();(Et!==t||It!==e)&&(Sr=null,La=ot()+500,lo(t,e));do try{VM();break}catch(s){FN(t,s)}while(!0);t0(),_d.current=o,Se=i,ct!==null?e=0:(Et=null,It=0,e=vt)}if(e!==0){if(e===2&&(i=eg(t),i!==0&&(r=i,e=Ng(t,i))),e===1)throw n=Fl,lo(t,0),oi(t,r),rn(t,ot()),n;if(e===6)oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!FM(i)&&(e=Td(t,r),e===2&&(o=eg(t),o!==0&&(r=o,e=Ng(t,o))),e===1))throw n=Fl,lo(t,0),oi(t,r),rn(t,ot()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Hi(t,Xt,Sr);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=g0+500-ot(),10<e)){if(sd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lg(Hi.bind(null,t,Xt,Sr),e);break}Hi(t,Xt,Sr);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Qn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UM(r/1960))-r,10<r){t.timeoutHandle=lg(Hi.bind(null,t,Xt,Sr),r);break}Hi(t,Xt,Sr);break;case 5:Hi(t,Xt,Sr);break;default:throw Error(J(329))}}}return rn(t,ot()),t.callbackNode===n?UN.bind(null,t):null}function Ng(t,e){var n=fl;return t.current.memoizedState.isDehydrated&&(lo(t,e).flags|=256),t=Td(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&Cg(e)),t}function Cg(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function FM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!rr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~m0,e&=~lh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qn(e),r=1<<n;t[n]=-1,e&=~r}}function dw(t){if(Se&6)throw Error(J(327));Ea();var e=sd(t,0);if(!(e&1))return rn(t,ot()),null;var n=Td(t,e);if(t.tag!==0&&n===2){var r=eg(t);r!==0&&(e=r,n=Ng(t,r))}if(n===1)throw n=Fl,lo(t,0),oi(t,e),rn(t,ot()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,Xt,Sr),rn(t,ot()),null}function y0(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(La=ot()+500,ih&&Pi())}}function xo(t){ui!==null&&ui.tag===0&&!(Se&6)&&Ea();var e=Se;Se|=1;var n=On.transition,r=Ie;try{if(On.transition=null,Ie=1,t)return t()}finally{Ie=r,On.transition=n,Se=e,!(Se&6)&&Pi()}}function v0(){un=ca.current,He(ca)}function lo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gM(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Qv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fd();break;case 3:$a(),He(tn),He(Ut),s0();break;case 5:a0(r);break;case 4:$a();break;case 13:He(Ye);break;case 19:He(Ye);break;case 10:n0(r.type._context);break;case 22:case 23:v0()}n=n.return}if(Et=t,ct=t=wi(t.current,null),It=un=e,vt=0,Fl=null,m0=lh=vo=0,Xt=fl=null,to!==null){for(e=0;e<to.length;e++)if(n=to[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}to=null}return t}function FN(t,e){do{var n=ct;try{if(t0(),Kc.current=wd,bd){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bd=!1}if(yo=0,_t=gt=Xe=null,cl=!1,Dl=0,p0.current=null,n===null||n.return===null){vt=1,Fl=e,ct=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=It,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Qb(a);if(g!==null){g.flags&=-257,Zb(g,a,s,o,e),g.mode&1&&Xb(o,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){Xb(o,u,e),x0();break e}l=Error(J(426))}}else if(ze&&s.mode&1){var w=Qb(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Zb(w,a,s,o,e),Zv(Da(l,s));break e}}o=l=Da(l,s),vt!==4&&(vt=2),fl===null?fl=[o]:fl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=SN(o,l,e);Hb(o,b);break e;case 1:s=l;var x=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(xi===null||!xi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=EN(o,s,e);Hb(o,T);break e}}o=o.return}while(o!==null)}qN(n)}catch(S){e=S,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function BN(){var t=_d.current;return _d.current=wd,t===null?wd:t}function x0(){(vt===0||vt===3||vt===2)&&(vt=4),Et===null||!(vo&268435455)&&!(lh&268435455)||oi(Et,It)}function Td(t,e){var n=Se;Se|=2;var r=BN();(Et!==t||It!==e)&&(Sr=null,lo(t,e));do try{BM();break}catch(i){FN(t,i)}while(!0);if(t0(),Se=n,_d.current=r,ct!==null)throw Error(J(261));return Et=null,It=0,vt}function BM(){for(;ct!==null;)VN(ct)}function VM(){for(;ct!==null&&!hR();)VN(ct)}function VN(t){var e=HN(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?qN(t):ct=e,p0.current=null}function qN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MM(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ct=null;return}}else if(n=RM(n,e,un),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);vt===0&&(vt=5)}function Hi(t,e,n){var r=Ie,i=On.transition;try{On.transition=null,Ie=1,qM(t,e,n,r)}finally{On.transition=i,Ie=r}return null}function qM(t,e,n,r){do Ea();while(ui!==null);if(Se&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(SR(t,o),t===Et&&(ct=Et=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gc||(gc=!0,zN(ad,function(){return Ea(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=On.transition,On.transition=null;var a=Ie;Ie=1;var s=Se;Se|=4,p0.current=null,DM(t,n),DN(n,t),uM(ag),ld=!!og,ag=og=null,t.current=n,LM(n),pR(),Se=s,Ie=a,On.transition=o}else t.current=n;if(gc&&(gc=!1,ui=t,Ed=i),o=t.pendingLanes,o===0&&(xi=null),yR(n.stateNode),rn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sd)throw Sd=!1,t=Ag,Ag=null,t;return Ed&1&&t.tag!==0&&Ea(),o=t.pendingLanes,o&1?t===kg?hl++:(hl=0,kg=t):hl=0,Pi(),null}function Ea(){if(ui!==null){var t=Sk(Ed),e=On.transition,n=Ie;try{if(On.transition=null,Ie=16>t?16:t,ui===null)var r=!1;else{if(t=ui,ui=null,Ed=0,Se&6)throw Error(J(331));var i=Se;for(Se|=4,re=t.current;re!==null;){var o=re,a=o.child;if(re.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:dl(8,d,o)}var f=d.child;if(f!==null)f.return=d,re=f;else for(;re!==null;){d=re;var h=d.sibling,g=d.return;if(RN(d),d===u){re=null;break}if(h!==null){h.return=g,re=h;break}re=g}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}re=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,re=a;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:dl(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,re=b;break e}re=o.return}}var x=t.current;for(re=x;re!==null;){a=re;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,re=_;else e:for(a=x;re!==null;){if(s=re,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:sh(9,s)}}catch(S){tt(s,s.return,S)}if(s===a){re=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,re=T;break e}re=s.return}}if(Se=i,Pi(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Zf,t)}catch{}r=!0}return r}finally{Ie=n,On.transition=e}}return!1}function fw(t,e,n){e=Da(n,e),e=SN(t,e,1),t=vi(t,e,1),e=zt(),t!==null&&(Ru(t,1,e),rn(t,e))}function tt(t,e,n){if(t.tag===3)fw(t,t,n);else for(;e!==null;){if(e.tag===3){fw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=Da(n,t),t=EN(e,t,1),e=vi(e,t,1),t=zt(),e!==null&&(Ru(e,1,t),rn(e,t));break}}e=e.return}}function GM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(It&n)===n&&(vt===4||vt===3&&(It&130023424)===It&&500>ot()-g0?lo(t,0):m0|=n),rn(t,e)}function GN(t,e){e===0&&(t.mode&1?(e=ac,ac<<=1,!(ac&130023424)&&(ac=4194304)):e=1);var n=zt();t=Lr(t,e),t!==null&&(Ru(t,e,n),rn(t,n))}function HM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GN(t,n)}function zM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),GN(t,n)}var HN;HN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,jM(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,ze&&e.flags&1048576&&Jk(e,md,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yc(t,e),t=e.pendingProps;var i=ja(e,Ut.current);Sa(e,n),i=u0(null,e,r,t,i,n);var o=c0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(r)?(o=!0,hd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i0(e),i.updater=ah,e.stateNode=i,i._reactInternals=e,mg(e,r,t,n),e=vg(null,e,r,!0,o,n)):(e.tag=0,ze&&o&&Xv(e),Bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KM(r),t=Gn(r,t),i){case 0:e=yg(null,e,r,t,n);break e;case 1:e=nw(null,e,r,t,n);break e;case 11:e=ew(null,e,r,t,n);break e;case 14:e=tw(null,e,r,Gn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),yg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),nw(t,e,r,i,n);case 3:e:{if(NN(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,tN(t,e),vd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Da(Error(J(423)),e),e=rw(t,e,r,n,i);break e}else if(r!==i){i=Da(Error(J(424)),e),e=rw(t,e,r,n,i);break e}else for(mn=yi(e.stateNode.containerInfo.firstChild),gn=e,ze=!0,Yn=null,n=Zk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ra(),r===i){e=Ur(t,e,n);break e}Bt(t,e,r,n)}e=e.child}return e;case 5:return nN(e),t===null&&fg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,sg(r,i)?a=null:o!==null&&sg(r,o)&&(e.flags|=32),kN(t,e),Bt(t,e,a,n),e.child;case 6:return t===null&&fg(e),null;case 13:return CN(t,e,n);case 4:return o0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ma(e,null,r,n):Bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),ew(t,e,r,i,n);case 7:return Bt(t,e,e.pendingProps,n),e.child;case 8:return Bt(t,e,e.pendingProps.children,n),e.child;case 12:return Bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Fe(gd,r._currentValue),r._currentValue=a,o!==null)if(rr(o.value,a)){if(o.children===i.children&&!tn.current){e=Ur(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Or(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),hg(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),hg(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sa(e,n),i=Rn(i),r=r(i),e.flags|=1,Bt(t,e,r,n),e.child;case 14:return r=e.type,i=Gn(r,e.pendingProps),i=Gn(r.type,i),tw(t,e,r,i,n);case 15:return TN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Yc(t,e),e.tag=1,nn(r)?(t=!0,hd(e)):t=!1,Sa(e,n),_N(e,r,i),mg(e,r,i,n),vg(null,e,r,!0,t,n);case 19:return PN(t,e,n);case 22:return AN(t,e,n)}throw Error(J(156,e.tag))};function zN(t,e){return xk(t,e)}function WM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new WM(t,e,n,r)}function b0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KM(t){if(typeof t=="function")return b0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Uv)return 11;if(t===Fv)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")b0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ea:return uo(n.children,i,o,e);case Lv:a=8,i|=8;break;case Um:return t=Cn(12,n,e,i|2),t.elementType=Um,t.lanes=o,t;case Fm:return t=Cn(13,n,e,i),t.elementType=Fm,t.lanes=o,t;case Bm:return t=Cn(19,n,e,i),t.elementType=Bm,t.lanes=o,t;case nk:return uh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ek:a=10;break e;case tk:a=9;break e;case Uv:a=11;break e;case Fv:a=14;break e;case Zr:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Cn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function uo(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function uh(t,e,n,r){return t=Cn(22,t,r,e),t.elementType=nk,t.lanes=n,t.stateNode={isHidden:!1},t}function Hp(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function zp(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ap(0),this.expirationTimes=Ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ap(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function w0(t,e,n,r,i,o,a,s,l){return t=new JM(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Cn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i0(o),t}function YM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WN(t){if(!t)return Ti;t=t._reactInternals;e:{if(No(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(nn(n))return Wk(t,n,e)}return e}function KN(t,e,n,r,i,o,a,s,l){return t=w0(n,r,!0,t,i,o,a,s,l),t.context=WN(null),n=t.current,r=zt(),i=bi(n),o=Or(r,i),o.callback=e??null,vi(n,o,i),t.current.lanes=i,Ru(t,i,r),rn(t,r),t}function ch(t,e,n,r){var i=e.current,o=zt(),a=bi(i);return n=WN(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vi(i,e,a),t!==null&&(Zn(t,i,a,o),Wc(t,i,a)),a}function Ad(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _0(t,e){hw(t,e),(t=t.alternate)&&hw(t,e)}function XM(){return null}var JN=typeof reportError=="function"?reportError:function(t){console.error(t)};function S0(t){this._internalRoot=t}dh.prototype.render=S0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));ch(t,e,null,null)};dh.prototype.unmount=S0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xo(function(){ch(null,t,null,null)}),e[Dr]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ak();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&Nk(t)}};function E0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pw(){}function QM(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ad(a);o.call(u)}}var a=KN(e,r,t,0,null,!1,!1,"",pw);return t._reactRootContainer=a,t[Dr]=a.current,Ol(t.nodeType===8?t.parentNode:t),xo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Ad(l);s.call(u)}}var l=w0(t,0,!1,null,null,!1,!1,"",pw);return t._reactRootContainer=l,t[Dr]=l.current,Ol(t.nodeType===8?t.parentNode:t),xo(function(){ch(e,l,n,r)}),l}function hh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Ad(a);s.call(l)}}ch(e,a,t,i)}else a=QM(n,e,t,i,r);return Ad(a)}Ek=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=el(e.pendingLanes);n!==0&&(qv(e,n|1),rn(e,ot()),!(Se&6)&&(La=ot()+500,Pi()))}break;case 13:xo(function(){var r=Lr(t,1);if(r!==null){var i=zt();Zn(r,t,1,i)}}),_0(t,1)}};Gv=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var n=zt();Zn(e,t,134217728,n)}_0(t,134217728)}};Tk=function(t){if(t.tag===13){var e=bi(t),n=Lr(t,e);if(n!==null){var r=zt();Zn(n,t,e,r)}_0(t,e)}};Ak=function(){return Ie};kk=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};Xm=function(t,e,n){switch(e){case"input":if(Gm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rh(r);if(!i)throw Error(J(90));ik(r),Gm(r,i)}}}break;case"textarea":ak(t,n);break;case"select":e=n.value,e!=null&&xa(t,!!n.multiple,e,!1)}};hk=y0;pk=xo;var ZM={usingClientEntryPoint:!1,Events:[$u,ia,rh,dk,fk,y0]},Us={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e$={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yk(t),t===null?null:t.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||XM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Zf=yc.inject(e$),dr=yc}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZM;wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E0(e))throw Error(J(200));return YM(t,e,null,n)};wn.createRoot=function(t,e){if(!E0(t))throw Error(J(299));var n=!1,r="",i=JN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=w0(t,1,!1,null,null,n,!1,r,i),t[Dr]=e.current,Ol(t.nodeType===8?t.parentNode:t),new S0(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=yk(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return xo(t)};wn.hydrate=function(t,e,n){if(!fh(e))throw Error(J(200));return hh(null,t,e,!0,n)};wn.hydrateRoot=function(t,e,n){if(!E0(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=JN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=KN(e,null,t,1,n??null,i,!1,o,a),t[Dr]=e.current,Ol(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dh(e)};wn.render=function(t,e,n){if(!fh(e))throw Error(J(200));return hh(null,t,e,!1,n)};wn.unmountComponentAtNode=function(t){if(!fh(t))throw Error(J(40));return t._reactRootContainer?(xo(function(){hh(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};wn.unstable_batchedUpdates=y0;wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fh(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return hh(t,e,n,!1,r)};wn.version="18.3.1-next-f1338f8080-20240426";function YN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YN)}catch(t){console.error(t)}}YN(),YA.exports=wn;var t$=YA.exports,mw=t$;Dm.createRoot=mw.createRoot,Dm.hydrateRoot=mw.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bl.apply(this,arguments)}var ci;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ci||(ci={}));const gw="popstate";function n$(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:l=""}=Co(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Pg("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof o=="string"?o:XN(o))}function r(i,o){ph(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return i$(e,n,r,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ph(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r$(){return Math.random().toString(36).substr(2,8)}function yw(t,e){return{usr:t.state,key:t.key,idx:e}}function Pg(t,e,n,r){return n===void 0&&(n=null),Bl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Co(e):e,{state:n,key:e&&e.key||r||r$()})}function XN(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function i$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=ci.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Bl({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=ci.Pop;let w=d(),b=w==null?null:w-u;u=w,l&&l({action:s,location:y.location,delta:b})}function h(w,b){s=ci.Push;let x=Pg(y.location,w,b);n&&n(x,w),u=d()+1;let _=yw(x,u),T=y.createHref(x);try{a.pushState(_,"",T)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(T)}o&&l&&l({action:s,location:y.location,delta:1})}function g(w,b){s=ci.Replace;let x=Pg(y.location,w,b);n&&n(x,w),u=d();let _=yw(x,u),T=y.createHref(x);a.replaceState(_,"",T),o&&l&&l({action:s,location:y.location,delta:0})}function v(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof w=="string"?w:XN(w);return x=x.replace(/ $/,"%20"),dt(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let y={get action(){return s},get location(){return t(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gw,f),l=w,()=>{i.removeEventListener(gw,f),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let b=v(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:g,go(w){return a.go(w)}};return y}var vw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vw||(vw={}));function o$(t,e,n){return n===void 0&&(n="/"),a$(t,e,n)}function a$(t,e,n,r){let i=typeof e=="string"?Co(e):e,o=eC(i.pathname||"/",n);if(o==null)return null;let a=QN(t);s$(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=x$(o);s=g$(a[l],u)}return s}function QN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(dt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=co([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(dt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QN(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:p$(u,o.index),routesMeta:d})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of ZN(o.path))i(o,a,l)}),e}function ZN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=ZN(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function s$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:m$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l$=/^:[\w-]+$/,u$=3,c$=2,d$=1,f$=10,h$=-2,xw=t=>t==="*";function p$(t,e){let n=t.split("/"),r=n.length;return n.some(xw)&&(r+=h$),e&&(r+=c$),n.filter(i=>!xw(i)).reduce((i,o)=>i+(l$.test(o)?u$:o===""?d$:f$),r)}function m$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function g$(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=y$({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:co([o,f.pathname]),pathnameBase:E$(co([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=co([o,f.pathnameBase]))}return a}function y$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=v$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let y=s[f]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const v=s[f];return g&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function v$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ph(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function x$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ph(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const b$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w$=t=>b$.test(t);function _$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Co(t):t,o;if(n)if(w$(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),ph(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=bw(n.substring(1),"/"):o=bw(n,e)}else o=e;return{pathname:o,search:T$(r),hash:A$(i)}}function bw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tC(t,e){let n=S$(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Co(t):(i=Bl({},t),dt(!i.pathname||!i.pathname.includes("?"),Wp("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),Wp("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),Wp("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=_$(i,s),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const co=t=>t.join("/").replace(/\/\/+/g,"/"),E$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function k$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rC=["post","put","patch","delete"];new Set(rC);const N$=["get",...rC];new Set(N$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vl.apply(this,arguments)}const T0=N.createContext(null),C$=N.createContext(null),Lu=N.createContext(null),mh=N.createContext(null),Po=N.createContext({outlet:null,matches:[],isDataRoute:!1}),iC=N.createContext(null);function Uu(){return N.useContext(mh)!=null}function gh(){return Uu()||dt(!1),N.useContext(mh).location}function oC(t){N.useContext(Lu).static||N.useLayoutEffect(t)}function ps(){let{isDataRoute:t}=N.useContext(Po);return t?V$():P$()}function P$(){Uu()||dt(!1);let t=N.useContext(T0),{basename:e,future:n,navigator:r}=N.useContext(Lu),{matches:i}=N.useContext(Po),{pathname:o}=gh(),a=JSON.stringify(tC(i,n.v7_relativeSplatPath)),s=N.useRef(!1);return oC(()=>{s.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=nC(u,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:co([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,o,t])}function I$(t,e){return O$(t,e)}function O$(t,e,n,r){Uu()||dt(!1);let{navigator:i}=N.useContext(Lu),{matches:o}=N.useContext(Po),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=gh(),d;if(e){var f;let w=typeof e=="string"?Co(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||dt(!1),d=w}else d=u;let h=d.pathname||"/",g=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=o$(t,{pathname:g}),y=D$(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:co([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:co([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&y?N.createElement(mh.Provider,{value:{location:Vl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ci.Pop}},y):y}function j$(){let t=B$(),e=k$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const R$=N.createElement(j$,null);class M$ extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Po.Provider,{value:this.props.routeContext},N.createElement(iC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $$(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(T0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Po.Provider,{value:e},r)}function D$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||dt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let g,v=!1,y=null,w=null;n&&(g=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||R$,l&&(u<0&&h===0?(q$("route-fallback"),v=!0,w=null):u===h&&(v=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,h+1)),x=()=>{let _;return g?_=y:v?_=w:f.route.Component?_=N.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,N.createElement($$,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(M$,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var aC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aC||{}),sC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sC||{});function L$(t){let e=N.useContext(T0);return e||dt(!1),e}function U$(t){let e=N.useContext(C$);return e||dt(!1),e}function F$(t){let e=N.useContext(Po);return e||dt(!1),e}function lC(t){let e=F$(),n=e.matches[e.matches.length-1];return n.route.id||dt(!1),n.route.id}function B$(){var t;let e=N.useContext(iC),n=U$(),r=lC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function V$(){let{router:t}=L$(aC.UseNavigateStable),e=lC(sC.UseNavigateStable),n=N.useRef(!1);return oC(()=>{n.current=!0}),N.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vl({fromRouteId:e},o)))},[t,e])}const ww={};function q$(t,e,n){ww[t]||(ww[t]=!0)}function G$(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function st(t){let{to:e,replace:n,state:r,relative:i}=t;Uu()||dt(!1);let{future:o,static:a}=N.useContext(Lu),{matches:s}=N.useContext(Po),{pathname:l}=gh(),u=ps(),d=nC(e,tC(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function it(t){dt(!1)}function H$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ci.Pop,navigator:o,static:a=!1,future:s}=t;Uu()&&dt(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:o,static:a,future:Vl({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Co(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:v="default"}=r,y=N.useMemo(()=>{let w=eC(d,l);return w==null?null:{location:{pathname:w,search:f,hash:h,state:g,key:v},navigationType:i}},[l,d,f,h,g,v,i]);return y==null?null:N.createElement(Lu.Provider,{value:u},N.createElement(mh.Provider,{children:n,value:y}))}function z$(t){let{children:e,location:n}=t;return I$(Ig(e),n)}new Promise(()=>{});function Ig(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let o=[...e,i];if(r.type===N.Fragment){n.push.apply(n,Ig(r.props.children,o));return}r.type!==it&&dt(!1),!r.props.index||!r.props.children||dt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ig(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const W$="6";try{window.__reactRouterVersion=W$}catch{}const K$="startTransition",_w=Gj[K$];function J$(t){let{basename:e,children:n,future:r,window:i}=t,o=N.useRef();o.current==null&&(o.current=n$({window:i,v5Compat:!0}));let a=o.current,[s,l]=N.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=N.useCallback(f=>{u&&_w?_w(()=>l(f)):l(f)},[l,u]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.useEffect(()=>G$(r),[r]),N.createElement(H$,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}var Sw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Sw||(Sw={}));var Ew;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ew||(Ew={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const n=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},d)=>N.createElement("svg",{ref:d,...Y$,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${X$(t)}`,s].join(" "),...u},[...e.map(([f,h])=>N.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=Z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=Z("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Z("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Z("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Z("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=Z("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Z("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Z("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Z("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Z("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=Z("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Z("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=Z("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=Z("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Z("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=Z("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=Z("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=Z("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Z("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=Z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=Z("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Z("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Z("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Z("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Z("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Z("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Z("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kD="2.4.0",Iw=[{id:"dashboard",title:"",icon:Z$,path:"/"},{id:"shiftreport",title:" ",icon:yC,path:"/shift-report"},{id:"reports",title:"",icon:_C,path:"/reports"},{id:"inbox",title:" ",icon:Id,path:"/inbox"},{id:"messages",title:"",icon:bC,path:"/messages"},{id:"workorders",title:" ",icon:Dd,path:"/work-orders"},{id:"projects",title:"",icon:Nd,path:"/projects"},{id:"performance",title:" ",icon:A0,path:"/performance"},{id:"partrequest",title:" ",icon:jd,path:"/part-requests"},{id:"inspections",title:" ",icon:gC,path:"/inspections"},{id:"documents",title:" ",icon:kd,path:"/documents"},{id:"meetings",title:"",icon:Pd,path:"/meetings"},{id:"suggestions",title:" ",icon:Od,path:"/suggestions"},{id:"purchases",title:" ",icon:$d,path:"/purchases"},{id:"workflow",title:" ",icon:vC,path:"/workflow-designer",role:"ADMIN"},{id:"admin",title:"  ",icon:Fu,path:"/admin",role:"ADMIN"},{id:"settings",title:"",icon:O0,path:"/settings"}],ND=[{name:"",value:400},{name:"",value:300},{name:"",value:300},{name:"",value:200}],CD=[{name:"",uv:400,pv:2400},{name:"",uv:300,pv:1398},{name:"",uv:200,pv:9800},{name:"",uv:278,pv:3908},{name:"",uv:189,pv:4800},{name:"",uv:239,pv:3800}],PD=({children:t,user:e,onLogout:n,darkMode:r,toggleDarkMode:i})=>{var h;const[o,a]=N.useState(!1),s=ps(),l=gh();if(l.pathname==="/login")return c.jsx(c.Fragment,{children:t});const d=()=>{s(-1)},f=l.pathname==="/";return c.jsxs("div",{className:`flex h-screen w-full overflow-hidden ${r?"dark":""}`,children:[o&&c.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden",onClick:()=>a(!1)}),c.jsx("aside",{className:`
        fixed top-0 right-0 z-50 h-full w-64 bg-white dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out
        ${o?"translate-x-0":"translate-x-full"}
        md:relative md:translate-x-0 md:w-64 md:flex-shrink-0
      `,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-primary dark:text-red-400",children:""}),c.jsx("button",{onClick:()=>a(!1),className:"md:hidden",children:c.jsx(Ln,{className:"w-6 h-6"})})]}),c.jsxs("div",{onClick:()=>{s("/settings"),a(!1)},className:"p-4 bg-gray-50 dark:bg-gray-700 flex items-center gap-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group relative",title:" ",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-primary text-white flex items-center justify-center overflow-hidden border-2 border-transparent group-hover:border-primary transition-all",children:e!=null&&e.avatar?c.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full object-cover"}):c.jsx(R0,{})}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("p",{className:"font-medium truncate group-hover:text-primary transition-colors",children:e==null?void 0:e.fullName}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:e==null?void 0:e.role})]}),c.jsx("div",{className:"absolute left-2 text-xs text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),c.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:Iw.map(g=>{if(g.id==="settings"||g.role&&(e==null?void 0:e.role)!==g.role&&(e==null?void 0:e.role)!=="ADMIN")return null;const v=l.pathname===g.path;return c.jsxs("button",{onClick:()=>{s(g.path),a(!1)},className:`w-full flex items-center gap-3 px-6 py-3 text-right transition-colors
                    ${v?"bg-primary/10 text-primary dark:text-red-400 border-r-4 border-primary":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[c.jsx(g.icon,{className:"w-5 h-5"}),c.jsx("span",{children:g.title})]},g.id)})}),c.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[c.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg mb-2",children:[r?c.jsx(SD,{className:"w-5 h-5"}):c.jsx(hD,{className:"w-5 h-5"}),c.jsx("span",{children:r?" ":" "})]}),c.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:[c.jsx(cD,{className:"w-5 h-5"}),c.jsx("span",{children:""})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-gray-50 dark:bg-gray-900",children:[c.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-10 px-4 h-16 flex items-center justify-between flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2",children:c.jsx(fD,{className:"w-6 h-6"})}),!f&&c.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:c.jsx(yh,{className:"w-6 h-6"})}),c.jsx("h1",{className:"text-lg font-semibold",children:((h=Iw.find(g=>g.path===l.pathname))==null?void 0:h.title)||(l.pathname==="/settings"?"":"")})]}),c.jsx("div",{className:"flex items-center gap-2"})]}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar pb-20 md:pb-6",children:t})]})]})};var Zt=(t=>(t.ADMIN="ADMIN",t.USER="USER",t.STOREKEEPER="STOREKEEPER",t.INSPECTOR="INSPECTOR",t.MANAGER="MANAGER",t.EXPERT="EXPERT",t))(Zt||{});const ID={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},EC=({className:t})=>{const e=()=>{try{return`${ID&&"/net/"||"/"}logo.svg`.replace(/\/\//g,"/")}catch{return"/logo.svg"}};return c.jsx("img",{src:e(),className:t,alt:"Company Logo",onError:n=>{console.warn("Logo load failed"),n.currentTarget.style.display="none"}})},OD=({onLogin:t})=>{const[e,n]=N.useState(""),[r,i]=N.useState(""),[o,a]=N.useState(""),[s,l]=N.useState(!1),[u,d]=N.useState(!1),f={id:"1",username:"admin",fullName:" ",role:Zt.ADMIN,passwordHash:"admin",isDefaultPassword:!0},h=y=>{if(y.preventDefault(),a(""),e.toLowerCase()==="admin"&&r==="admin"){if(u){const w={...f,isDefaultPassword:!1};t(w);return}{d(!0),a("         .");return}}else a("      ")},g=y=>{if(y.preventDefault(),r==="admin"){a("        ");return}t({...f,isDefaultPassword:!1})};return c.jsxs("div",{className:"min-h-[100dvh] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 relative overflow-hidden font-sans",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl"}),c.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl"})]}),c.jsxs("div",{className:"w-full max-w-sm z-10 flex flex-col gap-8",children:[c.jsxs("div",{className:"text-center flex flex-col items-center animate-fadeIn",children:[c.jsx("div",{className:"w-32 h-32 flex items-center justify-center mb-4 transform hover:scale-105 transition duration-500",children:c.jsx(EC,{className:"w-full h-full drop-shadow-2xl"})}),c.jsx("h1",{className:"text-xl font-black text-[#800020] dark:text-red-400 leading-tight mb-2 px-4",children:"     "}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium tracking-wide",children:"    "})]}),c.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-8 animate-slideUp border border-white/50 dark:border-gray-700/50",children:u?c.jsxs("form",{onSubmit:g,className:"space-y-5",children:[c.jsxs("div",{className:"bg-yellow-50 text-yellow-800 px-4 py-3 rounded-xl text-sm mb-4 border border-yellow-100 flex items-start gap-2",children:[c.jsx(cC,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{children:"            ."})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"  "}),c.jsxs("div",{className:"relative",children:[c.jsx(Cw,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:s?"text":"password",placeholder:"",value:r,onChange:y=>i(y.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-lg",style:{fontFamily:s?"inherit":"Verdana, sans-serif"},required:!0,autoFocus:!0}),c.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:s?c.jsx(kw,{className:"w-5 h-5"}):c.jsx(Cd,{className:"w-5 h-5"})})]})]}),c.jsx("button",{type:"submit",className:"w-full bg-[#800020] hover:bg-[#600018] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-95 shadow-lg shadow-red-900/20 flex items-center justify-center gap-2",children:"   "})]}):c.jsxs("form",{onSubmit:h,className:"space-y-5",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),c.jsxs("div",{className:"relative group",children:[c.jsx(R0,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),c.jsx("input",{type:"text",placeholder:"     ",value:e,onChange:y=>n(y.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100",required:!0,autoComplete:"username"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),c.jsxs("div",{className:"relative group",children:[c.jsx(Cw,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),c.jsx("input",{type:s?"text":"password",placeholder:"",value:r,onChange:y=>i(y.target.value),className:"w-full pr-12 pl-12 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100 tracking-wider",style:{fontFamily:s?"inherit":"Verdana, sans-serif"},required:!0,autoComplete:"current-password"}),c.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:s?c.jsx(kw,{className:"w-5 h-5"}):c.jsx(Cd,{className:"w-5 h-5"})})]})]})]}),o&&c.jsxs("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/10 p-3 rounded-xl border border-red-100 dark:border-red-900/20 flex items-center justify-center gap-2 animate-shake",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),o]}),c.jsxs("button",{type:"submit",className:"w-full bg-[#800020] hover:bg-[#600018] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-[0.98] shadow-xl shadow-red-900/20 flex items-center justify-center gap-2 mt-2",children:[c.jsx("span",{children:"  "}),c.jsx(uD,{className:"w-5 h-5"})]})]})}),c.jsxs("div",{className:"text-center space-y-1 pb-4",children:[c.jsxs("p",{className:"text-gray-400 dark:text-gray-500 text-[10px] font-bold tracking-widest uppercase",children:[" ",kD]}),c.jsxs("p",{className:"text-gray-300 dark:text-gray-600 text-[9px] font-bold tracking-[0.1em] uppercase font-mono opacity-50",children:["Hash: ","b7a9f2c"]}),c.jsx("p",{className:"text-gray-300 dark:text-gray-600 text-[9px] font-bold tracking-[0.3em] uppercase font-sans opacity-70 mt-2",children:"DESIGN BY H.PARSA"})]})]})]})};function TC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=TC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function we(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=TC(t))&&(r&&(r+=" "),r+=e);return r}var jD=Array.isArray,on=jD,RD=typeof ec=="object"&&ec&&ec.Object===Object&&ec,AC=RD,MD=AC,$D=typeof self=="object"&&self&&self.Object===Object&&self,DD=MD||$D||Function("return this")(),br=DD,LD=br,UD=LD.Symbol,Bu=UD,Ow=Bu,kC=Object.prototype,FD=kC.hasOwnProperty,BD=kC.toString,Fs=Ow?Ow.toStringTag:void 0;function VD(t){var e=FD.call(t,Fs),n=t[Fs];try{t[Fs]=void 0;var r=!0}catch{}var i=BD.call(t);return r&&(e?t[Fs]=n:delete t[Fs]),i}var qD=VD,GD=Object.prototype,HD=GD.toString;function zD(t){return HD.call(t)}var WD=zD,jw=Bu,KD=qD,JD=WD,YD="[object Null]",XD="[object Undefined]",Rw=jw?jw.toStringTag:void 0;function QD(t){return t==null?t===void 0?XD:YD:Rw&&Rw in Object(t)?KD(t):JD(t)}var Hr=QD;function ZD(t){return t!=null&&typeof t=="object"}var zr=ZD,eL=Hr,tL=zr,nL="[object Symbol]";function rL(t){return typeof t=="symbol"||tL(t)&&eL(t)==nL}var gs=rL,iL=on,oL=gs,aL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sL=/^\w*$/;function lL(t,e){if(iL(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||oL(t)?!0:sL.test(t)||!aL.test(t)||e!=null&&t in Object(e)}var M0=lL;function uL(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ii=uL;const ys=Oe(Ii);var cL=Hr,dL=Ii,fL="[object AsyncFunction]",hL="[object Function]",pL="[object GeneratorFunction]",mL="[object Proxy]";function gL(t){if(!dL(t))return!1;var e=cL(t);return e==hL||e==pL||e==fL||e==mL}var $0=gL;const pe=Oe($0);var yL=br,vL=yL["__core-js_shared__"],xL=vL,Jp=xL,Mw=function(){var t=/[^.]+$/.exec(Jp&&Jp.keys&&Jp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function bL(t){return!!Mw&&Mw in t}var wL=bL,_L=Function.prototype,SL=_L.toString;function EL(t){if(t!=null){try{return SL.call(t)}catch{}try{return t+""}catch{}}return""}var NC=EL,TL=$0,AL=wL,kL=Ii,NL=NC,CL=/[\\^$.*+?()[\]{}|]/g,PL=/^\[object .+?Constructor\]$/,IL=Function.prototype,OL=Object.prototype,jL=IL.toString,RL=OL.hasOwnProperty,ML=RegExp("^"+jL.call(RL).replace(CL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $L(t){if(!kL(t)||AL(t))return!1;var e=TL(t)?ML:PL;return e.test(NL(t))}var DL=$L;function LL(t,e){return t==null?void 0:t[e]}var UL=LL,FL=DL,BL=UL;function VL(t,e){var n=BL(t,e);return FL(n)?n:void 0}var Io=VL,qL=Io,GL=qL(Object,"create"),vh=GL,$w=vh;function HL(){this.__data__=$w?$w(null):{},this.size=0}var zL=HL;function WL(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var KL=WL,JL=vh,YL="__lodash_hash_undefined__",XL=Object.prototype,QL=XL.hasOwnProperty;function ZL(t){var e=this.__data__;if(JL){var n=e[t];return n===YL?void 0:n}return QL.call(e,t)?e[t]:void 0}var eU=ZL,tU=vh,nU=Object.prototype,rU=nU.hasOwnProperty;function iU(t){var e=this.__data__;return tU?e[t]!==void 0:rU.call(e,t)}var oU=iU,aU=vh,sU="__lodash_hash_undefined__";function lU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=aU&&e===void 0?sU:e,this}var uU=lU,cU=zL,dU=KL,fU=eU,hU=oU,pU=uU;function vs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vs.prototype.clear=cU;vs.prototype.delete=dU;vs.prototype.get=fU;vs.prototype.has=hU;vs.prototype.set=pU;var mU=vs;function gU(){this.__data__=[],this.size=0}var yU=gU;function vU(t,e){return t===e||t!==t&&e!==e}var D0=vU,xU=D0;function bU(t,e){for(var n=t.length;n--;)if(xU(t[n][0],e))return n;return-1}var xh=bU,wU=xh,_U=Array.prototype,SU=_U.splice;function EU(t){var e=this.__data__,n=wU(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():SU.call(e,n,1),--this.size,!0}var TU=EU,AU=xh;function kU(t){var e=this.__data__,n=AU(e,t);return n<0?void 0:e[n][1]}var NU=kU,CU=xh;function PU(t){return CU(this.__data__,t)>-1}var IU=PU,OU=xh;function jU(t,e){var n=this.__data__,r=OU(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var RU=jU,MU=yU,$U=TU,DU=NU,LU=IU,UU=RU;function xs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xs.prototype.clear=MU;xs.prototype.delete=$U;xs.prototype.get=DU;xs.prototype.has=LU;xs.prototype.set=UU;var bh=xs,FU=Io,BU=br,VU=FU(BU,"Map"),L0=VU,Dw=mU,qU=bh,GU=L0;function HU(){this.size=0,this.__data__={hash:new Dw,map:new(GU||qU),string:new Dw}}var zU=HU;function WU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var KU=WU,JU=KU;function YU(t,e){var n=t.__data__;return JU(e)?n[typeof e=="string"?"string":"hash"]:n.map}var wh=YU,XU=wh;function QU(t){var e=XU(this,t).delete(t);return this.size-=e?1:0,e}var ZU=QU,e4=wh;function t4(t){return e4(this,t).get(t)}var n4=t4,r4=wh;function i4(t){return r4(this,t).has(t)}var o4=i4,a4=wh;function s4(t,e){var n=a4(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var l4=s4,u4=zU,c4=ZU,d4=n4,f4=o4,h4=l4;function bs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bs.prototype.clear=u4;bs.prototype.delete=c4;bs.prototype.get=d4;bs.prototype.has=f4;bs.prototype.set=h4;var U0=bs,CC=U0,p4="Expected a function";function F0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(p4);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(F0.Cache||CC),n}F0.Cache=CC;var PC=F0;const m4=Oe(PC);var g4=PC,y4=500;function v4(t){var e=g4(t,function(r){return n.size===y4&&n.clear(),r}),n=e.cache;return e}var x4=v4,b4=x4,w4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_4=/\\(\\)?/g,S4=b4(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(w4,function(n,r,i,o){e.push(i?o.replace(_4,"$1"):r||n)}),e}),E4=S4;function T4(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var B0=T4,Lw=Bu,A4=B0,k4=on,N4=gs,Uw=Lw?Lw.prototype:void 0,Fw=Uw?Uw.toString:void 0;function IC(t){if(typeof t=="string")return t;if(k4(t))return A4(t,IC)+"";if(N4(t))return Fw?Fw.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var C4=IC,P4=C4;function I4(t){return t==null?"":P4(t)}var OC=I4,O4=on,j4=M0,R4=E4,M4=OC;function $4(t,e){return O4(t)?t:j4(t,e)?[t]:R4(M4(t))}var jC=$4,D4=gs;function L4(t){if(typeof t=="string"||D4(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var _h=L4,U4=jC,F4=_h;function B4(t,e){e=U4(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[F4(e[n++])];return n&&n==r?t:void 0}var V0=B4,V4=V0;function q4(t,e,n){var r=t==null?void 0:V4(t,e);return r===void 0?n:r}var RC=q4;const vn=Oe(RC);function G4(t){return t==null}var H4=G4;const ve=Oe(H4);var z4=Hr,W4=on,K4=zr,J4="[object String]";function Y4(t){return typeof t=="string"||!W4(t)&&K4(t)&&z4(t)==J4}var X4=Y4;const wo=Oe(X4);var MC={exports:{}},je={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0=Symbol.for("react.element"),G0=Symbol.for("react.portal"),Sh=Symbol.for("react.fragment"),Eh=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),Ah=Symbol.for("react.provider"),kh=Symbol.for("react.context"),Q4=Symbol.for("react.server_context"),Nh=Symbol.for("react.forward_ref"),Ch=Symbol.for("react.suspense"),Ph=Symbol.for("react.suspense_list"),Ih=Symbol.for("react.memo"),Oh=Symbol.for("react.lazy"),Z4=Symbol.for("react.offscreen"),$C;$C=Symbol.for("react.module.reference");function Un(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case q0:switch(t=t.type,t){case Sh:case Th:case Eh:case Ch:case Ph:return t;default:switch(t=t&&t.$$typeof,t){case Q4:case kh:case Nh:case Oh:case Ih:case Ah:return t;default:return e}}case G0:return e}}}je.ContextConsumer=kh;je.ContextProvider=Ah;je.Element=q0;je.ForwardRef=Nh;je.Fragment=Sh;je.Lazy=Oh;je.Memo=Ih;je.Portal=G0;je.Profiler=Th;je.StrictMode=Eh;je.Suspense=Ch;je.SuspenseList=Ph;je.isAsyncMode=function(){return!1};je.isConcurrentMode=function(){return!1};je.isContextConsumer=function(t){return Un(t)===kh};je.isContextProvider=function(t){return Un(t)===Ah};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===q0};je.isForwardRef=function(t){return Un(t)===Nh};je.isFragment=function(t){return Un(t)===Sh};je.isLazy=function(t){return Un(t)===Oh};je.isMemo=function(t){return Un(t)===Ih};je.isPortal=function(t){return Un(t)===G0};je.isProfiler=function(t){return Un(t)===Th};je.isStrictMode=function(t){return Un(t)===Eh};je.isSuspense=function(t){return Un(t)===Ch};je.isSuspenseList=function(t){return Un(t)===Ph};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sh||t===Th||t===Eh||t===Ch||t===Ph||t===Z4||typeof t=="object"&&t!==null&&(t.$$typeof===Oh||t.$$typeof===Ih||t.$$typeof===Ah||t.$$typeof===kh||t.$$typeof===Nh||t.$$typeof===$C||t.getModuleId!==void 0)};je.typeOf=Un;MC.exports=je;var e3=MC.exports,t3=Hr,n3=zr,r3="[object Number]";function i3(t){return typeof t=="number"||n3(t)&&t3(t)==r3}var DC=i3;const o3=Oe(DC);var a3=DC;function s3(t){return a3(t)&&t!=+t}var l3=s3;const Vu=Oe(l3);var qt=function(e){return e===0?0:e>0?1:-1},ro=function(e){return wo(e)&&e.indexOf("%")===e.length-1},Q=function(e){return o3(e)&&!Vu(e)},u3=function(e){return ve(e)},xt=function(e){return Q(e)||wo(e)},c3=0,ws=function(e){var n=++c3;return"".concat(e||"").concat(n)},Gt=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(e)&&!wo(e))return r;var o;if(ro(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Vu(o)&&(o=r),i&&o>n&&(o=n),o},ai=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},d3=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},dn=function(e,n){return Q(e)&&Q(n)?function(r){return e+r*(n-e)}:function(){return n}};function Ld(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):vn(r,e))===n})}var f3=function(e,n){return Q(e)&&Q(n)?e-n:wo(e)&&wo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ta(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}var h3=["viewBox","children"],p3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Bw=["points","pathLength"],Yp={svg:h3,polygon:Bw,polyline:Bw},H0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ud=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!ys(r))return null;var i={};return Object.keys(r).forEach(function(o){H0.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},m3=function(e,n,r){return function(i){return e(n,r,i),null}},_o=function(e,n,r){if(!ys(e)||Og(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];H0.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=m3(a,n,r))}),i},g3=["children"],y3=["children"];function Vw(t,e){if(t==null)return{};var n=v3(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}var qw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},jr=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Gw=null,Xp=null,z0=function t(e){if(e===Gw&&Array.isArray(Xp))return Xp;var n=[];return N.Children.forEach(e,function(r){ve(r)||(e3.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Xp=n,Gw=e,n};function xn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return jr(i)}):r=[jr(e)],z0(t).forEach(function(i){var o=vn(i,"type.displayName")||vn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function cn(t,e){var n=xn(t,e);return n&&n[0]}var Hw=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Q(r)||r<=0||!Q(i)||i<=0)},x3=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],b3=function(e){return e&&e.type&&wo(e.type)&&x3.indexOf(e.type)>=0},w3=function(e){return e&&jg(e)==="object"&&"clipDot"in e},_3=function(e,n,r,i){var o,a=(o=Yp==null?void 0:Yp[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!pe(e)&&(i&&a.includes(n)||p3.includes(n))||r&&H0.includes(n)},se=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!ys(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;_3((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Rg=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return zw(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!zw(o,a))return!1}return!0},zw=function(e,n){if(ve(e)&&ve(n))return!0;if(!ve(e)&&!ve(n)){var r=e.props||{},i=r.children,o=Vw(r,g3),a=n.props||{},s=a.children,l=Vw(a,y3);return i&&s?Ta(o,l)&&Rg(i,s):!i&&!s?Ta(o,l):!1}return!1},Ww=function(e,n){var r=[],i={};return z0(e).forEach(function(o,a){if(b3(o))r.push(o);else if(o){var s=jr(o.type),l=n[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},S3=function(e){var n=e&&e.type;return n&&qw[n]?qw[n]:null},E3=function(e,n){return z0(n).indexOf(e)},T3=["children","width","height","viewBox","className","style","title","desc"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function A3(t,e){if(t==null)return{};var n=k3(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $g(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=A3(t,T3),d=i||{width:n,height:r,x:0,y:0},f=we("recharts-surface",o);return j.createElement("svg",Mg({},se(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),j.createElement("title",null,s),j.createElement("desc",null,l),e)}var N3=["children","className"];function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function C3(t,e){if(t==null)return{};var n=P3(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Te=j.forwardRef(function(t,e){var n=t.children,r=t.className,i=C3(t,N3),o=we("recharts-layer",r);return j.createElement("g",Dg({className:o},se(i,!0),{ref:e}),n)}),er=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function I3(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var O3=I3,j3=O3;function R3(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:j3(t,e,n)}var M3=R3,$3="\\ud800-\\udfff",D3="\\u0300-\\u036f",L3="\\ufe20-\\ufe2f",U3="\\u20d0-\\u20ff",F3=D3+L3+U3,B3="\\ufe0e\\ufe0f",V3="\\u200d",q3=RegExp("["+V3+$3+F3+B3+"]");function G3(t){return q3.test(t)}var LC=G3;function H3(t){return t.split("")}var z3=H3,UC="\\ud800-\\udfff",W3="\\u0300-\\u036f",K3="\\ufe20-\\ufe2f",J3="\\u20d0-\\u20ff",Y3=W3+K3+J3,X3="\\ufe0e\\ufe0f",Q3="["+UC+"]",Lg="["+Y3+"]",Ug="\\ud83c[\\udffb-\\udfff]",Z3="(?:"+Lg+"|"+Ug+")",FC="[^"+UC+"]",BC="(?:\\ud83c[\\udde6-\\uddff]){2}",VC="[\\ud800-\\udbff][\\udc00-\\udfff]",e5="\\u200d",qC=Z3+"?",GC="["+X3+"]?",t5="(?:"+e5+"(?:"+[FC,BC,VC].join("|")+")"+GC+qC+")*",n5=GC+qC+t5,r5="(?:"+[FC+Lg+"?",Lg,BC,VC,Q3].join("|")+")",i5=RegExp(Ug+"(?="+Ug+")|"+r5+n5,"g");function o5(t){return t.match(i5)||[]}var a5=o5,s5=z3,l5=LC,u5=a5;function c5(t){return l5(t)?u5(t):s5(t)}var d5=c5,f5=M3,h5=LC,p5=d5,m5=OC;function g5(t){return function(e){e=m5(e);var n=h5(e)?p5(e):void 0,r=n?n[0]:e.charAt(0),i=n?f5(n,1).join(""):e.slice(1);return r[t]()+i}}var y5=g5,v5=y5,x5=v5("toUpperCase"),b5=x5;const jh=Oe(b5);function Ue(t){return function(){return t}}const HC=Math.cos,Fd=Math.sin,ir=Math.sqrt,Bd=Math.PI,Rh=2*Bd,Fg=Math.PI,Bg=2*Fg,zi=1e-6,w5=Bg-zi;function zC(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return zC;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class S5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?zC:_5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,d=a-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>zi)if(!(Math.abs(f*l-u*d)>zi)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,v=i-s,y=l*l+u*u,w=g*g+v*v,b=Math.sqrt(y),x=Math.sqrt(h),_=o*Math.tan((Fg-Math.acos((y+h-w)/(2*b*x)))/2),T=_/x,S=_/b;Math.abs(T-1)>zi&&this._append`L${e+T*d},${n+T*f}`,this._append`A${o},${o},0,0,${+(f*g>d*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>zi||Math.abs(this._y1-d)>zi)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Bg+Bg),h>w5?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>zi&&this._append`A${r},${r},0,${+(h>=Fg)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function W0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new S5(e)}function K0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function WC(t){this._context=t}WC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Mh(t){return new WC(t)}function KC(t){return t[0]}function JC(t){return t[1]}function YC(t,e){var n=Ue(!0),r=null,i=Mh,o=null,a=W0(s);t=typeof t=="function"?t:t===void 0?KC:Ue(t),e=typeof e=="function"?e:e===void 0?JC:Ue(e);function s(l){var u,d=(l=K0(l)).length,f,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ue(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ue(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ue(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function vc(t,e,n){var r=null,i=Ue(!0),o=null,a=Mh,s=null,l=W0(u);t=typeof t=="function"?t:t===void 0?KC:Ue(+t),e=typeof e=="function"?e:Ue(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?JC:Ue(+n);function u(f){var h,g,v,y=(f=K0(f)).length,w,b=!1,x,_=new Array(y),T=new Array(y);for(o==null&&(s=a(x=l())),h=0;h<=y;++h){if(!(h<y&&i(w=f[h],h,f))===b)if(b=!b)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(_[v],T[v]);s.lineEnd(),s.areaEnd()}b&&(_[h]=+t(w,h,f),T[h]=+e(w,h,f),s.point(r?+r(w,h,f):_[h],n?+n(w,h,f):T[h]))}if(x)return s=null,x+""||null}function d(){return YC().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ue(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ue(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ue(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ue(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ue(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ue(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ue(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class XC{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function E5(t){return new XC(t,!0)}function T5(t){return new XC(t,!1)}const J0={draw(t,e){const n=ir(e/Bd);t.moveTo(n,0),t.arc(0,0,n,0,Rh)}},A5={draw(t,e){const n=ir(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},QC=ir(1/3),k5=QC*2,N5={draw(t,e){const n=ir(e/k5),r=n*QC;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},C5={draw(t,e){const n=ir(e),r=-n/2;t.rect(r,r,n,n)}},P5=.8908130915292852,ZC=Fd(Bd/10)/Fd(7*Bd/10),I5=Fd(Rh/10)*ZC,O5=-HC(Rh/10)*ZC,j5={draw(t,e){const n=ir(e*P5),r=I5*n,i=O5*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Rh*o/5,s=HC(a),l=Fd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Qp=ir(3),R5={draw(t,e){const n=-ir(e/(Qp*3));t.moveTo(0,n*2),t.lineTo(-Qp*n,-n),t.lineTo(Qp*n,-n),t.closePath()}},Sn=-.5,En=ir(3)/2,Vg=1/ir(12),M5=(Vg/2+1)*3,$5={draw(t,e){const n=ir(e/M5),r=n/2,i=n*Vg,o=r,a=n*Vg+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Sn*r-En*i,En*r+Sn*i),t.lineTo(Sn*o-En*a,En*o+Sn*a),t.lineTo(Sn*s-En*l,En*s+Sn*l),t.lineTo(Sn*r+En*i,Sn*i-En*r),t.lineTo(Sn*o+En*a,Sn*a-En*o),t.lineTo(Sn*s+En*l,Sn*l-En*s),t.closePath()}};function D5(t,e){let n=null,r=W0(i);t=typeof t=="function"?t:Ue(t||J0),e=typeof e=="function"?e:Ue(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ue(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ue(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Vd(){}function qd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function eP(t){this._context=t}eP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function L5(t){return new eP(t)}function tP(t){this._context=t}tP.prototype={areaStart:Vd,areaEnd:Vd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function U5(t){return new tP(t)}function nP(t){this._context=t}nP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function F5(t){return new nP(t)}function rP(t){this._context=t}rP.prototype={areaStart:Vd,areaEnd:Vd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function B5(t){return new rP(t)}function Kw(t){return t<0?-1:1}function Jw(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Kw(o)+Kw(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Yw(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Zp(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Gd(t){this._context=t}Gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zp(this,this._t0,Yw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zp(this,Yw(this,n=Jw(this,t,e)),n);break;default:Zp(this,this._t0,n=Jw(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function iP(t){this._context=new oP(t)}(iP.prototype=Object.create(Gd.prototype)).point=function(t,e){Gd.prototype.point.call(this,e,t)};function oP(t){this._context=t}oP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function V5(t){return new Gd(t)}function q5(t){return new iP(t)}function aP(t){this._context=t}aP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Xw(t),i=Xw(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Xw(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function G5(t){return new aP(t)}function $h(t,e){this._context=t,this._t=e}$h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function H5(t){return new $h(t,.5)}function z5(t){return new $h(t,0)}function W5(t){return new $h(t,1)}function Ua(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function qg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function K5(t,e){return t[e]}function J5(t){const e=[];return e.key=t,e}function Y5(){var t=Ue([]),e=qg,n=Ua,r=K5;function i(o){var a=Array.from(t.apply(this,arguments),J5),s,l=a.length,u=-1,d;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,d=K0(e(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ue(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ue(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?qg:typeof o=="function"?o:Ue(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ua,i):n},i}function X5(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Ua(t,e)}}function Q5(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ua(t,e)}}function Z5(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,g=(f-h)/2,v=0;v<s;++v){var y=t[e[v]],w=y[r][1]||0,b=y[r-1][1]||0;g+=w-b}l+=f,u+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ua(t,e)}}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}var eF=["type","size","sizeType"];function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function Qw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qw(Object(n),!0).forEach(function(r){tF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tF(t,e,n){return e=nF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nF(t){var e=rF(t,"string");return ql(e)=="symbol"?e:e+""}function rF(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iF(t,e){if(t==null)return{};var n=oF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sP={symbolCircle:J0,symbolCross:A5,symbolDiamond:N5,symbolSquare:C5,symbolStar:j5,symbolTriangle:R5,symbolWye:$5},aF=Math.PI/180,sF=function(e){var n="symbol".concat(jh(e));return sP[n]||J0},lF=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*aF;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},uF=function(e,n){sP["symbol".concat(jh(e))]=n},Y0=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=iF(e,eF),u=Zw(Zw({},l),{},{type:r,size:o,sizeType:s}),d=function(){var w=sF(r),b=D5().type(w).size(lF(o,s,r));return b()},f=u.className,h=u.cx,g=u.cy,v=se(u,!0);return h===+h&&g===+g&&o===+o?j.createElement("path",Gg({},v,{className:we("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};Y0.registerSymbol=uF;function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function e_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(n),!0).forEach(function(r){Gl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uP(r.key),r)}}function hF(t,e,n){return e&&fF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pF(t,e,n){return e=Hd(e),mF(t,lP()?Reflect.construct(e,n||[],Hd(t).constructor):e.apply(t,n))}function mF(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gF(t)}function gF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lP=function(){return!!t})()}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hd(t)}function yF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zg(t,e)}function zg(t,e){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zg(t,e)}function Gl(t,e,n){return e=uP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uP(t){var e=vF(t,"string");return Fa(e)=="symbol"?e:e+""}function vF(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tn=32,X0=function(t){function e(){return dF(this,e),pF(this,e,arguments)}return yF(e,t),hF(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Tn/2,a=Tn/6,s=Tn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Tn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Tn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Tn/8,"h").concat(Tn,"v").concat(Tn*3/4,"h").concat(-Tn,"z"),className:"recharts-legend-icon"});if(j.isValidElement(r.legendIcon)){var u=cF({},r);return delete u.legendIcon,j.cloneElement(r.legendIcon,u)}return j.createElement(Y0,{fill:l,cx:o,cy:o,size:Tn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Tn,height:Tn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,v){var y=g.formatter||l,w=we(Gl(Gl({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var b=pe(g.value)?null:g.value;er(!pe(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=g.inactive?u:g.color;return j.createElement("li",Hg({className:w,style:f,key:"legend-item-".concat(v)},_o(r.props,g,v)),j.createElement($g,{width:a,height:a,viewBox:d,style:h},r.renderIcon(g)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},y?y(b,g,v):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(N.PureComponent);Gl(X0,"displayName","Legend");Gl(X0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xF=bh;function bF(){this.__data__=new xF,this.size=0}var wF=bF;function _F(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var SF=_F;function EF(t){return this.__data__.get(t)}var TF=EF;function AF(t){return this.__data__.has(t)}var kF=AF,NF=bh,CF=L0,PF=U0,IF=200;function OF(t,e){var n=this.__data__;if(n instanceof NF){var r=n.__data__;if(!CF||r.length<IF-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new PF(r)}return n.set(t,e),this.size=n.size,this}var jF=OF,RF=bh,MF=wF,$F=SF,DF=TF,LF=kF,UF=jF;function _s(t){var e=this.__data__=new RF(t);this.size=e.size}_s.prototype.clear=MF;_s.prototype.delete=$F;_s.prototype.get=DF;_s.prototype.has=LF;_s.prototype.set=UF;var cP=_s,FF="__lodash_hash_undefined__";function BF(t){return this.__data__.set(t,FF),this}var VF=BF;function qF(t){return this.__data__.has(t)}var GF=qF,HF=U0,zF=VF,WF=GF;function zd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new HF;++e<n;)this.add(t[e])}zd.prototype.add=zd.prototype.push=zF;zd.prototype.has=WF;var dP=zd;function KF(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var fP=KF;function JF(t,e){return t.has(e)}var hP=JF,YF=dP,XF=fP,QF=hP,ZF=1,eB=2;function tB(t,e,n,r,i,o){var a=n&ZF,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,g=n&eB?new YF:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var v=t[f],y=e[f];if(r)var w=a?r(y,v,f,e,t,o):r(v,y,f,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(g){if(!XF(e,function(b,x){if(!QF(g,x)&&(v===b||i(v,b,n,r,o)))return g.push(x)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var pP=tB,nB=br,rB=nB.Uint8Array,iB=rB;function oB(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var aB=oB;function sB(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Q0=sB,t_=Bu,n_=iB,lB=D0,uB=pP,cB=aB,dB=Q0,fB=1,hB=2,pB="[object Boolean]",mB="[object Date]",gB="[object Error]",yB="[object Map]",vB="[object Number]",xB="[object RegExp]",bB="[object Set]",wB="[object String]",_B="[object Symbol]",SB="[object ArrayBuffer]",EB="[object DataView]",r_=t_?t_.prototype:void 0,em=r_?r_.valueOf:void 0;function TB(t,e,n,r,i,o,a){switch(n){case EB:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case SB:return!(t.byteLength!=e.byteLength||!o(new n_(t),new n_(e)));case pB:case mB:case vB:return lB(+t,+e);case gB:return t.name==e.name&&t.message==e.message;case xB:case wB:return t==e+"";case yB:var s=cB;case bB:var l=r&fB;if(s||(s=dB),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=hB,a.set(t,e);var d=uB(s(t),s(e),r,i,o,a);return a.delete(t),d;case _B:if(em)return em.call(t)==em.call(e)}return!1}var AB=TB;function kB(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var mP=kB,NB=mP,CB=on;function PB(t,e,n){var r=e(t);return CB(t)?r:NB(r,n(t))}var IB=PB;function OB(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var jB=OB;function RB(){return[]}var MB=RB,$B=jB,DB=MB,LB=Object.prototype,UB=LB.propertyIsEnumerable,i_=Object.getOwnPropertySymbols,FB=i_?function(t){return t==null?[]:(t=Object(t),$B(i_(t),function(e){return UB.call(t,e)}))}:DB,BB=FB;function VB(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var qB=VB,GB=Hr,HB=zr,zB="[object Arguments]";function WB(t){return HB(t)&&GB(t)==zB}var KB=WB,o_=KB,JB=zr,gP=Object.prototype,YB=gP.hasOwnProperty,XB=gP.propertyIsEnumerable,QB=o_(function(){return arguments}())?o_:function(t){return JB(t)&&YB.call(t,"callee")&&!XB.call(t,"callee")},Z0=QB,Wd={exports:{}};function ZB(){return!1}var e6=ZB;Wd.exports;(function(t,e){var n=br,r=e6,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Wd,Wd.exports);var yP=Wd.exports,t6=9007199254740991,n6=/^(?:0|[1-9]\d*)$/;function r6(t,e){var n=typeof t;return e=e??t6,!!e&&(n=="number"||n!="symbol"&&n6.test(t))&&t>-1&&t%1==0&&t<e}var ex=r6,i6=9007199254740991;function o6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=i6}var tx=o6,a6=Hr,s6=tx,l6=zr,u6="[object Arguments]",c6="[object Array]",d6="[object Boolean]",f6="[object Date]",h6="[object Error]",p6="[object Function]",m6="[object Map]",g6="[object Number]",y6="[object Object]",v6="[object RegExp]",x6="[object Set]",b6="[object String]",w6="[object WeakMap]",_6="[object ArrayBuffer]",S6="[object DataView]",E6="[object Float32Array]",T6="[object Float64Array]",A6="[object Int8Array]",k6="[object Int16Array]",N6="[object Int32Array]",C6="[object Uint8Array]",P6="[object Uint8ClampedArray]",I6="[object Uint16Array]",O6="[object Uint32Array]",qe={};qe[E6]=qe[T6]=qe[A6]=qe[k6]=qe[N6]=qe[C6]=qe[P6]=qe[I6]=qe[O6]=!0;qe[u6]=qe[c6]=qe[_6]=qe[d6]=qe[S6]=qe[f6]=qe[h6]=qe[p6]=qe[m6]=qe[g6]=qe[y6]=qe[v6]=qe[x6]=qe[b6]=qe[w6]=!1;function j6(t){return l6(t)&&s6(t.length)&&!!qe[a6(t)]}var R6=j6;function M6(t){return function(e){return t(e)}}var vP=M6,Kd={exports:{}};Kd.exports;(function(t,e){var n=AC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Kd,Kd.exports);var $6=Kd.exports,D6=R6,L6=vP,a_=$6,s_=a_&&a_.isTypedArray,U6=s_?L6(s_):D6,xP=U6,F6=qB,B6=Z0,V6=on,q6=yP,G6=ex,H6=xP,z6=Object.prototype,W6=z6.hasOwnProperty;function K6(t,e){var n=V6(t),r=!n&&B6(t),i=!n&&!r&&q6(t),o=!n&&!r&&!i&&H6(t),a=n||r||i||o,s=a?F6(t.length,String):[],l=s.length;for(var u in t)(e||W6.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||G6(u,l)))&&s.push(u);return s}var J6=K6,Y6=Object.prototype;function X6(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Y6;return t===n}var Q6=X6;function Z6(t,e){return function(n){return t(e(n))}}var bP=Z6,e8=bP,t8=e8(Object.keys,Object),n8=t8,r8=Q6,i8=n8,o8=Object.prototype,a8=o8.hasOwnProperty;function s8(t){if(!r8(t))return i8(t);var e=[];for(var n in Object(t))a8.call(t,n)&&n!="constructor"&&e.push(n);return e}var l8=s8,u8=$0,c8=tx;function d8(t){return t!=null&&c8(t.length)&&!u8(t)}var qu=d8,f8=J6,h8=l8,p8=qu;function m8(t){return p8(t)?f8(t):h8(t)}var Dh=m8,g8=IB,y8=BB,v8=Dh;function x8(t){return g8(t,v8,y8)}var b8=x8,l_=b8,w8=1,_8=Object.prototype,S8=_8.hasOwnProperty;function E8(t,e,n,r,i,o){var a=n&w8,s=l_(t),l=s.length,u=l_(e),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:S8.call(e,h)))return!1}var g=o.get(t),v=o.get(e);if(g&&v)return g==e&&v==t;var y=!0;o.set(t,e),o.set(e,t);for(var w=a;++f<l;){h=s[f];var b=t[h],x=e[h];if(r)var _=a?r(x,b,h,e,t,o):r(b,x,h,t,e,o);if(!(_===void 0?b===x||i(b,x,n,r,o):_)){y=!1;break}w||(w=h=="constructor")}if(y&&!w){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var T8=E8,A8=Io,k8=br,N8=A8(k8,"DataView"),C8=N8,P8=Io,I8=br,O8=P8(I8,"Promise"),j8=O8,R8=Io,M8=br,$8=R8(M8,"Set"),wP=$8,D8=Io,L8=br,U8=D8(L8,"WeakMap"),F8=U8,Wg=C8,Kg=L0,Jg=j8,Yg=wP,Xg=F8,_P=Hr,Ss=NC,u_="[object Map]",B8="[object Object]",c_="[object Promise]",d_="[object Set]",f_="[object WeakMap]",h_="[object DataView]",V8=Ss(Wg),q8=Ss(Kg),G8=Ss(Jg),H8=Ss(Yg),z8=Ss(Xg),Wi=_P;(Wg&&Wi(new Wg(new ArrayBuffer(1)))!=h_||Kg&&Wi(new Kg)!=u_||Jg&&Wi(Jg.resolve())!=c_||Yg&&Wi(new Yg)!=d_||Xg&&Wi(new Xg)!=f_)&&(Wi=function(t){var e=_P(t),n=e==B8?t.constructor:void 0,r=n?Ss(n):"";if(r)switch(r){case V8:return h_;case q8:return u_;case G8:return c_;case H8:return d_;case z8:return f_}return e});var W8=Wi,tm=cP,K8=pP,J8=AB,Y8=T8,p_=W8,m_=on,g_=yP,X8=xP,Q8=1,y_="[object Arguments]",v_="[object Array]",xc="[object Object]",Z8=Object.prototype,x_=Z8.hasOwnProperty;function eV(t,e,n,r,i,o){var a=m_(t),s=m_(e),l=a?v_:p_(t),u=s?v_:p_(e);l=l==y_?xc:l,u=u==y_?xc:u;var d=l==xc,f=u==xc,h=l==u;if(h&&g_(t)){if(!g_(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new tm),a||X8(t)?K8(t,e,n,r,i,o):J8(t,e,l,n,r,i,o);if(!(n&Q8)){var g=d&&x_.call(t,"__wrapped__"),v=f&&x_.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,w=v?e.value():e;return o||(o=new tm),i(y,w,n,r,o)}}return h?(o||(o=new tm),Y8(t,e,n,r,i,o)):!1}var tV=eV,nV=tV,b_=zr;function SP(t,e,n,r,i){return t===e?!0:t==null||e==null||!b_(t)&&!b_(e)?t!==t&&e!==e:nV(t,e,n,r,SP,i)}var nx=SP,rV=cP,iV=nx,oV=1,aV=2;function sV(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],d=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new rV;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?iV(d,u,oV|aV,r,f):h))return!1}}return!0}var lV=sV,uV=Ii;function cV(t){return t===t&&!uV(t)}var EP=cV,dV=EP,fV=Dh;function hV(t){for(var e=fV(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,dV(i)]}return e}var pV=hV;function mV(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var TP=mV,gV=lV,yV=pV,vV=TP;function xV(t){var e=yV(t);return e.length==1&&e[0][2]?vV(e[0][0],e[0][1]):function(n){return n===t||gV(n,t,e)}}var bV=xV;function wV(t,e){return t!=null&&e in Object(t)}var _V=wV,SV=jC,EV=Z0,TV=on,AV=ex,kV=tx,NV=_h;function CV(t,e,n){e=SV(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=NV(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&kV(i)&&AV(a,i)&&(TV(t)||EV(t)))}var PV=CV,IV=_V,OV=PV;function jV(t,e){return t!=null&&OV(t,e,IV)}var RV=jV,MV=nx,$V=RC,DV=RV,LV=M0,UV=EP,FV=TP,BV=_h,VV=1,qV=2;function GV(t,e){return LV(t)&&UV(e)?FV(BV(t),e):function(n){var r=$V(n,t);return r===void 0&&r===e?DV(n,t):MV(e,r,VV|qV)}}var HV=GV;function zV(t){return t}var Es=zV;function WV(t){return function(e){return e==null?void 0:e[t]}}var KV=WV,JV=V0;function YV(t){return function(e){return JV(e,t)}}var XV=YV,QV=KV,ZV=XV,eq=M0,tq=_h;function nq(t){return eq(t)?QV(tq(t)):ZV(t)}var rq=nq,iq=bV,oq=HV,aq=Es,sq=on,lq=rq;function uq(t){return typeof t=="function"?t:t==null?aq:typeof t=="object"?sq(t)?oq(t[0],t[1]):iq(t):lq(t)}var wr=uq;function cq(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var AP=cq;function dq(t){return t!==t}var fq=dq;function hq(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var pq=hq,mq=AP,gq=fq,yq=pq;function vq(t,e,n){return e===e?yq(t,e,n):mq(t,gq,n)}var xq=vq,bq=xq;function wq(t,e){var n=t==null?0:t.length;return!!n&&bq(t,e,0)>-1}var _q=wq;function Sq(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Eq=Sq;function Tq(){}var Aq=Tq,nm=wP,kq=Aq,Nq=Q0,Cq=1/0,Pq=nm&&1/Nq(new nm([,-0]))[1]==Cq?function(t){return new nm(t)}:kq,Iq=Pq,Oq=dP,jq=_q,Rq=Eq,Mq=hP,$q=Iq,Dq=Q0,Lq=200;function Uq(t,e,n){var r=-1,i=jq,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Rq;else if(o>=Lq){var u=e?null:$q(t);if(u)return Dq(u);a=!1,i=Mq,l=new Oq}else l=e?[]:s;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var Fq=Uq,Bq=wr,Vq=Fq;function qq(t,e){return t&&t.length?Vq(t,Bq(e)):[]}var Gq=qq;const w_=Oe(Gq);function kP(t,e,n){return e===!0?w_(t,n):pe(e)?w_(t,e):t}function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}var Hq=["ref"];function __(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?__(Object(n),!0).forEach(function(r){Lh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CP(r.key),r)}}function Wq(t,e,n){return e&&S_(t.prototype,e),n&&S_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kq(t,e,n){return e=Jd(e),Jq(t,NP()?Reflect.construct(e,n||[],Jd(t).constructor):e.apply(t,n))}function Jq(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yq(t)}function Yq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NP=function(){return!!t})()}function Jd(t){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(t)}function Xq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qg(t,e)}function Qg(t,e){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qg(t,e)}function Lh(t,e,n){return e=CP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CP(t){var e=Qq(t,"string");return Ba(e)=="symbol"?e:e+""}function Qq(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zq(t,e){if(t==null)return{};var n=eG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tG(t){return t.value}function nG(t,e){if(j.isValidElement(t))return j.cloneElement(t,e);if(typeof t=="function")return j.createElement(t,e);e.ref;var n=Zq(e,Hq);return j.createElement(X0,n)}var E_=1,fo=function(t){function e(){var n;zq(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Kq(this,e,[].concat(i)),Lh(n,"lastBoundingBox",{width:-1,height:-1}),n}return Xq(e,t),Wq(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>E_||Math.abs(i.height-this.lastBoundingBox.height)>E_)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_r({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return _r(_r({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=_r(_r({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return j.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){r.wrapperNode=g}},nG(o,_r(_r({},this.props),{},{payload:kP(d,u,tG)})))}}],[{key:"getWithHeight",value:function(r,i){var o=_r(_r({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Q(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(N.PureComponent);Lh(fo,"displayName","Legend");Lh(fo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var T_=Bu,rG=Z0,iG=on,A_=T_?T_.isConcatSpreadable:void 0;function oG(t){return iG(t)||rG(t)||!!(A_&&t&&t[A_])}var aG=oG,sG=mP,lG=aG;function PP(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=lG),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?PP(s,e-1,n,r,i):sG(i,s):r||(i[i.length]=s)}return i}var IP=PP;function uG(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var cG=uG,dG=cG,fG=dG(),hG=fG,pG=hG,mG=Dh;function gG(t,e){return t&&pG(t,e,mG)}var OP=gG,yG=qu;function vG(t,e){return function(n,r){if(n==null)return n;if(!yG(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var xG=vG,bG=OP,wG=xG,_G=wG(bG),rx=_G,SG=rx,EG=qu;function TG(t,e){var n=-1,r=EG(t)?Array(t.length):[];return SG(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var jP=TG;function AG(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var kG=AG,k_=gs;function NG(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=k_(t),a=e!==void 0,s=e===null,l=e===e,u=k_(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var CG=NG,PG=CG;function IG(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=PG(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var OG=IG,rm=B0,jG=V0,RG=wr,MG=jP,$G=kG,DG=vP,LG=OG,UG=Es,FG=on;function BG(t,e,n){e.length?e=rm(e,function(o){return FG(o)?function(a){return jG(a,o.length===1?o[0]:o)}:o}):e=[UG];var r=-1;e=rm(e,DG(RG));var i=MG(t,function(o,a,s){var l=rm(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return $G(i,function(o,a){return LG(o,a,n)})}var VG=BG;function qG(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var GG=qG,HG=GG,N_=Math.max;function zG(t,e,n){return e=N_(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=N_(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),HG(t,this,s)}}var WG=zG;function KG(t){return function(){return t}}var JG=KG,YG=Io,XG=function(){try{var t=YG(Object,"defineProperty");return t({},"",{}),t}catch{}}(),RP=XG,QG=JG,C_=RP,ZG=Es,eH=C_?function(t,e){return C_(t,"toString",{configurable:!0,enumerable:!1,value:QG(e),writable:!0})}:ZG,tH=eH,nH=800,rH=16,iH=Date.now;function oH(t){var e=0,n=0;return function(){var r=iH(),i=rH-(r-n);if(n=r,i>0){if(++e>=nH)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var aH=oH,sH=tH,lH=aH,uH=lH(sH),cH=uH,dH=Es,fH=WG,hH=cH;function pH(t,e){return hH(fH(t,e,dH),t+"")}var mH=pH,gH=D0,yH=qu,vH=ex,xH=Ii;function bH(t,e,n){if(!xH(n))return!1;var r=typeof e;return(r=="number"?yH(n)&&vH(e,n.length):r=="string"&&e in n)?gH(n[e],t):!1}var Uh=bH,wH=IP,_H=VG,SH=mH,P_=Uh,EH=SH(function(t,e){if(t==null)return[];var n=e.length;return n>1&&P_(t,e[0],e[1])?e=[]:n>2&&P_(e[0],e[1],e[2])&&(e=[e[0]]),_H(t,wH(e,1),[])}),TH=EH;const ix=Oe(TH);function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(this,arguments)}function AH(t,e){return PH(t)||CH(t,e)||NH(t,e)||kH()}function kH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NH(t,e){if(t){if(typeof t=="string")return I_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(t,e)}}function I_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function PH(t){if(Array.isArray(t))return t}function O_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O_(Object(n),!0).forEach(function(r){IH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IH(t,e,n){return e=OH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OH(t){var e=jH(t,"string");return Hl(e)=="symbol"?e:e+""}function jH(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RH(t){return Array.isArray(t)&&xt(t[0])&&xt(t[1])?t.join(" ~ "):t}var MH=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,y=e.label,w=e.labelFormatter,b=e.accessibilityLayer,x=b===void 0?!1:b,_=function(){if(d&&d.length){var $={padding:0,margin:0},U=(h?ix(d,h):d).map(function(R,I){if(R.type==="none")return null;var D=im({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},s),q=R.formatter||f||RH,L=R.value,B=R.name,H=L,Y=B;if(q&&H!=null&&Y!=null){var z=q(L,B,R,I,d);if(Array.isArray(z)){var oe=AH(z,2);H=oe[0],Y=oe[1]}else H=z}return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:D},xt(Y)?j.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,xt(Y)?j.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,j.createElement("span",{className:"recharts-tooltip-item-value"},H),j.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:$},U)}return null},T=im({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=im({margin:0},u),E=!ve(y),A=E?y:"",k=we("recharts-default-tooltip",g),C=we("recharts-tooltip-label",v);E&&w&&d!==void 0&&d!==null&&(A=w(y,d));var P=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Zg({className:k,style:T},P),j.createElement("p",{className:C,style:S},j.isValidElement(A)?A:"".concat(A)),_())};function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function bc(t,e,n){return e=$H(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $H(t){var e=DH(t,"string");return zl(e)=="symbol"?e:e+""}function DH(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bs="recharts-tooltip-wrapper",LH={visibility:"hidden"};function UH(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return we(Bs,bc(bc(bc(bc({},"".concat(Bs,"-right"),Q(n)&&e&&Q(e.x)&&n>=e.x),"".concat(Bs,"-left"),Q(n)&&e&&Q(e.x)&&n<e.x),"".concat(Bs,"-bottom"),Q(r)&&e&&Q(e.y)&&r>=e.y),"".concat(Bs,"-top"),Q(r)&&e&&Q(e.y)&&r<e.y))}function j_(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Q(o[r]))return o[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,g=l[r];return h<g?Math.max(f,l[r]):Math.max(d,l[r])}var v=f+s,y=l[r]+u;return v>y?Math.max(d,l[r]):Math.max(f,l[r])}function FH(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function BH(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=j_({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=j_({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=FH({translateX:d,translateY:f,useTranslate3d:s})):u=LH,{cssProperties:u,cssClasses:UH({translateX:d,translateY:f,coordinate:n})}}function Va(t){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(t)}function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(Object(n),!0).forEach(function(r){ty(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$P(r.key),r)}}function GH(t,e,n){return e&&qH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HH(t,e,n){return e=Yd(e),zH(t,MP()?Reflect.construct(e,n||[],Yd(t).constructor):e.apply(t,n))}function zH(t,e){if(e&&(Va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WH(t)}function WH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MP=function(){return!!t})()}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function KH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ey(t,e)}function ey(t,e){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ey(t,e)}function ty(t,e,n){return e=$P(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $P(t){var e=JH(t,"string");return Va(e)=="symbol"?e:e+""}function JH(t,e){if(Va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $_=1,YH=function(t){function e(){var n;VH(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=HH(this,e,[].concat(i)),ty(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ty(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return KH(e,t),GH(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>$_||Math.abs(r.height-this.state.lastBoundingBox.height)>$_)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,y=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,x=i.wrapperStyle,_=BH({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:b}),T=_.cssClasses,S=_.cssProperties,E=M_(M_({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return j.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(k){r.wrapperNode=k}},u)}}])}(N.PureComponent),XH=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Oo={isSsr:XH()};function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function D_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(n),!0).forEach(function(r){ox(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LP(r.key),r)}}function e7(t,e,n){return e&&ZH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t7(t,e,n){return e=Xd(e),n7(t,DP()?Reflect.construct(e,n||[],Xd(t).constructor):e.apply(t,n))}function n7(t,e){if(e&&(qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r7(t)}function r7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DP=function(){return!!t})()}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(t)}function i7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ny(t,e)}function ny(t,e){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ny(t,e)}function ox(t,e,n){return e=LP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LP(t){var e=o7(t,"string");return qa(e)=="symbol"?e:e+""}function o7(t,e){if(qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function a7(t){return t.dataKey}function s7(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(MH,e)}var Vt=function(t){function e(){return QH(this,e),t7(this,e,arguments)}return i7(e,t),e7(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,y=i.payloadUniqBy,w=i.position,b=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,T=i.wrapperStyle,S=v??[];f&&S.length&&(S=kP(v.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),y,a7));var E=S.length>0;return j.createElement(YH,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:E,offset:g,position:w,reverseDirection:b,useTranslate3d:x,viewBox:_,wrapperStyle:T},s7(u,L_(L_({},this.props),{},{payload:S})))}}])}(N.PureComponent);ox(Vt,"displayName","Tooltip");ox(Vt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Oo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var l7=br,u7=function(){return l7.Date.now()},c7=u7,d7=/\s/;function f7(t){for(var e=t.length;e--&&d7.test(t.charAt(e)););return e}var h7=f7,p7=h7,m7=/^\s+/;function g7(t){return t&&t.slice(0,p7(t)+1).replace(m7,"")}var y7=g7,v7=y7,U_=Ii,x7=gs,F_=NaN,b7=/^[-+]0x[0-9a-f]+$/i,w7=/^0b[01]+$/i,_7=/^0o[0-7]+$/i,S7=parseInt;function E7(t){if(typeof t=="number")return t;if(x7(t))return F_;if(U_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=U_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=v7(t);var n=w7.test(t);return n||_7.test(t)?S7(t.slice(2),n?2:8):b7.test(t)?F_:+t}var UP=E7,T7=Ii,om=c7,B_=UP,A7="Expected a function",k7=Math.max,N7=Math.min;function C7(t,e,n){var r,i,o,a,s,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(A7);e=B_(e)||0,T7(n)&&(d=!!n.leading,f="maxWait"in n,o=f?k7(B_(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(E){var A=r,k=i;return r=i=void 0,u=E,a=t.apply(k,A),a}function v(E){return u=E,s=setTimeout(b,e),d?g(E):a}function y(E){var A=E-l,k=E-u,C=e-A;return f?N7(C,o-k):C}function w(E){var A=E-l,k=E-u;return l===void 0||A>=e||A<0||f&&k>=o}function b(){var E=om();if(w(E))return x(E);s=setTimeout(b,y(E))}function x(E){return s=void 0,h&&r?g(E):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?a:x(om())}function S(){var E=om(),A=w(E);if(r=arguments,i=this,l=E,A){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(b,e),g(l)}return s===void 0&&(s=setTimeout(b,e)),a}return S.cancel=_,S.flush=T,S}var P7=C7,I7=P7,O7=Ii,j7="Expected a function";function R7(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(j7);return O7(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),I7(t,e,{leading:r,maxWait:e,trailing:i})}var M7=R7;const FP=Oe(M7);function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function V_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(n),!0).forEach(function(r){$7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $7(t,e,n){return e=D7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D7(t){var e=L7(t,"string");return Wl(e)=="symbol"?e:e+""}function L7(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U7(t,e){return q7(t)||V7(t,e)||B7(t,e)||F7()}function F7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B7(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function q7(t){if(Array.isArray(t))return t}var Aa=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,g=t.children,v=t.debounce,y=v===void 0?0:v,w=t.id,b=t.className,x=t.onResize,_=t.style,T=_===void 0?{}:_,S=N.useRef(null),E=N.useRef();E.current=x,N.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=N.useState({containerWidth:i.width,containerHeight:i.height}),k=U7(A,2),C=k[0],P=k[1],O=N.useCallback(function(U,R){P(function(I){var D=Math.round(U),q=Math.round(R);return I.containerWidth===D&&I.containerHeight===q?I:{containerWidth:D,containerHeight:q}})},[]);N.useEffect(function(){var U=function(B){var H,Y=B[0].contentRect,z=Y.width,oe=Y.height;O(z,oe),(H=E.current)===null||H===void 0||H.call(E,z,oe)};y>0&&(U=FP(U,y,{trailing:!0,leading:!1}));var R=new ResizeObserver(U),I=S.current.getBoundingClientRect(),D=I.width,q=I.height;return O(D,q),R.observe(S.current),function(){R.disconnect()}},[O,y]);var $=N.useMemo(function(){var U=C.containerWidth,R=C.containerHeight;if(U<0||R<0)return null;er(ro(a)||ro(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),er(!n||n>0,"The aspect(%s) must be greater than zero.",n);var I=ro(a)?U:a,D=ro(l)?R:l;n&&n>0&&(I?D=I/n:D&&(I=D*n),h&&D>h&&(D=h)),er(I>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,D,a,l,d,f,n);var q=!Array.isArray(g)&&jr(g.type).endsWith("Chart");return j.Children.map(g,function(L){return j.isValidElement(L)?N.cloneElement(L,wc({width:I,height:D},q?{style:wc({height:"100%",width:"100%",maxHeight:D,maxWidth:I},L.props.style)}:{})):L})},[n,g,l,h,f,d,C,a]);return j.createElement("div",{id:w?"".concat(w):void 0,className:we("recharts-responsive-container",b),style:wc(wc({},T),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:S},$)}),Kl=function(e){return null};Kl.displayName="Cell";function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function G_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(n),!0).forEach(function(r){G7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G7(t,e,n){return e=H7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H7(t){var e=z7(t,"string");return Jl(e)=="symbol"?e:e+""}function z7(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uo={widthCache:{},cacheCount:0},W7=2e3,K7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},H_="recharts_measurement_span";function J7(t){var e=ry({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ml=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Oo.isSsr)return{width:0,height:0};var r=J7(n),i=JSON.stringify({text:e,copyStyle:r});if(Uo.widthCache[i])return Uo.widthCache[i];try{var o=document.getElementById(H_);o||(o=document.createElement("span"),o.setAttribute("id",H_),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=ry(ry({},K7),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Uo.widthCache[i]=l,++Uo.cacheCount>W7&&(Uo.cacheCount=0,Uo.widthCache={}),l}catch{return{width:0,height:0}}},Y7=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function Qd(t,e){return ez(t)||Z7(t,e)||Q7(t,e)||X7()}function X7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q7(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ez(t){if(Array.isArray(t))return t}function tz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rz(r.key),r)}}function nz(t,e,n){return e&&W_(t.prototype,e),n&&W_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rz(t){var e=iz(t,"string");return Yl(e)=="symbol"?e:e+""}function iz(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var K_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,az=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sz=Object.keys(BP),da="NaN";function lz(t,e){return t*BP[e]}var _c=function(){function t(e,n){tz(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!oz.test(n)&&(this.num=NaN,this.unit=""),sz.includes(n)&&(this.num=lz(e,n),this.unit="px")}return nz(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=az.exec(n))!==null&&r!==void 0?r:[],o=Qd(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function VP(t){if(t.includes(da))return da;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=K_.exec(e))!==null&&n!==void 0?n:[],i=Qd(r,4),o=i[1],a=i[2],s=i[3],l=_c.parse(o??""),u=_c.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return da;e=e.replace(K_,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=J_.exec(e))!==null&&f!==void 0?f:[],g=Qd(h,4),v=g[1],y=g[2],w=g[3],b=_c.parse(v??""),x=_c.parse(w??""),_=y==="+"?b.add(x):b.subtract(x);if(_.isNaN())return da;e=e.replace(J_,_.toString())}return e}var Y_=/\(([^()]*)\)/;function uz(t){for(var e=t;e.includes("(");){var n=Y_.exec(e),r=Qd(n,2),i=r[1];e=e.replace(Y_,VP(i))}return e}function cz(t){var e=t.replace(/\s+/g,"");return e=uz(e),e=VP(e),e}function dz(t){try{return cz(t)}catch{return da}}function am(t){var e=dz(t.slice(5,-1));return e===da?"":e}var fz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hz=["dx","dy","angle","className","breakAll"];function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(this,arguments)}function X_(t,e){if(t==null)return{};var n=pz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Q_(t,e){return vz(t)||yz(t,e)||gz(t,e)||mz()}function mz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gz(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vz(t){if(Array.isArray(t))return t}var qP=/[ \f\n\r\t\v\u2028\u2029]+/,GP=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ve(n)||(r?o=n.toString().split(""):o=n.toString().split(qP));var a=o.map(function(l){return{word:l,width:ml(l,i).width}}),s=r?0:ml("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},xz=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=Q(a),f=s,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(D,q){var L=q.word,B=q.width,H=D[D.length-1];if(H&&(i==null||o||H.width+B+r<Number(i)))H.words.push(L),H.width+=B+r;else{var Y={words:[L],width:B};D.push(Y)}return D},[])},g=h(n),v=function(I){return I.reduce(function(D,q){return D.width>q.width?D:q})};if(!d)return g;for(var y="",w=function(I){var D=f.slice(0,I),q=GP({breakAll:u,style:l,children:D+y}).wordsWithComputedWidth,L=h(q),B=L.length>a||v(L).width>Number(i);return[B,L]},b=0,x=f.length-1,_=0,T;b<=x&&_<=f.length-1;){var S=Math.floor((b+x)/2),E=S-1,A=w(E),k=Q_(A,2),C=k[0],P=k[1],O=w(S),$=Q_(O,1),U=$[0];if(!C&&!U&&(b=S+1),C&&U&&(x=S-1),!C&&U){T=P;break}_++}return T||g},eS=function(e){var n=ve(e)?[]:e.toString().split(qP);return[{words:n}]},bz=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Oo.isSsr){var l,u,d=GP({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return eS(i);return xz({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return eS(i)},tS="#808080",So=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,g=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,w=e.fill,b=w===void 0?tS:w,x=X_(e,fz),_=N.useMemo(function(){return bz({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),T=x.dx,S=x.dy,E=x.angle,A=x.className,k=x.breakAll,C=X_(x,hz);if(!xt(r)||!xt(o))return null;var P=r+(Q(T)?T:0),O=o+(Q(S)?S:0),$;switch(y){case"start":$=am("calc(".concat(u,")"));break;case"middle":$=am("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:$=am("calc(".concat(_.length-1," * -").concat(s,")"));break}var U=[];if(f){var R=_[0].width,I=x.width;U.push("scale(".concat((Q(I)?I/R:1)/R,")"))}return E&&U.push("rotate(".concat(E,", ").concat(P,", ").concat(O,")")),U.length&&(C.transform=U.join(" ")),j.createElement("text",iy({},se(C,!0),{x:P,y:O,className:we("recharts-text",A),textAnchor:g,fill:b.includes("url")?tS:b}),_.map(function(D,q){var L=D.words.join(k?"":" ");return j.createElement("tspan",{x:P,dy:q===0?$:s,key:"".concat(L,"-").concat(q)},L)}))};function _i(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wz(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ax(t){let e,n,r;t.length!==2?(e=_i,n=(s,l)=>_i(t(s),l),r=(s,l)=>t(s)-l):(e=t===_i||t===wz?t:_z,n=t,r=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function a(s,l,u=0,d=s.length){const f=i(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function _z(){return 0}function HP(t){return t===null?NaN:+t}function*Sz(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Ez=ax(_i),Gu=Ez.right;ax(HP).center;class nS extends Map{constructor(e,n=kz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(rS(this,e))}has(e){return super.has(rS(this,e))}set(e,n){return super.set(Tz(this,e),n)}delete(e){return super.delete(Az(this,e))}}function rS({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Tz({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Az({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function kz(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Nz(t=_i){if(t===_i)return zP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function zP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Cz=Math.sqrt(50),Pz=Math.sqrt(10),Iz=Math.sqrt(2);function Zd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Cz?10:o>=Pz?5:o>=Iz?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Zd(t,e,n*2):[s,l,u]}function oy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Zd(e,t,n):Zd(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function ay(t,e,n){return e=+e,t=+t,n=+n,Zd(t,e,n)[2]}function sy(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ay(e,t,n):ay(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function iS(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function oS(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function WP(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?zP:Nz(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));WP(t,e,g,v,i)}const o=t[e];let a=n,s=r;for(Vs(t,n,e),i(t[r],o)>0&&Vs(t,n,r);a<s;){for(Vs(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Vs(t,n,s):(++s,Vs(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Vs(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Oz(t,e,n){if(t=Float64Array.from(Sz(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return oS(t);if(e>=1)return iS(t);var r,i=(r-1)*e,o=Math.floor(i),a=iS(WP(t,o).subarray(0,o+1)),s=oS(t.subarray(o+1));return a+(s-a)*(i-o)}}function jz(t,e,n=HP){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function Rz(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Fn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ly=Symbol("implicit");function sx(){var t=new nS,e=[],n=[],r=ly;function i(o){let a=t.get(o);if(a===void 0){if(r!==ly)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new nS;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return sx(e,n).unknown(r)},Fn.apply(i,arguments),i}function Xl(){var t=sx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,g=i<r,v=g?i:r,y=g?r:i;o=(y-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(y-v-o*(h-l))*d,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var w=Rz(h).map(function(b){return v+o*b});return n(g?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Xl(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},Fn.apply(f(),arguments)}function KP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return KP(e())},t}function gl(){return KP(Xl.apply(null,arguments).paddingInner(1))}function lx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function JP(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Hu(){}var Ql=.7,ef=1/Ql,ka="\\s*([+-]?\\d+)\\s*",Zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mz=/^#([0-9a-f]{3,8})$/,$z=new RegExp(`^rgb\\(${ka},${ka},${ka}\\)$`),Dz=new RegExp(`^rgb\\(${hr},${hr},${hr}\\)$`),Lz=new RegExp(`^rgba\\(${ka},${ka},${ka},${Zl}\\)$`),Uz=new RegExp(`^rgba\\(${hr},${hr},${hr},${Zl}\\)$`),Fz=new RegExp(`^hsl\\(${Zl},${hr},${hr}\\)$`),Bz=new RegExp(`^hsla\\(${Zl},${hr},${hr},${Zl}\\)$`),aS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lx(Hu,eu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sS,formatHex:sS,formatHex8:Vz,formatHsl:qz,formatRgb:lS,toString:lS});function sS(){return this.rgb().formatHex()}function Vz(){return this.rgb().formatHex8()}function qz(){return YP(this).formatHsl()}function lS(){return this.rgb().formatRgb()}function eu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Mz.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?uS(e):n===3?new en(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Sc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Sc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$z.exec(t))?new en(e[1],e[2],e[3],1):(e=Dz.exec(t))?new en(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Lz.exec(t))?Sc(e[1],e[2],e[3],e[4]):(e=Uz.exec(t))?Sc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fz.exec(t))?fS(e[1],e[2]/100,e[3]/100,1):(e=Bz.exec(t))?fS(e[1],e[2]/100,e[3]/100,e[4]):aS.hasOwnProperty(t)?uS(aS[t]):t==="transparent"?new en(NaN,NaN,NaN,0):null}function uS(t){return new en(t>>16&255,t>>8&255,t&255,1)}function Sc(t,e,n,r){return r<=0&&(t=e=n=NaN),new en(t,e,n,r)}function Gz(t){return t instanceof Hu||(t=eu(t)),t?(t=t.rgb(),new en(t.r,t.g,t.b,t.opacity)):new en}function uy(t,e,n,r){return arguments.length===1?Gz(t):new en(t,e,n,r??1)}function en(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}lx(en,uy,JP(Hu,{brighter(t){return t=t==null?ef:Math.pow(ef,t),new en(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ql:Math.pow(Ql,t),new en(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new en(ho(this.r),ho(this.g),ho(this.b),tf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cS,formatHex:cS,formatHex8:Hz,formatRgb:dS,toString:dS}));function cS(){return`#${io(this.r)}${io(this.g)}${io(this.b)}`}function Hz(){return`#${io(this.r)}${io(this.g)}${io(this.b)}${io((isNaN(this.opacity)?1:this.opacity)*255)}`}function dS(){const t=tf(this.opacity);return`${t===1?"rgb(":"rgba("}${ho(this.r)}, ${ho(this.g)}, ${ho(this.b)}${t===1?")":`, ${t})`}`}function tf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ho(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function io(t){return t=ho(t),(t<16?"0":"")+t.toString(16)}function fS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xn(t,e,n,r)}function YP(t){if(t instanceof Xn)return new Xn(t.h,t.s,t.l,t.opacity);if(t instanceof Hu||(t=eu(t)),!t)return new Xn;if(t instanceof Xn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Xn(a,s,l,t.opacity)}function zz(t,e,n,r){return arguments.length===1?YP(t):new Xn(t,e,n,r??1)}function Xn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}lx(Xn,zz,JP(Hu,{brighter(t){return t=t==null?ef:Math.pow(ef,t),new Xn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ql:Math.pow(Ql,t),new Xn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new en(sm(t>=240?t-240:t+120,i,r),sm(t,i,r),sm(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xn(hS(this.h),Ec(this.s),Ec(this.l),tf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=tf(this.opacity);return`${t===1?"hsl(":"hsla("}${hS(this.h)}, ${Ec(this.s)*100}%, ${Ec(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hS(t){return t=(t||0)%360,t<0?t+360:t}function Ec(t){return Math.max(0,Math.min(1,t||0))}function sm(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ux=t=>()=>t;function Wz(t,e){return function(n){return t+n*e}}function Kz(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Jz(t){return(t=+t)==1?XP:function(e,n){return n-e?Kz(e,n,t):ux(isNaN(e)?n:e)}}function XP(t,e){var n=e-t;return n?Wz(t,n):ux(isNaN(t)?e:t)}const pS=function t(e){var n=Jz(e);function r(i,o){var a=n((i=uy(i)).r,(o=uy(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=XP(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function Yz(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Xz(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Qz(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ts(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Zz(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function nf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function eW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ts(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var cy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lm=new RegExp(cy.source,"g");function tW(t){return function(){return t}}function nW(t){return function(e){return t(e)+""}}function rW(t,e){var n=cy.lastIndex=lm.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=cy.exec(t))&&(i=lm.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:nf(r,i)})),n=lm.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?nW(l[0].x):tW(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function Ts(t,e){var n=typeof e,r;return e==null||n==="boolean"?ux(e):(n==="number"?nf:n==="string"?(r=eu(e))?(e=r,pS):rW:e instanceof eu?pS:e instanceof Date?Zz:Xz(e)?Yz:Array.isArray(e)?Qz:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eW:nf)(t,e)}function cx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function iW(t,e){e===void 0&&(e=t,t=Ts);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function oW(t){return function(){return t}}function rf(t){return+t}var mS=[0,1];function Ht(t){return t}function dy(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:oW(isNaN(e)?NaN:.5)}function aW(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function sW(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=dy(i,r),o=n(a,o)):(r=dy(r,i),o=n(o,a)),function(s){return o(r(s))}}function lW(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=dy(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Gu(t,s,1,r)-1;return o[l](i[l](s))}}function zu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fh(){var t=mS,e=mS,n=Ts,r,i,o,a=Ht,s,l,u;function d(){var h=Math.min(t.length,e.length);return a!==Ht&&(a=aW(t[0],t[h-1])),s=h>2?lW:sW,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),nf)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,rf),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=cx,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Ht,d()):a!==Ht},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,g){return r=h,i=g,d()}}function dx(){return Fh()(Ht,Ht)}function uW(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function of(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ga(t){return t=of(Math.abs(t)),t?t[1]:NaN}function cW(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function dW(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var fW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tu(t){if(!(e=fW.exec(t)))throw new Error("invalid format: "+t);var e;return new fx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}tu.prototype=fx.prototype;function fx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}fx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hW(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var QP;function pW(t,e){var n=of(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(QP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+of(t,Math.max(0,e+o-1))[0]}function gS(t,e){var n=of(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yS={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uW,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gS(t*100,e),r:gS,s:pW,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vS(t){return t}var xS=Array.prototype.map,bS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mW(t){var e=t.grouping===void 0||t.thousands===void 0?vS:cW(xS.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?vS:dW(xS.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=tu(f);var h=f.fill,g=f.align,v=f.sign,y=f.symbol,w=f.zero,b=f.width,x=f.comma,_=f.precision,T=f.trim,S=f.type;S==="n"?(x=!0,S="g"):yS[S]||(_===void 0&&(_=12),T=!0,S="g"),(w||h==="0"&&g==="=")&&(w=!0,h="0",g="=");var E=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=y==="$"?r:/[%p]/.test(S)?a:"",k=yS[S],C=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(O){var $=E,U=A,R,I,D;if(S==="c")U=k(O)+U,O="";else{O=+O;var q=O<0||1/O<0;if(O=isNaN(O)?l:k(Math.abs(O),_),T&&(O=hW(O)),q&&+O==0&&v!=="+"&&(q=!1),$=(q?v==="("?v:s:v==="-"||v==="("?"":v)+$,U=(S==="s"?bS[8+QP/3]:"")+U+(q&&v==="("?")":""),C){for(R=-1,I=O.length;++R<I;)if(D=O.charCodeAt(R),48>D||D>57){U=(D===46?i+O.slice(R+1):O.slice(R))+U,O=O.slice(0,R);break}}}x&&!w&&(O=e(O,1/0));var L=$.length+O.length+U.length,B=L<b?new Array(b-L+1).join(h):"";switch(x&&w&&(O=e(B+O,B.length?b-U.length:1/0),B=""),g){case"<":O=$+O+U+B;break;case"=":O=$+B+O+U;break;case"^":O=B.slice(0,L=B.length>>1)+$+O+U+B.slice(L);break;default:O=B+$+O+U;break}return o(O)}return P.toString=function(){return f+""},P}function d(f,h){var g=u((f=tu(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Ga(h)/3)))*3,y=Math.pow(10,-v),w=bS[8+v/3];return function(b){return g(y*b)+w}}return{format:u,formatPrefix:d}}var Tc,hx,ZP;gW({thousands:",",grouping:[3],currency:["$",""]});function gW(t){return Tc=mW(t),hx=Tc.format,ZP=Tc.formatPrefix,Tc}function yW(t){return Math.max(0,-Ga(Math.abs(t)))}function vW(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ga(e)/3)))*3-Ga(Math.abs(t)))}function xW(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ga(e)-Ga(t))+1}function eI(t,e,n,r){var i=sy(t,e,n),o;switch(r=tu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=vW(i,a))&&(r.precision=o),ZP(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=xW(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=yW(i))&&(r.precision=o-(r.type==="%")*2);break}}return hx(r)}function Oi(t){var e=t.domain;return t.ticks=function(n){var r=e();return oy(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return eI(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,d=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);d-- >0;){if(u=ay(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function af(){var t=dx();return t.copy=function(){return zu(t,af())},Fn.apply(t,arguments),Oi(t)}function tI(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,rf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return tI(t).unknown(e)},t=arguments.length?Array.from(t,rf):[0,1],Oi(n)}function nI(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function wS(t){return Math.log(t)}function _S(t){return Math.exp(t)}function bW(t){return-Math.log(-t)}function wW(t){return-Math.exp(-t)}function _W(t){return isFinite(t)?+("1e"+t):t<0?0:t}function SW(t){return t===10?_W:t===Math.E?Math.exp:e=>Math.pow(t,e)}function EW(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function SS(t){return(e,n)=>-t(-e,n)}function px(t){const e=t(wS,_S),n=e.domain;let r=10,i,o;function a(){return i=EW(r),o=SW(r),n()[0]<0?(i=SS(i),o=SS(o),t(bW,wW)):t(wS,_S),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),g=i(d),v,y;const w=s==null?10:+s;let b=[];if(!(r%1)&&g-h<w){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(y=h<0?v/o(-h):v*o(h),!(y<u)){if(y>d)break;b.push(y)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/o(-h):v*o(h),!(y<u)){if(y>d)break;b.push(y)}b.length*2<w&&(b=oy(u,d,w))}else b=oy(h,g,Math.min(g-h,w)).map(o);return f?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=tu(l)).precision==null&&(l.trim=!0),l=hx(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(nI(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function rI(){const t=px(Fh()).domain([1,10]);return t.copy=()=>zu(t,rI()).base(t.base()),Fn.apply(t,arguments),t}function ES(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function TS(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function mx(t){var e=1,n=t(ES(e),TS(e));return n.constant=function(r){return arguments.length?t(ES(e=+r),TS(e)):e},Oi(n)}function iI(){var t=mx(Fh());return t.copy=function(){return zu(t,iI()).constant(t.constant())},Fn.apply(t,arguments)}function AS(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function TW(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function AW(t){return t<0?-t*t:t*t}function gx(t){var e=t(Ht,Ht),n=1;function r(){return n===1?t(Ht,Ht):n===.5?t(TW,AW):t(AS(n),AS(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Oi(e)}function yx(){var t=gx(Fh());return t.copy=function(){return zu(t,yx()).exponent(t.exponent())},Fn.apply(t,arguments),t}function kW(){return yx.apply(null,arguments).exponent(.5)}function kS(t){return Math.sign(t)*t*t}function NW(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function oI(){var t=dx(),e=[0,1],n=!1,r;function i(o){var a=NW(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(kS(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,rf)).map(kS)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return oI(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Fn.apply(i,arguments),Oi(i)}function aI(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=jz(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Gu(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(_i),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return aI().domain(t).range(e).unknown(r)},Fn.apply(o,arguments)}function sI(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Gu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return sI().domain([t,e]).range(i).unknown(o)},Fn.apply(Oi(a),arguments)}function lI(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Gu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return lI().domain(t).range(e).unknown(n)},Fn.apply(i,arguments)}const um=new Date,cm=new Date;function bt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>bt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(um.setTime(+o),cm.setTime(+a),t(um),t(cm),Math.floor(n(um,cm))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const sf=bt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);sf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?bt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):sf);sf.range;const Cr=1e3,Pn=Cr*60,Pr=Pn*60,Fr=Pr*24,vx=Fr*7,NS=Fr*30,dm=Fr*365,oo=bt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Cr)},(t,e)=>(e-t)/Cr,t=>t.getUTCSeconds());oo.range;const xx=bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cr)},(t,e)=>{t.setTime(+t+e*Pn)},(t,e)=>(e-t)/Pn,t=>t.getMinutes());xx.range;const bx=bt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Pn)},(t,e)=>(e-t)/Pn,t=>t.getUTCMinutes());bx.range;const wx=bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cr-t.getMinutes()*Pn)},(t,e)=>{t.setTime(+t+e*Pr)},(t,e)=>(e-t)/Pr,t=>t.getHours());wx.range;const _x=bt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Pr)},(t,e)=>(e-t)/Pr,t=>t.getUTCHours());_x.range;const Wu=bt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pn)/Fr,t=>t.getDate()-1);Wu.range;const Bh=bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fr,t=>t.getUTCDate()-1);Bh.range;const uI=bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fr,t=>Math.floor(t/Fr));uI.range;function jo(t){return bt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Pn)/vx)}const Vh=jo(0),lf=jo(1),CW=jo(2),PW=jo(3),Ha=jo(4),IW=jo(5),OW=jo(6);Vh.range;lf.range;CW.range;PW.range;Ha.range;IW.range;OW.range;function Ro(t){return bt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/vx)}const qh=Ro(0),uf=Ro(1),jW=Ro(2),RW=Ro(3),za=Ro(4),MW=Ro(5),$W=Ro(6);qh.range;uf.range;jW.range;RW.range;za.range;MW.range;$W.range;const Sx=bt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Sx.range;const Ex=bt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ex.range;const Br=bt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Br.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Br.range;const Vr=bt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vr.range;function cI(t,e,n,r,i,o){const a=[[oo,1,Cr],[oo,5,5*Cr],[oo,15,15*Cr],[oo,30,30*Cr],[o,1,Pn],[o,5,5*Pn],[o,15,15*Pn],[o,30,30*Pn],[i,1,Pr],[i,3,3*Pr],[i,6,6*Pr],[i,12,12*Pr],[r,1,Fr],[r,2,2*Fr],[n,1,vx],[e,1,NS],[e,3,3*NS],[t,1,dm]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:l(u,d,f),v=g?g.range(u,+d+1):[];return h?v.reverse():v}function l(u,d,f){const h=Math.abs(d-u)/f,g=ax(([,,w])=>w).right(a,h);if(g===a.length)return t.every(sy(u/dm,d/dm,f));if(g===0)return sf.every(Math.max(sy(u,d,f),1));const[v,y]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return v.every(y)}return[s,l]}const[DW,LW]=cI(Vr,Ex,qh,uI,_x,bx),[UW,FW]=cI(Br,Sx,Vh,Wu,wx,xx);function fm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qs(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function BW(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Gs(i),d=Hs(i),f=Gs(o),h=Hs(o),g=Gs(a),v=Hs(a),y=Gs(s),w=Hs(s),b=Gs(l),x=Hs(l),_={a:q,A:L,b:B,B:H,c:null,d:RS,e:RS,f:c9,g:b9,G:_9,H:s9,I:l9,j:u9,L:dI,m:d9,M:f9,p:Y,q:z,Q:DS,s:LS,S:h9,u:p9,U:m9,V:g9,w:y9,W:v9,x:null,X:null,y:x9,Y:w9,Z:S9,"%":$S},T={a:oe,A:xe,b:Ee,B:Pe,c:null,d:MS,e:MS,f:k9,g:D9,G:U9,H:E9,I:T9,j:A9,L:hI,m:N9,M:C9,p:Ze,q:rt,Q:DS,s:LS,S:P9,u:I9,U:O9,V:j9,w:R9,W:M9,x:null,X:null,y:$9,Y:L9,Z:F9,"%":$S},S={a:P,A:O,b:$,B:U,c:R,d:OS,e:OS,f:r9,g:IS,G:PS,H:jS,I:jS,j:ZW,L:n9,m:QW,M:e9,p:C,q:XW,Q:o9,s:a9,S:t9,u:zW,U:WW,V:KW,w:HW,W:JW,x:I,X:D,y:IS,Y:PS,Z:YW,"%":i9};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(ee,me){return function(ge){var W=[],Me=-1,V=0,ne=ee.length,M,F,X;for(ge instanceof Date||(ge=new Date(+ge));++Me<ne;)ee.charCodeAt(Me)===37&&(W.push(ee.slice(V,Me)),(F=CS[M=ee.charAt(++Me)])!=null?M=ee.charAt(++Me):F=M==="e"?" ":"0",(X=me[M])&&(M=X(ge,F)),W.push(M),V=Me+1);return W.push(ee.slice(V,Me)),W.join("")}}function A(ee,me){return function(ge){var W=qs(1900,void 0,1),Me=k(W,ee,ge+="",0),V,ne;if(Me!=ge.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(me&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(V=hm(qs(W.y,0,1)),ne=V.getUTCDay(),V=ne>4||ne===0?uf.ceil(V):uf(V),V=Bh.offset(V,(W.V-1)*7),W.y=V.getUTCFullYear(),W.m=V.getUTCMonth(),W.d=V.getUTCDate()+(W.w+6)%7):(V=fm(qs(W.y,0,1)),ne=V.getDay(),V=ne>4||ne===0?lf.ceil(V):lf(V),V=Wu.offset(V,(W.V-1)*7),W.y=V.getFullYear(),W.m=V.getMonth(),W.d=V.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),ne="Z"in W?hm(qs(W.y,0,1)).getUTCDay():fm(qs(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(ne+5)%7:W.w+W.U*7-(ne+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,hm(W)):fm(W)}}function k(ee,me,ge,W){for(var Me=0,V=me.length,ne=ge.length,M,F;Me<V;){if(W>=ne)return-1;if(M=me.charCodeAt(Me++),M===37){if(M=me.charAt(Me++),F=S[M in CS?me.charAt(Me++):M],!F||(W=F(ee,ge,W))<0)return-1}else if(M!=ge.charCodeAt(W++))return-1}return W}function C(ee,me,ge){var W=u.exec(me.slice(ge));return W?(ee.p=d.get(W[0].toLowerCase()),ge+W[0].length):-1}function P(ee,me,ge){var W=g.exec(me.slice(ge));return W?(ee.w=v.get(W[0].toLowerCase()),ge+W[0].length):-1}function O(ee,me,ge){var W=f.exec(me.slice(ge));return W?(ee.w=h.get(W[0].toLowerCase()),ge+W[0].length):-1}function $(ee,me,ge){var W=b.exec(me.slice(ge));return W?(ee.m=x.get(W[0].toLowerCase()),ge+W[0].length):-1}function U(ee,me,ge){var W=y.exec(me.slice(ge));return W?(ee.m=w.get(W[0].toLowerCase()),ge+W[0].length):-1}function R(ee,me,ge){return k(ee,e,me,ge)}function I(ee,me,ge){return k(ee,n,me,ge)}function D(ee,me,ge){return k(ee,r,me,ge)}function q(ee){return a[ee.getDay()]}function L(ee){return o[ee.getDay()]}function B(ee){return l[ee.getMonth()]}function H(ee){return s[ee.getMonth()]}function Y(ee){return i[+(ee.getHours()>=12)]}function z(ee){return 1+~~(ee.getMonth()/3)}function oe(ee){return a[ee.getUTCDay()]}function xe(ee){return o[ee.getUTCDay()]}function Ee(ee){return l[ee.getUTCMonth()]}function Pe(ee){return s[ee.getUTCMonth()]}function Ze(ee){return i[+(ee.getUTCHours()>=12)]}function rt(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var me=E(ee+="",_);return me.toString=function(){return ee},me},parse:function(ee){var me=A(ee+="",!1);return me.toString=function(){return ee},me},utcFormat:function(ee){var me=E(ee+="",T);return me.toString=function(){return ee},me},utcParse:function(ee){var me=A(ee+="",!0);return me.toString=function(){return ee},me}}}var CS={"-":"",_:" ",0:"0"},Tt=/^\s*\d+/,VW=/^%/,qW=/[\\^$*+?|[\]().{}]/g;function Ae(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function GW(t){return t.replace(qW,"\\$&")}function Gs(t){return new RegExp("^(?:"+t.map(GW).join("|")+")","i")}function Hs(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function HW(t,e,n){var r=Tt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function zW(t,e,n){var r=Tt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function WW(t,e,n){var r=Tt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function KW(t,e,n){var r=Tt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function JW(t,e,n){var r=Tt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function PS(t,e,n){var r=Tt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function IS(t,e,n){var r=Tt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function YW(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function XW(t,e,n){var r=Tt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function QW(t,e,n){var r=Tt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function OS(t,e,n){var r=Tt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ZW(t,e,n){var r=Tt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jS(t,e,n){var r=Tt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function e9(t,e,n){var r=Tt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function t9(t,e,n){var r=Tt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function n9(t,e,n){var r=Tt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function r9(t,e,n){var r=Tt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function i9(t,e,n){var r=VW.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function o9(t,e,n){var r=Tt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function a9(t,e,n){var r=Tt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function RS(t,e){return Ae(t.getDate(),e,2)}function s9(t,e){return Ae(t.getHours(),e,2)}function l9(t,e){return Ae(t.getHours()%12||12,e,2)}function u9(t,e){return Ae(1+Wu.count(Br(t),t),e,3)}function dI(t,e){return Ae(t.getMilliseconds(),e,3)}function c9(t,e){return dI(t,e)+"000"}function d9(t,e){return Ae(t.getMonth()+1,e,2)}function f9(t,e){return Ae(t.getMinutes(),e,2)}function h9(t,e){return Ae(t.getSeconds(),e,2)}function p9(t){var e=t.getDay();return e===0?7:e}function m9(t,e){return Ae(Vh.count(Br(t)-1,t),e,2)}function fI(t){var e=t.getDay();return e>=4||e===0?Ha(t):Ha.ceil(t)}function g9(t,e){return t=fI(t),Ae(Ha.count(Br(t),t)+(Br(t).getDay()===4),e,2)}function y9(t){return t.getDay()}function v9(t,e){return Ae(lf.count(Br(t)-1,t),e,2)}function x9(t,e){return Ae(t.getFullYear()%100,e,2)}function b9(t,e){return t=fI(t),Ae(t.getFullYear()%100,e,2)}function w9(t,e){return Ae(t.getFullYear()%1e4,e,4)}function _9(t,e){var n=t.getDay();return t=n>=4||n===0?Ha(t):Ha.ceil(t),Ae(t.getFullYear()%1e4,e,4)}function S9(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ae(e/60|0,"0",2)+Ae(e%60,"0",2)}function MS(t,e){return Ae(t.getUTCDate(),e,2)}function E9(t,e){return Ae(t.getUTCHours(),e,2)}function T9(t,e){return Ae(t.getUTCHours()%12||12,e,2)}function A9(t,e){return Ae(1+Bh.count(Vr(t),t),e,3)}function hI(t,e){return Ae(t.getUTCMilliseconds(),e,3)}function k9(t,e){return hI(t,e)+"000"}function N9(t,e){return Ae(t.getUTCMonth()+1,e,2)}function C9(t,e){return Ae(t.getUTCMinutes(),e,2)}function P9(t,e){return Ae(t.getUTCSeconds(),e,2)}function I9(t){var e=t.getUTCDay();return e===0?7:e}function O9(t,e){return Ae(qh.count(Vr(t)-1,t),e,2)}function pI(t){var e=t.getUTCDay();return e>=4||e===0?za(t):za.ceil(t)}function j9(t,e){return t=pI(t),Ae(za.count(Vr(t),t)+(Vr(t).getUTCDay()===4),e,2)}function R9(t){return t.getUTCDay()}function M9(t,e){return Ae(uf.count(Vr(t)-1,t),e,2)}function $9(t,e){return Ae(t.getUTCFullYear()%100,e,2)}function D9(t,e){return t=pI(t),Ae(t.getUTCFullYear()%100,e,2)}function L9(t,e){return Ae(t.getUTCFullYear()%1e4,e,4)}function U9(t,e){var n=t.getUTCDay();return t=n>=4||n===0?za(t):za.ceil(t),Ae(t.getUTCFullYear()%1e4,e,4)}function F9(){return"+0000"}function $S(){return"%"}function DS(t){return+t}function LS(t){return Math.floor(+t/1e3)}var Fo,mI,gI;B9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function B9(t){return Fo=BW(t),mI=Fo.format,Fo.parse,gI=Fo.utcFormat,Fo.utcParse,Fo}function V9(t){return new Date(t)}function q9(t){return t instanceof Date?+t:+new Date(+t)}function Tx(t,e,n,r,i,o,a,s,l,u){var d=dx(),f=d.invert,h=d.domain,g=u(".%L"),v=u(":%S"),y=u("%I:%M"),w=u("%I %p"),b=u("%a %d"),x=u("%b %d"),_=u("%B"),T=u("%Y");function S(E){return(l(E)<E?g:s(E)<E?v:a(E)<E?y:o(E)<E?w:r(E)<E?i(E)<E?b:x:n(E)<E?_:T)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,q9)):h().map(V9)},d.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},d.tickFormat=function(E,A){return A==null?S:u(A)},d.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(nI(A,E)):d},d.copy=function(){return zu(d,Tx(t,e,n,r,i,o,a,s,l,u))},d}function G9(){return Fn.apply(Tx(UW,FW,Br,Sx,Vh,Wu,wx,xx,oo,mI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function H9(){return Fn.apply(Tx(DW,LW,Vr,Ex,qh,Bh,_x,bx,oo,gI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gh(){var t=0,e=1,n,r,i,o,a=Ht,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var g,v;return arguments.length?([g,v]=h,a=f(g,v),u):[a(0),a(1)]}}return u.range=d(Ts),u.rangeRound=d(cx),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function ji(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yI(){var t=Oi(Gh()(Ht));return t.copy=function(){return ji(t,yI())},Wr.apply(t,arguments)}function vI(){var t=px(Gh()).domain([1,10]);return t.copy=function(){return ji(t,vI()).base(t.base())},Wr.apply(t,arguments)}function xI(){var t=mx(Gh());return t.copy=function(){return ji(t,xI()).constant(t.constant())},Wr.apply(t,arguments)}function Ax(){var t=gx(Gh());return t.copy=function(){return ji(t,Ax()).exponent(t.exponent())},Wr.apply(t,arguments)}function z9(){return Ax.apply(null,arguments).exponent(.5)}function bI(){var t=[],e=Ht;function n(r){if(r!=null&&!isNaN(r=+r))return e((Gu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(_i),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Oz(t,o/r))},n.copy=function(){return bI(e).domain(t)},Wr.apply(n,arguments)}function Hh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Ht,d,f=!1,h;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-o)*(r*y<r*o?s:l),u(f?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(f=!!y,g):f},g.interpolator=function(y){return arguments.length?(u=y,g):u};function v(y){return function(w){var b,x,_;return arguments.length?([b,x,_]=w,u=iW(y,[b,x,_]),g):[u(0),u(.5),u(1)]}}return g.range=v(Ts),g.rangeRound=v(cx),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return d=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function wI(){var t=Oi(Hh()(Ht));return t.copy=function(){return ji(t,wI())},Wr.apply(t,arguments)}function _I(){var t=px(Hh()).domain([.1,1,10]);return t.copy=function(){return ji(t,_I()).base(t.base())},Wr.apply(t,arguments)}function SI(){var t=mx(Hh());return t.copy=function(){return ji(t,SI()).constant(t.constant())},Wr.apply(t,arguments)}function kx(){var t=gx(Hh());return t.copy=function(){return ji(t,kx()).exponent(t.exponent())},Wr.apply(t,arguments)}function W9(){return kx.apply(null,arguments).exponent(.5)}const US=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xl,scaleDiverging:wI,scaleDivergingLog:_I,scaleDivergingPow:kx,scaleDivergingSqrt:W9,scaleDivergingSymlog:SI,scaleIdentity:tI,scaleImplicit:ly,scaleLinear:af,scaleLog:rI,scaleOrdinal:sx,scalePoint:gl,scalePow:yx,scaleQuantile:aI,scaleQuantize:sI,scaleRadial:oI,scaleSequential:yI,scaleSequentialLog:vI,scaleSequentialPow:Ax,scaleSequentialQuantile:bI,scaleSequentialSqrt:z9,scaleSequentialSymlog:xI,scaleSqrt:kW,scaleSymlog:iI,scaleThreshold:lI,scaleTime:G9,scaleUtc:H9,tickFormat:eI},Symbol.toStringTag,{value:"Module"}));var K9=gs;function J9(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!K9(a):n(a,s)))var s=a,l=o}return l}var zh=J9;function Y9(t,e){return t>e}var EI=Y9,X9=zh,Q9=EI,Z9=Es;function eK(t){return t&&t.length?X9(t,Z9,Q9):void 0}var tK=eK;const Wh=Oe(tK);function nK(t,e){return t<e}var TI=nK,rK=zh,iK=TI,oK=Es;function aK(t){return t&&t.length?rK(t,oK,iK):void 0}var sK=aK;const Kh=Oe(sK);var lK=B0,uK=wr,cK=jP,dK=on;function fK(t,e){var n=dK(t)?lK:cK;return n(t,uK(e))}var hK=fK,pK=IP,mK=hK;function gK(t,e){return pK(mK(t,e),1)}var yK=gK;const vK=Oe(yK);var xK=nx;function bK(t,e){return xK(t,e)}var wK=bK;const Ku=Oe(wK);var As=1e9,_K={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Cx,We=!0,$n="[DecimalError] ",po=$n+"Invalid argument: ",Nx=$n+"Exponent out of range: ",ks=Math.floor,Ki=Math.pow,SK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fn,wt=1e7,Ge=7,AI=9007199254740991,cf=ks(AI/Ge),ie={};ie.absoluteValue=ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ie.comparedTo=ie.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ge;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ie.dividedBy=ie.div=function(t){return Rr(this,new this.constructor(t))};ie.dividedToIntegerBy=ie.idiv=function(t){var e=this,n=e.constructor;return $e(Rr(e,new n(t),0,1),n.precision)};ie.equals=ie.eq=function(t){return!this.cmp(t)};ie.exponent=function(){return ft(this)};ie.greaterThan=ie.gt=function(t){return this.cmp(t)>0};ie.greaterThanOrEqualTo=ie.gte=function(t){return this.cmp(t)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(t){return this.cmp(t)<0};ie.lessThanOrEqualTo=ie.lte=function(t){return this.cmp(t)<1};ie.logarithm=ie.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(fn))throw Error($n+"NaN");if(n.s<1)throw Error($n+(n.s?"NaN":"-Infinity"));return n.eq(fn)?new r(0):(We=!1,e=Rr(nu(n,o),nu(t,o),o),We=!0,$e(e,i))};ie.minus=ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?CI(e,t):kI(e,(t.s=-t.s,t))};ie.modulo=ie.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error($n+"NaN");return n.s?(We=!1,e=Rr(n,t,0,1).times(t),We=!0,n.minus(e)):$e(new r(n),i)};ie.naturalExponential=ie.exp=function(){return NI(this)};ie.naturalLogarithm=ie.ln=function(){return nu(this)};ie.negated=ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ie.plus=ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kI(e,t):CI(e,(t.s=-t.s,t))};ie.precision=ie.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(po+t);if(e=ft(i)+1,r=i.d.length-1,n=r*Ge+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ie.squareRoot=ie.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error($n+"NaN")}for(t=ft(s),We=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=cr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ks((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Rr(s,o,a+2)).times(.5),cr(o.d).slice(0,a)===(e=cr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if($e(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return We=!0,$e(r,n)};ie.times=ie.mul=function(t){var e,n,r,i,o,a,s,l,u,d=this,f=d.constructor,h=d.d,g=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%wt|0,e=s/wt|0;o[i]=(o[i]+e)%wt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,We?$e(t,f.precision):t};ie.toDecimalPlaces=ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(gr(t,0,As),e===void 0?e=r.rounding:gr(e,0,8),$e(n,t+ft(n)+1,e))};ie.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Eo(r,!0):(gr(t,0,As),e===void 0?e=i.rounding:gr(e,0,8),r=$e(new i(r),t+1,e),n=Eo(r,!0,t+1)),n};ie.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Eo(i):(gr(t,0,As),e===void 0?e=o.rounding:gr(e,0,8),r=$e(new o(i),t+ft(i)+1,e),n=Eo(r.abs(),!1,t+ft(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ie.toInteger=ie.toint=function(){var t=this,e=t.constructor;return $e(new e(t),ft(t)+1,e.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(fn);if(s=new l(s),!s.s){if(t.s<1)throw Error($n+"Infinity");return s}if(s.eq(fn))return s;if(r=l.precision,t.eq(fn))return $e(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=AI){for(i=new l(fn),e=Math.ceil(r/Ge+4),We=!1;n%2&&(i=i.times(s),BS(i.d,e)),n=ks(n/2),n!==0;)s=s.times(s),BS(s.d,e);return We=!0,t.s<0?new l(fn).div(i):$e(i,r)}}else if(o<0)throw Error($n+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,We=!1,i=t.times(nu(s,r+u)),We=!0,i=NI(i),i.s=o,i};ie.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=ft(i),r=Eo(i,n<=o.toExpNeg||n>=o.toExpPos)):(gr(t,1,As),e===void 0?e=o.rounding:gr(e,0,8),i=$e(new o(i),t,e),n=ft(i),r=Eo(i,t<=n||n<=o.toExpNeg,t)),r};ie.toSignificantDigits=ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(gr(t,1,As),e===void 0?e=r.rounding:gr(e,0,8)),$e(new r(n),t,e)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ft(t),n=t.constructor;return Eo(t,e<=n.toExpNeg||e>=n.toExpPos)};function kI(t,e){var n,r,i,o,a,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),We?$e(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Ge),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/wt|0,l[o]%=wt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,We?$e(e,f):e}function gr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(po+t)}function cr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ge-r.length,n&&(o+=ti(n)),o+=r;a=t[e],r=a+"",n=Ge-r.length,n&&(o+=ti(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Rr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%wt|0,a=o/wt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*wt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,d,f,h,g,v,y,w,b,x,_,T,S,E,A,k,C=r.constructor,P=r.s==i.s?1:-1,O=r.d,$=i.d;if(!r.s)return new C(r);if(!i.s)throw Error($n+"Division by zero");for(l=r.e-i.e,A=$.length,S=O.length,g=new C(P),v=g.d=[],u=0;$[u]==(O[u]||0);)++u;if($[u]>(O[u]||0)&&--l,o==null?x=o=C.precision:a?x=o+(ft(r)-ft(i))+1:x=o,x<0)return new C(0);if(x=x/Ge+2|0,u=0,A==1)for(d=0,$=$[0],x++;(u<S||d)&&x--;u++)_=d*wt+(O[u]||0),v[u]=_/$|0,d=_%$|0;else{for(d=wt/($[0]+1)|0,d>1&&($=t($,d),O=t(O,d),A=$.length,S=O.length),T=A,y=O.slice(0,A),w=y.length;w<A;)y[w++]=0;k=$.slice(),k.unshift(0),E=$[0],$[1]>=wt/2&&++E;do d=0,s=e($,y,A,w),s<0?(b=y[0],A!=w&&(b=b*wt+(y[1]||0)),d=b/E|0,d>1?(d>=wt&&(d=wt-1),f=t($,d),h=f.length,w=y.length,s=e(f,y,h,w),s==1&&(d--,n(f,A<h?k:$,h))):(d==0&&(s=d=1),f=$.slice()),h=f.length,h<w&&f.unshift(0),n(y,f,w),s==-1&&(w=y.length,s=e($,y,A,w),s<1&&(d++,n(y,A<w?k:$,w))),w=y.length):s===0&&(d++,y=[0]),v[u++]=d,s&&y[0]?y[w++]=O[T]||0:(y=[O[T]],w=1);while((T++<S||y[0]!==void 0)&&x--)}return v[0]||v.shift(),g.e=l,$e(g,a?o+ft(g)+1:o)}}();function NI(t,e){var n,r,i,o,a,s,l=0,u=0,d=t.constructor,f=d.precision;if(ft(t)>16)throw Error(Nx+ft(t));if(!t.s)return new d(fn);for(We=!1,s=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Ki(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new d(fn),d.precision=s;;){if(i=$e(i.times(t),s),n=n.times(++l),a=o.plus(Rr(i,n,s)),cr(a.d).slice(0,s)===cr(o.d).slice(0,s)){for(;u--;)o=$e(o.times(o),s);return d.precision=f,e==null?(We=!0,$e(o,f)):o}o=a}}function ft(t){for(var e=t.e*Ge,n=t.d[0];n>=10;n/=10)e++;return e}function pm(t,e,n){if(e>t.LN10.sd())throw We=!0,n&&(t.precision=n),Error($n+"LN10 precision limit exceeded");return $e(new t(t.LN10),e)}function ti(t){for(var e="";t--;)e+="0";return e}function nu(t,e){var n,r,i,o,a,s,l,u,d,f=1,h=10,g=t,v=g.d,y=g.constructor,w=y.precision;if(g.s<1)throw Error($n+(g.s?"NaN":"-Infinity"));if(g.eq(fn))return new y(0);if(e==null?(We=!1,u=w):u=e,g.eq(10))return e==null&&(We=!0),pm(y,u);if(u+=h,y.precision=u,n=cr(v),r=n.charAt(0),o=ft(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=cr(g.d),r=n.charAt(0),f++;o=ft(g),r>1?(g=new y("0."+n),o++):g=new y(r+"."+n.slice(1))}else return l=pm(y,u+2,w).times(o+""),g=nu(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=w,e==null?(We=!0,$e(g,w)):g;for(s=a=g=Rr(g.minus(fn),g.plus(fn),u),d=$e(g.times(g),u),i=3;;){if(a=$e(a.times(d),u),l=s.plus(Rr(a,new y(i),u)),cr(l.d).slice(0,u)===cr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(pm(y,u+2,w).times(o+""))),s=Rr(s,new y(f),u),y.precision=w,e==null?(We=!0,$e(s,w)):s;s=l,i+=2}}function FS(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ks(n/Ge),t.d=[],r=(n+1)%Ge,n<0&&(r+=Ge),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ge;r<i;)t.d.push(+e.slice(r,r+=Ge));e=e.slice(r),r=Ge-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),We&&(t.e>cf||t.e<-cf))throw Error(Nx+n)}else t.s=0,t.e=0,t.d=[0];return t}function $e(t,e,n){var r,i,o,a,s,l,u,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ge,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/Ge),o=f.length,d>=o)return t;for(u=o=f[d],a=1;o>=10;o/=10)a++;r%=Ge,i=r-Ge+a}if(n!==void 0&&(o=Ki(10,a-i-1),s=u/o%10|0,l=e<0||f[d+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ki(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=ft(t),f.length=1,e=e-o-1,f[0]=Ki(10,(Ge-e%Ge)%Ge),t.e=ks(-e/Ge)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Ki(10,Ge-r),f[d]=i>0?(u/Ki(10,a-i)%Ki(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==wt&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=wt)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(We&&(t.e>cf||t.e<-cf))throw Error(Nx+ft(t));return t}function CI(t,e){var n,r,i,o,a,s,l,u,d,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),We?$e(e,g):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(g/Ge),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=wt-1;--l[o],l[i]+=wt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,We?$e(e,g):e):new h(0)}function Eo(t,e,n){var r,i=ft(t),o=cr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ti(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ti(-i-1)+o,n&&(r=n-a)>0&&(o+=ti(r))):i>=a?(o+=ti(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ti(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ti(r))),t.s<0?"-"+o:o}function BS(t,e){if(t.length>e)return t.length=e,!0}function PI(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(po+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return FS(a,o.toString())}else if(typeof o!="string")throw Error(po+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,SK.test(o))FS(a,o);else throw Error(po+o)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=PI,i.config=i.set=EK,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function EK(t){if(!t||typeof t!="object")throw Error($n+"Object expected");var e,n,r,i=["precision",1,As,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ks(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(po+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(po+n+": "+r);return this}var Cx=PI(_K);fn=new Cx(1);const Re=Cx;function TK(t){return CK(t)||NK(t)||kK(t)||AK()}function AK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kK(t,e){if(t){if(typeof t=="string")return fy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fy(t,e)}}function NK(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function CK(t){if(Array.isArray(t))return fy(t)}function fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var PK=function(e){return e},II={},OI=function(e){return e===II},VS=function(e){return function n(){return arguments.length===0||arguments.length===1&&OI(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},IK=function t(e,n){return e===1?n:VS(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==II}).length;return a>=e?n.apply(void 0,i):t(e-a,VS(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(f){return OI(f)?l.shift():f});return n.apply(void 0,TK(d).concat(l))}))})},Jh=function(e){return IK(e.length,e)},hy=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},OK=Jh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),jK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return PK;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},py=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},jI=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function RK(t){var e;return t===0?e=1:e=Math.floor(new Re(t).abs().log(10).toNumber())+1,e}function MK(t,e,n){for(var r=new Re(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var $K=Jh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),DK=Jh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),LK=Jh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Yh={rangeStep:MK,getDigitCount:RK,interpolateNumber:$K,uninterpolateNumber:DK,uninterpolateTruncation:LK};function my(t){return BK(t)||FK(t)||RI(t)||UK()}function UK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FK(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function BK(t){if(Array.isArray(t))return gy(t)}function ru(t,e){return GK(t)||qK(t,e)||RI(t,e)||VK()}function VK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RI(t,e){if(t){if(typeof t=="string")return gy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gy(t,e)}}function gy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qK(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function GK(t){if(Array.isArray(t))return t}function MI(t){var e=ru(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function $I(t,e,n){if(t.lte(0))return new Re(0);var r=Yh.getDigitCount(t.toNumber()),i=new Re(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Re(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Re(Math.ceil(l))}function HK(t,e,n){var r=1,i=new Re(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Re(10).pow(Yh.getDigitCount(t)-1),i=new Re(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Re(Math.floor(t)))}else t===0?i=new Re(Math.floor((e-1)/2)):n||(i=new Re(Math.floor(t)));var a=Math.floor((e-1)/2),s=jK(OK(function(l){return i.add(new Re(l-a).mul(r)).toNumber()}),hy);return s(0,e)}function DI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Re(0),tickMin:new Re(0),tickMax:new Re(0)};var o=$I(new Re(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Re(0):(a=new Re(t).add(e).div(2),a=a.sub(new Re(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Re(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?DI(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Re(s).mul(o)),tickMax:a.add(new Re(l).mul(o))})}function zK(t){var e=ru(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=MI([n,r]),l=ru(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(my(hy(0,i-1).map(function(){return 1/0}))):[].concat(my(hy(0,i-1).map(function(){return-1/0})),[d]);return n>r?py(f):f}if(u===d)return HK(u,i,o);var h=DI(u,d,a,o),g=h.step,v=h.tickMin,y=h.tickMax,w=Yh.rangeStep(v,y.add(new Re(.1).mul(g)),g);return n>r?py(w):w}function WK(t,e){var n=ru(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=MI([r,i]),s=ru(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=$I(new Re(u).sub(l).div(d-1),o,0),h=[].concat(my(Yh.rangeStep(new Re(l),new Re(u).sub(new Re(.99).mul(f)),f)),[u]);return r>i?py(h):h}var KK=jI(zK),JK=jI(WK),YK="Invariant failed";function To(t,e){throw new Error(YK)}var XK=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Wa(t){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(t)}function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},df.apply(this,arguments)}function QK(t,e){return nJ(t)||tJ(t,e)||eJ(t,e)||ZK()}function ZK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eJ(t,e){if(t){if(typeof t=="string")return qS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qS(t,e)}}function qS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nJ(t){if(Array.isArray(t))return t}function rJ(t,e){if(t==null)return{};var n=iJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FI(r.key),r)}}function sJ(t,e,n){return e&&aJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lJ(t,e,n){return e=ff(e),uJ(t,LI()?Reflect.construct(e,n||[],ff(t).constructor):e.apply(t,n))}function uJ(t,e){if(e&&(Wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cJ(t)}function cJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LI=function(){return!!t})()}function ff(t){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ff(t)}function dJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yy(t,e)}function yy(t,e){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yy(t,e)}function UI(t,e,n){return e=FI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FI(t){var e=fJ(t,"string");return Wa(e)=="symbol"?e:e+""}function fJ(t,e){if(Wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ju=function(t){function e(){return oJ(this,e),lJ(this,e,arguments)}return dJ(e,t),sJ(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=rJ(r,XK),g=se(h,!1);this.props.direction==="x"&&d.type!=="number"&&To();var v=l.map(function(y){var w=u(y,s),b=w.x,x=w.y,_=w.value,T=w.errorVal;if(!T)return null;var S=[],E,A;if(Array.isArray(T)){var k=QK(T,2);E=k[0],A=k[1]}else E=A=T;if(o==="vertical"){var C=d.scale,P=x+i,O=P+a,$=P-a,U=C(_-E),R=C(_+A);S.push({x1:R,y1:O,x2:R,y2:$}),S.push({x1:U,y1:P,x2:R,y2:P}),S.push({x1:U,y1:O,x2:U,y2:$})}else if(o==="horizontal"){var I=f.scale,D=b+i,q=D-a,L=D+a,B=I(_-E),H=I(_+A);S.push({x1:q,y1:H,x2:L,y2:H}),S.push({x1:D,y1:B,x2:D,y2:H}),S.push({x1:q,y1:B,x2:L,y2:B})}return j.createElement(Te,df({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},g),S.map(function(Y){return j.createElement("line",df({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return j.createElement(Te,{className:"recharts-errorBars"},v)}}])}(j.Component);UI(Ju,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});UI(Ju,"displayName","ErrorBar");function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function GS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(n),!0).forEach(function(r){hJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJ(t,e,n){return e=pJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pJ(t){var e=mJ(t,"string");return iu(e)=="symbol"?e:e+""}function mJ(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BI=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=cn(n,fo);if(!a)return null;var s=fo.defaultProps,l=s!==void 0?Ui(Ui({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,g=f.props,v=g.sectors||g.data||[];return d.concat(v.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?Ui(Ui({},h),f.props):{},v=g.dataKey,y=g.name,w=g.legendType,b=g.hide;return{inactive:b,dataKey:v,type:l.iconType||w||"square",color:Px(f),value:y||v,payload:g}}),Ui(Ui(Ui({},l),fo.getWithHeight(a,i)),{},{payload:u,item:a})};function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function HS(t){return xJ(t)||vJ(t)||yJ(t)||gJ()}function gJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yJ(t,e){if(t){if(typeof t=="string")return vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vy(t,e)}}function vJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xJ(t){if(Array.isArray(t))return vy(t)}function vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(n),!0).forEach(function(r){Na(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Na(t,e,n){return e=bJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=wJ(t,"string");return ou(e)=="symbol"?e:e+""}function wJ(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yt(t,e,n){return ve(t)||ve(e)?n:xt(e)?vn(t,e,n):pe(e)?e(t):n}function yl(t,e,n,r){var i=vK(t,function(s){return yt(s,e)});if(n==="number"){var o=i.filter(function(s){return Q(s)||parseFloat(s)});return o.length?[Kh(o),Wh(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ve(s)}):i;return a.map(function(s){return xt(s)||s instanceof Date?s:""})}var _J=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(qt(f-d)!==qt(h-f)){var v=[];if(qt(h-f)===qt(l[1]-l[0])){g=h;var y=f+l[1]-l[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{g=d;var w=h+l[1]-l[0];v[0]=Math.min(f,(w+f)/2),v[1]=Math.max(f,(w+f)/2)}var b=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>b[0]&&e<=b[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var x=Math.min(d,h),_=Math.max(d,h);if(e>(x+f)/2&&e<=(_+f)/2){a=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},Px=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?nt(nt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},SJ=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var v=d[f[h]],y=v.items,w=v.cateAxisId,b=y.filter(function(A){return jr(A.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,_=x!==void 0?nt(nt({},x),b[0].props):b[0].props,T=_.barSize,S=_[w];a[S]||(a[S]=[]);var E=ve(T)?n:T;a[S].push({item:b[0],stackList:b.slice(1),barSize:ve(E)?void 0:Gt(E,r,0)})}}return a},EJ=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Gt(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,v=a.reduce(function(T,S){return T+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var y=(i-v)/2>>0,w={offset:y-u,size:0};d=a.reduce(function(T,S){var E={item:S.item,position:{offset:w.offset+w.size+u,size:h?g:S.barSize}},A=[].concat(HS(T),[E]);return w=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){A.push({item:k,position:w})}),A},f)}else{var b=Gt(r,i,0,!0);i-2*b-(l-1)*u<=0&&(u=0);var x=(i-2*b-(l-1)*u)/l;x>1&&(x>>=0);var _=s===+s?Math.min(x,s):x;d=a.reduce(function(T,S,E){var A=[].concat(HS(T),[{item:S.item,position:{offset:b+(x+u)*E+(x-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){A.push({item:k,position:A[A.length-1].position})}),A},f)}return d},TJ=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=BI({children:o,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,g=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&Q(e[g]))return nt(nt({},e),{},Na({},g,e[g]+(f||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&Q(e[v]))return nt(nt({},e),{},Na({},v,e[v]+(h||0)))}return e},AJ=function(e,n,r){return ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},VI=function(e,n,r,i,o){var a=n.props.children,s=xn(a,Ju).filter(function(u){return AJ(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=yt(d,r);if(ve(f))return u;var h=Array.isArray(f)?[Kh(f),Wh(f)]:[f,f],g=l.reduce(function(v,y){var w=yt(d,y,0),b=h[0]-Math.abs(Array.isArray(w)?w[0]:w),x=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(b,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},kJ=function(e,n,r,i,o){var a=n.map(function(s){return VI(e,s,r,o,i)}).filter(function(s){return!ve(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},qI=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&VI(e,l,u,i)||yl(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},GI=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},HI=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Ir=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?qt(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Vu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},mm=new WeakMap,Ac=function(e,n){if(typeof n!="function")return e;mm.has(e)||mm.set(e,new WeakMap);var r=mm.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},zI=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Xl(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:af(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:gl(),realScaleType:"point"}:o==="category"?{scale:Xl(),realScaleType:"band"}:{scale:af(),realScaleType:"linear"};if(wo(i)){var l="scale".concat(jh(i));return{scale:(US[l]||gl)(),realScaleType:US[l]?l:"point"}}return pe(i)?{scale:i}:{scale:gl(),realScaleType:"point"}},WS=1e-4,WI=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-WS,a=Math.max(i[0],i[1])+WS,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},NJ=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},CJ=function(e,n){if(!n||n.length!==2||!Q(n[0])||!Q(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Q(e[0])||e[0]<r)&&(o[0]=r),(!Q(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},PJ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Vu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},IJ=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Vu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},OJ={sign:PJ,expand:X5,none:Ua,silhouette:Q5,wiggle:Z5,positive:IJ},jJ=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=OJ[r],a=Y5().keys(i).value(function(s,l){return+yt(s,l,0)}).order(qg).offset(o);return a(e)},RJ=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?nt(nt({},h.type.defaultProps),h.props):h.props,y=v.stackId,w=v.hide;if(w)return f;var b=v[r],x=f[b]||{hasStack:!1,stackGroups:{}};if(xt(y)){var _=x.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),x.hasStack=!0,x.stackGroups[y]=_}else x.stackGroups[ws("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return nt(nt({},f),{},Na({},b,x))},l),d={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,w){var b=g.stackGroups[w];return nt(nt({},y),{},Na({},w,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:jJ(e,b.items,o)}))},v)}return nt(nt({},f),{},Na({},h,g))},d)},KI=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=KK(u,o,s);return e.domain([Kh(d),Wh(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=JK(f,o,s);return{niceTicks:h}}return null};function KS(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ve(i[e.dataKey])){var s=Ld(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=yt(i,ve(a)?e.dataKey:a);return ve(l)?null:e.scale(l)}var JS=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=yt(a,n.dataKey,n.domain[s]);return ve(l)?null:n.scale(l)-o/2+i},MJ=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},$J=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?nt(nt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(xt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},DJ=function(e){return e.reduce(function(n,r){return[Kh(r.concat([n[0]]).filter(Q)),Wh(r.concat([n[1]]).filter(Q))]},[1/0,-1/0])},JI=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,d){var f=DJ(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},YS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xy=function(e,n,r){if(pe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Q(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(YS.test(e[0])){var o=+YS.exec(e[0])[1];i[0]=n[0]-o}else pe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Q(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(XS.test(e[1])){var a=+XS.exec(e[1])[1];i[1]=n[1]+a}else pe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},hf=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=ix(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],d=o[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},QS=function(e,n,r){return!e||!e.length||Ku(e,vn(r,"type.defaultProps.domain"))?n:e},YI=function(e,n){var r=e.type.defaultProps?nt(nt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return nt(nt({},se(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Px(e),value:yt(n,i),type:l,payload:n,chartType:u,hide:d})};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function ZS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZS(Object(n),!0).forEach(function(r){XI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XI(t,e,n){return e=LJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LJ(t){var e=UJ(t,"string");return au(e)=="symbol"?e:e+""}function UJ(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FJ(t,e){return GJ(t)||qJ(t,e)||VJ(t,e)||BJ()}function BJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VJ(t,e){if(t){if(typeof t=="string")return e1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e1(t,e)}}function e1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function GJ(t){if(Array.isArray(t))return t}var pf=Math.PI/180,HJ=function(e){return e*180/Math.PI},Be=function(e,n,r,i){return{x:e+Math.cos(-pf*i)*r,y:n+Math.sin(-pf*i)*r}},QI=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},zJ=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,d=Gt(e.cx,a,a/2),f=Gt(e.cy,s,s/2),h=QI(a,s,r),g=Gt(e.innerRadius,h,0),v=Gt(e.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(w,b){var x=n[b],_=x.domain,T=x.reversed,S;if(ve(x.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[g,v]),T&&(S=[S[1],S[0]]);else{S=x.range;var E=S,A=FJ(E,2);l=A[0],u=A[1]}var k=zI(x,o),C=k.realScaleType,P=k.scale;P.domain(_).range(S),WI(P);var O=KI(P,Er(Er({},x),{},{realScaleType:C})),$=Er(Er(Er({},x),O),{},{range:S,radius:v,realScaleType:C,scale:P,cx:d,cy:f,innerRadius:g,outerRadius:v,startAngle:l,endAngle:u});return Er(Er({},w),{},XI({},b,$))},{})},WJ=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},KJ=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=WJ({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:HJ(u),angleInRadian:u}},JJ=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},YJ=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},t1=function(e,n){var r=e.x,i=e.y,o=KJ({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var d=JJ(n),f=d.startAngle,h=d.endAngle,g=s,v;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;v=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=f}return v?Er(Er({},n),{},{radius:a,angle:YJ(g,n)}):null},ZI=function(e){return!N.isValidElement(e)&&!pe(e)&&typeof e!="boolean"?e.className:""};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}var XJ=["offset"];function QJ(t){return nY(t)||tY(t)||eY(t)||ZJ()}function ZJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eY(t,e){if(t){if(typeof t=="string")return by(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return by(t,e)}}function tY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nY(t){if(Array.isArray(t))return by(t)}function by(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rY(t,e){if(t==null)return{};var n=iY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(r){oY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oY(t,e,n){return e=aY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aY(t){var e=sY(t,"string");return su(e)=="symbol"?e:e+""}function sY(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lu.apply(this,arguments)}var lY=function(e){var n=e.value,r=e.formatter,i=ve(e.children)?n:e.children;return pe(r)?r(i):i},uY=function(e,n){var r=qt(n-e),i=Math.min(Math.abs(n-e),360);return r*i},cY=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,y=l.clockWise,w=(f+h)/2,b=uY(g,v),x=b>=0?1:-1,_,T;i==="insideStart"?(_=g+x*a,T=y):i==="insideEnd"?(_=v-x*a,T=!y):i==="end"&&(_=v+x*a,T=y),T=b<=0?T:!T;var S=Be(u,d,w,_),E=Be(u,d,w,_+(T?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),k=ve(e.id)?ws("recharts-radial-line-"):e.id;return j.createElement("text",lu({},r,{dominantBaseline:"central",className:we("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:k,d:A})),j.createElement("textPath",{xlinkHref:"#".concat(k)},n))},dY=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var g=Be(a,s,u+r,h),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,b=Be(a,s,w,h),x=b.x,_=b.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},fY=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,g=f>0?"end":"start",v=f>0?"start":"end",y=u>=0?1:-1,w=y*i,b=y>0?"end":"start",x=y>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return pt(pt({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return pt(pt({},T),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var S={x:s-w,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return pt(pt({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(o==="right"){var E={x:s+u+w,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return pt(pt({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:d}:{})}var A=r?{width:u,height:d}:{};return o==="insideLeft"?pt({x:s+w,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},A):o==="insideRight"?pt({x:s+u-w,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},A):o==="insideTop"?pt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},A):o==="insideBottom"?pt({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:g},A):o==="insideTopLeft"?pt({x:s+w,y:l+h,textAnchor:x,verticalAnchor:v},A):o==="insideTopRight"?pt({x:s+u-w,y:l+h,textAnchor:b,verticalAnchor:v},A):o==="insideBottomLeft"?pt({x:s+w,y:l+d-h,textAnchor:x,verticalAnchor:g},A):o==="insideBottomRight"?pt({x:s+u-w,y:l+d-h,textAnchor:b,verticalAnchor:g},A):ys(o)&&(Q(o.x)||ro(o.x))&&(Q(o.y)||ro(o.y))?pt({x:s+Gt(o.x,u),y:l+Gt(o.y,d),textAnchor:"end",verticalAnchor:"end"},A):pt({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},hY=function(e){return"cx"in e&&Q(e.cx)};function St(t){var e=t.offset,n=e===void 0?5:e,r=rY(t,XJ),i=pt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||ve(s)&&ve(l)&&!N.isValidElement(u)&&!pe(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var g;if(pe(u)){if(g=N.createElement(u,i),N.isValidElement(g))return g}else g=lY(i);var v=hY(o),y=se(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return cY(i,g,y);var w=v?dY(i):fY(i);return j.createElement(So,lu({className:we("recharts-label",f)},y,w,{breakAll:h}),g)}St.displayName="Label";var e2=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,g=e.top,v=e.left,y=e.width,w=e.height,b=e.clockWise,x=e.labelViewBox;if(x)return x;if(Q(y)&&Q(w)){if(Q(f)&&Q(h))return{x:f,y:h,width:y,height:w};if(Q(g)&&Q(v))return{x:g,y:v,width:y,height:w}}return Q(f)&&Q(h)?{x:f,y:h,width:0,height:0}:Q(n)&&Q(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},pY=function(e,n){return e?e===!0?j.createElement(St,{key:"label-implicit",viewBox:n}):xt(e)?j.createElement(St,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===St?N.cloneElement(e,{key:"label-implicit",viewBox:n}):j.createElement(St,{key:"label-implicit",content:e,viewBox:n}):pe(e)?j.createElement(St,{key:"label-implicit",content:e,viewBox:n}):ys(e)?j.createElement(St,lu({viewBox:n},e,{key:"label-implicit"})):null:null},mY=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=e2(e),a=xn(i,St).map(function(l,u){return N.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=pY(e.label,n||o);return[s].concat(QJ(a))};St.parseViewBox=e2;St.renderCallByParent=mY;function gY(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var yY=gY;const vY=Oe(yY);function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}var xY=["valueAccessor"],bY=["data","dataKey","clockWise","id","textBreakAll"];function wY(t){return TY(t)||EY(t)||SY(t)||_Y()}function _Y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SY(t,e){if(t){if(typeof t=="string")return wy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wy(t,e)}}function EY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TY(t){if(Array.isArray(t))return wy(t)}function wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}function r1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(n),!0).forEach(function(r){AY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AY(t,e,n){return e=kY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kY(t){var e=NY(t,"string");return uu(e)=="symbol"?e:e+""}function NY(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o1(t,e){if(t==null)return{};var n=CY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var PY=function(e){return Array.isArray(e.value)?vY(e.value):e.value};function Mr(t){var e=t.valueAccessor,n=e===void 0?PY:e,r=o1(t,xY),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=o1(r,bY);return!i||!i.length?null:j.createElement(Te,{className:"recharts-label-list"},i.map(function(d,f){var h=ve(o)?n(d,f):yt(d&&d.payload,o),g=ve(s)?{}:{id:"".concat(s,"-").concat(f)};return j.createElement(St,mf({},se(d,!0),u,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:St.parseViewBox(ve(a)?d:i1(i1({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Mr.displayName="LabelList";function IY(t,e){return t?t===!0?j.createElement(Mr,{key:"labelList-implicit",data:e}):j.isValidElement(t)||pe(t)?j.createElement(Mr,{key:"labelList-implicit",data:e,content:t}):ys(t)?j.createElement(Mr,mf({data:e},t,{key:"labelList-implicit"})):null:null}function OY(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=xn(r,Mr).map(function(a,s){return N.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=IY(t.label,e);return[o].concat(wY(i))}Mr.renderCallByParent=OY;function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_y.apply(this,arguments)}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(r){jY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jY(t,e,n){return e=RY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RY(t){var e=MY(t,"string");return cu(e)=="symbol"?e:e+""}function MY(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Y=function(e,n){var r=qt(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},kc=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/pf,h=u?o:o+a*f,g=Be(n,r,d,h),v=Be(n,r,i,h),y=u?o-a*f:o,w=Be(n,r,d*Math.cos(f*pf),y);return{center:g,circleTangency:v,lineTangency:w,theta:f}},t2=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=$Y(a,s),u=a+l,d=Be(n,r,o,a),f=Be(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=Be(n,r,i,a),v=Be(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},DY=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=qt(d-u),h=kc({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,y=h.theta,w=kc({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),b=w.circleTangency,x=w.lineTangency,_=w.theta,T=l?Math.abs(u-d):Math.abs(u-d)-y-_;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):t2({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var E=kc({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,k=E.lineTangency,C=E.theta,P=kc({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=P.circleTangency,$=P.lineTangency,U=P.theta,R=l?Math.abs(u-d):Math.abs(u-d)-C-U;if(R<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},LY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n2=function(e){var n=s1(s1({},LY),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var g=we("recharts-sector",h),v=a-o,y=Gt(s,v,0,!0),w;return y>0&&Math.abs(d-f)<360?w=DY({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):w=t2({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),j.createElement("path",_y({},se(n,!0),{className:g,d:w,role:"img"}))};function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(this,arguments)}function l1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l1(Object(n),!0).forEach(function(r){UY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UY(t,e,n){return e=FY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FY(t){var e=BY(t,"string");return du(e)=="symbol"?e:e+""}function BY(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c1={curveBasisClosed:U5,curveBasisOpen:F5,curveBasis:L5,curveBumpX:E5,curveBumpY:T5,curveLinearClosed:B5,curveLinear:Mh,curveMonotoneX:V5,curveMonotoneY:q5,curveNatural:G5,curveStep:H5,curveStepAfter:W5,curveStepBefore:z5},Nc=function(e){return e.x===+e.x&&e.y===+e.y},zs=function(e){return e.x},Ws=function(e){return e.y},VY=function(e,n){if(pe(e))return e;var r="curve".concat(jh(e));return(r==="curveMonotone"||r==="curveBump")&&n?c1["".concat(r).concat(n==="vertical"?"Y":"X")]:c1[r]||Mh},qY=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=VY(r,s),f=u?o.filter(function(y){return Nc(y)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(y){return Nc(y)}):a,v=f.map(function(y,w){return u1(u1({},y),{},{base:g[w]})});return s==="vertical"?h=vc().y(Ws).x1(zs).x0(function(y){return y.base.x}):h=vc().x(zs).y1(Ws).y0(function(y){return y.base.y}),h.defined(Nc).curve(d),h(v)}return s==="vertical"&&Q(a)?h=vc().y(Ws).x1(zs).x0(a):Q(a)?h=vc().x(zs).y1(Ws).y0(a):h=YC().x(zs).y(Ws),h.defined(Nc).curve(d),h(f)},gf=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?qY(e):i;return N.createElement("path",Sy({},se(e,!1),Ud(e),{className:we("recharts-curve",n),d:a,ref:o}))},r2={exports:{}},GY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HY=GY,zY=HY;function i2(){}function o2(){}o2.resetWarningCache=i2;var WY=function(){function t(r,i,o,a,s,l){if(l!==zY){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o2,resetWarningCache:i2};return n.PropTypes=n,n};r2.exports=WY();var KY=r2.exports;const Ce=Oe(KY),{getOwnPropertyNames:JY,getOwnPropertySymbols:YY}=Object,{hasOwnProperty:XY}=Object.prototype;function gm(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Cc(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function QY(t){return t!=null?t[Symbol.toStringTag]:void 0}function d1(t){return JY(t).concat(YY(t))}const ZY=Object.hasOwn||((t,e)=>XY.call(t,e));function Mo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const eX="__v",tX="__o",nX="_owner",{getOwnPropertyDescriptor:f1,keys:h1}=Object;function rX(t,e){return t.byteLength===e.byteLength&&yf(new Uint8Array(t),new Uint8Array(e))}function iX(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function oX(t,e){return t.byteLength===e.byteLength&&yf(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function aX(t,e){return Mo(t.getTime(),e.getTime())}function sX(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function lX(t,e){return t===e}function p1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let d=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,g=s.value;if(n.equals(h[0],g[0],l,f,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}const uX=Mo;function cX(t,e,n){const r=h1(t);let i=r.length;if(h1(e).length!==i)return!1;for(;i-- >0;)if(!a2(t,e,n,r[i]))return!1;return!0}function Ks(t,e,n){const r=d1(t);let i=r.length;if(d1(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!a2(t,e,n,o)||(a=f1(t,o),s=f1(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function dX(t,e){return Mo(t.valueOf(),e.valueOf())}function fX(t,e){return t.source===e.source&&t.flags===e.flags}function m1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,d=0;for(;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function yf(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function hX(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function a2(t,e,n,r){return(r===nX||r===tX||r===eX)&&(t.$$typeof||e.$$typeof)?!0:ZY(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const pX="[object ArrayBuffer]",mX="[object Arguments]",gX="[object Boolean]",yX="[object DataView]",vX="[object Date]",xX="[object Error]",bX="[object Map]",wX="[object Number]",_X="[object Object]",SX="[object RegExp]",EX="[object Set]",TX="[object String]",AX={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},kX="[object URL]",NX=Object.prototype.toString;function CX({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:v}){return function(w,b,x){if(w===b)return!0;if(w==null||b==null)return!1;const _=typeof w;if(_!==typeof b)return!1;if(_!=="object")return _==="number"?s(w,b,x):_==="function"?o(w,b,x):!1;const T=w.constructor;if(T!==b.constructor)return!1;if(T===Object)return l(w,b,x);if(Array.isArray(w))return e(w,b,x);if(T===Date)return r(w,b,x);if(T===RegExp)return d(w,b,x);if(T===Map)return a(w,b,x);if(T===Set)return f(w,b,x);const S=NX.call(w);if(S===vX)return r(w,b,x);if(S===SX)return d(w,b,x);if(S===bX)return a(w,b,x);if(S===EX)return f(w,b,x);if(S===_X)return typeof w.then!="function"&&typeof b.then!="function"&&l(w,b,x);if(S===kX)return g(w,b,x);if(S===xX)return i(w,b,x);if(S===mX)return l(w,b,x);if(AX[S])return h(w,b,x);if(S===pX)return t(w,b,x);if(S===yX)return n(w,b,x);if(S===gX||S===wX||S===TX)return u(w,b,x);if(v){let E=v[S];if(!E){const A=QY(w);A&&(E=v[A])}if(E)return E(w,b,x)}return!1}}function PX({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:rX,areArraysEqual:n?Ks:iX,areDataViewsEqual:oX,areDatesEqual:aX,areErrorsEqual:sX,areFunctionsEqual:lX,areMapsEqual:n?gm(p1,Ks):p1,areNumbersEqual:uX,areObjectsEqual:n?Ks:cX,arePrimitiveWrappersEqual:dX,areRegExpsEqual:fX,areSetsEqual:n?gm(m1,Ks):m1,areTypedArraysEqual:n?gm(yf,Ks):yf,areUrlsEqual:hX,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Cc(r.areArraysEqual),o=Cc(r.areMapsEqual),a=Cc(r.areObjectsEqual),s=Cc(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function IX(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function OX({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(s,l,{cache:u,equals:r,meta:d,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const jX=Ri();Ri({strict:!0});Ri({circular:!0});Ri({circular:!0,strict:!0});Ri({createInternalComparator:()=>Mo});Ri({strict:!0,createInternalComparator:()=>Mo});Ri({circular:!0,createInternalComparator:()=>Mo});Ri({circular:!0,createInternalComparator:()=>Mo,strict:!0});function Ri(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=PX(t),a=CX(o),s=n?n(a):IX(a);return OX({circular:e,comparator:a,createState:r,equals:s,strict:i})}function RX(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function g1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):RX(i)};requestAnimationFrame(r)}function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function MX(t){return UX(t)||LX(t)||DX(t)||$X()}function $X(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DX(t,e){if(t){if(typeof t=="string")return y1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y1(t,e)}}function y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UX(t){if(Array.isArray(t))return t}function FX(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=MX(a),l=s[0],u=s.slice(1);if(typeof l=="number"){g1(i.bind(null,u),l);return}i(l),g1(i.bind(null,u));return}Ey(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function v1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(n),!0).forEach(function(r){s2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s2(t,e,n){return e=BX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BX(t){var e=VX(t,"string");return fu(e)==="symbol"?e:String(e)}function VX(t,e){if(fu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qX=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},GX=function(e){return e},HX=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},vl=function(e,n){return Object.keys(n).reduce(function(r,i){return x1(x1({},r),{},s2({},i,e(i,n[i])))},{})},b1=function(e,n,r){return e.map(function(i){return"".concat(HX(i)," ").concat(n,"ms ").concat(r)}).join(",")};function zX(t,e){return JX(t)||KX(t,e)||l2(t,e)||WX()}function WX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function JX(t){if(Array.isArray(t))return t}function YX(t){return ZX(t)||QX(t)||l2(t)||XX()}function XX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l2(t,e){if(t){if(typeof t=="string")return Ty(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ty(t,e)}}function QX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZX(t){if(Array.isArray(t))return Ty(t)}function Ty(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vf=1e-4,u2=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},c2=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},w1=function(e,n){return function(r){var i=u2(e,n);return c2(i,r)}},eQ=function(e,n){return function(r){var i=u2(e,n),o=[].concat(YX(i.map(function(a,s){return a*s}).slice(1)),[0]);return c2(o,r)}},_1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),d=zX(u,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=w1(i,a),h=w1(o,s),g=eQ(i,a),v=function(b){return b>1?1:b<0?0:b},y=function(b){for(var x=b>1?1:b,_=x,T=0;T<8;++T){var S=f(_)-x,E=g(_);if(Math.abs(S-x)<vf||E<vf)return h(_);_=v(_-S/E)}return h(_)};return y.isStepper=!1,y},tQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,h){var g=-(d-f)*r,v=h*o,y=h+(g-v)*s/1e3,w=h*s/1e3+d;return Math.abs(w-f)<vf&&Math.abs(y)<vf?[f,0]:[w,y]};return l.isStepper=!0,l.dt=s,l},nQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _1(i);case"spring":return tQ();default:if(i.split("(")[0]==="cubic-bezier")return _1(i)}return typeof i=="function"?i:null};function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function S1(t){return oQ(t)||iQ(t)||d2(t)||rQ()}function rQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oQ(t){if(Array.isArray(t))return ky(t)}function E1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E1(Object(n),!0).forEach(function(r){Ay(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ay(t,e,n){return e=aQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aQ(t){var e=sQ(t,"string");return hu(e)==="symbol"?e:String(e)}function sQ(t,e){if(hu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lQ(t,e){return dQ(t)||cQ(t,e)||d2(t,e)||uQ()}function uQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2(t,e){if(t){if(typeof t=="string")return ky(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ky(t,e)}}function ky(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function dQ(t){if(Array.isArray(t))return t}var xf=function(e,n,r){return e+(n-e)*r},Ny=function(e){var n=e.from,r=e.to;return n!==r},fQ=function t(e,n,r){var i=vl(function(o,a){if(Ny(a)){var s=e(a.from,a.to,a.velocity),l=lQ(s,2),u=l[0],d=l[1];return Ct(Ct({},a),{},{from:u,velocity:d})}return a},n);return r<1?vl(function(o,a){return Ny(a)?Ct(Ct({},a),{},{velocity:xf(a.velocity,i[o].velocity,r),from:xf(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const hQ=function(t,e,n,r,i){var o=qX(t,e),a=o.reduce(function(w,b){return Ct(Ct({},w),{},Ay({},b,[t[b],e[b]]))},{}),s=o.reduce(function(w,b){return Ct(Ct({},w),{},Ay({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return vl(function(b,x){return x.from},s)},g=function(){return!Object.values(s).filter(Ny).length},v=function(b){u||(u=b);var x=b-u,_=x/n.dt;s=fQ(n,s,_),i(Ct(Ct(Ct({},t),e),h())),u=b,g()||(l=requestAnimationFrame(f))},y=function(b){d||(d=b);var x=(b-d)/r,_=vl(function(S,E){return xf.apply(void 0,S1(E).concat([n(x)]))},a);if(i(Ct(Ct(Ct({},t),e),_)),x<1)l=requestAnimationFrame(f);else{var T=vl(function(S,E){return xf.apply(void 0,S1(E).concat([n(1)]))},a);i(Ct(Ct(Ct({},t),e),T))}};return f=n.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ka(t){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(t)}var pQ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mQ(t,e){if(t==null)return{};var n=gQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ym(t){return bQ(t)||xQ(t)||vQ(t)||yQ()}function yQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vQ(t,e){if(t){if(typeof t=="string")return Cy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cy(t,e)}}function xQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bQ(t){if(Array.isArray(t))return Cy(t)}function Cy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){nl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nl(t,e,n){return e=f2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f2(r.key),r)}}function SQ(t,e,n){return e&&_Q(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f2(t){var e=EQ(t,"string");return Ka(e)==="symbol"?e:String(e)}function EQ(t,e){if(Ka(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ka(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}function Py(t,e){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Py(t,e)}function AQ(t){var e=kQ();return function(){var r=bf(t),i;if(e){var o=bf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Iy(this,i)}}function Iy(t,e){if(e&&(Ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oy(t)}function Oy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bf(t){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bf(t)}var yr=function(t){TQ(n,t);var e=AQ(n);function n(r,i){var o;wQ(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Oy(o)),o.changeStyle=o.changeStyle.bind(Oy(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),Iy(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Iy(o);o.state={style:l?nl({},l,u):u}}else o.state={style:{}};return o}return SQ(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var g={style:l?nl({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(g);return}if(!(jX(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?f:i.to;if(this.state&&h){var w={style:l?nl({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(w)}this.runAnimation(Vn(Vn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=hQ(a,s,nQ(u),l,this.changeStyle),v=function(){o.stopJSAnimation=g()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,g=function(y,w,b){if(b===0)return y;var x=w.duration,_=w.easing,T=_===void 0?"ease":_,S=w.style,E=w.properties,A=w.onAnimationEnd,k=b>0?a[b-1]:w,C=E||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(ym(y),[o.runJSAnimation.bind(o,{from:k.style,to:S,duration:x,easing:T}),x]);var P=b1(C,x,T),O=Vn(Vn(Vn({},k.style),S),{},{transition:P});return[].concat(ym(y),[O,x,A]).filter(GX)};return this.manager.start([l].concat(ym(a.reduce(g,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=FX());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?nl({},s,l):l,w=b1(Object.keys(y),a,u);v.start([d,o,Vn(Vn({},y),{},{transition:w}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=mQ(i,pQ),u=N.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||u===0||a<=0)return o;var f=function(g){var v=g.props,y=v.style,w=y===void 0?{}:y,b=v.className,x=N.cloneElement(g,Vn(Vn({},l),{},{style:Vn(Vn({},w),d),className:b}));return x};return u===1?f(N.Children.only(o)):j.createElement("div",null,N.Children.map(o,function(h){return f(h)}))}}]),n}(N.PureComponent);yr.displayName="Animate";yr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yr.propTypes={from:Ce.oneOfType([Ce.object,Ce.string]),to:Ce.oneOfType([Ce.object,Ce.string]),attributeName:Ce.string,duration:Ce.number,begin:Ce.number,easing:Ce.oneOfType([Ce.string,Ce.func]),steps:Ce.arrayOf(Ce.shape({duration:Ce.number.isRequired,style:Ce.object.isRequired,easing:Ce.oneOfType([Ce.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ce.func]),properties:Ce.arrayOf("string"),onAnimationEnd:Ce.func})),children:Ce.oneOfType([Ce.node,Ce.func]),isActive:Ce.bool,canBegin:Ce.bool,onAnimationEnd:Ce.func,shouldReAnimate:Ce.bool,onAnimationStart:Ce.func,onAnimationReStart:Ce.func};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wf.apply(this,arguments)}function NQ(t,e){return OQ(t)||IQ(t,e)||PQ(t,e)||CQ()}function CQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PQ(t,e){if(t){if(typeof t=="string")return A1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A1(t,e)}}function A1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function OQ(t){if(Array.isArray(t))return t}function k1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(r){jQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jQ(t,e,n){return e=RQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RQ(t){var e=MQ(t,"string");return pu(e)=="symbol"?e:e+""}function MQ(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C1=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);d="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},$Q=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},DQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ix=function(e){var n=N1(N1({},DQ),e),r=N.useRef(),i=N.useState(-1),o=NQ(i,2),a=o[0],s=o[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,w=n.animationBegin,b=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=we("recharts-rectangle",g);return x?j.createElement(yr,{canBegin:a>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:y,animationEasing:v,isActive:x},function(T){var S=T.width,E=T.height,A=T.x,k=T.y;return j.createElement(yr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:b,easing:v},j.createElement("path",wf({},se(n,!0),{className:_,d:C1(A,k,S,E,h),ref:r})))}):j.createElement("path",wf({},se(n,!0),{className:_,d:C1(l,u,d,f,h)}))},LQ=["points","className","baseLinePoints","connectNulls"];function fa(){return fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fa.apply(this,arguments)}function UQ(t,e){if(t==null)return{};var n=FQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function P1(t){return GQ(t)||qQ(t)||VQ(t)||BQ()}function BQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VQ(t,e){if(t){if(typeof t=="string")return jy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jy(t,e)}}function qQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GQ(t){if(Array.isArray(t))return jy(t)}function jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var I1=function(e){return e&&e.x===+e.x&&e.y===+e.y},HQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){I1(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),I1(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},xl=function(e,n){var r=HQ(e);n&&(r=[r.reduce(function(o,a){return[].concat(P1(o),P1(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},zQ=function(e,n,r){var i=xl(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(xl(n.reverse(),r).slice(1))},WQ=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=UQ(e,LQ);if(!n||!n.length)return null;var s=we("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=zQ(n,i,o);return j.createElement("g",{className:s},j.createElement("path",fa({},se(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?j.createElement("path",fa({},se(a,!0),{fill:"none",d:xl(n,o)})):null,l?j.createElement("path",fa({},se(a,!0),{fill:"none",d:xl(i,o)})):null)}var d=xl(n,o);return j.createElement("path",fa({},se(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:s,d}))};function Ry(){return Ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(this,arguments)}var Xh=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=we("recharts-dot",o);return n===+n&&r===+r&&i===+i?N.createElement("circle",Ry({},se(e,!1),Ud(e),{className:a,cx:n,cy:r,r:i})):null};function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}var KQ=["x","y","top","left","width","height","className"];function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}function O1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(n),!0).forEach(function(r){YQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YQ(t,e,n){return e=XQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XQ(t){var e=QQ(t,"string");return mu(e)=="symbol"?e:e+""}function QQ(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZQ(t,e){if(t==null)return{};var n=eZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tZ=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},nZ=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,g=h===void 0?0:h,v=e.className,y=ZQ(e,KQ),w=JQ({x:r,y:o,top:s,left:u,width:f,height:g},y);return!Q(r)||!Q(o)||!Q(f)||!Q(g)||!Q(s)||!Q(u)?null:j.createElement("path",My({},se(w,!0),{className:we("recharts-cross",v),d:tZ(r,o,f,g,s,u)}))},rZ=zh,iZ=EI,oZ=wr;function aZ(t,e){return t&&t.length?rZ(t,oZ(e),iZ):void 0}var sZ=aZ;const lZ=Oe(sZ);var uZ=zh,cZ=wr,dZ=TI;function fZ(t,e){return t&&t.length?uZ(t,cZ(e),dZ):void 0}var hZ=fZ;const pZ=Oe(hZ);var mZ=["cx","cy","angle","ticks","axisLine"],gZ=["ticks","tick","angle","tickFormatter","stroke"];function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}function j1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j1(Object(n),!0).forEach(function(r){Qh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R1(t,e){if(t==null)return{};var n=yZ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p2(r.key),r)}}function xZ(t,e,n){return e&&M1(t.prototype,e),n&&M1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bZ(t,e,n){return e=_f(e),wZ(t,h2()?Reflect.construct(e,n||[],_f(t).constructor):e.apply(t,n))}function wZ(t,e){if(e&&(Ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Z(t)}function _Z(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h2=function(){return!!t})()}function _f(t){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_f(t)}function SZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$y(t,e)}function $y(t,e){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$y(t,e)}function Qh(t,e,n){return e=p2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p2(t){var e=EZ(t,"string");return Ja(e)=="symbol"?e:e+""}function EZ(t,e){if(Ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zh=function(t){function e(){return vZ(this,e),bZ(this,e,arguments)}return SZ(e,t),xZ(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Be(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=lZ(s,function(d){return d.coordinate||0}),u=pZ(s,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=R1(r,mZ),d=s.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),f=Be(i,o,d[0],a),h=Be(i,o,d[1],a),g=Fi(Fi(Fi({},se(u,!1)),{},{fill:"none"},se(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return j.createElement("line",bl({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,d=R1(i,gZ),f=this.getTickTextAnchor(),h=se(d,!1),g=se(a,!1),v=o.map(function(y,w){var b=r.getTickValueCoord(y),x=Fi(Fi(Fi(Fi({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:w},b),{},{payload:y});return j.createElement(Te,bl({className:we("recharts-polar-radius-axis-tick",ZI(a)),key:"tick-".concat(y.coordinate)},_o(r.props,y,w)),e.renderTickItem(a,x,l?l(y.value,w):y.value))});return j.createElement(Te,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:j.createElement(Te,{className:we("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),St.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return j.isValidElement(r)?a=j.cloneElement(r,i):pe(r)?a=r(i):a=j.createElement(So,bl({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(N.PureComponent);Qh(Zh,"displayName","PolarRadiusAxis");Qh(Zh,"axisType","radiusAxis");Qh(Zh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function Xi(){return Xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xi.apply(this,arguments)}function $1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(n),!0).forEach(function(r){ep(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g2(r.key),r)}}function AZ(t,e,n){return e&&D1(t.prototype,e),n&&D1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kZ(t,e,n){return e=Sf(e),NZ(t,m2()?Reflect.construct(e,n||[],Sf(t).constructor):e.apply(t,n))}function NZ(t,e){if(e&&(Ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CZ(t)}function CZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m2=function(){return!!t})()}function Sf(t){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sf(t)}function PZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dy(t,e)}function Dy(t,e){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dy(t,e)}function ep(t,e,n){return e=g2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g2(t){var e=IZ(t,"string");return Ya(e)=="symbol"?e:e+""}function IZ(t,e){if(Ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OZ=Math.PI/180,L1=1e-5,tp=function(t){function e(){return TZ(this,e),kZ(this,e,arguments)}return PZ(e,t),AZ(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,d=u||8,f=Be(o,a,s,r.coordinate),h=Be(o,a,s+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*OZ),a;return o>L1?a=i==="outer"?"start":"end":o<-L1?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Bi(Bi({},se(this.props,!1)),{},{fill:"none"},se(s,!1));if(l==="circle")return j.createElement(Xh,Xi({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var d=this.props.ticks,f=d.map(function(h){return Be(i,o,a,h.coordinate)});return j.createElement(WQ,Xi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,d=se(this.props,!1),f=se(a,!1),h=Bi(Bi({},d),{},{fill:"none"},se(s,!1)),g=o.map(function(v,y){var w=r.getTickLineCoord(v),b=r.getTickTextAnchor(v),x=Bi(Bi(Bi({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:v,x:w.x2,y:w.y2});return j.createElement(Te,Xi({className:we("recharts-polar-angle-axis-tick",ZI(a)),key:"tick-".concat(v.coordinate)},_o(r.props,v,y)),s&&j.createElement("line",Xi({className:"recharts-polar-angle-axis-tick-line"},h,w)),a&&e.renderTickItem(a,x,l?l(v.value,y):v.value))});return j.createElement(Te,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:j.createElement(Te,{className:we("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return j.isValidElement(r)?a=j.cloneElement(r,i):pe(r)?a=r(i):a=j.createElement(So,Xi({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(N.PureComponent);ep(tp,"displayName","PolarAngleAxis");ep(tp,"axisType","angleAxis");ep(tp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var jZ=bP,RZ=jZ(Object.getPrototypeOf,Object),MZ=RZ,$Z=Hr,DZ=MZ,LZ=zr,UZ="[object Object]",FZ=Function.prototype,BZ=Object.prototype,y2=FZ.toString,VZ=BZ.hasOwnProperty,qZ=y2.call(Object);function GZ(t){if(!LZ(t)||$Z(t)!=UZ)return!1;var e=DZ(t);if(e===null)return!0;var n=VZ.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&y2.call(n)==qZ}var HZ=GZ;const zZ=Oe(HZ);var WZ=Hr,KZ=zr,JZ="[object Boolean]";function YZ(t){return t===!0||t===!1||KZ(t)&&WZ(t)==JZ}var XZ=YZ;const QZ=Oe(XZ);function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(this,arguments)}function ZZ(t,e){return ree(t)||nee(t,e)||tee(t,e)||eee()}function eee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tee(t,e){if(t){if(typeof t=="string")return U1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U1(t,e)}}function U1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ree(t){if(Array.isArray(t))return t}function F1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F1(Object(n),!0).forEach(function(r){iee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iee(t,e,n){return e=oee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oee(t){var e=aee(t,"string");return gu(e)=="symbol"?e:e+""}function aee(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V1=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},see={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lee=function(e){var n=B1(B1({},see),e),r=N.useRef(),i=N.useState(-1),o=ZZ(i,2),a=o[0],s=o[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,w=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=we("recharts-trapezoid",g);return b?j.createElement(yr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:v,isActive:b},function(_){var T=_.upperWidth,S=_.lowerWidth,E=_.height,A=_.x,k=_.y;return j.createElement(yr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:v},j.createElement("path",Ef({},se(n,!0),{className:x,d:V1(A,k,T,S,E),ref:r})))}):j.createElement("g",null,j.createElement("path",Ef({},se(n,!0),{className:x,d:V1(l,u,d,f,h)})))},uee=["option","shapeType","propTransformer","activeClassName","isActive"];function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function cee(t,e){if(t==null)return{};var n=dee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(n),!0).forEach(function(r){fee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fee(t,e,n){return e=hee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hee(t){var e=pee(t,"string");return yu(e)=="symbol"?e:e+""}function pee(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mee(t,e){return Tf(Tf({},e),t)}function gee(t,e){return t==="symbols"}function G1(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return j.createElement(Ix,n);case"trapezoid":return j.createElement(lee,n);case"sector":return j.createElement(n2,n);case"symbols":if(gee(e))return j.createElement(Y0,n);break;default:return null}}function yee(t){return N.isValidElement(t)?t.props:t}function v2(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?mee:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=cee(t,uee),u;if(N.isValidElement(e))u=N.cloneElement(e,Tf(Tf({},l),yee(e)));else if(pe(e))u=e(l);else if(zZ(e)&&!QZ(e)){var d=i(e,l);u=j.createElement(G1,{shapeType:n,elementProps:d})}else{var f=l;u=j.createElement(G1,{shapeType:n,elementProps:f})}return s?j.createElement(Te,{className:a},u):u}function np(t,e){return e!=null&&"trapezoids"in t.props}function rp(t,e){return e!=null&&"sectors"in t.props}function vu(t,e){return e!=null&&"points"in t.props}function vee(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function xee(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function bee(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function wee(t,e){var n;return np(t,e)?n=vee:rp(t,e)?n=xee:vu(t,e)&&(n=bee),n}function _ee(t,e){var n;return np(t,e)?n="trapezoids":rp(t,e)?n="sectors":vu(t,e)&&(n="points"),n}function See(t,e){if(np(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(rp(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return vu(t,e)?e.payload:{}}function Eee(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=_ee(n,e),o=See(n,e),a=r.filter(function(l,u){var d=Ku(o,l),f=n.props[i].filter(function(v){var y=wee(n,e);return y(v,e)}),h=n.props[i].indexOf(f[f.length-1]),g=u===h;return d&&g}),s=r.indexOf(a[a.length-1]);return s}var ed;function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ha.apply(this,arguments)}function H1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(n),!0).forEach(function(r){Nn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b2(r.key),r)}}function Aee(t,e,n){return e&&z1(t.prototype,e),n&&z1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kee(t,e,n){return e=Af(e),Nee(t,x2()?Reflect.construct(e,n||[],Af(t).constructor):e.apply(t,n))}function Nee(t,e){if(e&&(Xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cee(t)}function Cee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!t})()}function Af(t){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Af(t)}function Pee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ly(t,e)}function Ly(t,e){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ly(t,e)}function Nn(t,e,n){return e=b2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b2(t){var e=Iee(t,"string");return Xa(e)=="symbol"?e:e+""}function Iee(t,e){if(Xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vr=function(t){function e(n){var r;return Tee(this,e),r=kee(this,e,[n]),Nn(r,"pieRef",null),Nn(r,"sectorRefs",[]),Nn(r,"id",ws("recharts-pie-")),Nn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),pe(i)&&i()}),Nn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),pe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Pee(e,t),Aee(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,d=se(this.props,!1),f=se(a,!1),h=se(s,!1),g=a&&a.offsetRadius||20,v=r.map(function(y,w){var b=(y.startAngle+y.endAngle)/2,x=Be(y.cx,y.cy,y.outerRadius+g,b),_=Le(Le(Le(Le({},d),y),{},{stroke:"none"},f),{},{index:w,textAnchor:e.getTextAnchor(x.x,y.cx)},x),T=Le(Le(Le(Le({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:w,points:[Be(y.cx,y.cy,y.outerRadius,b),x]}),S=l;return ve(l)&&ve(u)?S="value":ve(l)&&(S=u),j.createElement(Te,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(w)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(a,_,yt(y,S)))});return j.createElement(Te,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,g=f?a:h,v=Le(Le({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return j.createElement(Te,ha({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},_o(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),j.createElement(v2,ha({option:g,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,g=f.prevIsAnimationActive;return j.createElement(yr,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,w=[],b=o&&o[0],x=b.startAngle;return o.forEach(function(_,T){var S=h&&h[T],E=T>0?vn(_,"paddingAngle",0):0;if(S){var A=dn(S.endAngle-S.startAngle,_.endAngle-_.startAngle),k=Le(Le({},_),{},{startAngle:x+E,endAngle:x+A(y)+E});w.push(k),x=k.endAngle}else{var C=_.endAngle,P=_.startAngle,O=dn(0,C-P),$=O(y),U=Le(Le({},_),{},{startAngle:x+E,endAngle:x+$+E});w.push(U),x=U.endAngle}}),j.createElement(Te,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Ku(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!Q(u)||!Q(d)||!Q(f)||!Q(h))return null;var y=we("recharts-pie",s);return j.createElement(Te,{tabIndex:this.props.rootTabIndex,className:y,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(a),St.renderCallByParent(this.props,null,!1),(!g||v)&&Mr.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(j.isValidElement(r))return j.cloneElement(r,i);if(pe(r))return r(i);var a=we("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return j.createElement(gf,ha({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(j.isValidElement(r))return j.cloneElement(r,i);var a=o;if(pe(r)&&(a=r(i),j.isValidElement(a)))return a;var s=we("recharts-pie-label-text",typeof r!="boolean"&&!pe(r)?r.className:"");return j.createElement(So,ha({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(N.PureComponent);ed=vr;Nn(vr,"displayName","Pie");Nn(vr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Oo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Nn(vr,"parseDeltaAngle",function(t,e){var n=qt(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Nn(vr,"getRealPieData",function(t){var e=t.data,n=t.children,r=se(t,!1),i=xn(n,Kl);return e&&e.length?e.map(function(o,a){return Le(Le(Le({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Le(Le({},r),o.props)}):[]});Nn(vr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=QI(i,o),s=r+Gt(t.cx,i,i/2),l=n+Gt(t.cy,o,o/2),u=Gt(t.innerRadius,a,0),d=Gt(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});Nn(vr,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Le(Le({},e.type.defaultProps),e.props):e.props,i=ed.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),v=ed.parseCoordinateOfPie(r,n),y=ed.parseDeltaAngle(a,s),w=Math.abs(y),b=u;ve(u)&&ve(f)?(er(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ve(u)&&(er(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var x=i.filter(function(k){return yt(k,b,0)!==0}).length,_=(w>=360?x:x-1)*l,T=w-x*g-_,S=i.reduce(function(k,C){var P=yt(C,b,0);return k+(Q(P)?P:0)},0),E;if(S>0){var A;E=i.map(function(k,C){var P=yt(k,b,0),O=yt(k,d,C),$=(Q(P)?P:0)/S,U;C?U=A.endAngle+qt(y)*l*(P!==0?1:0):U=a;var R=U+qt(y)*((P!==0?g:0)+$*T),I=(U+R)/2,D=(v.innerRadius+v.outerRadius)/2,q=[{name:O,value:P,payload:k,dataKey:b,type:h}],L=Be(v.cx,v.cy,D,I);return A=Le(Le(Le({percent:$,cornerRadius:o,name:O,tooltipPayload:q,midAngle:I,middleRadius:D,tooltipPosition:L},k),v),{},{value:yt(k,b),startAngle:U,endAngle:R,payload:k,paddingAngle:qt(y)*l}),A})}return Le(Le({},v),{},{sectors:E,data:i})});var Oee=Math.ceil,jee=Math.max;function Ree(t,e,n,r){for(var i=-1,o=jee(Oee((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Mee=Ree,$ee=UP,W1=1/0,Dee=17976931348623157e292;function Lee(t){if(!t)return t===0?t:0;if(t=$ee(t),t===W1||t===-W1){var e=t<0?-1:1;return e*Dee}return t===t?t:0}var w2=Lee,Uee=Mee,Fee=Uh,vm=w2;function Bee(t){return function(e,n,r){return r&&typeof r!="number"&&Fee(e,n,r)&&(n=r=void 0),e=vm(e),n===void 0?(n=e,e=0):n=vm(n),r=r===void 0?e<n?1:-1:vm(r),Uee(e,n,r,t)}}var Vee=Bee,qee=Vee,Gee=qee(),Hee=Gee;const kf=Oe(Hee);function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function K1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K1(Object(n),!0).forEach(function(r){_2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _2(t,e,n){return e=zee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=Wee(t,"string");return xu(e)=="symbol"?e:e+""}function Wee(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kee=["Webkit","Moz","O","ms"],Jee=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Kee.reduce(function(o,a){return J1(J1({},o),{},_2({},a+r,n))},{});return i[e]=n,i};function Qa(t){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(t)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nf.apply(this,arguments)}function Y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(n),!0).forEach(function(r){ln(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E2(r.key),r)}}function Xee(t,e,n){return e&&X1(t.prototype,e),n&&X1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qee(t,e,n){return e=Cf(e),Zee(t,S2()?Reflect.construct(e,n||[],Cf(t).constructor):e.apply(t,n))}function Zee(t,e){if(e&&(Qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ete(t)}function ete(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S2=function(){return!!t})()}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(t)}function tte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uy(t,e)}function Uy(t,e){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uy(t,e)}function ln(t,e,n){return e=E2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E2(t){var e=nte(t,"string");return Qa(e)=="symbol"?e:e+""}function nte(t,e){if(Qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rte=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=gl().domain(kf(0,l)).range([o,o+a-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},Q1=function(e){return e.changedTouches&&!!e.changedTouches.length},Za=function(t){function e(n){var r;return Yee(this,e),r=Qee(this,e,[n]),ln(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ln(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ln(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),ln(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ln(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ln(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ln(r,"handleSlideDragStart",function(i){var o=Q1(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return tte(e,t),Xee(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,f),v=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=yt(o[r],s,r);return pe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+d-f-s,u+d-f-a):y<0&&(y=Math.max(y,u-a,u-s));var w=this.getIndex({startX:a+y,endX:s+y});(w.startIndex!==h||w.endIndex!==g)&&v&&v(w),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=Q1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,v=d.onChange,y=d.gap,w=d.data,b={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,f+h-g-u):x<0&&(x=Math.max(x,f-u)),b[a]=u+x;var _=this.getIndex(b),T=_.startIndex,S=_.endIndex,E=function(){var k=w.length-1;return a==="startX"&&(s>l?T%y===0:S%y===0)||s<l&&S===k||a==="endX"&&(s>l?S%y===0:T%y===0)||s>l&&S===k};this.setState(ln(ln({},a,u+x),"brushMoveStartX",r.pageX),function(){v&&E()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(ln({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return j.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,d=r.padding,f=N.Children.only(u);return f?j.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,y=l.startIndex,w=l.endIndex,b=Math.max(r,this.props.x),x=xm(xm({},se(this.props,!1)),{},{x:b,y:u,width:d,height:f}),_=g||"Min value: ".concat((o=v[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[w])===null||a===void 0?void 0:a.name);return j.createElement(Te,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return j.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,g=5,v={pointerEvents:"none",fill:u};return j.createElement(Te,{className:"recharts-brush-texts"},j.createElement(So,Nf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:a+s/2},v),this.getTextOfTick(i)),j.createElement(So,Nf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+g,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,y=h.isTextActive,w=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!Q(s)||!Q(l)||!Q(u)||!Q(d)||u<=0||d<=0)return null;var _=we("recharts-brush",o),T=j.Children.count(a)===1,S=Jee("userSelect","none");return j.createElement(Te,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||w||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return j.createElement(j.Fragment,null,j.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),j.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),j.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return j.isValidElement(r)?o=j.cloneElement(r,i):pe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return xm({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?rte({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(N.PureComponent);ln(Za,"displayName","Brush");ln(Za,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ite=rx;function ote(t,e){var n;return ite(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var ate=ote,ste=fP,lte=wr,ute=ate,cte=on,dte=Uh;function fte(t,e,n){var r=cte(t)?ste:ute;return n&&dte(t,e,n)&&(e=void 0),r(t,lte(e))}var hte=fte;const pte=Oe(hte);var pr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Z1=RP;function mte(t,e,n){e=="__proto__"&&Z1?Z1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var gte=mte,yte=gte,vte=OP,xte=wr;function bte(t,e){var n={};return e=xte(e),vte(t,function(r,i,o){yte(n,i,e(r,i,o))}),n}var wte=bte;const _te=Oe(wte);function Ste(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Ete=Ste,Tte=rx;function Ate(t,e){var n=!0;return Tte(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var kte=Ate,Nte=Ete,Cte=kte,Pte=wr,Ite=on,Ote=Uh;function jte(t,e,n){var r=Ite(t)?Nte:Cte;return n&&Ote(t,e,n)&&(e=void 0),r(t,Pte(e))}var Rte=jte;const T2=Oe(Rte);var Mte=["x","y"];function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fy.apply(this,arguments)}function eE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(n),!0).forEach(function(r){$te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $te(t,e,n){return e=Dte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dte(t){var e=Lte(t,"string");return bu(e)=="symbol"?e:e+""}function Lte(t,e){if(bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ute(t,e){if(t==null)return{};var n=Fte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bte(t,e){var n=t.x,r=t.y,i=Ute(t,Mte),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Js(Js(Js(Js(Js({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function tE(t){return j.createElement(v2,Fy({shapeType:"rectangle",propTransformer:Bte,activeClassName:"recharts-active-bar"},t))}var Vte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Q(r)||u3(r);return o?e(r,i):(o||To(),n)}},qte=["value","background"],A2;function es(t){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(t)}function Gte(t,e){if(t==null)return{};var n=Hte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pf.apply(this,arguments)}function nE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(n),!0).forEach(function(r){di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N2(r.key),r)}}function Wte(t,e,n){return e&&rE(t.prototype,e),n&&rE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kte(t,e,n){return e=If(e),Jte(t,k2()?Reflect.construct(e,n||[],If(t).constructor):e.apply(t,n))}function Jte(t,e){if(e&&(es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yte(t)}function Yte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k2=function(){return!!t})()}function If(t){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},If(t)}function Xte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&By(t,e)}function By(t,e){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},By(t,e)}function di(t,e,n){return e=N2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N2(t){var e=Qte(t,"string");return es(e)=="symbol"?e:e+""}function Qte(t,e){if(es(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xr=function(t){function e(){var n;zte(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Kte(this,e,[].concat(i)),di(n,"state",{isAnimationFinished:!1}),di(n,"id",ws("recharts-bar-")),di(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),di(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Xte(e,t),Wte(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,d=se(this.props,!1);return r&&r.map(function(f,h){var g=h===l,v=g?u:a,y=lt(lt(lt({},d),f),{},{isActive:g,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return j.createElement(Te,Pf({className:"recharts-bar-rectangle"},_o(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),j.createElement(tE,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return j.createElement(yr,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=o.map(function(w,b){var x=h&&h[b];if(x){var _=dn(x.x,w.x),T=dn(x.y,w.y),S=dn(x.width,w.width),E=dn(x.height,w.height);return lt(lt({},w),{},{x:_(v),y:T(v),width:S(v),height:E(v)})}if(a==="horizontal"){var A=dn(0,w.height),k=A(v);return lt(lt({},w),{},{y:w.y+w.height-k,height:k})}var C=dn(0,w.width),P=C(v);return lt(lt({},w),{},{width:P})});return j.createElement(Te,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Ku(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=se(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=Gte(u,qte);if(!f)return null;var g=lt(lt(lt(lt(lt({},h),{},{fill:"#eee"},f),l),_o(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return j.createElement(tE,Pf({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=xn(d,Ju);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(w,b){var x=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:x,errorVal:yt(w,b)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return j.createElement(Te,v,f.map(function(y){return j.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,b=we("recharts-bar",a),x=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,T=x||_,S=ve(y)?this.id:y;return j.createElement(Te,{className:b},x||_?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(S)},j.createElement("rect",{x:x?u:u-f/2,y:_?d:d-h/2,width:x?f:f*2,height:_?h:h*2}))):null,j.createElement(Te,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,S),(!g||w)&&Mr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(N.PureComponent);A2=xr;di(xr,"displayName","Bar");di(xr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Oo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});di(xr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,g=NJ(r,n);if(!g)return null;var v=e.layout,y=n.type.defaultProps,w=y!==void 0?lt(lt({},y),n.props):n.props,b=w.dataKey,x=w.children,_=w.minPointSize,T=v==="horizontal"?a:o,S=u?T.scale.domain():null,E=MJ({numericAxis:T}),A=xn(x,Kl),k=f.map(function(C,P){var O,$,U,R,I,D;u?O=CJ(u[d+P],S):(O=yt(C,b),Array.isArray(O)||(O=[E,O]));var q=Vte(_,A2.defaultProps.minPointSize)(O[1],P);if(v==="horizontal"){var L,B=[a.scale(O[0]),a.scale(O[1])],H=B[0],Y=B[1];$=JS({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:C,index:P}),U=(L=Y??H)!==null&&L!==void 0?L:void 0,R=g.size;var z=H-Y;if(I=Number.isNaN(z)?0:z,D={x:$,y:a.y,width:R,height:a.height},Math.abs(q)>0&&Math.abs(I)<Math.abs(q)){var oe=qt(I||q)*(Math.abs(q)-Math.abs(I));U-=oe,I+=oe}}else{var xe=[o.scale(O[0]),o.scale(O[1])],Ee=xe[0],Pe=xe[1];if($=Ee,U=JS({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:C,index:P}),R=Pe-Ee,I=g.size,D={x:o.x,y:U,width:o.width,height:I},Math.abs(q)>0&&Math.abs(R)<Math.abs(q)){var Ze=qt(R||q)*(Math.abs(q)-Math.abs(R));R+=Ze}}return lt(lt(lt({},C),{},{x:$,y:U,width:R,height:I,value:u?O:O[1],payload:C,background:D},A&&A[P]&&A[P].props),{},{tooltipPayload:[YI(n,C)],tooltipPosition:{x:$+R/2,y:U+I/2}})});return lt({data:k,layout:v},h)});function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function Zte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C2(r.key),r)}}function ene(t,e,n){return e&&iE(t.prototype,e),n&&iE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(n),!0).forEach(function(r){ip(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ip(t,e,n){return e=C2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C2(t){var e=tne(t,"string");return wu(e)=="symbol"?e:e+""}function tne(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P2=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!cn(u,xr);return d.reduce(function(g,v){var y=n[v],w=y.orientation,b=y.domain,x=y.padding,_=x===void 0?{}:x,T=y.mirror,S=y.reversed,E="".concat(w).concat(T?"Mirror":""),A,k,C,P,O;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var $=b[1]-b[0],U=1/0,R=y.categoricalDomain.sort(f3);if(R.forEach(function(xe,Ee){Ee>0&&(U=Math.min((xe||0)-(R[Ee-1]||0),U))}),Number.isFinite(U)){var I=U/$,D=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(A=I*D/2),y.padding==="no-gap"){var q=Gt(e.barCategoryGap,I*D),L=I*D/2;A=L-q-(L-q)/D*q}}}i==="xAxis"?k=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?k=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:k=y.range,S&&(k=[k[1],k[0]]);var B=zI(y,o,h),H=B.scale,Y=B.realScaleType;H.domain(b).range(k),WI(H);var z=KI(H,Wn(Wn({},y),{},{realScaleType:Y}));i==="xAxis"?(O=w==="top"&&!T||w==="bottom"&&T,C=r.left,P=f[E]-O*y.height):i==="yAxis"&&(O=w==="left"&&!T||w==="right"&&T,C=f[E]-O*y.width,P=r.top);var oe=Wn(Wn(Wn({},y),z),{},{realScaleType:Y,x:C,y:P,scale:H,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return oe.bandSize=hf(oe,z),!y.hide&&i==="xAxis"?f[E]+=(O?-1:1)*oe.height:y.hide||(f[E]+=(O?-1:1)*oe.width),Wn(Wn({},g),{},ip({},v,oe))},{})},I2=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},nne=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return I2({x:n,y:r},{x:i,y:o})},O2=function(){function t(e){Zte(this,t),this.scale=e}return ene(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();ip(O2,"EPS",1e-4);var Ox=function(e){var n=Object.keys(e).reduce(function(r,i){return Wn(Wn({},r),{},ip({},i,O2.create(e[i])))},{});return Wn(Wn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return _te(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return T2(i,function(o,a){return n[a].isInRange(o)})}})};function rne(t){return(t%180+180)%180}var ine=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=rne(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},one=wr,ane=qu,sne=Dh;function lne(t){return function(e,n,r){var i=Object(e);if(!ane(e)){var o=one(n);e=sne(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var une=lne,cne=w2;function dne(t){var e=cne(t),n=e%1;return e===e?n?e-n:e:0}var fne=dne,hne=AP,pne=wr,mne=fne,gne=Math.max;function yne(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:mne(n);return i<0&&(i=gne(r+i,0)),hne(t,pne(e),i)}var vne=yne,xne=une,bne=vne,wne=xne(bne),_ne=wne;const Sne=Oe(_ne);var Ene=m4(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),jx=N.createContext(void 0),Rx=N.createContext(void 0),j2=N.createContext(void 0),R2=N.createContext({}),M2=N.createContext(void 0),$2=N.createContext(0),D2=N.createContext(0),aE=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,d=Ene(o);return j.createElement(jx.Provider,{value:r},j.createElement(Rx.Provider,{value:i},j.createElement(R2.Provider,{value:o},j.createElement(j2.Provider,{value:d},j.createElement(M2.Provider,{value:a},j.createElement($2.Provider,{value:u},j.createElement(D2.Provider,{value:l},s)))))))},Tne=function(){return N.useContext(M2)},L2=function(e){var n=N.useContext(jx);n==null&&To();var r=n[e];return r==null&&To(),r},Ane=function(){var e=N.useContext(jx);return ai(e)},kne=function(){var e=N.useContext(Rx),n=Sne(e,function(r){return T2(r.domain,Number.isFinite)});return n||ai(e)},U2=function(e){var n=N.useContext(Rx);n==null&&To();var r=n[e];return r==null&&To(),r},Nne=function(){var e=N.useContext(j2);return e},Cne=function(){return N.useContext(R2)},Mx=function(){return N.useContext(D2)},$x=function(){return N.useContext($2)};function ts(t){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ts(t)}function Pne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ine(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B2(r.key),r)}}function One(t,e,n){return e&&Ine(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jne(t,e,n){return e=Of(e),Rne(t,F2()?Reflect.construct(e,n||[],Of(t).constructor):e.apply(t,n))}function Rne(t,e){if(e&&(ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mne(t)}function Mne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F2=function(){return!!t})()}function Of(t){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Of(t)}function $ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vy(t,e)}function Vy(t,e){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vy(t,e)}function sE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(n),!0).forEach(function(r){Dx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dx(t,e,n){return e=B2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B2(t){var e=Dne(t,"string");return ts(e)=="symbol"?e:e+""}function Dne(t,e){if(ts(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lne(t,e){return Vne(t)||Bne(t,e)||Fne(t,e)||Une()}function Une(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fne(t,e){if(t){if(typeof t=="string")return uE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uE(t,e)}}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Vne(t){if(Array.isArray(t))return t}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(this,arguments)}var qne=function(e,n){var r;return j.isValidElement(e)?r=j.cloneElement(e,n):pe(e)?r=e(n):r=j.createElement("line",qy({},n,{className:"recharts-reference-line-line"})),r},Gne=function(e,n,r,i,o,a,s,l,u){var d=o.x,f=o.y,h=o.width,g=o.height;if(r){var v=u.y,y=e.y.apply(v,{position:a});if(pr(u,"discard")&&!e.y.isInRange(y))return null;var w=[{x:d+h,y},{x:d,y}];return l==="left"?w.reverse():w}if(n){var b=u.x,x=e.x.apply(b,{position:a});if(pr(u,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:f+g},{x,y:f}];return s==="top"?_.reverse():_}if(i){var T=u.segment,S=T.map(function(E){return e.apply(E,{position:a})});return pr(u,"discard")&&pte(S,function(E){return!e.isInRange(E)})?null:S}return null};function Hne(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Tne(),d=L2(i),f=U2(o),h=Nne();if(!u||!h)return null;er(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Ox({x:d.scale,y:f.scale}),v=xt(e),y=xt(n),w=r&&r.length===2,b=Gne(g,v,y,w,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var x=Lne(b,2),_=x[0],T=_.x,S=_.y,E=x[1],A=E.x,k=E.y,C=pr(t,"hidden")?"url(#".concat(u,")"):void 0,P=lE(lE({clipPath:C},se(t,!0)),{},{x1:T,y1:S,x2:A,y2:k});return j.createElement(Te,{className:we("recharts-reference-line",s)},qne(a,P),St.renderCallByParent(t,nne({x1:T,y1:S,x2:A,y2:k})))}var Lx=function(t){function e(){return Pne(this,e),jne(this,e,arguments)}return $ne(e,t),One(e,[{key:"render",value:function(){return j.createElement(Hne,this.props)}}])}(j.Component);Dx(Lx,"displayName","ReferenceLine");Dx(Lx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function cE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(n),!0).forEach(function(r){op(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q2(r.key),r)}}function Kne(t,e,n){return e&&Wne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jne(t,e,n){return e=jf(e),Yne(t,V2()?Reflect.construct(e,n||[],jf(t).constructor):e.apply(t,n))}function Yne(t,e){if(e&&(ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xne(t)}function Xne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!t})()}function jf(t){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jf(t)}function Qne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hy(t,e)}function Hy(t,e){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hy(t,e)}function op(t,e,n){return e=q2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q2(t){var e=Zne(t,"string");return ns(e)=="symbol"?e:e+""}function Zne(t,e){if(ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ere=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=Ox({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return pr(e,"discard")&&!a.isInRange(s)?null:s},ap=function(t){function e(){return zne(this,e),Jne(this,e,arguments)}return Qne(e,t),Kne(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=xt(i),d=xt(o);if(er(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=ere(this.props);if(!f)return null;var h=f.x,g=f.y,v=this.props,y=v.shape,w=v.className,b=pr(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=dE(dE({clipPath:b},se(this.props,!0)),{},{cx:h,cy:g});return j.createElement(Te,{className:we("recharts-reference-dot",w)},e.renderDot(y,x),St.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(j.Component);op(ap,"displayName","ReferenceDot");op(ap,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});op(ap,"renderDot",function(t,e){var n;return j.isValidElement(t)?n=j.cloneElement(t,e):pe(t)?n=t(e):n=j.createElement(Xh,Gy({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}function rs(t){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}function fE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(n),!0).forEach(function(r){sp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H2(r.key),r)}}function rre(t,e,n){return e&&nre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ire(t,e,n){return e=Rf(e),ore(t,G2()?Reflect.construct(e,n||[],Rf(t).constructor):e.apply(t,n))}function ore(t,e){if(e&&(rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return are(t)}function are(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G2=function(){return!!t})()}function Rf(t){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rf(t)}function sre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wy(t,e)}function Wy(t,e){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wy(t,e)}function sp(t,e,n){return e=H2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H2(t){var e=lre(t,"string");return rs(e)=="symbol"?e:e+""}function lre(t,e){if(rs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ure=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=Ox({x:d.scale,y:f.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return pr(o,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:I2(g,v)},lp=function(t){function e(){return tre(this,e),ire(this,e,arguments)}return sre(e,t),rre(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;er(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xt(i),h=xt(o),g=xt(a),v=xt(s),y=this.props.shape;if(!f&&!h&&!g&&!v&&!y)return null;var w=ure(f,h,g,v,this.props);if(!w&&!y)return null;var b=pr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return j.createElement(Te,{className:we("recharts-reference-area",l)},e.renderRect(y,hE(hE({clipPath:b},se(this.props,!0)),w)),St.renderCallByParent(this.props,w))}}])}(j.Component);sp(lp,"displayName","ReferenceArea");sp(lp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});sp(lp,"renderRect",function(t,e){var n;return j.isValidElement(t)?n=j.cloneElement(t,e):pe(t)?n=t(e):n=j.createElement(Ix,zy({},e,{className:"recharts-reference-area-rect"})),n});function z2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function cre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ine(r,n)}function dre(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Mf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function fre(t,e){return z2(t,e+1)}function hre(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,d=a,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:z2(r,u)};var y=l,w,b=function(){return w===void 0&&(w=n(v,y)),w},x=v.coordinate,_=l===0||Mf(t,x,b,d,s);_||(l=0,d=a,u+=1),_&&(d=x+t*(b()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function pE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(n),!0).forEach(function(r){pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pre(t,e,n){return e=mre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=gre(t,"string");return _u(e)=="symbol"?e:e+""}function gre(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yre(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var g=o[h],v,y=function(){return v===void 0&&(v=n(g,h)),v};if(h===a-1){var w=t*(g.coordinate+t*y()/2-l);o[h]=g=Mt(Mt({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate})}else o[h]=g=Mt(Mt({},g),{},{tickCoord:g.coordinate});var b=Mf(t,g.tickCoord,y,s,l);b&&(l=g.tickCoord-t*(y()/2+i),o[h]=Mt(Mt({},g),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return o}function vre(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-u);a[s-1]=d=Mt(Mt({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var g=Mf(t,d.tickCoord,function(){return f},l,u);g&&(u=d.tickCoord-t*(f/2+i),a[s-1]=Mt(Mt({},d),{},{isShow:!0}))}for(var v=o?s-1:s,y=function(x){var _=a[x],T,S=function(){return T===void 0&&(T=n(_,x)),T};if(x===0){var E=t*(_.coordinate-t*S()/2-l);a[x]=_=Mt(Mt({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else a[x]=_=Mt(Mt({},_),{},{tickCoord:_.coordinate});var A=Mf(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[x]=Mt(Mt({},_),{},{isShow:!0}))},w=0;w<v;w++)y(w);return a}function Ux(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Q(l)||Oo.isSsr)return fre(i,typeof l=="number"&&Q(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",v=d&&g==="width"?ml(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,T){var S=pe(u)?u(_.value,T):_.value;return g==="width"?cre(ml(S,{fontSize:e,letterSpacing:n}),v,f):ml(S,{fontSize:e,letterSpacing:n})[g]},w=i.length>=2?qt(i[1].coordinate-i[0].coordinate):1,b=dre(o,w,g);return l==="equidistantPreserveStart"?hre(w,b,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=vre(w,b,y,i,a,l==="preserveStartEnd"):h=yre(w,b,y,i,a),h.filter(function(x){return x.isShow}))}var xre=["viewBox"],bre=["viewBox"],wre=["ticks"];function is(t){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pa.apply(this,arguments)}function mE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(n),!0).forEach(function(r){Fx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bm(t,e){if(t==null)return{};var n=_re(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _re(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K2(r.key),r)}}function Ere(t,e,n){return e&&gE(t.prototype,e),n&&gE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tre(t,e,n){return e=$f(e),Are(t,W2()?Reflect.construct(e,n||[],$f(t).constructor):e.apply(t,n))}function Are(t,e){if(e&&(is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kre(t)}function kre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W2=function(){return!!t})()}function $f(t){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$f(t)}function Nre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ky(t,e)}function Ky(t,e){return Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ky(t,e)}function Fx(t,e,n){return e=K2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K2(t){var e=Cre(t,"string");return is(e)=="symbol"?e:e+""}function Cre(t,e){if(is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ns=function(t){function e(n){var r;return Sre(this,e),r=Tre(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Nre(e,t),Ere(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=bm(r,xre),s=this.props,l=s.viewBox,u=bm(s,bre);return!Ta(o,l)||!Ta(a,u)||!Ta(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,g,v,y,w,b,x,_=f?-1:1,T=r.tickSize||d,S=Q(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,w=a+ +!f*l,y=w-_*T,x=y-_*h,b=S;break;case"left":y=w=r.coordinate,v=o+ +!f*s,g=v-_*T,b=g-_*h,x=S;break;case"right":y=w=r.coordinate,v=o+ +f*s,g=v+_*T,b=g+_*h,x=S;break;default:g=v=r.coordinate,w=a+ +f*l,y=w+_*T,x=y+_*h,b=S;break}return{line:{x1:g,y1:y,x2:v,y2:w},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=ht(ht(ht({},se(this.props,!1)),se(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=ht(ht({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);f=ht(ht({},f),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return j.createElement("line",pa({},f,{className:we("recharts-cartesian-axis-line",vn(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,g=Ux(ht(ht({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=se(this.props,!1),b=se(d,!1),x=ht(ht({},w),{},{fill:"none"},se(l,!1)),_=g.map(function(T,S){var E=a.getTickLineCoord(T),A=E.line,k=E.tick,C=ht(ht(ht(ht({textAnchor:v,verticalAnchor:y},w),{},{stroke:"none",fill:u},b),k),{},{index:S,payload:T,visibleTicksCount:g.length,tickFormatter:f});return j.createElement(Te,pa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},_o(a.props,T,S)),l&&j.createElement("line",pa({},x,A,{className:we("recharts-cartesian-axis-tick-line",vn(l,"className"))})),d&&e.renderTickItem(d,C,"".concat(pe(f)?f(T.value,S):T.value).concat(h||"")))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,g=bm(f,wre),v=h;return pe(l)&&(v=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!v||!v.length?null:j.createElement(Te,{className:we("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),St.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=we(i.className,"recharts-cartesian-axis-tick-value");return j.isValidElement(r)?a=j.cloneElement(r,ht(ht({},i),{},{className:s})):pe(r)?a=r(ht(ht({},i),{},{className:s})):a=j.createElement(So,pa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(N.Component);Fx(Ns,"displayName","CartesianAxis");Fx(Ns,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Pre=["x1","y1","x2","y2","key"],Ire=["offset"];function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function yE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(n),!0).forEach(function(r){Ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ore(t,e,n){return e=jre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jre(t){var e=Rre(t,"string");return Ao(e)=="symbol"?e:e+""}function Rre(t,e){if(Ao(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ao(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ao(){return ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ao.apply(this,arguments)}function vE(t,e){if(t==null)return{};var n=Mre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $re=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return j.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function J2(t,e){var n;if(j.isValidElement(t))n=j.cloneElement(t,e);else if(pe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=vE(e,Pre),u=se(l,!1);u.offset;var d=vE(u,Ire);n=j.createElement("line",ao({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Dre(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Dt(Dt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return J2(i,u)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Lre(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Dt(Dt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return J2(i,u)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Ure(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var v=!d[g+1],y=v?i+a-h:d[g+1]-h;if(y<=0)return null;var w=g%e.length;return j.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:y,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Fre(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var v=!d[g+1],y=v?o+s-h:d[g+1]-h;if(y<=0)return null;var w=g%r.length;return j.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:y,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Bre=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return HI(Ux(Dt(Dt(Dt({},Ns.defaultProps),r),{},{ticks:Ir(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Vre=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return HI(Ux(Dt(Dt(Dt({},Ns.defaultProps),r),{},{ticks:Ir(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Bo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Su(t){var e,n,r,i,o,a,s=Mx(),l=$x(),u=Cne(),d=Dt(Dt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bo.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Bo.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Bo.verticalFill,x:Q(t.x)?t.x:u.left,y:Q(t.y)?t.y:u.top,width:Q(t.width)?t.width:u.width,height:Q(t.height)?t.height:u.height}),f=d.x,h=d.y,g=d.width,v=d.height,y=d.syncWithTicks,w=d.horizontalValues,b=d.verticalValues,x=Ane(),_=kne();if(!Q(g)||g<=0||!Q(v)||v<=0||!Q(f)||f!==+f||!Q(h)||h!==+h)return null;var T=d.verticalCoordinatesGenerator||Bre,S=d.horizontalCoordinatesGenerator||Vre,E=d.horizontalPoints,A=d.verticalPoints;if((!E||!E.length)&&pe(S)){var k=w&&w.length,C=S({yAxis:_?Dt(Dt({},_),{},{ticks:k?w:_.ticks}):void 0,width:s,height:l,offset:u},k?!0:y);er(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ao(C),"]")),Array.isArray(C)&&(E=C)}if((!A||!A.length)&&pe(T)){var P=b&&b.length,O=T({xAxis:x?Dt(Dt({},x),{},{ticks:P?b:x.ticks}):void 0,width:s,height:l,offset:u},P?!0:y);er(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ao(O),"]")),Array.isArray(O)&&(A=O)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement($re,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),j.createElement(Dre,ao({},d,{offset:u,horizontalPoints:E,xAxis:x,yAxis:_})),j.createElement(Lre,ao({},d,{offset:u,verticalPoints:A,xAxis:x,yAxis:_})),j.createElement(Ure,ao({},d,{horizontalPoints:E})),j.createElement(Fre,ao({},d,{verticalPoints:A})))}Su.displayName="CartesianGrid";var qre=["type","layout","connectNulls","ref"],Gre=["key"];function os(t){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(t)}function xE(t,e){if(t==null)return{};var n=Hre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}function bE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bE(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vo(t){return Jre(t)||Kre(t)||Wre(t)||zre()}function zre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wre(t,e){if(t){if(typeof t=="string")return Jy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jy(t,e)}}function Kre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jre(t){if(Array.isArray(t))return Jy(t)}function Jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X2(r.key),r)}}function Xre(t,e,n){return e&&wE(t.prototype,e),n&&wE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qre(t,e,n){return e=Df(e),Zre(t,Y2()?Reflect.construct(e,n||[],Df(t).constructor):e.apply(t,n))}function Zre(t,e){if(e&&(os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eie(t)}function eie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y2=function(){return!!t})()}function Df(t){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Df(t)}function tie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yy(t,e)}function Yy(t,e){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yy(t,e)}function Kn(t,e,n){return e=X2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X2(t){var e=nie(t,"string");return os(e)=="symbol"?e:e+""}function nie(t,e){if(os(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yu=function(t){function e(){var n;Yre(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Qre(this,e,[].concat(i)),Kn(n,"state",{isAnimationFinished:!0,totalLength:0}),Kn(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Kn(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(b,x){return b+x});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/u),f=a%u,h=s-a,g=[],v=0,y=0;v<l.length;y+=l[v],++v)if(y+l[v]>f){g=[].concat(Vo(l.slice(0,v)),[f-y]);break}var w=g.length%2===0?[0,h]:[h];return[].concat(Vo(e.repeat(l,d)),Vo(g),w).map(function(b){return"".concat(b,"px")}).join(", ")}),Kn(n,"id",ws("recharts-line-")),Kn(n,"pathRef",function(a){n.mainCurve=a}),Kn(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Kn(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return tie(e,t),Xre(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=xn(d,Ju);if(!f)return null;var h=function(y,w){return{x:y.x,y:y.y,value:y.value,errorVal:yt(y.payload,w)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return j.createElement(Te,g,f.map(function(v){return j.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=se(this.props,!1),h=se(l,!0),g=u.map(function(y,w){var b=an(an(an({key:"dot-".concat(w),r:3},f),h),{},{index:w,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return e.renderDotItem(l,b)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return j.createElement(Te,wl({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=xE(s,qre),h=an(an(an({},se(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:d});return j.createElement(gf,wl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,g=a.animationId,v=a.animateNewValues,y=a.width,w=a.height,b=this.state,x=b.prevPoints,_=b.totalLength;return j.createElement(yr,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var S=T.t;if(x){var E=x.length/s.length,A=s.map(function($,U){var R=Math.floor(U*E);if(x[R]){var I=x[R],D=dn(I.x,$.x),q=dn(I.y,$.y);return an(an({},$),{},{x:D(S),y:q(S)})}if(v){var L=dn(y*2,$.x),B=dn(w/2,$.y);return an(an({},$),{},{x:L(S),y:B(S)})}return an(an({},$),{},{x:$.x,y:$.y})});return o.renderCurveStatically(A,r,i)}var k=dn(0,_),C=k(S),P;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function($){return parseFloat($)});P=o.getStrokeDasharray(C,_,O)}else P=o.generateSimpleStrokeDasharray(_,C);return o.renderCurveStatically(s,r,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!u&&d>0||!Ku(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,g=i.width,v=i.height,y=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var b=this.state.isAnimationFinished,x=s.length===1,_=we("recharts-line",l),T=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,E=T||S,A=ve(w)?this.id:w,k=(r=se(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=k.r,P=C===void 0?3:C,O=k.strokeWidth,$=O===void 0?2:O,U=w3(a)?a:{},R=U.clipDot,I=R===void 0?!0:R,D=P*2+$;return j.createElement(Te,{className:_},T||S?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(A)},j.createElement("rect",{x:T?h:h-g/2,y:S?f:f-v/2,width:T?g:g*2,height:S?v:v*2})),!I&&j.createElement("clipPath",{id:"clipPath-dots-".concat(A)},j.createElement("rect",{x:h-D/2,y:f-D/2,width:g+D,height:v+D}))):null,!x&&this.renderCurve(E,A),this.renderErrorBar(E,A),(x||a)&&this.renderDots(E,I,A),(!y||b)&&Mr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Vo(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Vo(a),Vo(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(j.isValidElement(r))o=j.cloneElement(r,i);else if(pe(r))o=r(i);else{var a=i.key,s=xE(i,Gre),l=we("recharts-line-dot",typeof r!="boolean"?r.className:"");o=j.createElement(Xh,wl({key:a},s,{className:l}))}return o}}])}(N.PureComponent);Kn(Yu,"displayName","Line");Kn(Yu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Oo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Kn(Yu,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,g){var v=yt(h,a);return d==="horizontal"?{x:KS({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:ve(v)?null:r.scale(v),value:v,payload:h}:{x:ve(v)?null:n.scale(v),y:KS({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:v,payload:h}});return an({points:f,layout:d},u)});function as(t){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(t)}function rie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eO(r.key),r)}}function oie(t,e,n){return e&&iie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aie(t,e,n){return e=Lf(e),sie(t,Q2()?Reflect.construct(e,n||[],Lf(t).constructor):e.apply(t,n))}function sie(t,e){if(e&&(as(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lie(t)}function lie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q2=function(){return!!t})()}function Lf(t){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lf(t)}function uie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xy(t,e)}function Xy(t,e){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xy(t,e)}function Z2(t,e,n){return e=eO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eO(t){var e=cie(t,"string");return as(e)=="symbol"?e:e+""}function cie(t,e){if(as(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(as(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qy.apply(this,arguments)}function die(t){var e=t.xAxisId,n=Mx(),r=$x(),i=L2(e);return i==null?null:N.createElement(Ns,Qy({},i,{className:we("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Ir(a,!0)}}))}var Ai=function(t){function e(){return rie(this,e),aie(this,e,arguments)}return uie(e,t),oie(e,[{key:"render",value:function(){return N.createElement(die,this.props)}}])}(N.Component);Z2(Ai,"displayName","XAxis");Z2(Ai,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ss(t){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(t)}function fie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rO(r.key),r)}}function pie(t,e,n){return e&&hie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mie(t,e,n){return e=Uf(e),gie(t,tO()?Reflect.construct(e,n||[],Uf(t).constructor):e.apply(t,n))}function gie(t,e){if(e&&(ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yie(t)}function yie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tO=function(){return!!t})()}function Uf(t){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uf(t)}function vie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zy(t,e)}function Zy(t,e){return Zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zy(t,e)}function nO(t,e,n){return e=rO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rO(t){var e=xie(t,"string");return ss(e)=="symbol"?e:e+""}function xie(t,e){if(ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}var bie=function(e){var n=e.yAxisId,r=Mx(),i=$x(),o=U2(n);return o==null?null:N.createElement(Ns,ev({},o,{className:we("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Ir(s,!0)}}))},ki=function(t){function e(){return fie(this,e),mie(this,e,arguments)}return vie(e,t),pie(e,[{key:"render",value:function(){return N.createElement(bie,this.props)}}])}(N.Component);nO(ki,"displayName","YAxis");nO(ki,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _E(t){return Eie(t)||Sie(t)||_ie(t)||wie()}function wie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ie(t,e){if(t){if(typeof t=="string")return tv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tv(t,e)}}function Sie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eie(t){if(Array.isArray(t))return tv(t)}function tv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nv=function(e,n,r,i,o){var a=xn(e,Lx),s=xn(e,ap),l=[].concat(_E(a),_E(s)),u=xn(e,lp),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,w){if(w.props[d]===r&&pr(w.props,"extendDomain")&&Q(w.props[f])){var b=w.props[f];return[Math.min(y[0],b),Math.max(y[1],b)]}return y},h)),u.length){var g="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(y,w){if(w.props[d]===r&&pr(w.props,"extendDomain")&&Q(w.props[g])&&Q(w.props[v])){var b=w.props[g],x=w.props[v];return[Math.min(y[0],b,x),Math.max(y[1],b,x)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,w){return Q(w)?[Math.min(y[0],w),Math.max(y[1],w)]:y},h)),h},iO={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,v=new Array(g);h<g;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,g,v){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],b=arguments.length,x,_;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,g),!0;case 6:return w.fn.call(w.context,d,f,h,g,v),!0}for(_=1,x=new Array(b-1);_<b;_++)x[_-1]=arguments[_];w.fn.apply(w.context,x)}else{var T=w.length,S;for(_=0;_<T;_++)switch(w[_].once&&this.removeListener(u,w[_].fn,void 0,!0),b){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,d);break;case 3:w[_].fn.call(w[_].context,d,f);break;case 4:w[_].fn.call(w[_].context,d,f,h);break;default:if(!x)for(S=1,x=new Array(b-1);S<b;S++)x[S-1]=arguments[S];w[_].fn.apply(w[_].context,x)}}return!0},s.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&a(this,g);else{for(var y=0,w=[],b=v.length;y<b;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&w.push(v[y]);w.length?this._events[g]=w.length===1?w[0]:w:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(iO);var Tie=iO.exports;const Aie=Oe(Tie);var wm=new Aie,_m="recharts.syncMouseEvents";function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function kie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oO(r.key),r)}}function Cie(t,e,n){return e&&Nie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sm(t,e,n){return e=oO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oO(t){var e=Pie(t,"string");return Eu(e)=="symbol"?e:e+""}function Pie(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iie=function(){function t(){kie(this,t),Sm(this,"activeIndex",0),Sm(this,"coordinateList",[]),Sm(this,"layout","horizontal")}return Cie(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Oie(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Q(r)&&Q(i))return!0}return!1}function jie(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function aO(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Be(e,n,r,i),s=Be(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Rie(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Be(s,l,u,f),g=Be(s,l,d,f);r=h.x,i=h.y,o=g.x,a=g.y}else return aO(e);return[{x:r,y:i},{x:o,y:a}]}function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function SE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(n),!0).forEach(function(r){Mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mie(t,e,n){return e=$ie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ie(t){var e=Die(t,"string");return Tu(e)=="symbol"?e:e+""}function Die(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lie(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,y=gf;if(h==="ScatterChart")v=a,y=nZ;else if(h==="BarChart")v=jie(f,a,l,d),y=Ix;else if(f==="radial"){var w=aO(a),b=w.cx,x=w.cy,_=w.radius,T=w.startAngle,S=w.endAngle;v={cx:b,cy:x,startAngle:T,endAngle:S,innerRadius:_,outerRadius:_},y=n2}else v={points:Rie(f,a,l)},y=gf;var E=Pc(Pc(Pc(Pc({stroke:"#ccc",pointerEvents:"none"},l),v),se(g,!1)),{},{payload:s,payloadIndex:u,className:we("recharts-tooltip-cursor",g.className)});return N.isValidElement(g)?N.cloneElement(g,E):N.createElement(y,E)}var Uie=["item"],Fie=["children","className","width","height","style","compact","title","desc"];function ls(t){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(t)}function ma(){return ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ma.apply(this,arguments)}function EE(t,e){return qie(t)||Vie(t,e)||lO(t,e)||Bie()}function Bie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qie(t){if(Array.isArray(t))return t}function TE(t,e){if(t==null)return{};var n=Gie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uO(r.key),r)}}function Wie(t,e,n){return e&&zie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kie(t,e,n){return e=Ff(e),Jie(t,sO()?Reflect.construct(e,n||[],Ff(t).constructor):e.apply(t,n))}function Jie(t,e){if(e&&(ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yie(t)}function Yie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sO=function(){return!!t})()}function Ff(t){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ff(t)}function Xie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rv(t,e)}function rv(t,e){return rv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rv(t,e)}function us(t){return eoe(t)||Zie(t)||lO(t)||Qie()}function Qie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lO(t,e){if(t){if(typeof t=="string")return iv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iv(t,e)}}function Zie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eoe(t){if(Array.isArray(t))return iv(t)}function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(n),!0).forEach(function(r){ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ue(t,e,n){return e=uO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uO(t){var e=toe(t,"string");return ls(e)=="symbol"?e:e+""}function toe(t,e){if(ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var noe={xAxis:["bottom","top"],yAxis:["left","right"]},roe={width:"100%",height:"100%"},cO={x:0,y:0};function Ic(t){return t}var ioe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},ooe=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return G(G(G({},i),Be(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return G(G(G({},i),Be(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return cO},up=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(us(s),us(u)):s},[]);return a.length>0?a:e&&e.length&&Q(i)&&Q(o)?e.slice(i,o+1):[]};function dO(t){return t==="number"?[0,"auto"]:void 0}var ov=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=up(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=f===void 0?s:f;h=Ld(g,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(us(l),[YI(u,h)]):l},[])},kE=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=ioe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=_J(a,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=ov(e,n,d,f),g=ooe(r,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},aoe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,g=GI(d,o);return r.reduce(function(v,y){var w,b=y.type.defaultProps!==void 0?G(G({},y.type.defaultProps),y.props):y.props,x=b.type,_=b.dataKey,T=b.allowDataOverflow,S=b.allowDuplicatedCategory,E=b.scale,A=b.ticks,k=b.includeHidden,C=b[a];if(v[C])return v;var P=up(e.data,{graphicalItems:i.filter(function(z){var oe,xe=a in z.props?z.props[a]:(oe=z.type.defaultProps)===null||oe===void 0?void 0:oe[a];return xe===C}),dataStartIndex:l,dataEndIndex:u}),O=P.length,$,U,R;Oie(b.domain,T,x)&&($=xy(b.domain,null,T),g&&(x==="number"||E!=="auto")&&(R=yl(P,_,"category")));var I=dO(x);if(!$||$.length===0){var D,q=(D=b.domain)!==null&&D!==void 0?D:I;if(_){if($=yl(P,_,x),x==="category"&&g){var L=d3($);S&&L?(U=$,$=kf(0,O)):S||($=QS(q,$,y).reduce(function(z,oe){return z.indexOf(oe)>=0?z:[].concat(us(z),[oe])},[]))}else if(x==="category")S?$=$.filter(function(z){return z!==""&&!ve(z)}):$=QS(q,$,y).reduce(function(z,oe){return z.indexOf(oe)>=0||oe===""||ve(oe)?z:[].concat(us(z),[oe])},[]);else if(x==="number"){var B=kJ(P,i.filter(function(z){var oe,xe,Ee=a in z.props?z.props[a]:(oe=z.type.defaultProps)===null||oe===void 0?void 0:oe[a],Pe="hide"in z.props?z.props.hide:(xe=z.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Ee===C&&(k||!Pe)}),_,o,d);B&&($=B)}g&&(x==="number"||E!=="auto")&&(R=yl(P,_,"category"))}else g?$=kf(0,O):s&&s[C]&&s[C].hasStack&&x==="number"?$=h==="expand"?[0,1]:JI(s[C].stackGroups,l,u):$=qI(P,i.filter(function(z){var oe=a in z.props?z.props[a]:z.type.defaultProps[a],xe="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return oe===C&&(k||!xe)}),x,d,!0);if(x==="number")$=nv(f,$,C,o,A),q&&($=xy(q,$,T));else if(x==="category"&&q){var H=q,Y=$.every(function(z){return H.indexOf(z)>=0});Y&&($=H)}}return G(G({},v),{},ue({},C,G(G({},b),{},{axisType:o,domain:$,categoricalDomain:R,duplicateDomain:U,originalDomain:(w=b.domain)!==null&&w!==void 0?w:I,isCategorical:g,layout:d})))},{})},soe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=up(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=GI(d,o),y=-1;return r.reduce(function(w,b){var x=b.type.defaultProps!==void 0?G(G({},b.type.defaultProps),b.props):b.props,_=x[a],T=dO("number");if(!w[_]){y++;var S;return v?S=kf(0,g):s&&s[_]&&s[_].hasStack?(S=JI(s[_].stackGroups,l,u),S=nv(f,S,_,o)):(S=xy(T,qI(h,r.filter(function(E){var A,k,C=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],P="hide"in E.props?E.props.hide:(k=E.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===_&&!P}),"number",d),i.defaultProps.allowDataOverflow),S=nv(f,S,_,o)),G(G({},w),{},ue({},_,G(G({axisType:o},i.defaultProps),{},{hide:!0,orientation:vn(noe,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:T,isCategorical:v,layout:d})))}return w},{})},loe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=xn(d,o),g={};return h&&h.length?g=aoe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=soe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},uoe=function(e){var n=ai(e),r=Ir(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ix(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:hf(n,r)}},NE=function(e){var n=e.children,r=e.defaultShowTooltip,i=cn(n,Za),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},coe=function(e){return!e||!e.length?!1:e.some(function(n){var r=jr(n&&n.type);return r&&r.indexOf("Bar")>=0})},CE=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},doe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,d=r.height,f=r.children,h=r.margin||{},g=cn(f,Za),v=cn(f,fo),y=Object.keys(l).reduce(function(S,E){var A=l[E],k=A.orientation;return!A.mirror&&!A.hide?G(G({},S),{},ue({},k,S[k]+A.width)):S},{left:h.left||0,right:h.right||0}),w=Object.keys(a).reduce(function(S,E){var A=a[E],k=A.orientation;return!A.mirror&&!A.hide?G(G({},S),{},ue({},k,vn(S,"".concat(k))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),b=G(G({},w),y),x=b.bottom;g&&(b.bottom+=g.props.height||Za.defaultProps.height),v&&n&&(b=TJ(b,i,r,n));var _=u-b.left-b.right,T=d-b.top-b.bottom;return G(G({brushBottom:x},b),{},{width:Math.max(_,0),height:Math.max(T,0)})},foe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Bx=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(b,x){var _=x.graphicalItems,T=x.stackGroups,S=x.offset,E=x.updateId,A=x.dataStartIndex,k=x.dataEndIndex,C=b.barSize,P=b.layout,O=b.barGap,$=b.barCategoryGap,U=b.maxBarSize,R=CE(P),I=R.numericAxisName,D=R.cateAxisName,q=coe(_),L=[];return _.forEach(function(B,H){var Y=up(b.data,{graphicalItems:[B],dataStartIndex:A,dataEndIndex:k}),z=B.type.defaultProps!==void 0?G(G({},B.type.defaultProps),B.props):B.props,oe=z.dataKey,xe=z.maxBarSize,Ee=z["".concat(I,"Id")],Pe=z["".concat(D,"Id")],Ze={},rt=l.reduce(function(fe,le){var Ne=x["".concat(le.axisType,"Map")],Yt=z["".concat(le.axisType,"Id")];Ne&&Ne[Yt]||le.axisType==="zAxis"||To();var Li=Ne[Yt];return G(G({},fe),{},ue(ue({},le.axisType,Li),"".concat(le.axisType,"Ticks"),Ir(Li)))},Ze),ee=rt[D],me=rt["".concat(D,"Ticks")],ge=T&&T[Ee]&&T[Ee].hasStack&&$J(B,T[Ee].stackGroups),W=jr(B.type).indexOf("Bar")>=0,Me=hf(ee,me),V=[],ne=q&&SJ({barSize:C,stackGroups:T,totalSize:foe(rt,D)});if(W){var M,F,X=ve(xe)?U:xe,K=(M=(F=hf(ee,me,!0))!==null&&F!==void 0?F:X)!==null&&M!==void 0?M:0;V=EJ({barGap:O,barCategoryGap:$,bandSize:K!==Me?K:Me,sizeList:ne[Pe],maxBarSize:X}),K!==Me&&(V=V.map(function(fe){return G(G({},fe),{},{position:G(G({},fe.position),{},{offset:fe.position.offset-K/2})})}))}var he=B&&B.type&&B.type.getComposedData;he&&L.push({props:G(G({},he(G(G({},rt),{},{displayedData:Y,props:b,dataKey:oe,item:B,bandSize:Me,barPosition:V,offset:S,stackedData:ge,layout:P,dataStartIndex:A,dataEndIndex:k}))),{},ue(ue(ue({key:B.key||"item-".concat(H)},I,rt[I]),D,rt[D]),"animationId",E)),childIndex:E3(B,b.children),item:B})}),L},g=function(b,x){var _=b.props,T=b.dataStartIndex,S=b.dataEndIndex,E=b.updateId;if(!Hw({props:_}))return null;var A=_.children,k=_.layout,C=_.stackOffset,P=_.data,O=_.reverseStackOrder,$=CE(k),U=$.numericAxisName,R=$.cateAxisName,I=xn(A,r),D=RJ(P,I,"".concat(U,"Id"),"".concat(R,"Id"),C,O),q=l.reduce(function(z,oe){var xe="".concat(oe.axisType,"Map");return G(G({},z),{},ue({},xe,loe(_,G(G({},oe),{},{graphicalItems:I,stackGroups:oe.axisType===U&&D,dataStartIndex:T,dataEndIndex:S}))))},{}),L=doe(G(G({},q),{},{props:_,graphicalItems:I}),x==null?void 0:x.legendBBox);Object.keys(q).forEach(function(z){q[z]=d(_,q[z],L,z.replace("Map",""),n)});var B=q["".concat(R,"Map")],H=uoe(B),Y=h(_,G(G({},q),{},{dataStartIndex:T,dataEndIndex:S,updateId:E,graphicalItems:I,stackGroups:D,offset:L}));return G(G({formattedGraphicalItems:Y,graphicalItems:I,offset:L,stackGroups:D},H),q)},v=function(w){function b(x){var _,T,S;return Hie(this,b),S=Kie(this,b,[x]),ue(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ue(S,"accessibilityManager",new Iie),ue(S,"handleLegendBBoxUpdate",function(E){if(E){var A=S.state,k=A.dataStartIndex,C=A.dataEndIndex,P=A.updateId;S.setState(G({legendBBox:E},g({props:S.props,dataStartIndex:k,dataEndIndex:C,updateId:P},G(G({},S.state),{},{legendBBox:E}))))}}),ue(S,"handleReceiveSyncEvent",function(E,A,k){if(S.props.syncId===E){if(k===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),ue(S,"handleBrushChange",function(E){var A=E.startIndex,k=E.endIndex;if(A!==S.state.dataStartIndex||k!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return G({dataStartIndex:A,dataEndIndex:k},g({props:S.props,dataStartIndex:A,dataEndIndex:k,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:k})}}),ue(S,"handleMouseEnter",function(E){var A=S.getMouseInfo(E);if(A){var k=G(G({},A),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var C=S.props.onMouseEnter;pe(C)&&C(k,E)}}),ue(S,"triggeredAfterMouseMove",function(E){var A=S.getMouseInfo(E),k=A?G(G({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var C=S.props.onMouseMove;pe(C)&&C(k,E)}),ue(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),ue(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ue(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),ue(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var k=S.props.onMouseLeave;pe(k)&&k(A,E)}),ue(S,"handleOuterEvent",function(E){var A=S3(E),k=vn(S.props,"".concat(A));if(A&&pe(k)){var C,P;/.*touch.*/i.test(A)?P=S.getMouseInfo(E.changedTouches[0]):P=S.getMouseInfo(E),k((C=P)!==null&&C!==void 0?C:{},E)}}),ue(S,"handleClick",function(E){var A=S.getMouseInfo(E);if(A){var k=G(G({},A),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var C=S.props.onClick;pe(C)&&C(k,E)}}),ue(S,"handleMouseDown",function(E){var A=S.props.onMouseDown;if(pe(A)){var k=S.getMouseInfo(E);A(k,E)}}),ue(S,"handleMouseUp",function(E){var A=S.props.onMouseUp;if(pe(A)){var k=S.getMouseInfo(E);A(k,E)}}),ue(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),ue(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),ue(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),ue(S,"handleDoubleClick",function(E){var A=S.props.onDoubleClick;if(pe(A)){var k=S.getMouseInfo(E);A(k,E)}}),ue(S,"handleContextMenu",function(E){var A=S.props.onContextMenu;if(pe(A)){var k=S.getMouseInfo(E);A(k,E)}}),ue(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&wm.emit(_m,S.props.syncId,E,S.eventEmitterSymbol)}),ue(S,"applySyncEvent",function(E){var A=S.props,k=A.layout,C=A.syncMethod,P=S.state.updateId,O=E.dataStartIndex,$=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(G({dataStartIndex:O,dataEndIndex:$},g({props:S.props,dataStartIndex:O,dataEndIndex:$,updateId:P},S.state)));else if(E.activeTooltipIndex!==void 0){var U=E.chartX,R=E.chartY,I=E.activeTooltipIndex,D=S.state,q=D.offset,L=D.tooltipTicks;if(!q)return;if(typeof C=="function")I=C(L,E);else if(C==="value"){I=-1;for(var B=0;B<L.length;B++)if(L[B].value===E.activeLabel){I=B;break}}var H=G(G({},q),{},{x:q.left,y:q.top}),Y=Math.min(U,H.x+H.width),z=Math.min(R,H.y+H.height),oe=L[I]&&L[I].value,xe=ov(S.state,S.props.data,I),Ee=L[I]?{x:k==="horizontal"?L[I].coordinate:Y,y:k==="horizontal"?z:L[I].coordinate}:cO;S.setState(G(G({},E),{},{activeLabel:oe,activeCoordinate:Ee,activePayload:xe,activeTooltipIndex:I}))}else S.setState(E)}),ue(S,"renderCursor",function(E){var A,k=S.state,C=k.isTooltipActive,P=k.activeCoordinate,O=k.activePayload,$=k.offset,U=k.activeTooltipIndex,R=k.tooltipAxisBandSize,I=S.getTooltipEventType(),D=(A=E.props.active)!==null&&A!==void 0?A:C,q=S.props.layout,L=E.key||"_recharts-cursor";return j.createElement(Lie,{key:L,activeCoordinate:P,activePayload:O,activeTooltipIndex:U,chartName:n,element:E,isActive:D,layout:q,offset:$,tooltipAxisBandSize:R,tooltipEventType:I})}),ue(S,"renderPolarAxis",function(E,A,k){var C=vn(E,"type.axisType"),P=vn(S.state,"".concat(C,"Map")),O=E.type.defaultProps,$=O!==void 0?G(G({},O),E.props):E.props,U=P&&P[$["".concat(C,"Id")]];return N.cloneElement(E,G(G({},U),{},{className:we(C,U.className),key:E.key||"".concat(A,"-").concat(k),ticks:Ir(U,!0)}))}),ue(S,"renderPolarGrid",function(E){var A=E.props,k=A.radialLines,C=A.polarAngles,P=A.polarRadius,O=S.state,$=O.radiusAxisMap,U=O.angleAxisMap,R=ai($),I=ai(U),D=I.cx,q=I.cy,L=I.innerRadius,B=I.outerRadius;return N.cloneElement(E,{polarAngles:Array.isArray(C)?C:Ir(I,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(P)?P:Ir(R,!0).map(function(H){return H.coordinate}),cx:D,cy:q,innerRadius:L,outerRadius:B,key:E.key||"polar-grid",radialLines:k})}),ue(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,A=S.props,k=A.children,C=A.width,P=A.height,O=S.props.margin||{},$=C-(O.left||0)-(O.right||0),U=BI({children:k,formattedGraphicalItems:E,legendWidth:$,legendContent:u});if(!U)return null;var R=U.item,I=TE(U,Uie);return N.cloneElement(R,G(G({},I),{},{chartWidth:C,chartHeight:P,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ue(S,"renderTooltip",function(){var E,A=S.props,k=A.children,C=A.accessibilityLayer,P=cn(k,Vt);if(!P)return null;var O=S.state,$=O.isTooltipActive,U=O.activeCoordinate,R=O.activePayload,I=O.activeLabel,D=O.offset,q=(E=P.props.active)!==null&&E!==void 0?E:$;return N.cloneElement(P,{viewBox:G(G({},D),{},{x:D.left,y:D.top}),active:q,label:I,payload:q?R:[],coordinate:U,accessibilityLayer:C})}),ue(S,"renderBrush",function(E){var A=S.props,k=A.margin,C=A.data,P=S.state,O=P.offset,$=P.dataStartIndex,U=P.dataEndIndex,R=P.updateId;return N.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Ac(S.handleBrushChange,E.props.onChange),data:C,x:Q(E.props.x)?E.props.x:O.left,y:Q(E.props.y)?E.props.y:O.top+O.height+O.brushBottom-(k.bottom||0),width:Q(E.props.width)?E.props.width:O.width,startIndex:$,endIndex:U,updateId:"brush-".concat(R)})}),ue(S,"renderReferenceElement",function(E,A,k){if(!E)return null;var C=S,P=C.clipPathId,O=S.state,$=O.xAxisMap,U=O.yAxisMap,R=O.offset,I=E.type.defaultProps||{},D=E.props,q=D.xAxisId,L=q===void 0?I.xAxisId:q,B=D.yAxisId,H=B===void 0?I.yAxisId:B;return N.cloneElement(E,{key:E.key||"".concat(A,"-").concat(k),xAxis:$[L],yAxis:U[H],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:P})}),ue(S,"renderActivePoints",function(E){var A=E.item,k=E.activePoint,C=E.basePoint,P=E.childIndex,O=E.isRange,$=[],U=A.props.key,R=A.item.type.defaultProps!==void 0?G(G({},A.item.type.defaultProps),A.item.props):A.item.props,I=R.activeDot,D=R.dataKey,q=G(G({index:P,dataKey:D,cx:k.x,cy:k.y,r:4,fill:Px(A.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},se(I,!1)),Ud(I));return $.push(b.renderActiveDot(I,q,"".concat(U,"-activePoint-").concat(P))),C?$.push(b.renderActiveDot(I,G(G({},q),{},{cx:C.x,cy:C.y}),"".concat(U,"-basePoint-").concat(P))):O&&$.push(null),$}),ue(S,"renderGraphicChild",function(E,A,k){var C=S.filterFormatItem(E,A,k);if(!C)return null;var P=S.getTooltipEventType(),O=S.state,$=O.isTooltipActive,U=O.tooltipAxis,R=O.activeTooltipIndex,I=O.activeLabel,D=S.props.children,q=cn(D,Vt),L=C.props,B=L.points,H=L.isRange,Y=L.baseLine,z=C.item.type.defaultProps!==void 0?G(G({},C.item.type.defaultProps),C.item.props):C.item.props,oe=z.activeDot,xe=z.hide,Ee=z.activeBar,Pe=z.activeShape,Ze=!!(!xe&&$&&q&&(oe||Ee||Pe)),rt={};P!=="axis"&&q&&q.props.trigger==="click"?rt={onClick:Ac(S.handleItemMouseEnter,E.props.onClick)}:P!=="axis"&&(rt={onMouseLeave:Ac(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Ac(S.handleItemMouseEnter,E.props.onMouseEnter)});var ee=N.cloneElement(E,G(G({},C.props),rt));function me(le){return typeof U.dataKey=="function"?U.dataKey(le.payload):null}if(Ze)if(R>=0){var ge,W;if(U.dataKey&&!U.allowDuplicatedCategory){var Me=typeof U.dataKey=="function"?me:"payload.".concat(U.dataKey.toString());ge=Ld(B,Me,I),W=H&&Y&&Ld(Y,Me,I)}else ge=B==null?void 0:B[R],W=H&&Y&&Y[R];if(Pe||Ee){var V=E.props.activeIndex!==void 0?E.props.activeIndex:R;return[N.cloneElement(E,G(G(G({},C.props),rt),{},{activeIndex:V})),null,null]}if(!ve(ge))return[ee].concat(us(S.renderActivePoints({item:C,activePoint:ge,basePoint:W,childIndex:R,isRange:H})))}else{var ne,M=(ne=S.getItemByXY(S.state.activeCoordinate))!==null&&ne!==void 0?ne:{graphicalItem:ee},F=M.graphicalItem,X=F.item,K=X===void 0?E:X,he=F.childIndex,fe=G(G(G({},C.props),rt),{},{activeIndex:he});return[N.cloneElement(K,fe),null,null]}return H?[ee,null,null]:[ee,null]}),ue(S,"renderCustomized",function(E,A,k){return N.cloneElement(E,G(G({key:"recharts-customized-".concat(k)},S.props),S.state))}),ue(S,"renderMap",{CartesianGrid:{handler:Ic,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Ic},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Ic},YAxis:{handler:Ic},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:ws("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=FP(S.triggeredAfterMouseMove,(T=x.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return Xie(b,w),Wie(b,[{key:"componentDidMount",value:function(){var _,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,T=_.children,S=_.data,E=_.height,A=_.layout,k=cn(T,Vt);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,O=ov(this.state,S,C,P),$=this.state.tooltipTicks[C].coordinate,U=(this.state.offset.top+E)/2,R=A==="horizontal",I=R?{x:$,y:U}:{y:$,x:U},D=this.state.formattedGraphicalItems.find(function(L){var B=L.item;return B.type.name==="Scatter"});D&&(I=G(G({},I),D.props.points[C].tooltipPosition),O=D.props.points[C].tooltipPayload);var q={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:P,activePayload:O,activeCoordinate:I};this.setState(q),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){Rg([cn(_.children,Vt)],[cn(this.props.children,Vt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=cn(this.props.children,Vt);if(_&&typeof _.props.shared=="boolean"){var T=_.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),E=Y7(S),A={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},k=S.width/T.offsetWidth||1,C=this.inRange(A.chartX,A.chartY,k);if(!C)return null;var P=this.state,O=P.xAxisMap,$=P.yAxisMap,U=this.getTooltipEventType(),R=kE(this.state,this.props.data,this.props.layout,C);if(U!=="axis"&&O&&$){var I=ai(O).scale,D=ai($).scale,q=I&&I.invert?I.invert(A.chartX):null,L=D&&D.invert?D.invert(A.chartY):null;return G(G({},A),{},{xValue:q,yValue:L},R)}return R?G(G({},A),R):null}},{key:"inRange",value:function(_,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=_/S,k=T/S;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,P=A>=C.left&&A<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return P?{x:A,y:k}:null}var O=this.state,$=O.angleAxisMap,U=O.radiusAxisMap;if($&&U){var R=ai($);return t1({x:A,y:k},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,T=this.getTooltipEventType(),S=cn(_,Vt),E={};S&&T==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Ud(this.props,this.handleOuterEvent);return G(G({},A),E)}},{key:"addListener",value:function(){wm.on(_m,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wm.removeListener(_m,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,T,S){for(var E=this.state.formattedGraphicalItems,A=0,k=E.length;A<k;A++){var C=E[A];if(C.item===_||C.props.key===_.key||T===jr(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,T=this.state.offset,S=T.left,E=T.top,A=T.height,k=T.width;return j.createElement("defs",null,j.createElement("clipPath",{id:_},j.createElement("rect",{x:S,y:E,height:A,width:k})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=EE(S,2),A=E[0],k=E[1];return G(G({},T),{},ue({},A,k.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(T,S){var E=EE(S,2),A=E[0],k=E[1];return G(G({},T),{},ue({},A,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(_){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[_])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(_){var T=this.state,S=T.formattedGraphicalItems,E=T.activeItem;if(S&&S.length)for(var A=0,k=S.length;A<k;A++){var C=S[A],P=C.props,O=C.item,$=O.type.defaultProps!==void 0?G(G({},O.type.defaultProps),O.props):O.props,U=jr(O.type);if(U==="Bar"){var R=(P.data||[]).find(function(L){return $Q(_,L)});if(R)return{graphicalItem:C,payload:R}}else if(U==="RadialBar"){var I=(P.data||[]).find(function(L){return t1(_,L)});if(I)return{graphicalItem:C,payload:I}}else if(np(C,E)||rp(C,E)||vu(C,E)){var D=Eee({graphicalItem:C,activeTooltipItem:E,itemData:$.data}),q=$.activeIndex===void 0?D:$.activeIndex;return{graphicalItem:G(G({},C),{},{childIndex:q}),payload:vu(C,E)?$.data[D]:C.props.data[D]}}}return null}},{key:"render",value:function(){var _=this;if(!Hw(this))return null;var T=this.props,S=T.children,E=T.className,A=T.width,k=T.height,C=T.style,P=T.compact,O=T.title,$=T.desc,U=TE(T,Fie),R=se(U,!1);if(P)return j.createElement(aE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement($g,ma({},R,{width:A,height:k,title:O,desc:$}),this.renderClipPath(),Ww(S,this.renderMap)));if(this.props.accessibilityLayer){var I,D;R.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,R.role=(D=this.props.role)!==null&&D!==void 0?D:"application",R.onKeyDown=function(L){_.accessibilityManager.keyboardEvent(L)},R.onFocus=function(){_.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return j.createElement(aE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement("div",ma({className:we("recharts-wrapper",E),style:G({position:"relative",cursor:"default",width:A,height:k},C)},q,{ref:function(B){_.container=B}}),j.createElement($g,ma({},R,{width:A,height:k,title:O,desc:$,style:roe}),this.renderClipPath(),Ww(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);ue(v,"displayName",n),ue(v,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ue(v,"getDerivedStateFromProps",function(w,b){var x=w.dataKey,_=w.data,T=w.children,S=w.width,E=w.height,A=w.layout,k=w.stackOffset,C=w.margin,P=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var $=NE(w);return G(G(G({},$),{},{updateId:0},g(G(G({props:w},$),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:k,prevMargin:C,prevChildren:T})}if(x!==b.prevDataKey||_!==b.prevData||S!==b.prevWidth||E!==b.prevHeight||A!==b.prevLayout||k!==b.prevStackOffset||!Ta(C,b.prevMargin)){var U=NE(w),R={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},I=G(G({},kE(b,_,A)),{},{updateId:b.updateId+1}),D=G(G(G({},U),R),I);return G(G(G({},D),g(G({props:w},D),b)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:E,prevLayout:A,prevStackOffset:k,prevMargin:C,prevChildren:T})}if(!Rg(T,b.prevChildren)){var q,L,B,H,Y=cn(T,Za),z=Y&&(q=(L=Y.props)===null||L===void 0?void 0:L.startIndex)!==null&&q!==void 0?q:P,oe=Y&&(B=(H=Y.props)===null||H===void 0?void 0:H.endIndex)!==null&&B!==void 0?B:O,xe=z!==P||oe!==O,Ee=!ve(_),Pe=Ee&&!xe?b.updateId:b.updateId+1;return G(G({updateId:Pe},g(G(G({props:w},b),{},{updateId:Pe,dataStartIndex:z,dataEndIndex:oe}),b)),{},{prevChildren:T,dataStartIndex:z,dataEndIndex:oe})}return null}),ue(v,"renderActiveDot",function(w,b,x){var _;return N.isValidElement(w)?_=N.cloneElement(w,b):pe(w)?_=w(b):_=j.createElement(Xh,b),j.createElement(Te,{className:"recharts-active-dot",key:x},_)});var y=N.forwardRef(function(b,x){return j.createElement(v,ma({},b,{ref:x}))});return y.displayName=v.displayName,y},hoe=Bx({chartName:"LineChart",GraphicalChild:Yu,axisComponents:[{axisType:"xAxis",AxisComp:Ai},{axisType:"yAxis",AxisComp:ki}],formatAxisMap:P2}),Vx=Bx({chartName:"BarChart",GraphicalChild:xr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ai},{axisType:"yAxis",AxisComp:ki}],formatAxisMap:P2}),PE=Bx({chartName:"PieChart",GraphicalChild:vr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:tp},{axisType:"radiusAxis",AxisComp:Zh}],formatAxisMap:zJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const poe=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:" "}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:" ",val:12,color:"bg-orange-100 text-orange-600"},{label:" ",val:5,color:"bg-blue-100 text-blue-600"},{label:" ",val:3,color:"bg-green-100 text-green-600"},{label:" ",val:1,color:"bg-red-100 text-red-600"}].map((t,e)=>c.jsxs("div",{className:`p-4 rounded-xl shadow-sm ${t.color} dark:bg-opacity-10`,children:[c.jsx("p",{className:"text-sm opacity-80",children:t.label}),c.jsx("p",{className:"text-3xl font-bold mt-2",children:t.val})]},e))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  ()"}),c.jsx("div",{className:"h-64",children:c.jsx(Aa,{width:"100%",height:"100%",children:c.jsxs(Vx,{data:ND,children:[c.jsx(Su,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Ai,{dataKey:"name",stroke:"#9ca3af"}),c.jsx(ki,{stroke:"#9ca3af"}),c.jsx(Vt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),c.jsx(xr,{dataKey:"value",fill:"#800020",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  (6  )"}),c.jsx("div",{className:"h-64",children:c.jsx(Aa,{width:"100%",height:"100%",children:c.jsxs(hoe,{data:CD,children:[c.jsx(Su,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(Ai,{dataKey:"name",stroke:"#9ca3af"}),c.jsx(ki,{stroke:"#9ca3af"}),c.jsx(Vt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),c.jsx(Yu,{type:"monotone",dataKey:"uv",stroke:"#38bdf8",strokeWidth:3})]})})})]})]})]});function moe({data:t,columns:e,onEdit:n,onDelete:r,isLoading:i,selectable:o,selectedIds:a=[],onSelect:s}){if(i)return c.jsx("div",{className:"p-4 text-center",children:"  ..."});const l=()=>{s&&(a.length===t.length?s([]):s(t.map(d=>d.id)))},u=d=>{s&&(a.includes(d)?s(a.filter(f=>f!==d)):s([...a,d]))};return c.jsx("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow",children:c.jsxs("table",{className:"w-full text-sm text-right",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:c.jsxs("tr",{children:[o&&c.jsx("th",{className:"px-4 py-3 w-10",children:c.jsx("input",{type:"checkbox",checked:t.length>0&&a.length===t.length,onChange:l,className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer"})}),e.map(d=>c.jsx("th",{className:"px-4 py-3 font-medium whitespace-nowrap",children:d.header},String(d.key))),(n||r)&&c.jsx("th",{className:"px-4 py-3",children:""})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:[t.map(d=>c.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${a.includes(d.id)?"bg-red-50 dark:bg-red-900/10":""}`,children:[o&&c.jsx("td",{className:"px-4 py-3",children:c.jsx("input",{type:"checkbox",checked:a.includes(d.id),onChange:()=>u(d.id),className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer"})}),e.map(f=>c.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:f.render?f.render(d[f.key],d):String(d[f.key])},String(f.key))),(n||r)&&c.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:c.jsxs("div",{className:"flex gap-2",children:[n&&c.jsx("button",{onClick:()=>n(d),className:"p-1 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded transition-colors",title:"",children:c.jsx(bD,{className:"w-4 h-4"})}),r&&c.jsx("button",{onClick:()=>r(d),className:"p-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:"",children:c.jsx(yn,{className:"w-4 h-4"})})]})})]},d.id)),t.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:e.length+(o?2:1),className:"px-4 py-8 text-center text-gray-500",children:"  "})})]})]})})}function cp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function goe(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}const yoe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class qx extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class voe extends qx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class IE extends qx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class OE extends qx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var av;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(av||(av={}));class xoe{constructor(e,{headers:n={},customFetch:r,region:i=av.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=yoe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return goe(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:d,timeout:f}=r;let h={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let w=d;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const b=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:w}).catch(S=>{throw new voe(S)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new IE(b);if(!b.ok)throw new OE(b);let _=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield b.json():_==="application/octet-stream"||_==="application/pdf"?T=yield b.blob():_==="text/event-stream"?T=b:_==="multipart/form-data"?T=yield b.formData():T=yield b.text(),{data:T,error:null,response:b}}catch(s){return{data:null,error:s,response:s instanceof OE||s instanceof IE?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var boe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},woe=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,d=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var g;const b=await o.text();b===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?s=b:s=JSON.parse(b))}const y=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),w=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&w&&w.length>1&&(l=parseInt(w[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const y=await o.text();try{a=JSON.parse(y),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,d="OK")}catch{o.status===404&&y===""?(u=204,d="No Content"):a={message:y}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&n.shouldThrowOnError)throw new boe(a)}return{error:a,data:s,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,d,f,h;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";s=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${v}`,y&&(s+=` (${y})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var g;s=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},_oe=class extends woe{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const jE=new RegExp("[,()]");var Jo=class extends _oe{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&jE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&jE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Soe=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new Jo({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,s)=>a.concat(Object.keys(s)),[]);if(o.length>0){const a=[...new Set(o)].map(s=>`"${s}"`);this.url.searchParams.set("columns",a.join(","))}}return new Jo({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Jo({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Jo({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Jo({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Eoe=class fO{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Soe(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new fO(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",u=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new Jo({method:s,url:l,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class Toe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Aoe="2.89.0",koe=`realtime-js/${Aoe}`,hO="1.0.0",Noe="2.0.0",RE=hO,sv=1e4,Coe=1e3,Poe=100;var ni;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ni||(ni={}));var mt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(mt||(mt={}));var Jn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Jn||(Jn={}));var lv;(function(t){t.websocket="websocket"})(lv||(lv={}));var Qi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qi||(Qi={}));class Ioe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(g),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,s.length),v.setUint8(y++,a.length),v.setUint8(y++,u.length),v.setUint8(y++,f.length),v.setUint8(y++,n),Array.from(l,b=>v.setUint8(y++,b.charCodeAt(0))),Array.from(s,b=>v.setUint8(y++,b.charCodeAt(0))),Array.from(a,b=>v.setUint8(y++,b.charCodeAt(0))),Array.from(u,b=>v.setUint8(y++,b.charCodeAt(0))),Array.from(f,b=>v.setUint8(y++,b.charCodeAt(0)));var w=new Uint8Array(g.byteLength+r.byteLength);return w.set(new Uint8Array(g),0),w.set(new Uint8Array(r),g.byteLength),w.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+o));l=l+o;const f=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:g};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class pO{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(De||(De={}));const ME=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=Ooe(a,t,e,i),o),{}):{}},Ooe=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?mO(o,a):uv(a)},mO=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $oe(e,n)}switch(t){case De.bool:return joe(e);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return Roe(e);case De.json:case De.jsonb:return Moe(e);case De.timestamp:return Doe(e);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return uv(e);default:return uv(e)}},uv=t=>t,joe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Roe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Moe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},$oe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>mO(e,s))}return t},Doe=t=>typeof t=="string"?t.replace(" ","T"):t,gO=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Em{constructor(e,n,r={},i=sv){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $E;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($E||($E={}));class _l{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_l.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=_l.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_l.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=o[u];if(f){const h=d.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),v=d.filter(w=>g.indexOf(w.presence_ref)<0),y=f.filter(w=>h.indexOf(w.presence_ref)<0);v.length>0&&(s[u]=v),y.length>0&&(l[u]=y)}else s[u]=d}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const d=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),d.length>0){const f=e[s].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);e[s].unshift(...h)}r(s,d,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var DE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(DE||(DE={}));var Sl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sl||(Sl={}));var Tr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Tr||(Tr={}));class ga{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Em(this,Jn.join,this.params,this.timeout),this.rejoinTimer=new pO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new _l(this),this.broadcastEndpointURL=gO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Sl.PRESENCE]&&this.bindings[Sl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Tr.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Tr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(Tr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,b=[];for(let x=0;x<w;x++){const _=y[x],{filter:{event:T,schema:S,table:E,filter:A}}=_,k=g&&g[x];if(k&&k.event===T&&ga.isFilterValueEqual(k.schema,S)&&ga.isFilterValueEqual(k.table,E)&&ga.isFilterValueEqual(k.filter,A))b.push(Object.assign(Object.assign({},_),{id:k.id}));else{this.unsubscribe(),this.state=mt.errored,e==null||e(Tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Tr.SUBSCRIBED);return}}).receive("error",g=>{this.state=mt.errored,e==null||e(Tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===mt.joined&&e===Sl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=mt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Em(this,Jn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Em(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Poe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=Jn;if(r&&[s,l,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,y,w;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(y=g.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var v,y,w,b,x,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const T=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const T=(x=(b=g==null?void 0:g.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return T==="*"||T===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:w,commit_timestamp:b,type:x,errors:_}=v;h=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:b,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(h,r)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&ga.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jn.close,{},e)}_onError(e){this._on(Jn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ME(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ME(e.columns,e.old_record)),n}}const Tm=()=>{},Oc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Loe=[1e3,2e3,5e3,1e4],Uoe=1e4,Foe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Boe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sv,this.transport=null,this.heartbeatIntervalMs=Oc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tm,this.ref=0,this.reconnectTimer=null,this.vsn=RE,this.logger=Tm,this.conn=null,this.sendBuffer=[],this.serializer=new Ioe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${lv.websocket}`,this.httpEndpoint=gO(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Toe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ni.connecting:return Qi.Connecting;case ni.open:return Qi.Open;case ni.closing:return Qi.Closing;default:return Qi.Closed}}isConnected(){return this.connectionState()===Qi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new ga(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Coe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Oc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ni.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ni.open||this.conn.readyState===ni.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Foe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:koe};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Jn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new pO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Oc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,d,f,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:sv,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Oc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Tm,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:RE,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>Loe[v-1]||Uoe,this.vsn){case hO:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,y)=>y(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,y)=>y(JSON.parse(v));break;case Noe:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Au=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Voe(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function qoe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Goe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=Voe(t.baseUrl,r,i),l=await qoe(t.auth),u=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const g=f?h:void 0,v=g==null?void 0:g.error;throw new Au((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function jc(t){return t.join("")}var Hoe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:jc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jc(t.namespace)}`}),!0}catch(e){if(e instanceof Au&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Au&&n.status===409)return;throw n}}};function qo(t){return t.join("")}var zoe=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qo(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Au&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Au&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Woe=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Goe({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Hoe(this.client,e),this.tableOps=new zoe(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},dp=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Koe=class extends dp{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cv=class extends dp{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Gx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Joe=()=>Response,dv=t=>{if(Array.isArray(t))return t.map(n=>dv(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=dv(r)}),e},Yoe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Xoe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Qoe(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zoe(t){var e=Qoe(t,"string");return ku(e)=="symbol"?e:e+""}function eae(t,e,n){return(e=Zoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(n),!0).forEach(function(r){eae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Am=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},tae=async(t,e,n)=>{t instanceof await Joe()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new Koe(Am(r),i,o))}).catch(r=>{e(new cv(Am(r),r))}):e(new cv(Am(t),t))},nae=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Yoe(r)?(i.headers=de({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),de(de({},i),n))};async function Xu(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,nae(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>tae(l,s,r))})}async function Nu(t,e,n,r){return Xu(t,"GET",e,n,r)}async function Hn(t,e,n,r,i){return Xu(t,"POST",e,r,i,n)}async function fv(t,e,n,r,i){return Xu(t,"PUT",e,r,i,n)}async function rae(t,e,n,r){return Xu(t,"HEAD",e,de(de({},n),{},{noResolveJson:!0}),r)}async function Hx(t,e,n,r,i){return Xu(t,"DELETE",e,r,i,n)}var iae=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}}};let yO;yO=Symbol.toStringTag;var oae=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[yO]="BlobDownloadBuilder",this.promise=null}asStream(){return new iae(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}}};const aae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},UE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sae=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Gx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=de(de({},UE),r);let s=de(de({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=de(de({},s),r.headers));const u=i._removeEmptyFolders(e),d=i._getFinalPath(u),f=await(t=="PUT"?fv:Hn)(i.fetch,`${i.url}/object/${d}`,o,de({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const u=de({upsert:UE.upsert},r),d=de(de({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:o,fullPath:(await fv(i.fetch,s.toString(),l,{headers:d})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=de({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await Hn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new dp("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Hn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Hn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await Hn(r.fetch,`${r.url}/object/sign/${i}`,de({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Hn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>de(de({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>Nu(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new oae(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:dv(await Nu(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await rae(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r)&&r instanceof cv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await Hx(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=de(de(de({},aae),e),{},{prefix:t||""});return{data:await Hn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=de({},t);return{data:await Hn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const vO="2.89.0",xO={"X-Client-Info":`storage-js/${vO}`};var lae=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=de(de({},xO),e),this.fetch=Gx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Nu(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Nu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Hn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await fv(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Hn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Hx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},uae=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},xO),e),this.fetch=Gx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Hn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Nu(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Hx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!Xoe(t))throw new dp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Woe({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const zx={"X-Client-Info":`storage-js/${vO}`,"Content-Type":"application/json"};var bO=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function hn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var km=class extends bO{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cae=class extends bO{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Wx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dae=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},FE=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fae=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new km(FE(o),r,a))}).catch(()=>{const o=r+"";e(new km(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new km(i.statusText||`HTTP ${r} error`,r,o))}}else e(new cae(FE(t),t))},hae=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(dae(r)?(i.headers=de({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,de(de({},i),n)):i};async function pae(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,hae(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>fae(l,s,r))})}async function pn(t,e,n,r,i){return pae(t,"POST",e,r,i,n)}var mae=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},zx),e),this.fetch=Wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await pn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await pn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await pn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await pn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}}},gae=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},zx),e),this.fetch=Wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await pn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await pn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await pn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await pn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await pn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}}},yae=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},zx),e),this.fetch=Wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await pn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await pn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await pn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await pn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}}},vae=class extends yae{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new xae(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},xae=class extends mae{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new bae(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},bae=class extends gae{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,de(de({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},wae=class extends lae{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new sae(this.url,this.headers,t,this.fetch)}get vectors(){return new vae(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uae(this.url+"/iceberg",this.headers,this.fetch)}};const wO="2.89.0",Yo=30*1e3,hv=3,Nm=hv*Yo,_ae="http://localhost:9999",Sae="supabase.auth.token",Eae={"X-Client-Info":`gotrue-js/${wO}`},pv="X-Supabase-Api-Version",_O={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Tae=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Aae=10*60*1e3;class Cu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class kae extends Cu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Nae(t){return ae(t)&&t.name==="AuthApiError"}class Zi extends Cu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Kr extends Cu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class sn extends Kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cae(t){return ae(t)&&t.name==="AuthSessionMissingError"}class Go extends Kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rc extends Kr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mc extends Kr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Pae(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class BE extends Kr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Iae extends Kr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class mv extends Kr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Cm(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class VE extends Kr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class gv extends Kr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qE=` 	
\r=`.split(""),Oae=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<qE.length;e+=1)t[qE[e].charCodeAt(0)]=-2;for(let e=0;e<Bf.length;e+=1)t[Bf[e].charCodeAt(0)]=e;return t})();function GE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Bf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Bf[r]),e.queuedBits-=6}}function SO(t,e,n){const r=Oae[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function HE(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{Mae(a,r,n)};for(let a=0;a<t.length;a+=1)SO(t.charCodeAt(a),i,o);return e.join("")}function jae(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Rae(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}jae(r,e)}}function Mae(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ca(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)SO(t.charCodeAt(i),n,r);return new Uint8Array(e)}function $ae(t){const e=[];return Rae(t,n=>e.push(n)),new Uint8Array(e)}function so(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>GE(i,n,r)),GE(null,n,r),e.join("")}function Dae(t){return Math.round(Date.now()/1e3)+t}function Lae(){return Symbol("auth-callback")}const Nt=()=>typeof window<"u"&&typeof document<"u",Vi={tested:!1,writable:!1},EO=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vi.tested)return Vi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vi.tested=!0,Vi.writable=!0}catch{Vi.tested=!0,Vi.writable=!1}return Vi.writable};function Uae(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const TO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Fae=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},qi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kt=async(t,e)=>{await t.removeItem(e)};class fp{constructor(){this.promise=new fp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}fp.promiseConstructor=Promise;function Pm(t){const e=t.split(".");if(e.length!==3)throw new gv("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Tae.test(e[r]))throw new gv("JWT not in base64url format");return{header:JSON.parse(HE(e[0])),payload:JSON.parse(HE(e[1])),signature:Ca(e[2]),raw:{header:e[0],payload:e[1]}}}async function Bae(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Vae(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function qae(t){return("0"+t.toString(16)).substr(-2)}function Gae(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,qae).join("")}async function Hae(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function zae(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Hae(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ho(t,e,n=!1){const r=Gae();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Xo(t,`${e}-code-verifier`,i);const o=await zae(r);return[o,r===o?"plain":"s256"]}const Wae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kae(t){const e=t.headers.get(pv);if(!e||!e.match(Wae))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Jae(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Yae(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zo(t){if(!Xae.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Im(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qae(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function zE(t){return JSON.parse(JSON.stringify(t))}const Ji=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zae=[502,503,504];async function WE(t){var e;if(!Fae(t))throw new mv(Ji(t),0);if(Zae.includes(t.status))throw new mv(Ji(t),t.status);let n;try{n=await t.json()}catch(o){throw new Zi(Ji(o),o)}let r;const i=Kae(t);if(i&&i.getTime()>=_O["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new VE(Ji(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new sn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new VE(Ji(n),t.status,n.weak_password.reasons);throw new kae(Ji(n),t.status||500,r)}const ese=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ce(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[pv]||(o[pv]=_O["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await tse(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function tse(t,e,n,r,i,o){const a=ese(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new mv(Ji(l),0)}if(s.ok||await WE(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await WE(l)}}function qn(t){var e;let n=null;ise(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Dae(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function KE(t){const e=qn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function si(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function nse(t){return{data:t,error:null}}function rse(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=cp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function JE(t){return t}function ise(t){return t.access_token&&t.refresh_token&&t.expires_in}const Om=["global","local","others"];class ose{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=TO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Om[0]){if(Om.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Om.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:si})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=cp(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rse,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:si})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:JE});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){zo(e);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:si})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){zo(e);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:si})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){zo(e);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:si})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){zo(e.userId);try{const{data:n,error:r}=await ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(e){zo(e.userId),zo(e.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:JE});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ae(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}}function YE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Wo={debug:!!(globalThis&&EO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ase extends AO{}async function sse(t,e,n){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ase(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function lse(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function use(t){return parseInt(t,16)}function cse(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function dse(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=kO(t.address),v=d?`${d}://${r}`:r,y=t.statement?`${t.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${g}

${y}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),l&&(b+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);x+=`
- ${_}`}b+=x}return`${w}
${b}`}class ut extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Vf extends ut{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function fse({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(NO(a)){if(o.rp.id!==a)return new ut({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function hse({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(NO(r)){if(n.rpId!==r)return new ut({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class pse{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const mse=new pse;function gse(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=cp(t,["challenge","user","excludeCredentials"]),o=Ca(e).buffer,a=Object.assign(Object.assign({},n),{id:Ca(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ca(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function yse(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=cp(t,["challenge","allowCredentials"]),i=Ca(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Ca(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function vse(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:so(new Uint8Array(t.response.attestationObject)),clientDataJSON:so(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xse(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:so(new Uint8Array(i.authenticatorData)),clientDataJSON:so(new Uint8Array(i.clientDataJSON)),signature:so(new Uint8Array(i.signature)),userHandle:i.userHandle?so(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function NO(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function XE(){var t,e;return!!(Nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function bse(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vf("Browser returned unexpected credential type",e)}:{data:null,error:new Vf("Empty credential response",e)}}catch(e){return{data:null,error:fse({error:e,options:t})}}}async function wse(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vf("Browser returned unexpected credential type",e)}:{data:null,error:new Vf("Empty credential response",e)}}catch(e){return{data:null,error:hse({error:e,options:t})}}}const _se={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Sse={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=qf(s,a):r[o]=qf(a)}else r[o]=a}return r}function Ese(t,e){return qf(_se,t,e||{})}function Tse(t,e){return qf(Sse,t,e||{})}class Ase{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??mse.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Ese(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await bse({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Tse(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await wse(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return ae(a)?{data:null,error:a}:{data:null,error:new Zi("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Cu("rpId is required for WebAuthn authentication")};try{if(!XE())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return ae(a)?{data:null,error:a}:{data:null,error:new Zi("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Cu("rpId is required for WebAuthn registration")};try{if(!XE())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ae(a)?{data:null,error:a}:{data:null,error:new Zi("Unexpected error in register",a)}}}}lse();const kse={url:_ae,storageKey:Sae,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Eae,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function QE(t,e,n){return await n()}const Ko={};class Pu{get jwks(){var e,n;return(n=(e=Ko[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ko[this.storageKey]=Object.assign(Object.assign({},Ko[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ko[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ko[this.storageKey]=Object.assign(Object.assign({},Ko[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},kse),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Pu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Pu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Nt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ose({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=TO(o.fetch),this.lock=o.lock||QE,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=sse:this.lock=QE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ase(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:EO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=YE(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=YE(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wO}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Nt()&&(n=Uae(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Nt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Pae(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?this._returnResult({error:n}):this._returnResult({error:new Zi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:qn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:d,password:f,options:h}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Ho(this.storage,this.storageKey)),o=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:qn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;o=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qn})}else throw new Rc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await kt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:KE})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:KE})}else throw new Rc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Go;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,d,f,h;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:y,wallet:w,statement:b,options:x}=e;let _;if(Nt())if(typeof w=="object")_=w;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")_=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=kO(S[0]);let A=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const C=await _.request({method:"eth_chainId"});A=use(C)}const k={domain:T.host,address:E,statement:b,uri:T.href,version:"1",chainId:A,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=dse(k),v=await _.request({method:"personal_sign",params:[cse(g),E]})}try{const{data:y,error:w}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:qn});if(w)throw w;if(!y||!y.session||!y.user){const b=new Go;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(ae(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,d,f,h,g;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:w,wallet:b,statement:x,options:_}=e;let T;if(Nt())if(typeof b=="object")T=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))T=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=b}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const E=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let A;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")A=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)A=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)v=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const E=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:w,error:b}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:so(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:qn});if(b)throw b;if(!w||!w.session||!w.user){const x=new Go;return this._returnResult({data:{user:null,session:null},error:x})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(ae(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const n=await qi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Iae;const{data:o,error:a}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:qn});if(await kt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new Go;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:qn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Go;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ho(this.storage,this.storageKey));const{error:f}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:d}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Rc("You must provide either an email or phone number.")}catch(s){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:qn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await Ho(this.storage,this.storageKey));const u=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:nse});return!((o=u.data)===null||o===void 0)&&o.url&&Nt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new sn;const{error:i}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ae(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await ce(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await ce(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Rc("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Nm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await qi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Im()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Qae(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:si}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sn}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:si})})}catch(n){if(ae(n))return Cae(n)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new sn;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Ho(this.storage,this.storageKey));const{data:u,error:d}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:si});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Pm(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new sn;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Nt())throw new Mc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new BE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new BE("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new Mc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const g=h-d;g*1e3<=Yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:y,error:w}=await this._getUser(o);if(w)throw w;const b={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await qi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(Nae(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Lae(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ho(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,d;const{data:f,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Nt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ae(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:d}=e,f=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:qn}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Go}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Vae(async i=>(i>0&&await Bae(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Cm(o)&&Date.now()+a-r<Yo})}catch(r){if(this._debug(n,"error",r),ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Nt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await qi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await qi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Xo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Im()}else if(i&&!i.user&&!i.user){const a=await qi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await kt(this.storage,this.storageKey+"-user"),await Xo(this.storage,this.storageKey,i)):i.user=Im()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Nm;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Nm}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Cm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new sn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new fp;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new sn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),ae(o)){const a={data:null,error:o};return Cm(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await kt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Xo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=zE(i);await Xo(this.storage,this.storageKey,o)}else{const i=zE(n);await Xo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Yo}ms, refresh threshold is ${hv} ticks`),i<=hv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof AO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Ho(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?vse(e.webauthn.credential_response):xse(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:gse(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:yse(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Pm(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new sn})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new sn});const a=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Nt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new sn});const a=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&Nt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new sn})})}catch(e){if(ae(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new sn})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+Aae>i)return r;const{data:o,error:a}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Pm(r);n!=null&&n.allowExpired||Jae(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const d=Yae(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,$ae(`${s}.${l}`)))throw new gv("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}}Pu.nextInstanceID={};const Nse=Pu,Cse="2.89.0";let rl="";typeof Deno<"u"?rl="deno":typeof document<"u"?rl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rl="react-native":rl="node";const Pse={"X-Client-Info":`supabase-js-${rl}/${Cse}`},Ise={headers:Pse},Ose={schema:"public"},jse={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rse={};function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function Mse(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $se(t){var e=Mse(t,"string");return Iu(e)=="symbol"?e:e+""}function Dse(t,e,n){return(e=$se(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(r){Dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Lse=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Use=()=>Headers,Fse=(t,e,n)=>{const r=Lse(n),i=Use();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,et(et({},a),{},{headers:u}))}};function Bse(t){return t.endsWith("/")?t:t+"/"}function Vse(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:et(et({},l),i),auth:et(et({},u),o),realtime:et(et({},d),a),storage:{},global:et(et(et({},f),s),{},{headers:et(et({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function qse(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Bse(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Gse=class extends Nse{constructor(t){super(t)}},Hse=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=qse(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:Ose,realtime:Rse,auth:et(et({},jse),{},{storageKey:a}),global:Ise},l=Vse(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Fse(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(et({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Eoe(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new wae(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new xoe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gse({url:this.authUrl.href,headers:et(et({},h),d),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Boe(this.realtimeUrl.href,et(et({},t),{},{params:et(et({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const zse=(t,e,n)=>new Hse(t,e,n);function Wse(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Wse()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Kse={},CO=Kse||{},Jse=CO.VITE_SUPABASE_URL,Yse=CO.VITE_SUPABASE_ANON_KEY,ri=zse(Jse||"https://placeholder.supabase.co",Yse||"placeholder"),jm={user_groups:" ",personnel:" ",app_users:" ",locations:" ",org_chart:" ",measurement_units:" ",equipment_local_names:"  ",evaluation_periods:" ",evaluation_criteria:" ",equipment_classes:" ",equipment_groups:" ",equipment:" ",equipment_tree:" ",part_categories:"  (/)",parts:"   ",activity_cards:" ",checklist_items:" ",maintenance_plans:" "},Xse=()=>{const[t,e]=N.useState("personnel"),[n,r]=N.useState([]),[i,o]=N.useState(!1),[a,s]=N.useState(!1),[l,u]=N.useState(null),[d,f]=N.useState([]),[h,g]=N.useState(null),v=N.useRef(null),y={user_groups:[{key:"code",header:" "},{key:"name",header:" "}],personnel:[{key:"personnel_code",header:" "},{key:"first_name",header:""},{key:"last_name",header:" "},{key:"unit",header:""},{key:"mobile",header:""},{key:"profile_picture",header:"  ()"}],app_users:[{key:"username",header:" "},{key:"personnel_id",header:" "},{key:"role",header:" "},{key:"is_default_password",header:" "}],locations:[{key:"code",header:""},{key:"name",header:" "},{key:"parent_id",header:" "}],org_chart:[{key:"code",header:" "},{key:"name",header:" /"},{key:"manager_name",header:" "}],measurement_units:[{key:"title",header:" "}],equipment_local_names:[{key:"class_id",header:" "},{key:"group_id",header:" "},{key:"local_name",header:" /"}],evaluation_periods:[{key:"code",header:" "},{key:"title",header:" "}],evaluation_criteria:[{key:"title",header:" "},{key:"max_score",header:" "}],equipment_classes:[{key:"id",header:" "},{key:"name",header:" "}],equipment_groups:[{key:"id",header:" "},{key:"name",header:" "},{key:"class_id",header:" "}],equipment:[{key:"code",header:" "},{key:"name",header:"  "},{key:"class_id",header:""},{key:"group_id",header:""}],equipment_tree:[{key:"equipment_id",header:" "},{key:"code",header:" "},{key:"name",header:" "},{key:"parent_id",header:""}],part_categories:[{key:"name",header:" "},{key:"parent_id",header:""},{key:"level_type",header:" (MAIN/SUB/SUB_SUB)"}],parts:[{key:"code",header:" "},{key:"name",header:" "},{key:"category_id",header:"   (Sub-Sub)"},{key:"stock_unit_id",header:" "},{key:"consumption_unit_id",header:" "}],activity_cards:[{key:"code",header:" "},{key:"name",header:" "}],checklist_items:[{key:"activity_card_id",header:" "},{key:"sort_order",header:""},{key:"description",header:""}],maintenance_plans:[{key:"code",header:" "},{key:"name",header:" "},{key:"equipment_id",header:""}]},w=async()=>{o(!0),g(null);try{const{data:k,error:C}=await ri.from(t).select("*").order("created_at",{ascending:!1});if(C)throw C;r(k||[])}catch(k){console.error("Error fetching data:",k),r([])}finally{o(!1)}};N.useEffect(()=>{w(),f([])},[t]);const b=()=>{u({}),s(!0)},x=k=>{u(k),s(!0)},_=async k=>{if(window.confirm("      "))try{const{error:C}=await ri.from(t).delete().eq("id",k.id);if(C)throw C;r(P=>P.filter(O=>O.id!==k.id)),f(P=>P.filter(O=>O!==k.id))}catch{alert("   ")}},T=async()=>{if(d.length!==0&&window.confirm(`   ${d.length}   `))try{const{error:k}=await ri.from(t).delete().in("id",d);if(k)throw k;r(C=>C.filter(P=>!d.includes(P.id))),f([])}catch{alert("   ")}},S=async k=>{k.preventDefault(),o(!0);try{if(l.id){const{error:C}=await ri.from(t).update(l).eq("id",l.id);if(C)throw C}else{const{error:C}=await ri.from(t).insert([l]);if(C)throw C}await w(),s(!1)}catch(C){alert("   : "+C.message)}finally{o(!1)}},E=()=>{const P="\uFEFF"+y[t].map(R=>R.key).join(","),O=new Blob([P],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a"),U=URL.createObjectURL(O);$.setAttribute("href",U),$.setAttribute("download",`${t}_sample.csv`),document.body.appendChild($),$.click(),document.body.removeChild($)},A=k=>{var O;const C=(O=k.target.files)==null?void 0:O[0];if(!C)return;const P=new FileReader;P.onload=async $=>{var R;const U=(R=$.target)==null?void 0:R.result;if(U)try{const I=U.split(`
`).filter(Y=>Y.trim()!=="");if(I.length<2){alert("    .");return}const D=I[0].split(",").map(Y=>Y.trim()),L=y[t].map(Y=>Y.key),B=[];for(let Y=1;Y<I.length;Y++){const z=I[Y].split(",");if(z.length!==D.length)continue;const oe={};D.forEach((xe,Ee)=>{var rt;const Pe=xe.replace(/\r/g,""),Ze=(rt=z[Ee])==null?void 0:rt.replace(/\r/g,"").trim();L.includes(Pe)&&(oe[Pe]=Ze)}),Object.keys(oe).length>0&&B.push(oe)}if(B.length===0){alert("    .");return}o(!0);const{error:H}=await ri.from(t).insert(B);if(H)throw H;alert(`${B.length}     .`),await w()}catch(I){alert("   : "+I.message)}finally{o(!1),v.current&&(v.current.value="")}},P.readAsText(C)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"   (Supabase)"}),c.jsx("div",{className:"flex gap-2",children:c.jsx("button",{onClick:w,className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full hover:rotate-180 transition duration-500",children:c.jsx(Pw,{className:`w-5 h-5 ${i?"animate-spin":""}`})})})]}),h&&c.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg border border-red-200",children:h}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-2 overflow-x-auto flex gap-2 no-scrollbar",children:Object.keys(jm).map(k=>c.jsx("button",{onClick:()=>e(k),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors text-sm font-medium
                    ${t===k?"bg-primary text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:jm[k]},k))}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm min-h-[400px]",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[c.jsx("h3",{className:"font-bold text-lg text-gray-700 dark:text-gray-200",children:jm[t]}),d.length>0&&c.jsxs("button",{onClick:T,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-1.5 rounded-lg flex items-center gap-2 text-sm transition animate-fadeIn",children:[c.jsx(yn,{className:"w-4 h-4"}),"  ",d.length," "]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto justify-end",children:[c.jsxs("button",{onClick:E,className:"bg-green-50 text-green-700 border border-green-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-green-100 transition",children:[c.jsx(nD,{className:"w-4 h-4"}),"  "]}),c.jsx("input",{type:"file",ref:v,accept:".csv",onChange:A,className:"hidden"}),c.jsxs("button",{onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},className:"bg-blue-50 text-blue-700 border border-blue-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-blue-100 transition",children:[c.jsx(j0,{className:"w-4 h-4"}),"  CSV"]}),c.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 hidden md:block"}),c.jsxs("button",{onClick:b,className:"bg-primary hover:bg-red-800 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm transition shadow-lg",children:[c.jsx(mr,{className:"w-4 h-4"}),"  "]})]})]}),c.jsx(moe,{data:n,columns:y[t]||[],onEdit:x,onDelete:_,isLoading:i,selectable:!0,selectedIds:d,onSelect:f})]}),a&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[c.jsx("h3",{className:"font-bold",children:l!=null&&l.id?" ":"  "}),c.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-gray-200 rounded-full",children:c.jsx(Ln,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:S,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[y[t].map(k=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:k.header}),c.jsx("input",{type:"text",value:l[k.key]||"",onChange:C=>u({...l,[k.key]:C.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none"})]},String(k.key))),c.jsxs("div",{className:"pt-4 flex gap-3 sticky bottom-0 bg-white dark:bg-gray-800 pb-2",children:[c.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 py-2.5 border rounded-lg hover:bg-gray-50 transition",children:""}),c.jsxs("button",{type:"submit",disabled:i,className:"flex-1 py-2.5 bg-primary text-white rounded-lg hover:bg-red-800 flex justify-center gap-2 items-center transition shadow-lg",children:[i?c.jsx(Pw,{className:"w-4 h-4 animate-spin"}):c.jsx(ms,{className:"w-4 h-4"})," "]})]})]})]})})]})},Si=()=>Math.random().toString(36).substring(2,9),PO=(t,e,n)=>{let r=t>979?1600:621;t-=t>979?979:0;let i=365*t+Math.floor(t/33)*8+Math.floor((t%33+3)/4)+78+n+(e<7?(e-1)*31:(e-7)*30+186);r+=400*Math.floor(i/146097),i%=146097,i>36524&&(r+=100*Math.floor(--i/36524),i%=36524,i>=365&&i++),r+=4*Math.floor(i/1461),i%=1461,i>365&&(r+=Math.floor((i-1)/365),i=(i-1)%365);let o=i+1;const a=[0,31,r%4===0&&r%100!==0||r%400===0?29:28,31,30,31,30,31,31,30,31,30,31];let s;for(s=0;s<13;s++){const l=a[s];if(o<=l)break;o-=l}return{gy:r,gm:s,gd:o}},IO=(t,e,n)=>{const r=[0,31,59,90,120,151,181,212,243,273,304,334];let i=t<=1600?0:979;t-=t<=1600?621:1600;const o=e>2?t+1:t;let a=365*t+Math.floor((o+3)/4)-Math.floor((o+99)/100)+Math.floor((o+399)/400)-80+n+r[e-1];i+=33*Math.floor(a/12053),a%=12053,i+=4*Math.floor(a/1461),a%=1461,a>365&&(i+=Math.floor((a-1)/365),a=(a-1)%365);const s=a<186?1+Math.floor(a/31):7+Math.floor((a-186)/30),l=1+(a<186?a%31:(a-186)%30);return{jy:i,jm:s,jd:l}},at=()=>{const t=new Date,e=IO(t.getFullYear(),t.getMonth()+1,t.getDate());return`${e.jy}/${String(e.jm).padStart(2,"0")}/${String(e.jd).padStart(2,"0")}`},Gf=()=>{const t=new Date;return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},Jr=t=>{const e=new Date,n=IO(e.getFullYear(),e.getMonth()+1,e.getDate()),r=String(n.jy).substring(2),i=String(n.jm).padStart(2,"0");if(t==="T"){const a=Math.floor(Math.random()*9e4+1e4).toString();return`${t}${r}${i}${a}`}const o=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`${t}${r}${i}${o}`},cs=t=>{try{const e=t.split("/");if(e.length!==3)return null;const{gy:n,gm:r,gd:i}=PO(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]));return new Date(n,r-1,i)}catch{return null}},Qse=(t,e,n,r)=>{const i=cs(t),o=cs(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,u]=r.split(":").map(Number);return i.setHours(a||0,s||0,0,0),o.setHours(l||0,u||0,0,0),i.getTime()<o.getTime()?-1:i.getTime()>o.getTime()?1:0},Zse=(t,e,n,r)=>{const i=cs(t),o=cs(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,u]=r.split(":").map(Number);i.setHours(a||0,s||0,0,0),o.setHours(l||0,u||0,0,0);const d=o.getTime()-i.getTime();return Math.max(0,Math.floor(d/6e4))},Hf=t=>{const e=cs(t);if(!e)return!1;const n=new Date;return n.setHours(0,0,0,0),e.getTime()>n.getTime()},eT="192.168.1.105",fi=({value:t,onChange:e,label:n,error:r})=>{const[i,o]=N.useState(!1),[a,s]=N.useState(1403),[l,u]=N.useState(1),d=N.useRef(null);N.useEffect(()=>{if(t){const S=t.split("/").map(Number);S.length===3&&(s(S[0]),u(S[1]))}else{const S=at().split("/").map(Number);s(S[0]),u(S[1])}},[t,i]),N.useEffect(()=>{const S=E=>{d.current&&!d.current.contains(E.target)&&o(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const f=["","","","","","","","","","","",""],h=["","","","","","",""],g=(S,E)=>E<=6?31:E<=11||S%33===1||S%33===5||S%33===9||S%33===13||S%33===17||S%33===22||S%33===26||S%33===30?30:29,v=(S,E)=>{const{gy:A,gm:k,gd:C}=PO(S,E,1);return new Date(A,k-1,C).getDay()},y=()=>{l===1?(u(12),s(S=>S-1)):u(S=>S-1)},w=()=>{l===12?(u(1),s(S=>S+1)):u(S=>S+1)},b=S=>{const E=`${a}/${String(l).padStart(2,"0")}/${String(S).padStart(2,"0")}`;Hf(E)||(e(E),o(!1))},x=()=>{const S=at();e(S),o(!1)},_=(v(a,l)+1)%7,T=g(a,l);return c.jsxs("div",{className:"relative",ref:d,children:[n&&c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),c.jsxs("button",{type:"button",onClick:()=>o(!i),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-100 hover:border-primary/50"} ${i?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[c.jsx("span",{className:`${t?"text-sm font-medium":"text-gray-400 text-sm"}`,children:t||" ..."}),c.jsx(tD,{className:"w-4 h-4 text-gray-400"})]}),i&&c.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("button",{onClick:y,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:c.jsx(yh,{className:"w-4 h-4"})}),c.jsxs("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:[f[l-1]," ",a]}),c.jsx("button",{onClick:w,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:c.jsx(N0,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-medium text-gray-400",children:h.map((S,E)=>c.jsx("span",{className:E===6?"text-red-500 font-bold":"",children:S},E))}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:_}).map((S,E)=>c.jsx("div",{},`empty-${E}`)),Array.from({length:T}).map((S,E)=>{const A=E+1,k=`${a}/${String(l).padStart(2,"0")}/${String(A).padStart(2,"0")}`,C=t===k,P=Hf(k),O=(_+E)%7===6;return c.jsx("button",{type:"button",disabled:P,onClick:()=>b(A),className:`w-8 h-8 rounded-lg text-sm flex items-center justify-center transition-all
                     ${C?"bg-primary text-white shadow-md font-bold":P?"text-gray-200 dark:text-gray-600 cursor-not-allowed":O?"text-red-500 font-medium hover:bg-red-50 dark:hover:bg-red-900/20":"hover:bg-primary/10 text-gray-700 dark:text-gray-300"}`,children:A},A)})]}),c.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-gray-700",children:c.jsx("button",{type:"button",onClick:x,className:"w-full py-2 text-xs text-primary bg-primary/5 hover:bg-primary/10 rounded-lg font-medium transition-colors",children:"  "})})]})]})},lr=({value:t,onChange:e,label:n})=>{const[r,i]=N.useState(!1),[o,a]=N.useState("HOURS"),s=N.useRef(null),[l,u]=N.useState("00"),[d,f]=N.useState("00");N.useEffect(()=>{if(t&&t.includes(":")){const[x,_]=t.split(":");u(x),f(_)}},[t,r]),N.useEffect(()=>{const x=_=>{s.current&&!s.current.contains(_.target)&&i(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const h=x=>{u(x),a("MINUTES")},g=x=>{f(x),e(`${l}:${x}`),i(!1),a("HOURS")},v=(x,_,T)=>{const S=x*(360/_)-90,E=T*Math.cos(S*Math.PI/180),A=T*Math.sin(S*Math.PI/180);return{transform:`translate(${E}px, ${A}px)`}},y=[12,13,14,15,16,17,18,19,20,21,22,23],w=[12,1,2,3,4,5,6,7,8,9,10,11],b=[0,5,10,15,20,25,30,35,40,45,50,55];return c.jsxs("div",{className:"relative",ref:s,children:[n&&c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),c.jsxs("button",{type:"button",onClick:()=>i(!r),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"ring-2 ring-primary/20 border-primary shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-primary/50"}
        `,children:[c.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"text-gray-800 dark:text-gray-100":"text-gray-400 font-sans text-sm tracking-normal"}`,children:t||"--:--"}),c.jsx(C0,{className:"w-5 h-5 text-gray-400"})]}),r&&c.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-64 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn flex flex-col items-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6 text-4xl font-bold text-gray-700 dark:text-white",children:[c.jsx("button",{type:"button",onClick:()=>a("HOURS"),className:`p-1 rounded ${o==="HOURS"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:l}),c.jsx("span",{className:"text-gray-300 pb-2",children:":"}),c.jsx("button",{type:"button",onClick:()=>a("MINUTES"),className:`p-1 rounded ${o==="MINUTES"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:d})]}),c.jsxs("div",{className:"relative w-48 h-48 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:[c.jsx("div",{className:"absolute w-1 h-1 bg-primary rounded-full z-10"}),o==="HOURS"&&c.jsxs(c.Fragment,{children:[y.map((x,_)=>{const T=x===12?"00":x,S=String(T).padStart(2,"0"),E=l===S;return c.jsx("button",{type:"button",onClick:()=>h(S),style:v(_,12,85),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${E?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:T},`out-${x}`)}),w.map((x,_)=>{const T=String(x).padStart(2,"0"),S=l===T;return c.jsx("button",{type:"button",onClick:()=>h(T),style:v(_,12,50),className:`absolute w-7 h-7 rounded-full flex items-center justify-center text-xs font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-400 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:x===12?"12":x},`in-${x}`)})]}),o==="MINUTES"&&c.jsxs(c.Fragment,{children:[b.map((x,_)=>{const T=String(x).padStart(2,"0"),S=d===T;return c.jsx("button",{type:"button",onClick:()=>g(T),style:v(_,12,80),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:T},`m-${x}`)}),c.jsx("div",{className:"absolute w-2 h-2 bg-gray-300 rounded-full"})]})]}),c.jsx("div",{className:"text-xs text-gray-400 text-center",children:o==="HOURS"?"   ":"   "})]})]})},Qu=()=>{try{const t=localStorage.getItem("workflows");return t?JSON.parse(t):[]}catch{return[]}},OO=t=>{localStorage.setItem("workflows",JSON.stringify(t))},Zu=()=>{try{const t=localStorage.getItem("cartable");return t?JSON.parse(t):[]}catch{return[]}},jO=t=>{localStorage.setItem("cartable",JSON.stringify(t))},Kx=()=>{try{const t=localStorage.getItem("documents");return t?JSON.parse(t):[]}catch{return[]}},ele=t=>{const e=Kx();e.push(t),localStorage.setItem("documents",JSON.stringify(e))},tT=()=>Kx(),tle=t=>{const n=Kx().filter(r=>r.id!==t);localStorage.setItem("documents",JSON.stringify(n))},hp=()=>{try{const t=localStorage.getItem("messages");return t?JSON.parse(t):[]}catch{return[]}},RO=t=>{localStorage.setItem("messages",JSON.stringify(t))},nle=(t,e,n,r,i)=>{const o=hp(),a={id:Si(),senderId:t.id,senderName:t.fullName,receiverId:e,receiverType:n,subject:r,body:i,createdAt:at(),readBy:[]};o.push(a),RO(o)},rle=t=>hp().filter(n=>n.receiverType==="USER"&&n.receiverId===t.id||n.receiverType==="ALL"||n.receiverType==="GROUP"&&n.receiverId===t.role).sort((n,r)=>r.createdAt.localeCompare(n.createdAt)),ile=t=>hp().filter(n=>n.senderId===t).sort((n,r)=>r.createdAt.localeCompare(n.createdAt)),ole=(t,e)=>{const n=hp(),r=n.findIndex(i=>i.id===t);if(r!==-1){const i=n[r];i.readBy.includes(e)||(i.readBy.push(e),n[r]=i,RO(n))}},In=async t=>{try{const{data:e,error:n}=await ri.from(t).select("*");if(!n&&e&&e.length>0)return e}catch{console.warn(`Failed to fetch ${t} from Supabase, falling back to defaults.`)}return t==="measurement_units"?[{id:"1",title:""},{id:"2",title:""},{id:"3",title:""},{id:"4",title:""},{id:"5",title:""},{id:"6",title:""},{id:"7",title:""},{id:"8",title:""}]:t==="locations"?[{id:"L-1",name:" "},{id:"L-2",name:" "},{id:"L-3",name:" "},{id:"L-4",name:" "}]:t==="equipment"?[{id:"1",code:"PM-101",name:"Centrifugal Pump 101",class_id:"CLASS-2",group_id:"GRP-1",location_id:"L-2"},{id:"2",code:"CV-202",name:"Main Conveyor Belt",class_id:"CLASS-1",group_id:"GRP-3",location_id:"L-1"},{id:"3",code:"CR-300",name:"Jaw Crusher A",class_id:"CLASS-1",group_id:"GRP-2",location_id:"L-1"}]:[]},ale=async t=>{try{const{data:e,error:n}=await ri.rpc("get_next_tracking_code",{prefix_input:t});return n?(console.error("RPC Error:",n),t+Math.floor(Math.random()*9e3+1e3)):e}catch(e){return console.error("Fetch Code Error:",e),t+Math.floor(Math.random()*9e3+1e3)}},sle=()=>{let t=Qu();if(!t.find(e=>e.module==="WORK_ORDER")){const e={id:"default-wo-flow",module:"WORK_ORDER",title:"  ",isActive:!0,steps:[{id:"step-request",title:"",assigneeRole:"INITIATOR",description:"   ",actions:[{id:"act-submit",label:"  ",nextStepId:"step-inprogress",style:"primary"}]},{id:"step-inprogress",title:"  ",assigneeRole:Zt.USER,description:"    ",actions:[{id:"act-finish",label:"     ",nextStepId:"step-verify",style:"success"}]},{id:"step-verify",title:"",assigneeRole:Zt.MANAGER,description:"    ",actions:[{id:"act-approve",label:" ",nextStepId:"step-finish",style:"success"},{id:"act-reject",label:"  (  )",nextStepId:"step-inprogress",style:"danger"}]},{id:"step-finish",title:"",assigneeRole:Zt.ADMIN,description:" ",actions:[{id:"act-close",label:" ",nextStepId:"FINISH",style:"neutral"}]}]};t.push(e),OO(t)}};sle();const Ou=()=>Qu(),lle=t=>{const e=Qu(),n=e.findIndex(r=>r.id===t.id);n>=0?e[n]=t:e.push(t),OO(e)},Mi=(t,e,n,r,i)=>{let a=Qu().find(d=>d.module===t&&d.isActive);a||(a={id:`dummy-${t}`,module:t,title:" ",isActive:!0,steps:[{id:"step-start",title:" ",assigneeRole:"INITIATOR",actions:[]}]});const s=a.steps[0],l={id:Si(),workflowId:a.id,trackingCode:r,module:t,title:i,description:`   ${n.fullName}`,currentStepId:s.id,initiatorId:n.id,assigneeRole:s.assigneeRole==="INITIATOR"?n.role:s.assigneeRole,status:"PENDING",createdAt:at(),updatedAt:at(),data:{...e,status:"REQUEST"}},u=Zu();return u.push(l),jO(u),l},ule=(t,e,n,r)=>{const i=Zu(),o=i.findIndex(f=>f.id===t);if(o===-1)return;const a=i[o],l=Qu().find(f=>f.id===a.workflowId);if(!l)return;const u=l.steps.find(f=>f.id===a.currentStepId);if(!u)return;const d=u.actions.find(f=>f.id===e);if(d){if(d.nextStepId==="FINISH")a.status="DONE",a.assigneeRole=Zt.ADMIN,a.description=`   ${n.fullName}`,a.data&&(a.data.status="FINISHED");else{const f=l.steps.find(h=>h.id===d.nextStepId);if(f){a.currentStepId=f.id;const h=f.assigneeRole;h==="INITIATOR"?a.assigneeRole="INITIATOR":a.assigneeRole=h,a.updatedAt=at(),a.description=`   ${f.assigneeRole}  ${n.fullName}`,a.module==="WORK_ORDER"&&(f.title===""?a.data.status="REQUEST":f.title==="  "?a.data.status="IN_PROGRESS":f.title===""?a.data.status="VERIFICATION":f.title===""&&(a.data.status="FINISHED"))}}i[o]=a,jO(i)}},nT=t=>Zu().filter(n=>n.status==="PENDING"&&(n.assigneeRole===t.role||n.assigneeRole==="INITIATOR"&&n.initiatorId===t.id||n.assigneeId===t.id)),Jx=()=>Zu().filter(e=>e.module==="WORK_ORDER"),$i=t=>Zu().filter(n=>n.module===t),Yx=({initialData:t,onProcessComplete:e})=>{const n=ps(),r=JSON.parse(localStorage.getItem("currentUser")||"{}"),i=!!t,o=i?"   ()":"  ",[a,s]=N.useState("GENERAL"),[l,u]=N.useState(null),[d,f]=N.useState(null),[h,g]=N.useState(!1),[v,y]=N.useState(null),[w,b]=N.useState(!1),[x,_]=N.useState([]),[T,S]=N.useState([]),[E,A]=N.useState([]),[k,C]=N.useState([]),[P,O]=N.useState([]),[$,U]=N.useState([]),R=N.useRef(null),[I,D]=N.useState({equipCode:"",equipName:"",equipLocalName:"",locationId:"",productionLine:"",requester:r.fullName||" ",reportDate:at(),reportTime:Gf(),shift:"DayWork",workCategory:"MECHANICAL",workType:"REPAIR",priority:"NORMAL",failureDesc:"",actionDesc:"",startDate:at(),startTime:"",endDate:at(),endTime:"",downtime:"",repairTime:""}),[q,L]=N.useState([]),[B,H]=N.useState([]),[Y,z]=N.useState([]);N.useEffect(()=>{(async()=>{const ne=await In("equipment"),M=await In("equipment_local_names"),F=await In("locations");S(ne),A(M),O(ne),U(M),C(F),_(await In("measurement_units"))})(),t&&(D(ne=>({...ne,...t})),t.labor&&L(t.labor),t.parts&&H(t.parts),t.docs&&z(t.docs))},[t]);const oe=V=>{const ne=V.target.value,M=T.find(F=>F.code===ne);if(!M){D(F=>({...F,equipCode:"",equipName:"",locationId:""})),U(E);return}if(D(F=>({...F,equipCode:ne,equipName:M.name,locationId:M.location_id||""})),M.class_id&&M.group_id){const F=E.filter(X=>X.class_id===M.class_id&&X.group_id===M.group_id);U(F)}else U(E)},xe=V=>{const ne=V.target.value,M=E.find(F=>F.local_name===ne);if(D(F=>({...F,equipLocalName:ne})),M&&M.class_id&&M.group_id){const F=T.filter(X=>X.class_id===M.class_id&&X.group_id===M.group_id);O(F)}else O(T)},Ee=V=>{const ne=window.SpeechRecognition||window.webkitSpeechRecognition;if(!ne){alert("         .");return}if(v===V){y(null);return}const M=new ne;M.lang="fa-IR",M.continuous=!1,M.interimResults=!1,M.onstart=()=>y(V),M.onend=()=>y(null),M.onresult=F=>{const X=F.results[0][0].transcript;D(K=>({...K,[V]:K[V]?`${K[V]} ${X}`:X}))},M.start()},Pe=()=>{L([...q,{id:Math.random().toString(),name:"",startDate:I.startDate,startTime:I.startTime||"08:00",endDate:I.endDate,endTime:I.endTime||"16:00",durationMinutes:0}])},Ze=(V,ne,M)=>{L(F=>F.map(X=>{if(X.id!==V)return X;const K={...X,[ne]:M};return["startDate","startTime","endDate","endTime"].includes(ne)&&(K.durationMinutes=Zse(K.startDate,K.startTime,K.endDate,K.endTime)),K}))},rt=()=>{var V;H([...B,{id:Math.random().toString(),code:"",name:"",qty:1,unit:((V=x[0])==null?void 0:V.title)||""}])},ee=(V,ne,M)=>{H(F=>F.map(X=>X.id===V?{...X,[ne]:M}:X))},me=V=>{if(V.target.files&&V.target.files.length>0){const ne=Array.from(V.target.files).map(M=>({id:Math.random().toString(),name:M.name}));z(M=>[...M,...ne]),V.target.value=""}},ge=(V,ne)=>{V(M=>M.filter(F=>F.id!==ne))},W=()=>{if(!I.equipCode&&!I.equipLocalName)return"        .";if(!I.productionLine)return"     .";if(!I.workCategory)return"   ()   .";if(!I.failureDesc)return"   .";if(i){if(!I.actionDesc)return"    .";if(!I.startDate||!I.startTime||!I.endDate||!I.endTime)return"      .";if(!I.downtime||!I.repairTime)return"       .";if(Hf(I.startDate)||Hf(I.endDate))return"         .";if(Qse(I.startDate,I.startTime,I.endDate,I.endTime)===1)return":            ."}return null},Me=async V=>{V.preventDefault(),f(null);const ne=W();if(ne){f(ne),s("GENERAL"),window.scrollTo(0,0);return}if(!window.confirm(i?"        ":"         "))return;const M={...I,labor:q,parts:B,docs:Y};if(i&&e)e(M);else{b(!0);try{const F=Jr("W").substring(0,5),X=await ale(F);Mi("WORK_ORDER",M,r,X,` : ${I.equipName||I.equipLocalName} - ${I.failureDesc.substring(0,30)}...`)?(g(!0),u(X)):f("   .    .")}catch(F){console.error(F),f("        .")}finally{b(!1)}}};return l?c.jsx("div",{className:"max-w-2xl mx-auto pt-8 pb-20 px-4",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden animate-fadeIn",children:[c.jsxs("div",{className:"bg-green-600 p-6 text-center text-white",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:c.jsx(fC,{className:"w-10 h-10 text-white"})}),c.jsx("h2",{className:"text-2xl font-bold mb-1",children:h?"     ":"  "}),c.jsx("p",{className:"opacity-90 font-mono text-lg",children:l})]}),c.jsxs("div",{className:"p-6 space-y-3",children:[c.jsxs("button",{onClick:()=>n("/work-orders"),className:"w-full bg-white border border-gray-200 dark:bg-gray-700 py-3.5 rounded-xl flex items-center justify-center gap-2 font-medium hover:bg-gray-50 dark:hover:bg-gray-600",children:[c.jsx(lD,{className:"w-5 h-5"}),"     "]}),c.jsx("button",{onClick:()=>n("/"),className:"w-full text-gray-500 py-2 text-sm",children:"  "})]})]})}):c.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:o}),i&&c.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold",children:" "})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[c.jsx("button",{type:"button",onClick:()=>s("GENERAL"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="GENERAL"?"border-primary text-primary":"border-transparent"}`,children:" "}),i&&c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>s("LABOR"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="LABOR"?"border-primary text-primary":"border-transparent"}`,children:" "}),c.jsx("button",{type:"button",onClick:()=>s("PARTS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="PARTS"?"border-primary text-primary":"border-transparent"}`,children:" "})]}),c.jsx("button",{type:"button",onClick:()=>s("DOCS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="DOCS"?"border-primary text-primary":"border-transparent"}`,children:""})]}),c.jsxs("form",{onSubmit:Me,className:"p-6",children:[d&&c.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 flex items-start gap-3 text-sm animate-pulse border border-red-100",children:[c.jsx(Q$,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),c.jsx("span",{children:d})]}),a==="GENERAL"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("span",{className:"font-bold text-sm",children:I.requester})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("span",{className:"font-bold text-sm font-mono",children:I.reportDate})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("span",{className:"font-bold text-sm font-mono",children:I.reportTime})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsxs("select",{value:I.shift,onChange:V=>D({...I,shift:V.target.value}),disabled:i,className:`text-sm font-bold border-none bg-transparent outline-none ${i?"cursor-not-allowed":"cursor-pointer"}`,children:[c.jsx("option",{value:"DayWork",children:""}),c.jsx("option",{value:"A",children:" A"}),c.jsx("option",{value:"B",children:" B"}),c.jsx("option",{value:"C",children:" C"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-100 dark:border-gray-700 space-y-4",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-2",children:"  ()"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:I.equipLocalName,onChange:xe,className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"",children:"  ..."}),$.length>0?$.map(V=>c.jsx("option",{value:V.local_name,children:V.local_name},V.id)):c.jsx("option",{disabled:!0,children:"  "})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  ()"}),i?c.jsx("input",{type:"text",value:I.equipCode,disabled:!0,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed"}):c.jsxs("select",{value:I.equipCode,onChange:oe,className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none disabled:bg-gray-100 disabled:dark:bg-gray-600",children:[c.jsx("option",{value:"",children:"  (  )"}),P.map(V=>c.jsxs("option",{value:V.code,children:[V.code," - ",V.name]},V.id))]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:I.productionLine,onChange:V=>D({...I,productionLine:V.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"Line A",children:"Line A"}),c.jsx("option",{value:"Line B",children:"Line B"}),c.jsx("option",{value:"Line A&B",children:"Line A&B"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"   ()"}),c.jsx("input",{type:"text",readOnly:!0,value:I.equipName,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed opacity-70",placeholder:"      "})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  (Location)"}),c.jsxs("select",{disabled:i,value:I.locationId,onChange:V=>D({...I,locationId:V.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"",children:" ..."}),k.map(V=>c.jsx("option",{value:V.id,children:V.name},V.id))]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:I.workType,onChange:V=>D({...I,workType:V.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"REPAIR",children:"  (EM)"}),c.jsx("option",{value:"PM",children:"  (PM)"}),c.jsx("option",{value:"PROJECT",children:" / "}),c.jsx("option",{value:"INSPECTION",children:" "}),c.jsx("option",{value:"SERVICE",children:" "})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:I.workCategory,onChange:V=>D({...I,workCategory:V.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"MECHANICAL",children:""}),c.jsx("option",{value:"ELECTRICAL",children:""}),c.jsx("option",{value:"INSTRUMENTATION",children:" "}),c.jsx("option",{value:"FACILITIES",children:" "})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:I.priority,onChange:V=>D({...I,priority:V.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"NORMAL",children:""}),c.jsx("option",{value:"URGENT",children:""}),c.jsx("option",{value:"CRITICAL",children:" ( )"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  /  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{required:!0,readOnly:i,className:`w-full p-4 border rounded-xl h-28 pl-10 resize-none ${i?"bg-gray-100 cursor-not-allowed":"bg-gray-50 dark:bg-gray-700"}`,placeholder:"    ...",value:I.failureDesc,onChange:V=>D({...I,failureDesc:V.target.value})}),!i&&c.jsx("button",{type:"button",onClick:()=>Ee("failureDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${v==="failureDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:v==="failureDesc"?c.jsx(pl,{className:"w-5 h-5 animate-spin"}):c.jsx(bo,{className:"w-5 h-5"})})]})]}),i&&c.jsxs("div",{className:"space-y-6 border-t-2 border-dashed border-gray-300 dark:border-gray-600 pt-6 mt-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-primary flex items-center gap-2",children:[c.jsx(uC,{className:"w-5 h-5"}),"    (  )"]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{required:!0,className:"w-full p-4 border rounded-xl bg-white dark:bg-gray-700 h-28 pl-10 outline-none resize-none",placeholder:"    ...",value:I.actionDesc,onChange:V=>D({...I,actionDesc:V.target.value})}),c.jsx("button",{type:"button",onClick:()=>Ee("actionDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${v==="actionDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:v==="actionDesc"?c.jsx(pl,{className:"w-5 h-5 animate-spin"}):c.jsx(bo,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(fi,{label:" ",value:I.startDate,onChange:V=>D({...I,startDate:V})}),c.jsx(lr,{label:" ",value:I.startTime,onChange:V=>D({...I,startTime:V})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(fi,{label:" ",value:I.endDate,onChange:V=>D({...I,endDate:V})}),c.jsx(lr,{label:" ",value:I.endTime,onChange:V=>D({...I,endTime:V})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",required:!0,value:I.downtime,onChange:V=>D({...I,downtime:V.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["   () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",required:!0,value:I.repairTime,onChange:V=>D({...I,repairTime:V.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]})]})]})]})]}),a==="LABOR"&&c.jsxs("div",{className:"space-y-4",children:[q.map(V=>c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 space-y-3 animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1 ml-2",children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:V.name,onChange:ne=>Ze(V.id,"name",ne.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:[c.jsx("option",{value:"",children:"..."}),c.jsx("option",{value:" ",children:"  ()"}),c.jsx("option",{value:" ",children:"  ()"})]})]}),c.jsx("button",{type:"button",onClick:()=>ge(L,V.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg mt-5",children:c.jsx(yn,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(fi,{label:" ",value:V.startDate,onChange:ne=>Ze(V.id,"startDate",ne)}),c.jsx(lr,{label:" ",value:V.startTime,onChange:ne=>Ze(V.id,"startTime",ne)}),c.jsx(fi,{label:" ",value:V.endDate,onChange:ne=>Ze(V.id,"endDate",ne)}),c.jsx(lr,{label:" ",value:V.endTime,onChange:ne=>Ze(V.id,"endTime",ne)})]})]},V.id)),c.jsxs("button",{type:"button",onClick:Pe,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[c.jsx(mr,{className:"w-4 h-4"}),"   "]})]}),a==="PARTS"&&c.jsxs("div",{className:"space-y-4",children:[B.map(V=>c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl space-y-3 animate-fadeIn relative",children:[c.jsx("button",{type:"button",onClick:()=>ge(H,V.id),className:"absolute top-4 left-4 p-1.5 text-red-500 hover:bg-red-100 rounded",children:c.jsx(yn,{className:"w-4 h-4"})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:V.code,onChange:ne=>ee(V.id,"code",ne.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:V.name,onChange:ne=>ee(V.id,"name",ne.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"..."})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:V.qty,onChange:ne=>ee(V.id,"qty",Number(ne.target.value)),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:V.unit,onChange:ne=>ee(V.id,"unit",ne.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:x.length>0?x.map(ne=>c.jsx("option",{value:ne.title,children:ne.title},ne.id)):c.jsx("option",{value:"",children:""})})]})]})]},V.id)),c.jsxs("button",{type:"button",onClick:rt,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[c.jsx(mr,{className:"w-4 h-4"}),"   "]})]}),a==="DOCS"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("input",{type:"file",ref:R,multiple:!0,className:"hidden",onChange:me}),c.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition cursor-pointer",onClick:()=>{var V;return(V=R.current)==null?void 0:V.click()},children:[c.jsx(wC,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 mb-2 font-medium",children:"       "})]}),Y.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"text-sm font-bold text-gray-500",children:"  :"}),Y.map(V=>c.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-700 border p-3 rounded-lg shadow-sm",children:[c.jsx("span",{className:"text-sm truncate max-w-[200px]",children:V.name}),c.jsx("button",{type:"button",onClick:()=>ge(z,V.id),className:"text-red-500",children:c.jsx(yn,{className:"w-4 h-4"})})]},V.id))]})]}),c.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:c.jsxs("button",{disabled:w,type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 disabled:opacity-70 disabled:cursor-wait",children:[w?c.jsx(pl,{className:"w-5 h-5 animate-spin"}):c.jsx(ms,{className:"w-5 h-5"}),i?"    ":"     "]})})]})]})]})},cle=()=>{const t=ps(),[e,n]=N.useState([]),[r,i]=N.useState([]),[o,a]=N.useState([]),[s,l]=N.useState(null),[u,d]=N.useState(!1),[f,h]=N.useState([]),[g,v]=N.useState(""),[y,w]=N.useState("ALL"),[b,x]=N.useState(""),[_,T]=N.useState(""),[S,E]=N.useState(1),[A,k]=N.useState(10);N.useEffect(()=>{const R=Jx();n(R.sort((I,D)=>D.createdAt.localeCompare(I.createdAt)))},[]),N.useEffect(()=>{let R=e;g&&(R=R.filter(I=>{var D;return I.title.includes(g)||I.trackingCode.includes(g)||((D=I.data)==null?void 0:D.equipName)&&I.data.equipName.includes(g)})),y!=="ALL"&&(R=R.filter(I=>C(I).includes(y))),b&&(R=R.filter(I=>I.createdAt>=b)),_&&(R=R.filter(I=>I.createdAt<=_)),i(R),E(1),h([])},[e,g,y,b,_]),N.useEffect(()=>{const R=(S-1)*A,I=R+A;a(r.slice(R,I))},[r,S,A]);const C=R=>{if(R.status==="DONE")return" ";const D=Ou().find(L=>L.id===R.workflowId),q=D==null?void 0:D.steps.find(L=>L.id===R.currentStepId);return(q==null?void 0:q.title)||""},P=R=>{const I=C(R);let D="bg-gray-100 text-gray-600";return I.includes("")?D="bg-blue-100 text-blue-700":I.includes("")?D="bg-orange-100 text-orange-700":I.includes("")?D="bg-purple-100 text-purple-700":(I.includes("")||R.status==="DONE")&&(D="bg-green-100 text-green-700"),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${D}`,children:I})},O=R=>{R.target.checked?h(o.map(I=>I.id)):h([])},$=R=>{f.includes(R)?h(f.filter(I=>I!==R)):h([...f,R])},U=()=>{const R=f.length>0?e.filter(H=>f.includes(H.id)):r;if(R.length===0){alert("    .");return}const I=[" ","",""," ","",""],D=R.map(H=>{var Y,z;return[H.trackingCode,((Y=H.data)==null?void 0:Y.equipName)||"-",H.title,((z=H.data)==null?void 0:z.requester)||"-",H.createdAt,C(H)]}),q="data:text/csv;charset=utf-8,\uFEFF"+I.join(",")+`
`+D.map(H=>H.join(",")).join(`
`),L=encodeURI(q),B=document.createElement("a");B.setAttribute("href",L),B.setAttribute("download",`work_orders_report_${new Date().getTime()}.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B)};return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:c.jsx(Dd,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     "})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[f.length>0&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[f.length,"   "]}),c.jsxs("button",{onClick:U,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[c.jsx(P0,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:" "})]}),c.jsxs("button",{onClick:()=>t("/work-orders/new"),className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[c.jsx(mr,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:"  "})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[c.jsxs("div",{className:"p-4 flex flex-col md:flex-row gap-4 items-center",children:[c.jsxs("div",{className:"relative flex-1 w-full",children:[c.jsx(Rd,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:" (  ...)",value:g,onChange:R=>v(R.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),c.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${u?"bg-primary/5 border-primary text-primary":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:[c.jsx(I0,{className:"w-5 h-5"}),c.jsx("span",{children:""}),u?c.jsx(mC,{className:"w-4 h-4"}):c.jsx(pC,{className:"w-4 h-4"})]})]}),u&&c.jsxs("div",{className:"px-4 pb-4 pt-0 grid grid-cols-1 md:grid-cols-4 gap-4 animate-fadeIn",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),c.jsxs("select",{value:y,onChange:R=>w(R.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none",children:[c.jsx("option",{value:"ALL",children:" "}),c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"",children:"  "}),c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"",children:" "})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",placeholder:"1403/01/01",value:b,onChange:R=>x(R.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",placeholder:"1403/12/29",value:_,onChange:R=>T(R.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{onClick:()=>{w("ALL"),x(""),T(""),v("")},className:"w-full p-2.5 text-red-500 hover:bg-red-50 rounded-lg transition text-sm",children:"  "})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[c.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4 w-10",children:c.jsx("input",{type:"checkbox",onChange:O,checked:o.length>0&&f.length===o.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),c.jsx("th",{className:"p-4",children:" "}),c.jsx("th",{className:"p-4",children:""}),c.jsx("th",{className:"p-4",children:"  / "}),c.jsx("th",{className:"p-4",children:" "}),c.jsx("th",{className:"p-4",children:" "}),c.jsx("th",{className:"p-4",children:""}),c.jsx("th",{className:"p-4",children:""})]})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:o.length>0?o.map(R=>{var I,D,q;return c.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${f.includes(R.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[c.jsx("td",{className:"p-4",children:c.jsx("input",{type:"checkbox",checked:f.includes(R.id),onChange:()=>$(R.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),c.jsx("td",{className:"p-4 font-mono font-bold text-gray-600 dark:text-gray-300",children:R.trackingCode}),c.jsx("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-100",children:((I=R.data)==null?void 0:I.equipName)||"-"}),c.jsx("td",{className:"p-4 text-gray-500 truncate max-w-[200px]",children:((D=R.data)==null?void 0:D.failureDesc)||R.title}),c.jsx("td",{className:"p-4",children:((q=R.data)==null?void 0:q.requester)||""}),c.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:R.createdAt}),c.jsx("td",{className:"p-4",children:P(R)}),c.jsx("td",{className:"p-4",children:c.jsxs("button",{onClick:()=>l(R),className:"text-primary hover:bg-primary/10 p-2 rounded-lg transition flex items-center gap-1 text-xs font-bold",children:[c.jsx(Cd,{className:"w-4 h-4"})," "]})})]},R.id)}):c.jsx("tr",{children:c.jsxs("td",{colSpan:8,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[c.jsx(Rd,{className:"w-12 h-12 mb-4 opacity-20"}),c.jsx("span",{children:"     ."})]})})})]})}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{children:""}),c.jsxs("select",{value:A,onChange:R=>{k(Number(R.target.value)),E(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:50,children:"50"}),c.jsx("option",{value:100,children:"100"}),c.jsx("option",{value:200,children:"200"})]}),c.jsx("span",{children:"   "}),c.jsxs("span",{className:"mr-2 px-2 border-r border-gray-300 dark:border-gray-600",children:[": ",r.length," "]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{disabled:S===1,onClick:()=>E(R=>Math.max(1,R-1)),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(yh,{className:"w-4 h-4"})}),c.jsxs("span",{className:"px-4 text-sm font-bold",children:[" ",S,"  ",Math.ceil(r.length/A)||1]}),c.jsx("button",{disabled:S>=Math.ceil(r.length/A),onClick:()=>E(R=>R+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(N0,{className:"w-4 h-4"})})]})]})]}),s&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-lg",children:s.title}),c.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-xs",children:s.trackingCode})]}),c.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:c.jsx(Ln,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-black/20 p-4",children:c.jsx("div",{className:"pointer-events-none opacity-90",children:c.jsx(Yx,{initialData:s.data})})}),c.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex justify-end",children:c.jsx("button",{onClick:()=>l(null),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 transition",children:""})})]})})]})},dle=[{id:"1",desc:"   ",status:null},{id:"2",desc:"  ",status:null},{id:"3",desc:"  ",status:null},{id:"4",desc:"   ",status:null}],fle=({user:t})=>{const e=ps(),[n,r]=N.useState("SELECT"),[i,o]=N.useState(dle),[a,s]=N.useState(""),l=(h,g)=>{o(v=>v.map(y=>y.id===h?{...y,status:g}:y))},u=()=>{r("SENDING"),setTimeout(()=>{s(Jr("J")),r("RESULT")},3e3)},d=i.filter(h=>h.status===null).length,f=(i.length-d)/i.length*100;if(n==="SELECT")return c.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] space-y-8",children:[c.jsx("div",{className:"w-40 h-40 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center shadow-xl cursor-pointer hover:scale-105 transition",onClick:()=>r("CHECKLIST"),children:c.jsx(gD,{className:"w-20 h-20 text-primary"})}),c.jsx("p",{className:"text-lg font-medium",children:" QR   "}),c.jsx("button",{onClick:()=>r("CHECKLIST"),className:"bg-primary text-white px-8 py-3 rounded-full shadow-lg",children:"   "})]});if(n==="SENDING")return c.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] text-center p-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary mb-8"}),c.jsx("h2",{className:"text-xl font-bold mb-4",children:"   ..."}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:c.jsx("p",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"      "})})]});if(n==="RESULT"){const h=i.filter(g=>g.status==="NOK");return c.jsxs("div",{className:"max-w-md mx-auto space-y-6 pt-4",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("div",{className:"text-4xl animate-bounce",children:""}),c.jsxs("h2",{className:"text-xl font-bold text-green-600",children:[t.fullName,"  "]}),c.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-2 inline-block font-mono text-sm",children:[" : ",a]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 space-y-4",children:[c.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsx("span",{className:"text-gray-500",children:":"}),c.jsx("span",{children:"  101"}),c.jsx("span",{className:"text-gray-500",children:":"}),c.jsx("span",{children:at()}),c.jsx("span",{className:"text-gray-500",children:":"}),c.jsxs("span",{className:"text-green-600 font-bold",children:[i.filter(g=>g.status==="OK").length," "]}),c.jsx("span",{className:"text-gray-500",children:":"}),c.jsxs("span",{className:"text-red-600 font-bold",children:[h.length," "]})]}),h.length>0&&c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm mt-2",children:[c.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 mb-1",children:" :"}),c.jsx("ul",{className:"list-disc list-inside",children:h.map(g=>c.jsx("li",{children:g.desc},g.id))})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{className:"flex-1 bg-green-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[c.jsx(SC,{className:"w-5 h-5"}),"  "]}),c.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-gray-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[c.jsx(xC,{className:"w-5 h-5"})," "]})]})]})}return c.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[c.jsxs("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900 z-10 py-4 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("h2",{className:"font-bold text-lg",children:"   PM-101"}),c.jsxs("span",{className:"text-sm bg-accent text-white px-2 py-1 rounded-full",children:[d," "]})]}),c.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${f}%`}})})]}),c.jsx("div",{className:"space-y-4 mt-4",children:i.map(h=>c.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border-r-4 ${h.status==="OK"?"border-green-500":h.status==="NOK"?"border-red-500":"border-gray-300"}`,children:[c.jsx("p",{className:"font-medium mb-4",children:h.desc}),h.status!=="NOK"?c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>l(h.id,"OK"),className:`flex-1 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors ${h.status==="OK"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-green-100"}`,children:[c.jsx(k0,{className:"w-5 h-5"})," "]}),c.jsxs("button",{onClick:()=>l(h.id,"NOK"),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-red-100 text-gray-500 rounded-lg flex items-center justify-center gap-2",children:[c.jsx(Ln,{className:"w-5 h-5"})," "]})]}):c.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[c.jsxs("label",{className:"text-xs font-bold text-red-500 block mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"   ...",className:"w-full p-2 pr-10 border border-red-300 rounded-lg bg-red-50 dark:bg-red-900/10",autoFocus:!0}),c.jsx(bo,{className:"absolute left-2 top-2 text-gray-400 w-5 h-5"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("button",{className:"text-blue-600 flex items-center gap-1 text-sm",children:[c.jsx(dC,{className:"w-4 h-4"}),"  "]}),c.jsx("button",{onClick:()=>l(h.id,null),className:"text-gray-400 text-sm",children:""})]})]})]},h.id))}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-800 border-t dark:border-gray-700 md:relative md:bg-transparent md:border-none",children:c.jsx("button",{disabled:d>0,onClick:u,className:"w-full bg-primary disabled:bg-gray-400 text-white py-4 rounded-xl font-bold shadow-lg transition-all transform active:scale-95",children:"   "})})]})};function $o({data:t,columns:e,title:n,icon:r,onAdd:i,onViewDetails:o,onDelete:a,searchKeys:s=[]}){const[l,u]=N.useState(t),[d,f]=N.useState(""),[h,g]=N.useState(1),[v,y]=N.useState(10),[w,b]=N.useState([]),[x,_]=N.useState(!1);N.useEffect(()=>{let P=t;if(d){const O=d.toLowerCase();P=P.filter($=>Object.values($).join(" ").toLowerCase().includes(O))}u(P),g(1)},[t,d]);const T=(h-1)*v,S=T+v,E=l.slice(T,S),A=P=>{P.target.checked?b(E.map(O=>O.id)):b([])},k=P=>{w.includes(P)?b(w.filter(O=>O!==P)):b([...w,P])},C=()=>{const P=w.length>0?t.filter(I=>w.includes(I.id)):l;if(P.length===0)return alert("    ");const O=e.map(I=>I.header),$=P.map(I=>e.map(D=>{const q=D.accessor(I);return typeof q=="string"||typeof q=="number"?q:"-"})),U="data:text/csv;charset=utf-8,\uFEFF"+O.join(",")+`
`+$.map(I=>I.join(",")).join(`
`),R=document.createElement("a");R.setAttribute("href",encodeURI(U)),R.setAttribute("download",`export_${Date.now()}.csv`),document.body.appendChild(R),R.click(),document.body.removeChild(R)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[r&&c.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:c.jsx(r,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",n]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[w.length>0&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[w.length,"  "]}),c.jsxs("button",{onClick:C,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[c.jsx(P0,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:""})]}),i&&c.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[c.jsx(mr,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:" "})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 flex gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Rd,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:P=>f(P.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),c.jsx("button",{className:"bg-gray-50 dark:bg-gray-700 p-2.5 rounded-xl border border-gray-200 dark:border-gray-600",children:c.jsx(I0,{className:"w-5 h-5 text-gray-500"})})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[c.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4 w-10",children:c.jsx("input",{type:"checkbox",onChange:A,checked:E.length>0&&w.length===E.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((P,O)=>c.jsx("th",{className:"p-4",children:P.header},O)),c.jsx("th",{className:"p-4",children:""})]})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:E.length>0?E.map((P,O)=>c.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${w.includes(P.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[c.jsx("td",{className:"p-4",children:c.jsx("input",{type:"checkbox",checked:w.includes(P.id),onChange:()=>k(P.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map(($,U)=>c.jsx("td",{className:"p-4",children:$.accessor(P)},U)),c.jsxs("td",{className:"p-4 flex gap-2",children:[o&&c.jsx("button",{onClick:()=>o(P),className:"p-2 text-primary bg-primary/10 rounded-lg hover:bg-primary/20 transition",children:c.jsx(Cd,{className:"w-4 h-4"})}),a&&c.jsx("button",{onClick:()=>a(P),className:"p-2 text-red-500 bg-red-50 rounded-lg hover:bg-red-100 transition",children:c.jsx(yn,{className:"w-4 h-4"})})]})]},P.id||O)):c.jsx("tr",{children:c.jsx("td",{colSpan:e.length+2,className:"p-12 text-center text-gray-400",children:"  ."})})})]})}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{children:""}),c.jsxs("select",{value:v,onChange:P=>{y(Number(P.target.value)),g(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:50,children:"50"}),c.jsx("option",{value:100,children:"100"}),c.jsx("option",{value:200,children:"200"})]}),c.jsxs("span",{children:[": ",l.length]})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{disabled:h===1,onClick:()=>g(P=>P-1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:c.jsx(yh,{className:"w-4 h-4"})}),c.jsxs("span",{className:"px-4 py-2 text-sm font-bold",children:[" ",h]}),c.jsx("button",{disabled:S>=l.length,onClick:()=>g(P=>P+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:c.jsx(N0,{className:"w-4 h-4"})})]})]})]})]})}const hle=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState([]),[o,a]=N.useState([]);N.useEffect(()=>{const d=$i("PART_REQUEST");i(d.map(f=>({...f,...f.data}))),In("measurement_units").then(a)},[e]);const[s,l]=N.useState({partName:"",partCode:"",qty:1,unit:"",relatedWorkOrder:"",requestReason:""});N.useEffect(()=>{o.length>0&&!s.unit&&l(d=>({...d,unit:o[0].title}))},[o]);const u=d=>{var h;if(d.preventDefault(),!s.relatedWorkOrder&&!s.requestReason.trim()){alert("          ()  .");return}const f=Jr("P");Mi("PART_REQUEST",s,t,f,` : ${s.partName}`),alert("     ."),n("LIST"),l({partName:"",partCode:"",qty:1,unit:((h=o[0])==null?void 0:h.title)||"",relatedWorkOrder:"",requestReason:""})};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx($o,{title:"   ",icon:jd,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:d=>d.trackingCode},{header:" ",accessor:d=>c.jsx("span",{className:"font-bold",children:d.partName})},{header:" ",accessor:d=>d.partCode||"-"},{header:"",accessor:d=>c.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 rounded",children:[d.qty," ",d.unit]})},{header:" ",accessor:d=>d.createdAt},{header:" ",accessor:d=>d.description.split("")[1]||"-"},{header:"",accessor:d=>d.status==="PENDING"?"  ":" "}]})}):c.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(jd,{className:"text-primary"}),"    "]}),c.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Ln,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:" "}),c.jsx("input",{type:"text",value:at(),disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:""}),c.jsx("input",{type:"text",value:Gf(),disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  ()"}),c.jsx("input",{type:"text",value:s.partCode,onChange:d=>l({...s,partCode:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  /  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",required:!0,value:s.partName,onChange:d=>l({...s,partName:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:"   ..."})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",min:"1",value:s.qty,onChange:d=>l({...s,qty:Number(d.target.value)}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:s.unit,onChange:d=>l({...s,unit:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,children:o.length>0?o.map(d=>c.jsx("option",{value:d.title,children:d.title},d.id)):c.jsx("option",{value:"",children:""})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"   "}),c.jsxs("select",{value:s.relatedWorkOrder,onChange:d=>l({...s,relatedWorkOrder:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[c.jsx("option",{value:"",children:"  ()"}),c.jsx("option",{children:"W403012293 -  "}),c.jsx("option",{children:"W403012294 -  "})]})]}),!s.relatedWorkOrder&&c.jsxs("div",{className:"animate-fadeIn",children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  /   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{required:!0,value:s.requestReason,onChange:d=>l({...s,requestReason:d.target.value}),className:"w-full p-3 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"        (     )..."})]}),c.jsxs("div",{className:"pt-4 flex gap-3",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95 font-bold",children:"  "})]})]})})]})},ple=()=>{const[t,e]=N.useState("LIST"),[n,r]=N.useState([]);N.useEffect(()=>{r(tT())},[t]);const i=N.useRef(null),[o,a]=N.useState(null),[s,l]=N.useState({code:"",name:"",type:""}),u=()=>{var g;(g=i.current)==null||g.click()},d=g=>{g.target.files&&g.target.files[0]&&a(g.target.files[0])},f=g=>{if(g.preventDefault(),!s.code||!s.name)return;const v={id:Si(),code:s.code,name:s.name,type:s.type,fileName:o?o.name:" ",createdAt:at()};ele(v),alert("    ."),l({code:"",name:"",type:""}),a(null),i.current&&(i.current.value=""),e("LIST")},h=g=>{window.confirm("      ")&&(tle(g.id),r(tT()))};return t==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx($o,{title:"  ",icon:kd,data:n,onAdd:()=>e("NEW"),onDelete:h,columns:[{header:" ",accessor:g=>c.jsx("span",{className:"font-mono font-bold",children:g.code})},{header:" ",accessor:g=>g.name},{header:" ",accessor:g=>g.type},{header:" ",accessor:g=>g.fileName||"-"},{header:" ",accessor:g=>g.createdAt}]})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(kd,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"    "})]}),c.jsx("button",{onClick:()=>e("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Ln,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm h-fit",children:c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:s.code,onChange:g=>l({...s,code:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:": MAP-101"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:s.name,onChange:g=>l({...s,name:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:"   ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:s.type,onChange:g=>l({...s,type:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,children:[c.jsx("option",{value:"",children:" ..."}),c.jsx("option",{value:"MAP",children:""}),c.jsx("option",{value:"CATALOG",children:""}),c.jsx("option",{value:"MANUAL",children:""}),c.jsx("option",{value:"OTHER",children:""})]})]}),c.jsx("input",{type:"file",ref:i,onChange:d,className:"hidden"}),c.jsxs("div",{onClick:u,className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition
                ${o?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,children:[c.jsx(j0,{className:`w-10 h-10 mx-auto mb-4 ${o?"text-green-600":"text-gray-400"}`}),c.jsx("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:o?o.name:"    "}),c.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:"PDF, JPG, PNG (Max 10MB)"})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>e("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl hover:bg-red-800 shadow-lg font-bold",children:"  "})]})]})})]})},rT=({value:t,onChange:e,label:n,error:r})=>{const[i,o]=N.useState(!1),a=N.useRef(null),s=Array.from({length:24},(g,v)=>String(v).padStart(2,"0")),l=Array.from({length:12},(g,v)=>String(v*5).padStart(2,"0"));N.useEffect(()=>{const g=v=>{a.current&&!a.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const[u,d]=t?t.split(":"):["--","--"],f=g=>{e(`${g}:${d==="--"?"00":d}`)},h=g=>{e(`${u==="--"?"00":u}:${g}`),o(!1)};return c.jsxs("div",{className:"relative",ref:a,children:[n&&c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),c.jsxs("button",{type:"button",onClick:()=>o(!i),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 hover:border-primary/50 text-gray-800 dark:text-gray-100"} ${i?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[c.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"":"text-gray-400 text-sm font-sans tracking-normal"}`,children:t||" ..."}),c.jsx(C0,{className:"w-4 h-4 text-gray-400"})]}),i&&c.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-600 p-2 animate-fadeIn flex gap-2 h-64",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[c.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),l.map(g=>c.jsx("button",{type:"button",onClick:()=>h(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${d===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]}),c.jsx("div",{className:"flex items-center justify-center font-bold text-gray-300",children:":"}),c.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[c.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),s.map(g=>c.jsx("button",{type:"button",onClick:()=>f(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${u===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]})]})]})},mle=({user:t})=>{const e=JSON.parse(localStorage.getItem("currentUser")||"{}"),[n,r]=N.useState("LIST"),[i,o]=N.useState([]),[a,s]=N.useState([]),[l,u]=N.useState([]);N.useEffect(()=>{const A=$i("MEETING");o(A.map(k=>({...k,...k.data}))),In("personnel").then(s),In("org_chart").then(u)},[n]);const d=N.useRef(null),[f,h]=N.useState([]),[g,v]=N.useState([]),[y,w]=N.useState({name:"",role:""}),[b,x]=N.useState({code:"",subject:"",location:"",meetingDate:at(),startTime:"",endTime:"",decisions:""}),_=()=>{if(!y.name||!y.role){alert("      ");return}v([...g,y]),w({name:"",role:""})},T=A=>{v(g.filter((k,C)=>C!==A))},S=A=>{if(A.preventDefault(),g.length===0){alert("         ");return}const k=Jr("G"),C=g.map(P=>`${P.name} - ${P.role}`).join(`
`);Mi("MEETING",{...b,attendees:C,attendeesList:g},e,k,`: ${b.subject}`),alert("  ."),r("LIST"),x({code:"",subject:"",location:"",meetingDate:at(),startTime:"",endTime:"",decisions:""}),v([]),h([])},E=A=>{A.target.files&&A.target.files.length>0&&h([...f,...Array.from(A.target.files)])};return n==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx($o,{title:" ",icon:Pd,data:i,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:A=>A.trackingCode},{header:" ",accessor:A=>c.jsx("span",{className:"font-bold",children:A.subject})},{header:" ",accessor:A=>A.meetingDate},{header:"",accessor:A=>`${A.startTime} - ${A.endTime}`},{header:"",accessor:A=>A.location},{header:"",accessor:A=>A.status==="PENDING"?"":" "}]})}):c.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Pd,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),c.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Ln,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:S,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1 font-medium",children:"  ()"}),c.jsx("input",{type:"text",value:b.code,onChange:A=>x({...b,code:A.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:b.subject,onChange:A=>x({...b,subject:A.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),c.jsx("input",{type:"text",value:b.location,onChange:A=>x({...b,location:A.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),c.jsx("div",{children:c.jsx(fi,{label:" ",value:b.meetingDate,onChange:A=>x({...b,meetingDate:A})})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 md:col-span-2",children:[c.jsx("div",{children:c.jsx(rT,{label:" ",value:b.startTime,onChange:A=>x({...b,startTime:A})})}),c.jsx("div",{children:c.jsx(rT,{label:" ",value:b.endTime,onChange:A=>x({...b,endTime:A})})})]})]}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[c.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-blue-800 dark:text-blue-300",children:[c.jsx(Fu,{className:"w-4 h-4"}),"   "]}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsxs("select",{className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none",value:y.name,onChange:A=>w({...y,name:A.target.value}),children:[c.jsx("option",{value:"",children:"  ..."}),a.map(A=>c.jsxs("option",{value:`${A.first_name} ${A.last_name}`,children:[A.first_name," ",A.last_name," (",A.unit,")"]},A.id))]}),c.jsxs("select",{className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none",value:y.role,onChange:A=>w({...y,role:A.target.value}),children:[c.jsx("option",{value:"",children:" /..."}),l.map(A=>c.jsx("option",{value:A.name,children:A.name},A.id))]}),c.jsx("button",{type:"button",onClick:_,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:c.jsx(mr,{className:"w-5 h-5"})})]}),g.length>0?c.jsx("ul",{className:"space-y-2",children:g.map((A,k)=>c.jsxs("li",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 shadow-sm text-sm",children:[c.jsxs("span",{children:[A.name," ",c.jsx("span",{className:"text-gray-400 mx-1",children:"|"})," ",c.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:A.role})]}),c.jsx("button",{type:"button",onClick:()=>T(k),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:c.jsx(yn,{className:"w-4 h-4"})})]},k))}):c.jsx("p",{className:"text-xs text-gray-500 text-center py-2",children:"   ."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-bold",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{value:b.decisions,onChange:A=>x({...b,decisions:A.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 h-32 focus:ring-2 focus:ring-primary outline-none",required:!0,placeholder:" ..."})]}),c.jsxs("div",{className:"border border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-gray-500 text-sm",children:" (  )"}),c.jsx("input",{type:"file",ref:d,multiple:!0,className:"hidden",onChange:E}),c.jsxs("button",{type:"button",onClick:()=>{var A;return(A=d.current)==null?void 0:A.click()},className:"text-blue-600 text-sm flex items-center gap-1 hover:bg-blue-50 px-2 py-1 rounded transition",children:[c.jsx(mr,{className:"w-4 h-4"}),"  "]})]}),f.length>0&&c.jsx("ul",{className:"text-xs text-gray-600 dark:text-gray-300 space-y-1",children:f.map((A,k)=>c.jsxs("li",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),A.name]},k))})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow hover:bg-red-800 flex justify-center gap-2 font-bold transition",children:[c.jsx(ms,{className:"w-5 h-5"}),"   "]})]})]})]})},gle=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState([]);N.useEffect(()=>{const v=$i("SUGGESTION");i(v.map(y=>({...y,...y.data})))},[e]);const[o,a]=N.useState(""),s=N.useRef(null),[l,u]=N.useState([]),d=v=>{if(v.preventDefault(),!o.trim())return;const y=Jr("H");Mi("SUGGESTION",{text:o},t,y,`: ${o.substring(0,20)}...`),alert("   ."),n("LIST"),a(""),u([])},f=()=>{var v;(v=s.current)==null||v.click()},h=v=>{v.target.files&&v.target.files.length>0&&u([...l,...Array.from(v.target.files)])},g=v=>{u(l.filter((y,w)=>w!==v))};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx($o,{title:" ",icon:Od,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:v=>v.trackingCode},{header:" ",accessor:v=>v.title},{header:" ",accessor:v=>v.createdAt},{header:" ",accessor:v=>v.description.split("")[1]||t.fullName},{header:"",accessor:v=>c.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded-full text-xs font-bold",children:v.status==="PENDING"?"  ":"  "})}]})}):c.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Od,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),c.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Ln,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:d,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",value:at(),disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:o,onChange:v=>a(v.target.value),className:"w-full h-40 p-3 pl-10 border rounded-lg bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"         ...",required:!0}),c.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-2 text-gray-400 hover:text-primary transition-colors",children:c.jsx(bo,{className:"w-6 h-6"})})]})]}),c.jsxs("div",{children:[c.jsx("input",{type:"file",ref:s,multiple:!0,className:"hidden",onChange:h}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[c.jsx(wC,{className:"w-4 h-4"}),"  "]}),c.jsx("span",{className:"text-xs text-gray-400",children:" : PDF, JPG (max 5MB)"})]}),l.length>0&&c.jsx("div",{className:"mt-4 space-y-2",children:l.map((v,y)=>c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg text-sm border border-gray-100 dark:border-gray-600",children:[c.jsx("span",{className:"truncate max-w-[200px]",children:v.name}),c.jsx("button",{type:"button",onClick:()=>g(y),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:c.jsx(yn,{className:"w-4 h-4"})})]},y))})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center justify-center gap-2",children:[c.jsx(Md,{className:"w-5 h-5"}),"  "]})]})]})]})},yle=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState([]),[o,a]=N.useState([]);N.useEffect(()=>{const x=$i("PURCHASE");i(x.map(_=>({..._,..._.data}))),In("measurement_units").then(a)},[e]);const[s,l]=N.useState(""),[u,d]=N.useState(null),[f,h]=N.useState(""),[g,v]=N.useState(1),[y,w]=N.useState("");N.useEffect(()=>{o.length>0&&!y&&w(o[0].title)},[o]);const b=x=>{if(x.preventDefault(),!/^\d{2}\/\d{4}$/.test(s)){d("    .  :    /    (: 03/1005)");return}d(null);const T=Jr("K");Mi("PURCHASE",{requestNumber:s,desc:f,qty:g,unit:y},t,T,`: ${f.substring(0,15)}...`),alert("   "),n("LIST"),l(""),h(""),v(1)};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx($o,{title:" ",icon:$d,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:x=>x.trackingCode},{header:" ",accessor:x=>c.jsx("span",{className:"font-mono font-bold",children:x.requestNumber})},{header:" ",accessor:x=>x.desc},{header:"",accessor:x=>x.qty+" "+(x.unit||"")},{header:"",accessor:x=>x.createdAt},{header:"",accessor:x=>x.status==="PENDING"?" ":" "}]})}):c.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($d,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"  /"})]}),c.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Ln,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:b,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"label-text",children:["  (: 03/1000) ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:s,onChange:x=>{l(x.target.value),u&&d(null)},className:`input-field font-mono text-center ${u?"border-red-500 ring-1 ring-red-500":""}`,placeholder:"03/____",required:!0,maxLength:7}),u&&c.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[c.jsx(cC,{className:"w-3 h-3"}),c.jsx("span",{children:u})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:" "}),c.jsx("input",{type:"text",defaultValue:at(),className:"input-field",disabled:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:" "}),c.jsxs("select",{className:"input-field",children:[c.jsx("option",{children:" ( )"}),c.jsx("option",{children:" ()"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:""}),c.jsxs("select",{className:"input-field",children:[c.jsx("option",{children:""}),c.jsx("option",{children:""}),c.jsx("option",{children:" ( )"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"label-text",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:f,onChange:x=>h(x.target.value),className:"input-field h-32 pl-10",required:!0,placeholder:"     ..."}),c.jsx(bo,{className:"absolute left-3 bottom-3 text-gray-400 cursor-pointer hover:text-primary"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"col-span-1",children:[c.jsxs("label",{className:"label-text",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:g,onChange:x=>v(Number(x.target.value)),className:"input-field",required:!0})]}),c.jsxs("div",{className:"col-span-1",children:[c.jsxs("label",{className:"label-text",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:y,onChange:x=>w(x.target.value),className:"input-field",children:o.length>0?o.map(x=>c.jsx("option",{value:x.title,children:x.title},x.id)):c.jsx("option",{value:"",children:""})})]}),c.jsxs("div",{className:"col-span-1",children:[c.jsx("label",{className:"label-text",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",className:"input-field pl-8",placeholder:":  "}),c.jsx(bo,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"})]})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-4 rounded-xl font-bold shadow-lg hover:bg-red-800 transition",children:"    "})]})]}),c.jsx("style",{children:`
        .label-text { display: block; font-size: 0.875rem; margin-bottom: 0.25rem; color: #4b5563; }
        .dark .label-text { color: #d1d5db; }
        .input-field { width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.75rem; background-color: #f9fafb; transition: all 0.2s; }
        .dark .input-field { background-color: #374151; border-color: #4b5563; color: white; }
        .input-field:focus { outline: none; border-color: #800020; ring: 2px; ring-color: #800020; }
      `})]})},vle=({user:t,onUpdateUser:e,snowMode:n,setSnowMode:r})=>{const i=N.useRef(null),o=a=>{var l;const s=(l=a.target.files)==null?void 0:l[0];if(s){const u=new FileReader;u.onloadend=()=>{const d=u.result;e({...t,avatar:d})},u.readAsDataURL(s)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:" "}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[c.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-4xl overflow-hidden",children:t.avatar?c.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:"avatar"}):""}),c.jsx("button",{onClick:()=>{var a;return(a=i.current)==null?void 0:a.click()},className:"absolute bottom-0 right-0 bg-primary text-white p-2 rounded-full shadow-lg hover:bg-red-800 transition cursor-pointer z-10",type:"button",children:c.jsx(dC,{className:"w-4 h-4"})}),c.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:o})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold",children:t.fullName}),c.jsx("p",{className:"text-gray-500",children:t.role})]})]}),c.jsxs("form",{className:"space-y-6",onSubmit:a=>a.preventDefault(),children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:c.jsx(vD,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium block",children:"  "}),c.jsx("span",{className:"text-xs text-gray-500",children:"     "})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n,onChange:a=>r(a.target.checked)}),c.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-500"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-bold border-b pb-2",children:""}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"  "}),c.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"  "}),c.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"   "}),c.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),c.jsx("button",{type:"button",className:"bg-primary text-white px-6 py-2 rounded shadow hover:bg-red-800 transition",onClick:()=>alert("    ."),children:" "})]})]})]})]})},xle=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState([]);N.useEffect(()=>{const y=$i("PROJECT");i(y.map(w=>({...w,...w.data})))},[e]);const[o,a]=N.useState({title:"",manager:"",budget:0,startDate:at(),endDate:"",description:""}),[s,l]=N.useState([]),[u,d]=N.useState({title:"",weight:10}),f=()=>{u.title&&(l([...s,{id:Math.random().toString(),title:u.title,weight:u.weight,progress:0}]),d({title:"",weight:10}))},h=y=>{l(s.filter(w=>w.id!==y))},g=()=>{const y=s.reduce((b,x)=>b+x.weight,0);if(y===0)return 0;const w=s.reduce((b,x)=>b+x.progress*x.weight,0);return Math.round(w/y)},v=y=>{y.preventDefault();const w=Jr("P"),b=s.reduce((_,T)=>_+T.weight,0);if(s.length>0&&b!==100){alert(`     .  : ${b}`);return}const x={...o,milestones:s,progress:g()};Mi("PROJECT",x,t,w,`: ${o.title}`),alert("        ."),n("LIST"),a({title:"",manager:"",budget:0,startDate:at(),endDate:"",description:""}),l([])};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx($o,{title:"   ",icon:Nd,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:y=>y.trackingCode},{header:" ",accessor:y=>c.jsx("span",{className:"font-bold",children:y.title})},{header:" ",accessor:y=>y.manager},{header:" ",accessor:y=>y.startDate},{header:" ()",accessor:y=>Number(y.budget).toLocaleString()},{header:"",accessor:y=>c.jsxs("div",{className:"w-24",children:[c.jsx("div",{className:"flex justify-between text-xs mb-1",children:c.jsxs("span",{children:[y.progress||0,"%"]})}),c.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500",style:{width:`${y.progress||0}%`}})})]})},{header:"",accessor:y=>c.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold",children:y.status==="PENDING"?"  ":" "})}]})}):c.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx(Nd,{className:"w-8 h-8 text-primary"}),c.jsx("h2",{className:"text-xl font-bold",children:"    "})]}),c.jsxs("form",{onSubmit:v,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:o.title,onChange:y=>a({...o,title:y.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:o.manager,onChange:y=>a({...o,manager:y.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),c.jsx("div",{children:c.jsx(fi,{label:" ",value:o.startDate||"",onChange:y=>a({...o,startDate:y})})}),c.jsx("div",{children:c.jsx(fi,{label:"  ()",value:o.endDate||"",onChange:y=>a({...o,endDate:y})})}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:o.budget,onChange:y=>a({...o,budget:Number(y.target.value)}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1 font-medium",children:"    "}),c.jsx("textarea",{value:o.description,onChange:y=>a({...o,description:y.target.value}),className:"w-full p-3 border rounded-xl h-24 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[c.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(ED,{className:"w-5 h-5"}),"   (WBS)"]}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("input",{type:"text",placeholder:"  (: )",className:"flex-[2] p-2 border rounded-lg dark:bg-gray-700",value:u.title,onChange:y=>d({...u,title:y.target.value})}),c.jsx("input",{type:"number",placeholder:" %",className:"flex-1 p-2 border rounded-lg dark:bg-gray-700 text-center",value:u.weight,onChange:y=>d({...u,weight:Number(y.target.value)})}),c.jsx("button",{type:"button",onClick:f,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:c.jsx(mr,{className:"w-5 h-5"})})]}),s.length>0?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"grid grid-cols-12 text-xs text-gray-500 px-2",children:[c.jsx("span",{className:"col-span-8",children:" "}),c.jsx("span",{className:"col-span-2 text-center",children:""}),c.jsx("span",{className:"col-span-2 text-center",children:""})]}),s.map(y=>c.jsxs("div",{className:"grid grid-cols-12 items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm",children:[c.jsxs("span",{className:"col-span-8 font-medium flex items-center gap-2",children:[c.jsx(hC,{className:"w-4 h-4 text-green-500"})," ",y.title]}),c.jsxs("span",{className:"col-span-2 text-center bg-blue-50 text-blue-700 rounded px-1",children:[y.weight,"%"]}),c.jsx("div",{className:"col-span-2 flex justify-center",children:c.jsx("button",{type:"button",onClick:()=>h(y.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:c.jsx(yn,{className:"w-4 h-4"})})})]},y.id)),c.jsxs("div",{className:"mt-2 text-left text-sm font-bold",children:[" : ",c.jsxs("span",{className:`${s.reduce((y,w)=>y+w.weight,0)===100?"text-green-600":"text-red-500"}`,children:[s.reduce((y,w)=>y+w.weight,0),"%"]})]})]}):c.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"    ."})]}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[c.jsxs("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-2",children:[c.jsx(Ln,{className:"w-5 h-5"})," "]}),c.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 flex items-center justify-center gap-2",children:[c.jsx(ms,{className:"w-5 h-5"}),"      "]})]})]})]})},ble=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState(!1),[o,a]=N.useState([]),[s,l]=N.useState([]),[u,d]=N.useState([]),[f,h]=N.useState([]);N.useEffect(()=>{const _=$i("PERFORMANCE");a(_.map(T=>({...T,...T.data}))),In("evaluation_periods").then(l),In("evaluation_criteria").then(T=>{d(T),T.length>0&&g.criteria.length===0&&v(S=>({...S,criteria:T.map(E=>({label:E.title,score:0,max:E.max_score}))}))}),In("personnel").then(h)},[e]);const[g,v]=N.useState({personnelId:"",personnelName:"",unit:"",period:"",criteria:[]});N.useEffect(()=>{s.length>0&&!g.period&&v(_=>({..._,period:s[0].title}))},[s]),N.useEffect(()=>{u.length>0&&g.criteria.length===0&&v(_=>({..._,criteria:u.map(T=>({label:T.title,score:0,max:T.max_score}))}))},[u]);const y=g.criteria.reduce((_,T)=>_+T.score,0),w=_=>{var S;if(_.preventDefault(),!g.personnelId){alert("      .");return}const T=Jr("G");Mi("PERFORMANCE",{...g,totalScore:y},t,T,` : ${g.personnelName} - ${g.period}`),alert("       ."),n("LIST"),v({personnelId:"",personnelName:"",unit:"",period:((S=s[0])==null?void 0:S.title)||"",criteria:u.map(E=>({label:E.title,score:0,max:E.max_score}))})},b=(_,T)=>{const S=g.criteria[_].max;if(T>S){alert(`       (${S})  .`);return}const E=[...g.criteria];E[_].score=Math.max(0,T),v({...g,criteria:E})},x=_=>{v({...g,personnelId:_.id,personnelName:`${_.first_name} ${_.last_name}`,unit:_.unit}),i(!1)};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx($o,{title:"  ",icon:A0,data:o,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:_=>_.trackingCode},{header:" ",accessor:_=>c.jsx("span",{className:"font-bold",children:_.personnelName})},{header:"",accessor:_=>_.unit},{header:" ",accessor:_=>_.period},{header:" ",accessor:_=>c.jsxs("span",{className:`font-bold ${_.totalScore>=80?"text-green-600":"text-orange-500"}`,children:[_.totalScore," / ",u.reduce((T,S)=>T+S.max_score,0)||100]})},{header:"",accessor:_=>_.description.split("")[1]||"-"}]})}):c.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[c.jsx("h2",{className:"text-xl font-bold mb-6",children:"   "}),c.jsxs("form",{onSubmit:w,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),g.personnelName?c.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-600 p-3 rounded-lg border border-primary/30",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:g.personnelName}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:[": ",g.unit]})]}),c.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-primary text-sm underline",children:""})]}):c.jsxs("button",{type:"button",onClick:()=>i(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-lg text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[c.jsx(Fu,{className:"w-5 h-5"}),"   "]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:g.period,onChange:_=>v({...g,period:_.target.value}),className:"w-full p-3 border rounded-lg bg-white dark:bg-gray-600 outline-none focus:ring-2 focus:ring-primary",children:s.length>0?s.map(_=>c.jsx("option",{value:_.title,children:_.title},_.id)):c.jsx("option",{children:"   "})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-bold border-b pb-2 mb-4",children:" "}),g.criteria.length>0?g.criteria.map((_,T)=>c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[c.jsxs("div",{className:"mb-2 md:mb-0",children:[c.jsxs("span",{className:"font-medium block",children:[T+1,". ",_.label]}),c.jsxs("span",{className:"text-xs text-gray-500",children:["   : ",_.max]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",min:"0",max:_.max,value:_.score,onChange:S=>b(T,Number(S.target.value)),className:"w-20 p-2 border rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-primary dark:bg-gray-600"}),c.jsxs("span",{className:"text-gray-400 text-sm",children:["/ ",_.max]})]})]},T)):c.jsx("p",{className:"text-center text-gray-400",children:"   ."})]}),c.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 pt-4 pb-2 border-t dark:border-gray-700",children:[c.jsxs("div",{className:"flex justify-between items-center bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl mb-4",children:[c.jsx("span",{className:"font-bold text-lg text-blue-800 dark:text-blue-300",children:"   "}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-4xl font-black text-primary",children:y}),c.jsxs("span",{className:"text-gray-500",children:["/ ",u.reduce((_,T)=>_+T.max_score,0)||100]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),c.jsx("button",{type:"submit",className:"flex-1 bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95",children:"   "})]})]})]}),r&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[80vh]",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[c.jsx("h3",{className:"font-bold text-lg",children:" "}),c.jsx("button",{onClick:()=>i(!1),children:c.jsx(Ln,{className:"w-5 h-5 text-gray-500"})})]}),c.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:c.jsxs("div",{className:"relative",children:[c.jsx(Rd,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})}),c.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"text-gray-500 bg-gray-50 dark:bg-gray-700/50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"   "}),c.jsx("th",{className:"p-3",children:" "}),c.jsx("th",{className:"p-3",children:""})]})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:f.length>0?f.map(_=>c.jsxs("tr",{onClick:()=>x(_),className:"hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition",children:[c.jsxs("td",{className:"p-3 font-bold",children:[_.first_name," ",_.last_name]}),c.jsx("td",{className:"p-3 text-gray-500 dark:text-gray-400",children:_.unit}),c.jsx("td",{className:"p-3",children:c.jsx("button",{className:"bg-primary/10 text-primary p-1.5 rounded-full",children:c.jsx(k0,{className:"w-4 h-4"})})})]},_.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"p-4 text-center",children:"  ."})})})]})})]})})]})},wle=({user:t})=>{var v;const[e,n]=N.useState("WORK_ORDER"),[r,i]=N.useState([]),[o,a]=N.useState(null);N.useEffect(()=>{const y=nT(t);i(y)},[t,e]);const s=(y,w)=>{o&&(ule(o.id,y,t),a(null),i(nT(t)))},l=y=>{const b=u(o).find(x=>x.style==="primary"||x.style==="success");b&&o?(o.data=y,s(b.id)):alert("      .")},u=y=>{const b=Ou().find(_=>_.id===y.workflowId);if(!b)return[];const x=b.steps.find(_=>_.id===y.currentStepId);return x?x.actions:[]},d=y=>{const b=Ou().find(_=>_.id===y.workflowId),x=b==null?void 0:b.steps.find(_=>_.id===y.currentStepId);return(x==null?void 0:x.title)||""},f=y=>r.filter(w=>w.module===y).length,h=[{id:"WORK_ORDER",label:" ",icon:Nw},{id:"PROJECT",label:"",icon:Nd},{id:"PERFORMANCE",label:" ",icon:A0},{id:"PART_REQUEST",label:" ",icon:jd},{id:"INSPECTION",label:" ",icon:gC},{id:"DOCUMENT",label:" ",icon:kd},{id:"MEETING",label:"",icon:Pd},{id:"SUGGESTION",label:"",icon:Od},{id:"PURCHASE",label:" ",icon:$d}],g=({item:y})=>{const w=u(y),[b,x]=N.useState("");return y.module==="WORK_ORDER"?c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2",children:[c.jsx(Nw,{className:"w-5 h-5 text-primary"}),y.title]}),c.jsx("span",{className:"text-xs text-gray-500",children:y.trackingCode})]}),c.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:c.jsx(Tw,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx(Yx,{initialData:y.data,onProcessComplete:l})})]}):c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs font-bold",children:y.module}),c.jsx("span",{className:"text-gray-400 text-xs",children:y.trackingCode})]}),c.jsx("h2",{className:"text-xl font-bold",children:y.title}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),c.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Tw,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-bold border-r-4 border-primary pr-3 mb-3",children:" "}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg text-sm space-y-2",children:Object.entries(y.data).map(([_,T])=>typeof T=="object"||Array.isArray(T)||_==="id"?null:c.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-600 pb-1 last:border-0",children:[c.jsxs("span",{className:"text-gray-500",children:[_,":"]}),c.jsx("span",{className:"font-medium",children:String(T)})]},_))})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" /  ():"}),c.jsx("textarea",{value:b,onChange:_=>x(_.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none",placeholder:"    ...",rows:3})]})]}),c.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 flex gap-3 flex-wrap",children:w.map(_=>{const T=_.style==="primary"?"bg-blue-600 hover:bg-blue-700 text-white":_.style==="success"?"bg-green-600 hover:bg-green-700 text-white":_.style==="danger"?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800";return c.jsx("button",{onClick:()=>s(_.id),className:`flex-1 py-3 px-4 rounded-xl font-bold shadow-md transition transform active:scale-95 ${T}`,children:_.label},_.id)})})]})};return o?c.jsx("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] p-4",children:c.jsx(g,{item:o})}):c.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[c.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[c.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:c.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[c.jsx(Id,{className:"w-5 h-5"}),"  "]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:h.map(y=>c.jsxs("button",{onClick:()=>{n(y.id)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e===y.id?"bg-primary text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(y.icon,{className:"w-4 h-4"}),c.jsx("span",{children:y.label})]}),f(y.id)>0&&c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${e===y.id?"bg-white text-primary":"bg-gray-200 text-gray-700"}`,children:f(y.id)})]},y.id))})]}),c.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:c.jsxs("h3",{className:"font-bold",children:[" : ",(v=h.find(y=>y.id===e))==null?void 0:v.label]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:r.filter(y=>y.module===e).length===0?c.jsxs("div",{className:"text-center py-20 text-gray-400 flex flex-col items-center",children:[c.jsx(fC,{className:"w-12 h-12 mb-3 opacity-20"}),c.jsx("p",{children:"     ."})]}):r.filter(y=>y.module===e).map(y=>c.jsx("div",{onClick:()=>a(y),className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-md hover:border-primary transition cursor-pointer group",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-primary transition",children:y.title}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded font-bold",children:d(y)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1 justify-end",children:[c.jsx(C0,{className:"w-3 h-3"})," ",y.updatedAt]})]})]})},y.id))})]})})]})},_le=[{id:"1",name:" "},{id:"2",name:" "},{id:"3",name:" "},{id:"4",name:" "}],Sle=({user:t})=>{const[e,n]=N.useState("INBOX"),[r,i]=N.useState([]),[o,a]=N.useState([]),[s,l]=N.useState(null),[u,d]=N.useState("USER"),[f,h]=N.useState(""),[g,v]=N.useState(""),[y,w]=N.useState("");N.useEffect(()=>{b()},[t,e]);const b=()=>{i(rle(t)),a(ile(t.id))},x=S=>{l(S),e==="INBOX"&&!S.readBy.includes(t.id)&&(ole(S.id,t.id),i(E=>E.map(A=>A.id===S.id?{...A,readBy:[...A.readBy,t.id]}:A)))},_=S=>{S.preventDefault();let E=f;if(u==="ALL"&&(E="ALL"),u!=="ALL"&&!E){alert("    ");return}nle(t,E,u,g,y),alert("    "),v(""),w(""),h(""),n("SENT")},T=S=>S.readBy.length>0?c.jsx("span",{title:" ",children:c.jsx(Aw,{className:"w-4 h-4 text-blue-500"})}):c.jsx("span",{title:" ",children:c.jsx(k0,{className:"w-4 h-4 text-gray-400"})});return c.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[c.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[c.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:c.jsxs("button",{onClick:()=>{n("COMPOSE"),l(null)},className:"w-full bg-blue-600 text-white py-2 rounded-lg shadow hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[c.jsx(Md,{className:"w-4 h-4"}),"   "]})}),c.jsxs("div",{className:"p-2 space-y-1",children:[c.jsxs("button",{onClick:()=>{n("INBOX"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="INBOX"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Id,{className:"w-4 h-4"}),"  "]}),r.filter(S=>!S.readBy.includes(t.id)).length>0&&c.jsx("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs",children:r.filter(S=>!S.readBy.includes(t.id)).length})]}),c.jsx("button",{onClick:()=>{n("SENT"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="SENT"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(j0,{className:"w-4 h-4"}),"  "]})})]})]}),c.jsxs("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[e==="COMPOSE"&&c.jsxs("div",{className:"p-6",children:[c.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[c.jsx(bC,{className:"w-6 h-6 text-primary"}),"   "]}),c.jsxs("form",{onSubmit:_,className:"space-y-4 max-w-2xl",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>d("USER"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="USER"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[c.jsx(R0,{className:"w-4 h-4"})," "]}),c.jsxs("button",{type:"button",onClick:()=>d("GROUP"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="GROUP"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[c.jsx(Fu,{className:"w-4 h-4"})," "]}),c.jsxs("button",{type:"button",onClick:()=>d("ALL"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="ALL"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[c.jsx(oD,{className:"w-4 h-4"})," "]})]})]}),u==="USER"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),c.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:f,onChange:S=>h(S.target.value),required:!0,children:[c.jsx("option",{value:"",children:" ..."}),_le.map(S=>c.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u==="GROUP"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",children:"  "}),c.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:f,onChange:S=>h(S.target.value),required:!0,children:[c.jsx("option",{value:"",children:" ..."}),c.jsx("option",{value:Zt.ADMIN,children:" "}),c.jsx("option",{value:Zt.MANAGER,children:" "}),c.jsx("option",{value:Zt.USER,children:" "}),c.jsx("option",{value:Zt.STOREKEEPER,children:""})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:g,onChange:S=>v(S.target.value),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{value:y,onChange:S=>w(S.target.value),className:"w-full p-3 border rounded-lg h-40 bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",required:!0,placeholder:"    ..."})]}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsxs("button",{type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center gap-2",children:[c.jsx(Md,{className:"w-5 h-5"}),"  "]})})]})]}),(e==="INBOX"||e==="SENT")&&c.jsxs("div",{className:"flex h-full",children:[c.jsxs("div",{className:`${s?"hidden md:block md:w-1/3 border-l dark:border-gray-700":"w-full"} overflow-y-auto`,children:[(e==="INBOX"?r:o).length===0&&c.jsxs("div",{className:"text-center p-10 text-gray-400",children:[c.jsx(Id,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),c.jsx("p",{children:"   "})]}),(e==="INBOX"?r:o).map(S=>c.jsxs("div",{onClick:()=>x(S),className:`p-4 border-b dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition
                                    ${(s==null?void 0:s.id)===S.id?"bg-blue-50 dark:bg-blue-900/20":""}
                                    ${e==="INBOX"&&!S.readBy.includes(t.id)?"border-r-4 border-r-primary bg-gray-50/50":""}
                                `,children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("span",{className:`text-sm ${e==="INBOX"&&!S.readBy.includes(t.id)?"font-black text-gray-900 dark:text-white":"font-medium text-gray-700 dark:text-gray-300"}`,children:e==="INBOX"?S.senderName:`: ${S.receiverId==="ALL"?"":S.receiverType==="GROUP"?" "+S.receiverId:""}`}),c.jsx("span",{className:"text-xs text-gray-400",children:S.createdAt})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:`text-sm truncate ${e==="INBOX"&&!S.readBy.includes(t.id)?"font-bold":"text-gray-600"}`,children:S.subject}),e==="SENT"&&T(S)]}),c.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",children:S.body})]},S.id))]}),s?c.jsxs("div",{className:"flex-1 flex flex-col h-full bg-gray-50 dark:bg-gray-900/50",children:[c.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:s.subject}),c.jsx("button",{onClick:()=>l(null),className:"md:hidden text-sm text-blue-600",children:""})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-300",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center font-bold text-gray-500",children:s.senderName[0]}),c.jsxs("div",{children:[c.jsx("p",{children:c.jsx("span",{className:"font-bold",children:s.senderName})}),c.jsx("p",{className:"text-xs opacity-70",children:s.createdAt})]})]}),e==="SENT"&&c.jsxs("div",{className:"mt-4 pt-3 border-t dark:border-gray-700 text-xs text-gray-500",children:[": ",s.receiverType==="ALL"?" ":s.receiverType==="GROUP"?` ${s.receiverId}`:"",s.readBy.length>0&&c.jsxs("span",{className:"mr-2 text-green-600 flex items-center gap-1 inline-flex",children:[c.jsx(Aw,{className:"w-3 h-3"}),"    ",s.readBy.length," "]})]})]}),c.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:c.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200",children:s.body})})]}):c.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center text-gray-400 bg-gray-50 dark:bg-gray-900/50",children:c.jsx("p",{children:"       "})})]})]})]})},Ele=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(null);N.useEffect(()=>{e(Ou())},[]);const i=()=>{const l={id:Si(),title:" ",module:"WORK_ORDER",isActive:!1,steps:[]};r(l)},o=()=>{n&&(lle(n),e(Ou()),alert("    ."))},a=()=>{if(!n)return;const l={id:Si(),title:" ",assigneeRole:Zt.ADMIN,actions:[]};r({...n,steps:[...n.steps,l]})},s=l=>{if(!n)return;const u={id:Si(),label:"  ",nextStepId:"FINISH",style:"primary"};r({...n,steps:n.steps.map(d=>d.id!==l?d:{...d,actions:[...d.actions,u]})})};return n?c.jsxs("div",{className:"max-w-6xl mx-auto pb-20 h-[calc(100vh-100px)] flex flex-col",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm mb-6 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>r(null),className:"text-gray-500 hover:text-gray-800",children:""}),c.jsx("div",{className:"h-8 w-px bg-gray-300"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),c.jsx("input",{value:n.title,onChange:l=>r({...n,title:l.target.value}),className:"font-bold bg-transparent outline-none border-b border-dashed border-gray-300 focus:border-primary"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),c.jsxs("select",{value:n.module,onChange:l=>r({...n,module:l.target.value}),className:"bg-gray-50 dark:bg-gray-700 rounded p-1 text-sm outline-none",children:[c.jsx("option",{value:"WORK_ORDER",children:"  (Work Order)"}),c.jsx("option",{value:"PROJECT",children:" (Project)"}),c.jsx("option",{value:"PART_REQUEST",children:" "}),c.jsx("option",{value:"PURCHASE",children:" "}),c.jsx("option",{value:"PERFORMANCE",children:" "}),c.jsx("option",{value:"MEETING",children:""}),c.jsx("option",{value:"SUGGESTION",children:""})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[c.jsx("input",{type:"checkbox",checked:n.isActive,onChange:l=>r({...n,isActive:l.target.checked}),className:"w-4 h-4 text-primary rounded"})," "]}),c.jsxs("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow",children:[c.jsx(ms,{className:"w-4 h-4"}),"  "]})]})]}),c.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto bg-gray-100 dark:bg-gray-900 rounded-xl p-6 border border-dashed border-gray-300 relative",children:c.jsxs("div",{className:"flex gap-8 min-w-max",children:[c.jsxs("div",{className:"w-16 flex flex-col items-center justify-center pt-20 opacity-50",children:[c.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg mb-2",children:c.jsx(pD,{className:"w-6 h-6 ml-1"})}),c.jsx("span",{className:"text-xs font-bold",children:""})]}),c.jsx(Kp,{className:"w-8 h-8 text-gray-300 self-center mt-8"}),n.steps.map((l,u)=>c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 rounded-xl shadow-lg border-t-4 border-primary flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("input",{value:l.title,onChange:d=>{const f=[...n.steps];f[u].title=d.target.value,r({...n,steps:f})},className:"font-bold text-gray-800 dark:text-white bg-transparent outline-none w-full",placeholder:" "}),c.jsxs("div",{className:"mt-2",children:[c.jsx("label",{className:"text-xs text-gray-500",children:" :"}),c.jsxs("select",{value:l.assigneeRole,onChange:d=>{const f=[...n.steps];f[u].assigneeRole=d.target.value,r({...n,steps:f})},className:"block w-full mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-1 rounded",children:[Object.values(Zt).map(d=>c.jsx("option",{value:d,children:d},d)),c.jsx("option",{value:"INITIATOR",children:"  (Initiator)"})]})]})]}),c.jsx("button",{onClick:()=>{const d=n.steps.filter(f=>f.id!==l.id);r({...n,steps:d})},className:"text-red-400 hover:text-red-600",children:c.jsx(yn,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 flex-1 space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:" (Actions):"}),l.actions.map((d,f)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600 text-sm space-y-2",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{value:d.label,onChange:h=>{const g=[...n.steps];g[u].actions[f].label=h.target.value,r({...n,steps:g})},className:"flex-1 bg-transparent border-b border-dashed outline-none",placeholder:" "}),c.jsxs("select",{value:d.style,onChange:h=>{const g=[...n.steps];g[u].actions[f].style=h.target.value,r({...n,steps:g})},className:"text-xs bg-gray-100 rounded",children:[c.jsx("option",{value:"primary",children:""}),c.jsx("option",{value:"success",children:""}),c.jsx("option",{value:"danger",children:""}),c.jsx("option",{value:"neutral",children:""})]})]}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[c.jsx(Kp,{className:"w-3 h-3"}),c.jsx("span",{children:" :"}),c.jsxs("select",{value:d.nextStepId,onChange:h=>{const g=[...n.steps];g[u].actions[f].nextStepId=h.target.value,r({...n,steps:g})},className:"bg-transparent font-medium text-gray-800 dark:text-gray-200 outline-none",children:[c.jsx("option",{value:"FINISH",children:" "}),n.steps.map(h=>c.jsx("option",{value:h.id,children:h.title},h.id))]})]})]},d.id)),c.jsx("button",{onClick:()=>s(l.id),className:"w-full py-1 text-xs text-primary border border-dashed border-primary/30 rounded hover:bg-primary/5",children:"+  "})]})]}),c.jsx(Kp,{className:"w-8 h-8 text-gray-300"})]},l.id)),c.jsxs("button",{onClick:a,className:"h-80 w-40 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-primary hover:text-primary transition bg-white/50",children:[c.jsx(mr,{className:"w-8 h-8 mb-2"}),c.jsx("span",{children:" "})]})]})})]}):c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(vC,{className:"text-primary"}),"   "]}),c.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[c.jsx(mr,{className:"w-4 h-4"}),"  "]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600",children:c.jsx(O0,{className:"w-6 h-6"})}),c.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${l.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:l.isActive?"":""})]}),c.jsx("h3",{className:"font-bold text-lg mb-1",children:l.title}),c.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[": ",l.module]}),c.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[l.steps.length,"   "]}),c.jsx("button",{onClick:()=>r(l),className:"w-full py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition",children:" "})]},l.id))})]})},Tle=()=>{const[t,e]=N.useState("LOGINS"),[n,r]=N.useState([]),[i,o]=N.useState([]),[a,s]=N.useState([]),[l,u]=N.useState(""),[d,f]=N.useState(!0),h={LOGINS:[{id:"userName",label:" ",visible:!0},{id:"personnelCode",label:" ",visible:!0},{id:"action",label:" ",visible:!0},{id:"date",label:"",visible:!0},{id:"time",label:"",visible:!0},{id:"ip",label:" IP",visible:!0},{id:"details",label:"",visible:!1}],WORK_ORDERS:[{id:"trackingCode",label:" ",visible:!0},{id:"title",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:" ",visible:!0},{id:"status",label:"",visible:!0},{id:"equipName",label:"",visible:!0}],PARTS:[{id:"partName",label:" ",visible:!0},{id:"qty",label:"",visible:!0},{id:"unit",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:"",visible:!0}]};N.useEffect(()=>{g(),s(h[t])},[t]),N.useEffect(()=>{if(l){const b=l.toLowerCase();o(n.filter(x=>Object.values(x).some(_=>String(_).toLowerCase().includes(b))))}else o(n)},[l,n]);const g=()=>{let b=[];switch(t){case"LOGINS":b=JSON.parse(localStorage.getItem("system_logs")||"[]"),b.reverse();break;case"WORK_ORDERS":b=Jx().map(x=>{var _,T;return{...x,requester:((_=x.data)==null?void 0:_.requester)||"-",equipName:((T=x.data)==null?void 0:T.equipName)||"-"}});break;case"PARTS":b=$i("PART_REQUEST").map(x=>{var _,T,S;return{...x,partName:(_=x.data)==null?void 0:_.partName,qty:(T=x.data)==null?void 0:T.qty,unit:(S=x.data)==null?void 0:S.unit,requester:x.description.split("")[1]||"-"}});break}r(b),o(b)},v=b=>{s(x=>x.map(_=>_.id===b?{..._,visible:!_.visible}:_))},y=()=>{if(i.length===0)return alert("    ");const b=a.filter(E=>E.visible),x=b.map(E=>E.label),_=i.map(E=>b.map(A=>E[A.id]||"-")),T="data:text/csv;charset=utf-8,\uFEFF"+x.join(",")+`
`+_.map(E=>E.join(",")).join(`
`),S=document.createElement("a");S.setAttribute("href",encodeURI(T)),S.setAttribute("download",`report_${t}_${Date.now()}.csv`),document.body.appendChild(S),S.click(),document.body.removeChild(S)},w=()=>{if(i.length===0)return[];const b=t==="LOGINS"?"date":"status",x={};return i.forEach(_=>{const T=_[b]||"";x[T]=(x[T]||0)+1}),Object.keys(x).map(_=>({name:_,count:x[_]})).slice(0,10)};return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:c.jsx(_C,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:" "}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"       "})]})]}),c.jsxs("button",{onClick:y,className:"bg-green-600 text-white px-4 py-2 rounded-xl shadow-lg flex items-center gap-2 hover:bg-green-700 transition",children:[c.jsx(P0,{className:"w-5 h-5"}),"  "]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700",children:[c.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[c.jsx(O0,{className:"w-4 h-4"}),"  "]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),c.jsxs("select",{value:t,onChange:b=>e(b.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-sm",children:[c.jsx("option",{value:"LOGINS",children:"  "}),c.jsx("option",{value:"WORK_ORDERS",children:" "}),c.jsx("option",{value:"PARTS",children:" "})]})]}),c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>f(!d),className:"flex items-center justify-between w-full text-xs font-bold text-gray-500 mb-2 hover:text-primary transition",children:[" ",d?c.jsx(mC,{className:"w-3 h-3"}):c.jsx(pC,{className:"w-3 h-3"})]}),d&&c.jsx("div",{className:"space-y-1 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg max-h-60 overflow-y-auto",children:a.map(b=>c.jsxs("div",{onClick:()=>v(b.id),className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 p-1 rounded",children:[b.visible?c.jsx(hC,{className:"w-4 h-4 text-primary"}):c.jsx(wD,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm",children:b.label})]},b.id))})]}),c.jsxs("button",{onClick:g,className:"w-full py-2 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-100 transition text-sm font-bold",children:[c.jsx(yD,{className:"w-4 h-4"}),"  "]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700 h-64",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:"  "}),c.jsx(Aa,{width:"100%",height:"90%",children:c.jsxs(Vx,{data:w(),children:[c.jsx(Su,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Ai,{dataKey:"name",fontSize:10,angle:-45,textAnchor:"end",height:50}),c.jsx(ki,{fontSize:10}),c.jsx(Vt,{}),c.jsx(xr,{dataKey:"count",fill:"#800020",radius:[4,4,0,0]})]})})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col h-full min-h-[500px]",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[c.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200",children:["  (",i.length," )"]}),c.jsxs("div",{className:"relative w-64",children:[c.jsx(I0,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"  ...",value:l,onChange:b=>u(b.target.value),className:"w-full pr-9 pl-4 py-1.5 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-1 focus:ring-primary"})]})]}),c.jsx("div",{className:"flex-1 overflow-auto",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 sticky top-0 shadow-sm",children:c.jsx("tr",{children:a.filter(b=>b.visible).map(b=>c.jsx("th",{className:"p-4 whitespace-nowrap",children:b.label},b.id))})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-600",children:i.length>0?i.map((b,x)=>c.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:a.filter(_=>_.visible).map(_=>c.jsx("td",{className:"p-4 whitespace-nowrap text-gray-700 dark:text-gray-200",children:b[_.id]||"-"},_.id))},x)):c.jsx("tr",{children:c.jsx("td",{colSpan:a.filter(b=>b.visible).length,className:"p-10 text-center text-gray-400",children:"  "})})})]})})]})})]})]})},iT=({title:t,selectedCloths:e,onChange:n})=>{const[r,i]=N.useState(!1),o=(a,s)=>{const l=`D${a}-C${s}`;e.includes(l)?n(e.filter(u=>u!==l)):n([...e,l])};return c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-white dark:bg-gray-800",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("h4",{className:"font-bold text-sm flex items-center gap-2",children:[c.jsx(aD,{className:"w-4 h-4 text-primary"})," : ",t]}),c.jsx("button",{type:"button",onClick:()=>i(!r),className:"text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-100 transition",children:r?" ":"  (6 )"})]}),c.jsx("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-2",children:c.jsxs("span",{children:["  : ",c.jsx("span",{className:"font-bold text-red-500 text-lg",children:e.length})," "]})}),r&&c.jsx("div",{className:"space-y-4 animate-fadeIn mt-4 bg-gray-50 dark:bg-gray-900 p-4 rounded-lg overflow-x-auto",children:Array.from({length:6}).map((a,s)=>{const l=s+1;return c.jsxs("div",{className:"flex flex-col gap-1 min-w-[600px]",children:[c.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["  ",l]}),c.jsx("div",{className:"flex gap-1",children:Array.from({length:20}).map((u,d)=>{const f=d+1,h=`D${l}-C${f}`,g=e.includes(h);return c.jsx("div",{onClick:()=>o(l,f),className:`
                          w-8 h-8 flex items-center justify-center text-[10px] rounded cursor-pointer border transition-all
                          ${g?"bg-red-500 text-white border-red-600 shadow-sm font-bold":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:border-primary"}
                        `,title:` ${l} -  ${f}`,children:f},h)})})]},l)})})]})},oT=["07:30","08:30","09:30","10:30","11:30","12:30","01:30","02:30","03:30","04:30","05:30","06:30"],Ale=["25","30","40","50","60","70","80","90","100"],kle={Day1:" ",Day2:" ",Night1:" ",Night2:" "},$c=["","","","",""],Rm=[{key:"single",label:" "},{key:"upper",label:"  "},{key:"middle",label:"  "},{key:"lower",label:"  "}],Nle=({user:t})=>{const e=ps(),[n,r]=N.useState(1),[i,o]=N.useState(!1),[a,s]=N.useState(null),[l,u]=N.useState(null),[d,f]=N.useState([]),[h,g]=N.useState({name:"A",type:"Day1",date:at(),supervisor:t.id}),[v,y]=N.useState({}),[w,b]=N.useState({lineA:{},lineB:{}}),[x,_]=N.useState({lineA:{},lineB:{}}),[T,S]=N.useState({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",balls:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",balls:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",balls:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",balls:[]}}}),[E,A]=N.useState({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),[k,C]=N.useState({lineA:{primary:{inCircuit:!1,activeCyclones:[],pressure:"",angle:""},secondary:{inCircuit:!1,activeCyclones:[],pressure:"",angle:""}},lineB:{primary:{inCircuit:!1,activeCyclones:[],pressure:"",angle:""},secondary:{inCircuit:!1,activeCyclones:[],pressure:"",angle:""}}}),[P,O]=N.useState({lineA:[{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""},{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""},{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""}],lineB:[{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""},{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""},{active:!1,pressure:"",jackHeight:"",output:"",channelOutput:""}]}),[$,U]=N.useState({lineA:{single:!1,upper:!1,middle:!1,lower:!1},lineB:{single:!1,upper:!1,middle:!1,lower:!1}}),[R,I]=N.useState({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),[D,q]=N.useState({process:[],cleanWater:[]}),[L,B]=N.useState({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""}}),[H,Y]=N.useState({nextShiftActions:""});N.useEffect(()=>{In("personnel").then(M=>{f(M),y({})})},[]),N.useEffect(()=>{if(l){const M=setTimeout(()=>{window.print()},1e3);return()=>clearTimeout(M)}},[l]);const z=(M,F,X)=>{b(K=>({...K,[M]:{...K[M],[F]:Number(X)}}))},oe=(M,F,X)=>{_(K=>({...K,[M]:{...K[M],[F]:X}}))},xe=M=>Object.values(w[M]).reduce((F,X)=>F+X,0),Ee=(M,F)=>{M&&y(X=>({...X,[M]:F}))},Pe=M=>{const F={...v};delete F[M],y(F)},Ze=()=>{const M=window.SpeechRecognition||window.webkitSpeechRecognition;if(!M)return;const F=new M;F.lang="fa-IR",F.onstart=()=>s("nextShift"),F.onend=()=>s(null),F.onresult=X=>{const K=X.results[0][0].transcript;Y(he=>({...he,nextShiftActions:he.nextShiftActions+" "+K}))},F.start()},rt=async()=>{if(navigator.share)try{await navigator.share({title:`  ${l.shiftInfo.name}`,text:`  A: ${l.totalA} 
  B: ${l.totalB} `})}catch(M){console.log("Error sharing",M)}else alert("      .")},ee=M=>{if(!M)return 0;const[F,X]=M.split(":").map(Number);return F*60+X},me=M=>{const F=Math.floor(M/60),X=M%60;return`${String(F).padStart(2,"0")}:${String(X).padStart(2,"0")}`},ge=M=>{const F=cs(M);return F?["","","","","","",""][F.getDay()]:""},W=async M=>{if(M.preventDefault(),!window.confirm("       "))return;if(L.lineA.stopTime!==""&&L.lineA.stopTime!=="00:00"&&!L.lineA.reason){alert("    A   .");return}if(L.lineB.stopTime!==""&&L.lineB.stopTime!=="00:00"&&!L.lineB.reason){alert("    B   .");return}o(!0);const F=Jr("T"),X=Object.keys(v).filter(le=>v[le]==="PRESENT"),K=Object.keys(v).filter(le=>v[le]==="ABSENT"),he=Object.keys(v).filter(le=>v[le]==="REST"),fe={code:F,shiftInfo:h,attendance:{present:X,absent:K,rest:he,map:v},production:w,feedTypes:x,ballMills:T,concentrateFilters:E,hydrocyclones:k,thickeners:P,drumMagnets:$,recoveryFilters:R,pumps:D,downtime:L,footer:H,totalA:xe("lineA"),totalB:xe("lineB")};Mi("SHIFT_REPORT",fe,t,F,`  ${h.name} - ${h.date}`),setTimeout(()=>{u(fe),o(!1),window.scrollTo(0,0)},1500)},Me=({value:M,onChange:F,label:X})=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold mb-1",children:X}),c.jsxs("select",{value:M,onChange:K=>F(K.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-700 text-sm",children:[c.jsx("option",{value:"",children:" ..."}),d.filter(K=>v[K.id]==="PRESENT").map(K=>c.jsxs("option",{value:K.id,children:[K.first_name," ",K.last_name]},K.id))]})]}),V=()=>d.filter(M=>!v[M.id]),ne=M=>d.filter(F=>v[F.id]===M);if(l){const F=ee(l.downtime.lineA.stopTime||"00:00"),X=Math.max(0,720-F),K=ee(l.downtime.lineB.stopTime||"00:00"),he=Math.max(0,720-K),fe=[{name:"",value:X,fill:"#22c55e"},{name:"",value:F,fill:"#ef4444"}],le=[{name:"",value:he,fill:"#22c55e"},{name:"",value:K,fill:"#ef4444"}],Ne=oT.map(be=>({name:be,LineA:l.production.lineA[be]||0,LineB:l.production.lineB[be]||0})),Yt=(l.concentrateFilters.lineA.active?l.concentrateFilters.lineA.cloths.length:0)+(l.concentrateFilters.lineB.active?l.concentrateFilters.lineB.cloths.length:0)+(l.concentrateFilters.reserve.active?l.concentrateFilters.reserve.cloths.length:0),Li=l.recoveryFilters.lineA.reduce((be,Ke)=>be+(Ke.active?Ke.cloths.length:0),0)+l.recoveryFilters.lineB.reduce((be,Ke)=>be+(Ke.active?Ke.cloths.length:0),0);return c.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 pb-20 pt-6 px-4 font-sans flex flex-col items-center",children:[c.jsxs("div",{className:"w-[210mm] min-h-[297mm] bg-white dark:bg-gray-800 shadow-2xl rounded-sm overflow-hidden animate-slideUp print:shadow-none print:w-full print:h-auto relative",children:[c.jsxs("div",{className:"border-b-4 border-primary p-6 relative bg-white dark:bg-gray-900",children:[c.jsx("div",{className:"absolute top-4 left-6 w-24 h-24",children:c.jsx(EC,{className:"w-full h-full object-contain"})}),c.jsxs("div",{className:"text-center pt-2 pb-4 px-20",children:[c.jsx("h1",{className:"text-2xl font-black text-[#800020] dark:text-red-400 leading-tight",children:"     "}),c.jsx("p",{className:"text-sm text-gray-500 font-bold tracking-[0.2em] mt-2 uppercase",children:"     "})]}),c.jsxs("div",{className:"absolute top-6 right-6 text-left text-sm space-y-1 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg border border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"flex justify-between w-40 border-b border-gray-200 pb-1",children:[c.jsx("span",{className:"text-gray-500 text-xs",children:":"}),c.jsx("span",{className:"font-mono font-bold text-xs",children:l.shiftInfo.date})]}),c.jsxs("div",{className:"flex justify-between w-40 border-b border-gray-200 pb-1",children:[c.jsx("span",{className:"text-gray-500 text-xs",children:":"}),c.jsxs("span",{className:"font-bold text-xs",children:[l.shiftInfo.name," (",kle[l.shiftInfo.type],")"]})]}),c.jsxs("div",{className:"flex justify-between w-40",children:[c.jsx("span",{className:"text-gray-500 text-xs",children:" :"}),c.jsx("span",{className:"font-mono font-bold text-primary text-xs",children:l.code})]})]})]}),c.jsxs("div",{className:"p-8 space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl text-center border border-blue-100 dark:border-blue-800",children:[c.jsx("span",{className:"block text-xs text-blue-600 dark:text-blue-300 font-bold mb-1",children:"   A"}),c.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white",children:l.totalA}),c.jsx("span",{className:"text-xs text-gray-500 block",children:""})]}),c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-xl text-center border border-red-100 dark:border-red-800",children:[c.jsx("span",{className:"block text-xs text-red-600 dark:text-red-300 font-bold mb-1",children:"   B"}),c.jsx("span",{className:"text-3xl font-black text-gray-800 dark:text-white",children:l.totalB}),c.jsx("span",{className:"text-xs text-gray-500 block",children:""})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-xl text-center border border-green-100 dark:border-green-800",children:[c.jsx("span",{className:"block text-xs text-green-600 dark:text-green-300 font-bold mb-1",children:" "}),c.jsxs("div",{className:"flex justify-center gap-4 text-sm mt-1",children:[c.jsxs("span",{className:"text-green-600 font-bold",children:[l.attendance.present.length," "]}),c.jsxs("span",{className:"text-red-600 font-bold",children:[l.attendance.absent.length," "]})]})]})]}),c.jsxs("div",{className:"border rounded-xl p-4",children:[c.jsx("h3",{className:"text-xs font-bold text-gray-500 text-center mb-4",children:"   (/)"}),c.jsx("div",{className:"h-48 w-full",children:c.jsx(Aa,{width:"100%",height:"100%",children:c.jsxs(Vx,{data:Ne,children:[c.jsx(Su,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Ai,{dataKey:"name",tick:{fontSize:10}}),c.jsx(ki,{tick:{fontSize:10}}),c.jsx(Vt,{}),c.jsx(fo,{}),c.jsx(xr,{dataKey:"LineA",name:" A",fill:"#3b82f6",radius:[4,4,0,0]}),c.jsx(xr,{dataKey:"LineB",name:" B",fill:"#ef4444",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-700/30 p-4 rounded-2xl border border-gray-100 dark:border-gray-600 shadow-sm flex flex-col items-center",children:[c.jsx("h3",{className:"font-bold text-lg mb-2 text-gray-700 dark:text-gray-200 w-full text-center border-b pb-2",children:"   A"}),c.jsx("div",{className:"h-40 w-full relative",children:c.jsx(Aa,{width:"100%",height:"100%",children:c.jsxs(PE,{children:[c.jsx(vr,{data:fe,cx:"50%",cy:"50%",innerRadius:0,outerRadius:60,paddingAngle:2,dataKey:"value",stroke:"none",children:fe.map((be,Ke)=>c.jsx(Kl,{fill:be.fill},`cell-${Ke}`))}),c.jsx(Vt,{})]})})}),c.jsxs("div",{className:"flex justify-between w-full px-4 mt-2 text-sm",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("span",{className:"flex items-center gap-1 font-bold text-green-600",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," "]}),c.jsx("span",{className:"font-mono",children:me(X)})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("span",{className:"flex items-center gap-1 font-bold text-red-600",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"})," "]}),c.jsx("span",{className:"font-mono",children:l.downtime.lineA.stopTime||"00:00"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-700/30 p-4 rounded-2xl border border-gray-100 dark:border-gray-600 shadow-sm flex flex-col items-center",children:[c.jsx("h3",{className:"font-bold text-lg mb-2 text-gray-700 dark:text-gray-200 w-full text-center border-b pb-2",children:"   B"}),c.jsx("div",{className:"h-40 w-full relative",children:c.jsx(Aa,{width:"100%",height:"100%",children:c.jsxs(PE,{children:[c.jsx(vr,{data:le,cx:"50%",cy:"50%",innerRadius:0,outerRadius:60,paddingAngle:2,dataKey:"value",stroke:"none",children:le.map((be,Ke)=>c.jsx(Kl,{fill:be.fill},`cell-${Ke}`))}),c.jsx(Vt,{})]})})}),c.jsxs("div",{className:"flex justify-between w-full px-4 mt-2 text-sm",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("span",{className:"flex items-center gap-1 font-bold text-green-600",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," "]}),c.jsx("span",{className:"font-mono",children:me(he)})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("span",{className:"flex items-center gap-1 font-bold text-red-600",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"})," "]}),c.jsx("span",{className:"font-mono",children:l.downtime.lineB.stopTime||"00:00"})]})]})]})]}),c.jsxs("div",{className:"border rounded-xl overflow-hidden",children:[c.jsx("div",{className:"bg-gray-100 p-2 text-center text-xs font-bold text-gray-600",children:"  "}),c.jsxs("table",{className:"w-full text-center text-xs",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b bg-gray-50",children:[c.jsx("th",{className:"p-2",children:""}),c.jsx("th",{className:"p-2",children:" (A)"}),c.jsx("th",{className:"p-2",children:""}),c.jsx("th",{className:"p-2",children:" "})]})}),c.jsxs("tbody",{className:"divide-y",children:[l.ballMills.lineA.primary.active&&c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 font-bold text-blue-600",children:"   A"}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineA.primary.amp08," / ",l.ballMills.lineA.primary.amp02]}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineA.primary.dens08," / ",l.ballMills.lineA.primary.dens02]}),c.jsx("td",{className:"p-2",children:l.ballMills.lineA.primary.balls.map((be,Ke)=>c.jsxs("div",{children:[" ",be.size,": ",be.count," "]},Ke))})]}),l.ballMills.lineA.secondary.active&&c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 font-bold text-blue-600",children:"   A"}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineA.secondary.amp08," / ",l.ballMills.lineA.secondary.amp02]}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineA.secondary.dens08," / ",l.ballMills.lineA.secondary.dens02]}),c.jsx("td",{className:"p-2",children:l.ballMills.lineA.secondary.balls.map((be,Ke)=>c.jsxs("div",{children:[" ",be.size,": ",be.count," "]},Ke))})]}),l.ballMills.lineB.primary.active&&c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 font-bold text-red-800",children:"   B"}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineB.primary.amp08," / ",l.ballMills.lineB.primary.amp02]}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineB.primary.dens08," / ",l.ballMills.lineB.primary.dens02]}),c.jsx("td",{className:"p-2",children:l.ballMills.lineB.primary.balls.map((be,Ke)=>c.jsxs("div",{children:[" ",be.size,": ",be.count," "]},Ke))})]}),l.ballMills.lineB.secondary.active&&c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 font-bold text-red-800",children:"   B"}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineB.secondary.amp08," / ",l.ballMills.lineB.secondary.amp02]}),c.jsxs("td",{className:"p-2",children:[l.ballMills.lineB.secondary.dens08," / ",l.ballMills.lineB.secondary.dens02]}),c.jsx("td",{className:"p-2",children:l.ballMills.lineB.secondary.balls.map((be,Ke)=>c.jsxs("div",{children:[" ",be.size,": ",be.count," "]},Ke))})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"border rounded-xl overflow-hidden",children:[c.jsx("div",{className:"bg-gray-100 p-2 text-center text-xs font-bold text-gray-600",children:"  "}),c.jsxs("div",{className:"p-4 text-xs space-y-2",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold block text-blue-600 mb-1",children:" A:"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[Rm.map(be=>l.drumMagnets.lineA[be.key]&&c.jsx("span",{className:"bg-blue-50 px-2 py-1 rounded",children:be.label},be.key)),!Object.values(l.drumMagnets.lineA).some(Boolean)&&c.jsx("span",{className:"text-gray-400",children:"-"})]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-bold block text-red-600 mb-1",children:" B:"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[Rm.map(be=>l.drumMagnets.lineB[be.key]&&c.jsx("span",{className:"bg-red-50 px-2 py-1 rounded",children:be.label},be.key)),!Object.values(l.drumMagnets.lineB).some(Boolean)&&c.jsx("span",{className:"text-gray-400",children:"-"})]})]})]})]}),c.jsxs("div",{className:"border rounded-xl overflow-hidden",children:[c.jsx("div",{className:"bg-gray-100 p-2 text-center text-xs font-bold text-gray-600",children:" "}),c.jsxs("div",{className:"p-4 text-xs",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center mb-2 font-bold text-gray-400",children:[c.jsx("span",{children:""}),c.jsx("span",{children:""}),c.jsx("span",{children:" "})]}),c.jsxs("div",{className:"space-y-1",children:[l.thickeners.lineA.map((be,Ke)=>be.active&&c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center border-b pb-1 last:border-0",children:[c.jsxs("span",{className:"text-blue-600",children:[" ",$c[Ke]," A"]}),c.jsx("span",{children:be.output||"-"}),c.jsx("span",{children:be.channelOutput||"-"})]},`A-${Ke}`)),l.thickeners.lineB.map((be,Ke)=>be.active&&c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center border-b pb-1 last:border-0",children:[c.jsxs("span",{className:"text-red-600",children:[" ",$c[Ke]," B"]}),c.jsx("span",{children:be.output||"-"}),c.jsx("span",{children:be.channelOutput||"-"})]},`B-${Ke}`))]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[c.jsx("span",{className:"block text-xs font-bold text-gray-500 mb-2",children:"  "}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:":"}),c.jsxs("span",{className:"font-bold",children:[Yt," "]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:":"}),c.jsxs("span",{className:"font-bold",children:[Li," "]})]})]})]}),(l.downtime.lineA.reason||l.downtime.lineB.reason)&&c.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100",children:[c.jsx("span",{className:"block text-xs font-bold text-red-600 mb-2",children:" "}),c.jsxs("div",{className:"text-xs space-y-2",children:[l.downtime.lineA.reason&&c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:" A:"})," ",l.downtime.lineA.reason]}),l.downtime.lineB.reason&&c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:" B:"})," ",l.downtime.lineB.reason]})]})]})]}),l.footer.nextShiftActions&&c.jsxs("div",{className:"bg-yellow-50 p-4 rounded-xl border border-yellow-100 text-xs mt-4",children:[c.jsx("span",{className:"font-bold text-yellow-800 block mb-1",children:"   :"}),l.footer.nextShiftActions]})]})]}),c.jsxs("div",{className:"w-[210mm] mt-6 flex gap-4 print:hidden mb-20",children:[c.jsxs("button",{onClick:rt,className:"flex-1 bg-green-600 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-green-700 shadow-lg transition",children:[c.jsx(SC,{className:"w-5 h-5"}),"  "]}),c.jsxs("button",{onClick:()=>window.print(),className:"flex-1 bg-white border border-gray-200 text-gray-700 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-50 shadow-sm transition",children:[c.jsx(mD,{className:"w-5 h-5"}),"  "]}),c.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-primary text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-red-800 shadow-lg transition",children:[c.jsx(xC,{className:"w-5 h-5"}),"   "]})]})]})}return c.jsxs("div",{className:"max-w-7xl mx-auto pb-24 px-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6 pt-6",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:c.jsx(yC,{className:"w-8 h-8 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"    "}),c.jsx("p",{className:"text-xs text-gray-500",children:"     "})]})]}),c.jsx("div",{className:"flex overflow-x-auto pb-2 mb-4 gap-2 no-scrollbar",children:[{id:1,label:"  ",icon:Fu},{id:2,label:" ()",icon:iD},{id:3,label:"",icon:uC},{id:4,label:"",icon:rD},{id:9,label:" ",icon:dD},{id:6,label:" ",icon:Dd},{id:5,label:"",icon:sD},{id:7,label:" ",icon:Dd},{id:8,label:"  ",icon:_D}].map(M=>c.jsxs("button",{onClick:()=>r(M.id),className:`flex items-center gap-2 px-4 py-3 rounded-xl whitespace-nowrap transition-all
                    ${n===M.id?"bg-primary text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50"}
                `,children:[c.jsx(M.icon,{className:"w-4 h-4"})," ",M.label]},M.id))}),c.jsxs("form",{onSubmit:W,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 min-h-[500px]",children:[n===1&&c.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),c.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none",value:h.name,onChange:M=>g({...h,name:M.target.value}),children:[c.jsx("option",{value:"A",children:" A"}),c.jsx("option",{value:"B",children:" B"}),c.jsx("option",{value:"C",children:" C"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),c.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none",value:h.type,onChange:M=>g({...h,type:M.target.value}),children:[c.jsx("option",{value:"Day1",children:" "}),c.jsx("option",{value:"Day2",children:" "}),c.jsx("option",{value:"Night1",children:" "}),c.jsx("option",{value:"Night2",children:" "})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),c.jsx("div",{className:"w-full p-3 rounded-xl border bg-gray-100 dark:bg-gray-600 text-center font-bold",children:ge(h.date)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),c.jsx(fi,{value:h.date,onChange:M=>g({...h,date:M})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-3 rounded-xl border bg-gray-100 text-gray-500"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-lg text-green-700 mb-2 flex items-center gap-2",children:[c.jsx(TD,{className:"w-5 h-5"}),"  "]}),c.jsx("div",{className:"flex gap-2 mb-3",children:c.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:M=>{M.target.value&&(Ee(M.target.value,"PRESENT"),M.target.value="")},children:[c.jsx("option",{value:"",children:"  ..."}),V().map(M=>c.jsxs("option",{value:M.id,children:[M.first_name," ",M.last_name]},M.id))]})}),c.jsxs("div",{className:"space-y-2",children:[ne("PRESENT").map(M=>c.jsxs("div",{className:"flex justify-between items-center bg-green-50 border border-green-200 p-2 rounded-lg text-green-800 text-sm",children:[c.jsxs("span",{children:[M.first_name," ",M.last_name," ",c.jsxs("span",{className:"opacity-70 text-xs",children:["(",M.unit,")"]})]}),c.jsx("button",{type:"button",onClick:()=>Pe(M.id),className:"text-red-500 hover:bg-white rounded-full p-1",children:c.jsx(yn,{className:"w-4 h-4"})})]},M.id)),ne("PRESENT").length===0&&c.jsx("p",{className:"text-gray-400 text-sm italic",children:"  "})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-lg text-red-700 mb-2 flex items-center gap-2",children:[c.jsx(AD,{className:"w-5 h-5"}),"  "]}),c.jsx("div",{className:"flex gap-2 mb-3",children:c.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:M=>{M.target.value&&(Ee(M.target.value,"ABSENT"),M.target.value="")},children:[c.jsx("option",{value:"",children:"  ..."}),V().map(M=>c.jsxs("option",{value:M.id,children:[M.first_name," ",M.last_name]},M.id))]})}),c.jsxs("div",{className:"space-y-2",children:[ne("ABSENT").map(M=>c.jsxs("div",{className:"flex justify-between items-center bg-red-50 border border-red-200 p-2 rounded-lg text-red-800 text-sm",children:[c.jsxs("span",{children:[M.first_name," ",M.last_name," ",c.jsxs("span",{className:"opacity-70 text-xs",children:["(",M.unit,")"]})]}),c.jsx("button",{type:"button",onClick:()=>Pe(M.id),className:"text-red-500 hover:bg-white rounded-full p-1",children:c.jsx(yn,{className:"w-4 h-4"})})]},M.id)),ne("ABSENT").length===0&&c.jsx("p",{className:"text-gray-400 text-sm italic",children:"  "})]})]})]})]}),n===2&&c.jsx("div",{className:"animate-fadeIn",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-center text-sm border-collapse",children:[c.jsxs("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600",children:[c.jsxs("tr",{children:[c.jsx("th",{rowSpan:2,className:"p-3 rounded-tr-xl border-b dark:border-gray-600",children:""}),c.jsx("th",{colSpan:2,className:"p-3 border-l border-white border-b dark:border-gray-600",children:" A"}),c.jsx("th",{colSpan:2,className:"p-3 rounded-tl-xl border-b dark:border-gray-600",children:" B"})]}),c.jsxs("tr",{className:"text-xs",children:[c.jsx("th",{className:"p-2 bg-gray-50 dark:bg-gray-800",children:""}),c.jsx("th",{className:"p-2 border-l border-white bg-gray-50 dark:bg-gray-800",children:" "}),c.jsx("th",{className:"p-2 bg-gray-50 dark:bg-gray-800",children:""}),c.jsx("th",{className:"p-2 bg-gray-50 dark:bg-gray-800",children:" "})]})]}),c.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[oT.map(M=>c.jsxs("tr",{children:[c.jsx("td",{className:"p-3 font-bold bg-gray-50 dark:bg-gray-900",children:M}),c.jsx("td",{className:"p-2",children:c.jsx("input",{type:"number",placeholder:"0",className:"w-full text-center p-2 rounded border focus:border-primary outline-none",value:w.lineA[M]||"",onChange:F=>z("lineA",M,F.target.value)})}),c.jsx("td",{className:"p-2 border-l border-gray-100 dark:border-gray-700",children:c.jsx("input",{type:"text",placeholder:"-",className:"w-full text-center p-2 rounded border focus:border-primary outline-none text-xs",value:x.lineA[M]||"",onChange:F=>oe("lineA",M,F.target.value)})}),c.jsx("td",{className:"p-2",children:c.jsx("input",{type:"number",placeholder:"0",className:"w-full text-center p-2 rounded border focus:border-primary outline-none",value:w.lineB[M]||"",onChange:F=>z("lineB",M,F.target.value)})}),c.jsx("td",{className:"p-2",children:c.jsx("input",{type:"text",placeholder:"-",className:"w-full text-center p-2 rounded border focus:border-primary outline-none text-xs",value:x.lineB[M]||"",onChange:F=>oe("lineB",M,F.target.value)})})]},M)),c.jsxs("tr",{className:"bg-primary/5 font-bold text-lg",children:[c.jsx("td",{className:"p-4 text-primary",children:""}),c.jsxs("td",{className:"p-4",children:[xe("lineA")," "]}),c.jsx("td",{className:"p-4 text-sm text-gray-400",children:"-"}),c.jsxs("td",{className:"p-4",children:[xe("lineB")," "]}),c.jsx("td",{className:"p-4 text-sm text-gray-400",children:"-"})]})]})]})})}),n===3&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["Line A","Line B"].map(M=>{const F=M==="Line A"?"lineA":"lineB";return c.jsxs("div",{className:"border rounded-xl p-4 relative mt-4",children:[c.jsx("span",{className:"absolute -top-3 right-4 bg-white dark:bg-gray-800 px-2 font-bold text-primary border rounded shadow-sm",children:M==="Line A"?" A":" B"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:["Primary","Secondary"].map(X=>{const K=X.toLowerCase(),he=T[F][K],fe=` ${X==="Primary"?" ()":" ()"}`;return c.jsxs("div",{className:`p-3 rounded-lg shadow-sm border transition-all ${he.active?"bg-white dark:bg-gray-700":"bg-gray-50 dark:bg-gray-800 opacity-80"}`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[c.jsx("h4",{className:"font-bold text-sm",children:fe}),c.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded cursor-pointer",checked:he.active,onChange:le=>{const Ne={...T};Ne[F][K].active=le.target.checked,S(Ne)}})]}),he.active&&c.jsxs("div",{className:"animate-slideDown",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" (08:00)"}),c.jsx("input",{type:"number",className:"w-full p-2 rounded border text-center",value:he.amp08,onChange:le=>{const Ne={...T};Ne[F][K].amp08=le.target.value,S(Ne)}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" (02:00)"}),c.jsx("input",{type:"number",className:"w-full p-2 rounded border text-center",value:he.amp02,onChange:le=>{const Ne={...T};Ne[F][K].amp02=le.target.value,S(Ne)}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" (08:00)"}),c.jsx("input",{type:"number",className:"w-full p-2 rounded border text-center",value:he.dens08,onChange:le=>{const Ne={...T};Ne[F][K].dens08=le.target.value,S(Ne)}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:" (02:00)"}),c.jsx("input",{type:"number",className:"w-full p-2 rounded border text-center",value:he.dens02,onChange:le=>{const Ne={...T};Ne[F][K].dens02=le.target.value,S(Ne)}})]})]}),c.jsxs("div",{className:"border-t pt-2",children:[c.jsx("label",{className:"text-xs font-bold block mb-2",children:"  ( -  )"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"flex-1 p-1 rounded border text-xs",id:`size-${F}-${K}`,children:Ale.map(le=>c.jsx("option",{value:le,children:le},le))}),c.jsx("input",{type:"number",className:"w-16 p-1 rounded border text-center text-xs",placeholder:"",id:`count-${F}-${K}`}),c.jsx("button",{type:"button",onClick:()=>{const le=document.getElementById(`size-${F}-${K}`).value,Ne=Number(document.getElementById(`count-${F}-${K}`).value);if(Ne>0){const Yt={...T};Yt[F][K].balls.push({size:le,count:Ne}),S(Yt)}},className:"bg-blue-500 text-white px-2 rounded",children:"+"})]}),c.jsx("div",{className:"mt-2 space-y-1",children:he.balls.map((le,Ne)=>c.jsxs("div",{className:"flex justify-between items-center text-xs bg-white p-1 rounded border",children:[c.jsxs("span",{children:[" ",le.size," - ",c.jsxs("span",{className:"font-bold",children:[le.count," "]})]}),c.jsx("button",{type:"button",onClick:()=>{const Yt={...T};Yt[F][K].balls=Yt[F][K].balls.filter((Li,be)=>be!==Ne),S(Yt)},className:"text-red-500 hover:bg-red-100 p-1 rounded",children:c.jsx(yn,{className:"w-3 h-3"})})]},Ne))})]})]})]},X)})})]},F)})}),n===4&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["Line A","Line B"].map(M=>{const F=M==="Line A"?"lineA":"lineB";return c.jsxs("div",{className:"border rounded-xl p-4 relative mt-4",children:[c.jsx("span",{className:"absolute -top-3 right-4 bg-white dark:bg-gray-800 px-2 font-bold text-primary border rounded shadow-sm",children:M==="Line A"?" A":" B"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:["Primary","Secondary"].map(X=>{const K=X.toLowerCase(),he=k[F][K];return c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("h4",{className:"font-bold",children:X==="Primary"?"  ":"  "}),c.jsx("input",{type:"checkbox",className:"w-5 h-5",checked:he.inCircuit,onChange:fe=>{const le={...k};le[F][K].inCircuit=fe.target.checked,C(le)}})]}),he.inCircuit&&c.jsxs("div",{className:"animate-slideDown",children:[c.jsx("div",{className:"grid grid-cols-6 gap-2 mb-4",children:Array.from({length:12}).map((fe,le)=>c.jsx("button",{type:"button",onClick:()=>{const Ne={...k},Yt=Ne[F][K].activeCyclones;Yt.includes(le+1)?Ne[F][K].activeCyclones=Yt.filter(Li=>Li!==le+1):Ne[F][K].activeCyclones.push(le+1),C(Ne)},className:`w-full aspect-square rounded text-xs font-bold transition
                                                                    ${he.activeCyclones.includes(le+1)?"bg-blue-600 text-white":"bg-white border text-gray-400"}
                                                                `,children:le+1},le))}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("input",{placeholder:" (Bar)",className:"p-2 text-center rounded border",value:he.pressure,onChange:fe=>{const le={...k};le[F][K].pressure=fe.target.value,C(le)}}),c.jsx("input",{placeholder:"",className:"p-2 text-center rounded border",value:he.angle,onChange:fe=>{const le={...k};le[F][K].angle=fe.target.value,C(le)}})]})]})]},X)})})]},F)})}),n===9&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["Line A","Line B"].map(M=>{const F=M==="Line A"?"lineA":"lineB",X=$[F];return c.jsxs("div",{className:"border rounded-xl p-4 relative mt-4",children:[c.jsx("span",{className:"absolute -top-3 right-4 bg-white dark:bg-gray-800 px-2 font-bold text-primary border rounded shadow-sm",children:M==="Line A"?" A":" B"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:Rm.map(K=>c.jsxs("div",{className:`p-4 rounded-xl border flex items-center justify-between transition-all ${X[K.key]?"bg-blue-50 border-blue-200 shadow-sm":"bg-white border-gray-100"}`,children:[c.jsx("span",{className:`font-bold ${X[K.key]?"text-blue-800":"text-gray-500"}`,children:K.label}),c.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-blue-600",checked:X[K.key],onChange:he=>{U(fe=>({...fe,[F]:{...fe[F],[K.key]:he.target.checked}}))}})]},K.key))})]},F)})}),n===5&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["Line A","Line B"].map(M=>{const F=M==="Line A"?"lineA":"lineB";return c.jsxs("div",{className:"border rounded-xl p-4 relative mt-4",children:[c.jsx("span",{className:"absolute -top-3 right-4 bg-white dark:bg-gray-800 px-2 font-bold text-primary border rounded shadow-sm",children:M==="Line A"?" A":" B"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:P[F].map((X,K)=>c.jsxs("div",{className:"border p-4 rounded-xl bg-gray-50 dark:bg-gray-700/30",children:[c.jsxs("div",{className:"flex justify-between mb-3",children:[c.jsxs("span",{className:"font-bold",children:["  ",$c[K]]}),c.jsx("input",{type:"checkbox",className:"w-5 h-5",checked:X.active,onChange:()=>{const he={...P};he[F][K].active=!X.active,O(he)}})]}),X.active&&c.jsxs("div",{className:"space-y-3 animate-slideDown",children:[c.jsx("input",{placeholder:" (Bar)",className:"w-full p-2 text-sm border rounded",value:X.pressure,onChange:he=>{const fe={...P};fe[F][K].pressure=he.target.value,O(fe)}}),c.jsx("input",{placeholder:"  (cm)",className:"w-full p-2 text-sm border rounded",value:X.jackHeight,onChange:he=>{const fe={...P};fe[F][K].jackHeight=he.target.value,O(fe)}}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs w-16 text-gray-500",children:":"}),c.jsx("div",{className:"flex-1",children:c.jsx(lr,{value:X.output,onChange:he=>{const fe={...P};fe[F][K].output=he,O(fe)}})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs w-16 text-gray-500",children:" :"}),c.jsx("div",{className:"flex-1",children:c.jsx(lr,{value:X.channelOutput,onChange:he=>{const fe={...P};fe[F][K].channelOutput=he,O(fe)}})})]})]})]},K))})]},F)})}),n===6&&c.jsx("div",{className:"space-y-4 animate-fadeIn",children:["lineA","lineB","reserve"].map(M=>{const F=E[M],X=M==="reserve"?"  ":`   ${M==="lineA"?"A":"B"}`;return c.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${F.active?"border-primary bg-primary/5":"border-gray-200"}`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-primary",checked:F.active,onChange:K=>{A({...E,[M]:{...F,active:K.target.checked}})}}),c.jsx("h3",{className:"font-bold text-lg",children:X})]}),F.active&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-slideDown",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx(Me,{label:" ",value:F.operator,onChange:K=>A({...E,[M]:{...F,operator:K}})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold mb-1",children:"  ()"}),c.jsx(lr,{value:F.hours,onChange:K=>A({...E,[M]:{...F,hours:K}})})]})]}),c.jsx("div",{className:"col-span-2",children:c.jsx(iT,{title:X,selectedCloths:F.cloths,onChange:K=>A({...E,[M]:{...F,cloths:K}})})})]})]},M)})}),n===7&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["Line A","Line B"].map(M=>{const F=M==="Line A"?"lineA":"lineB";return c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold mb-3",children:M==="Line A"?"   A":"   B"}),c.jsx("div",{className:"grid grid-cols-1 gap-4",children:R[F].map((X,K)=>c.jsxs("div",{className:`border rounded-xl p-4 ${X.active?"bg-blue-50 dark:bg-blue-900/10 border-blue-200":""}`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("input",{type:"checkbox",className:"w-5 h-5",checked:X.active,onChange:he=>{const fe={...R};fe[F][K].active=he.target.checked,I(fe)}}),c.jsxs("span",{className:"font-bold",children:["   ",$c[K]]})]}),X.active&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Me,{label:"",value:X.operator,onChange:he=>{const fe={...R};fe[F][K].operator=he,I(fe)}}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold mb-1",children:"  ()"}),c.jsx(lr,{value:X.hours,onChange:he=>{const fe={...R};fe[F][K].hours=he,I(fe)}})]})]}),c.jsx(iT,{title:` ${M}  ${K+1}`,selectedCloths:X.cloths,onChange:he=>{const fe={...R};fe[F][K].cloths=he,I(fe)}})]})]},K))})]},F)})}),n===8&&c.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[c.jsx("h3",{className:"font-bold mb-3",children:" "}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"   "}),c.jsx("div",{className:"flex gap-2",children:["FWP1","FWP2","FWP3"].map(M=>c.jsx("button",{type:"button",onClick:()=>{const F=D.process;q({...D,process:F.includes(M)?F.filter(X=>X!==M):[...F,M]})},className:`px-4 py-2 rounded border ${D.process.includes(M)?"bg-blue-600 text-white":"bg-white"}`,children:M},M))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"  "}),c.jsx("div",{className:"flex gap-2",children:["CWP1","CWP2","CWP3"].map(M=>c.jsx("button",{type:"button",onClick:()=>{const F=D.cleanWater;q({...D,cleanWater:F.includes(M)?F.filter(X=>X!==M):[...F,M]})},className:`px-4 py-2 rounded border ${D.cleanWater.includes(M)?"bg-blue-600 text-white":"bg-white"}`,children:M},M))})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["lineA","lineB"].map(M=>{const F=L[M];return c.jsxs("div",{className:"border-2 border-red-100 rounded-xl p-4",children:[c.jsx("h3",{className:"font-bold text-center mb-3 text-red-800",children:M==="lineA"?"     A":"     B"}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(lr,{value:F.workTime,onChange:X=>B({...L,[M]:{...F,workTime:X}})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(lr,{value:F.stopTime,onChange:X=>B({...L,[M]:{...F,stopTime:X}})})]})]}),F.stopTime&&F.stopTime!=="00:00"&&c.jsxs("div",{className:"animate-slideDown",children:[c.jsxs("label",{className:"text-xs font-bold text-red-600 block mb-1",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{className:"w-full p-2 border border-red-300 rounded-lg bg-red-50",value:F.reason,onChange:X=>B({...L,[M]:{...F,reason:X.target.value}})})]})]},M)})}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-bold mb-2",children:"    "}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{className:"w-full p-4 pl-12 border rounded-xl h-32",placeholder:"     ...",value:H.nextShiftActions,onChange:M=>Y({...H,nextShiftActions:M.target.value})}),c.jsx("button",{type:"button",onClick:Ze,className:`absolute left-3 bottom-3 p-2 rounded-full transition ${a==="nextShift"?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-500"}`,children:c.jsx(bo,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"flex justify-end pt-4 border-t",children:c.jsxs("button",{type:"submit",disabled:i,className:"bg-primary text-white px-8 py-4 rounded-xl shadow-xl hover:bg-red-800 flex items-center gap-2 font-bold text-lg disabled:opacity-50",children:[i?c.jsx(pl,{className:"w-6 h-6 animate-spin"}):c.jsx(ms,{className:"w-6 h-6"}),"   "]})})]})]})]})},Cle=({enabled:t})=>{const[e,n]=N.useState([]);return N.useEffect(()=>{if(t){const r=Array.from({length:40}).map((i,o)=>({id:o,left:Math.random()*100+"vw",animationDuration:Math.random()*3+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.3,size:Math.random()*4+2+"px"}));n(r)}else n([])},[t]),t?c.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[c.jsx("style",{children:`
          @keyframes snowfall {
            0% { transform: translateY(-10px) translateX(0); }
            100% { transform: translateY(110vh) translateX(20px); }
          }
        `}),e.map(r=>c.jsx("div",{className:"absolute bg-white rounded-full drop-shadow-sm",style:{left:r.left,top:"-10px",width:r.size,height:r.size,opacity:r.opacity,animation:`snowfall ${r.animationDuration} linear infinite`,animationDelay:r.animationDelay}},r.id))]}):null};var Ple={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ile,Ole;function jle(){return{geminiUrl:Ile,vertexUrl:Ole}}function Rle(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=jle();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yr{}function te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const d=l[u];m(d,e.slice(o+1),n[u])}else for(const u of l)m(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];m(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>p(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Mle(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}yv(t,i,o,0,a)}}function yv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])yv(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,d]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);m(a,f,d)}for(const u of s)delete a[u]}}else{const a=t;o in a&&yv(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xx(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $le(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function Dle(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],Ule(a)),e}function Lle(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Fle(a)),e}function Ule(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Ble(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Fle(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Vle(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Ble(t){const e={},n=p(t,["video"]);return n!=null&&m(e,["video"],Kle(n)),e}function Vle(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],Jle(n)),e}function qle(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function Gle(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function Hle(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],zle(a)),e}function zle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function MO(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Wle(a)),e}function Wle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Kle(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Xx(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function Jle(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Xx(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var aT;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(aT||(aT={}));var sT;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(sT||(sT={}));var lT;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(lT||(lT={}));var hi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(hi||(hi={}));var uT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(uT||(uT={}));var cT;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cT||(cT={}));var dT;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(dT||(dT={}));var fT;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fT||(fT={}));var hT;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hT||(hT={}));var pT;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(pT||(pT={}));var mT;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(mT||(mT={}));var gT;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(gT||(gT={}));var yT;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(yT||(yT={}));var vT;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(vT||(vT={}));var xT;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(xT||(xT={}));var bT;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(bT||(bT={}));var wT;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wT||(wT={}));var _T;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(_T||(_T={}));var ST;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ST||(ST={}));var zf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(zf||(zf={}));var ET;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ET||(ET={}));var TT;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(TT||(TT={}));var AT;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(AT||(AT={}));var vv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vv||(vv={}));var kT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(kT||(kT={}));var NT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(NT||(NT={}));var CT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(CT||(CT={}));var PT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(PT||(PT={}));var IT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(IT||(IT={}));var OT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(OT||(OT={}));var jT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(jT||(jT={}));var RT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(RT||(RT={}));var MT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(MT||(MT={}));var $T;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})($T||($T={}));var DT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(DT||(DT={}));var LT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(LT||(LT={}));var UT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(UT||(UT={}));var FT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(FT||(FT={}));var BT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(BT||(BT={}));var VT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(VT||(VT={}));var qT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(qT||(qT={}));var GT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(GT||(GT={}));var HT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(HT||(HT={}));var zT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(zT||(zT={}));var WT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(WT||(WT={}));var KT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(KT||(KT={}));var JT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(JT||(JT={}));var YT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(YT||(YT={}));var XT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(XT||(XT={}));var QT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(QT||(QT={}));var ZT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ZT||(ZT={}));var eA;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(eA||(eA={}));var tA;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(tA||(tA={}));var nA;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(nA||(nA={}));var rA;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(rA||(rA={}));var ya;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ya||(ya={}));class xv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ys{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class iA{}class oA{}class Yle{}class Xle{}class Qle{}class Zle{}class aA{}class sA{}class lA{}class eue{}class Wf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Wf;let i;const o=e;return n?i=Lle(o):i=Dle(o),Object.assign(r,i),r}}class uA{}class cA{}class dA{}class fA{}class tue{}class nue{}class rue{}class Qx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Qx,o=Hle(e);return Object.assign(r,o),r}}class iue{}class oue{}class aue{}class hA{}class sue{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class lue{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Zx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Zx,o=MO(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ke(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function $O(t,e){const n=ke(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function DO(t){return Array.isArray(t)?t.map(e=>Kf(e)):[Kf(t)]}function Kf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function LO(t){const e=Kf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function UO(t){const e=Kf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function pA(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function FO(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>pA(e)):[pA(t)]}function bv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function mA(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function gA(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Lt(t){if(t==null)throw new Error("ContentUnion is required");return bv(t)?t:{role:"user",parts:FO(t)}}function eb(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Lt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Lt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Lt(n)):[Lt(e)]}function jn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(mA(t)||gA(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Lt(t)]}const e=[],n=[],r=bv(t[0]);for(const i of t){const o=bv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(mA(i)||gA(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:FO(n)}),e}function uue(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(hi).includes(n[0].toUpperCase())?n[0].toUpperCase():hi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(hi).includes(r.toUpperCase())?r.toUpperCase():hi.TYPE_UNSPECIFIED})}}function Pa(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&uue(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(hi).includes(s.toUpperCase())?s.toUpperCase():hi.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Pa(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(Pa(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,d]of Object.entries(s))l[u]=Pa(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function tb(t){return Pa(t)}function nb(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function rb(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Cs(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Pa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Pa(e.response));return t}function Ps(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function cue(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Xr(t,e){if(typeof e!="string")throw new Error("name must be a string");return cue(t,e,"cachedContents")}function BO(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Di(t){return Xx(t)}function due(t){return t!=null&&typeof t=="object"&&"name"in t}function fue(t){return t!=null&&typeof t=="object"&&"video"in t}function hue(t){return t!=null&&typeof t=="object"&&"uri"in t}function VO(t){var e;let n;if(due(t)&&(n=t.name),!(hue(t)&&(n=t.uri,n===void 0))&&!(fue(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function qO(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function GO(t){for(const e of["models","tunedModels","publisherModels"])if(pue(t,e))return t[e];return[]}function pue(t,e){return t!==null&&typeof t=="object"&&e in t}function mue(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function gue(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=mue(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function HO(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function yue(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function zO(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Is(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function WO(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vue(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Que(a))),m(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["inlinedEmbedContentResponses"],o)}return e}function xue(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function bue(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function td(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],WO(i));const o=p(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const s=p(t,["metadata","updateTime"]);s!=null&&m(e,["updateTime"],s);const l=p(t,["metadata","model"]);l!=null&&m(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&m(e,["dest"],vue(zO(u))),e}function wv(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],WO(i));const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(e,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&m(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&m(e,["src"],wue(f));const h=p(t,["outputConfig"]);h!=null&&m(e,["dest"],xue(zO(h)));const g=p(t,["completionStats"]);return g!=null&&m(e,["completionStats"],g),e}function wue(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function _ue(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Xue(t,a))),m(n,["requests","requests"],o)}return n}function Sue(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Eue(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Tue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Is(t,r)),n}function Aue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Is(t,r)),n}function kue(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Nue(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Nue(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function KO(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>oce(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Cue(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Pue(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],bue(yue(i))),n}function yA(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],_ue(t,HO(t,i)));const o=p(e,["config"]);return o!=null&&Cue(o,n),n}function Iue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],ke(t,r));const i=p(e,["src"]);i!=null&&m(n,["inputConfig"],Sue(HO(t,i)));const o=p(e,["config"]);return o!=null&&Pue(o,n),n}function Oue(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function jue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Fue(t,i));const o=p(e,["config"]);return o!=null&&Oue(o,n),n}function Rue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Is(t,r)),n}function Mue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Is(t,r)),n}function $ue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function Due(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function Lue(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=eb(t,r);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(m(n,["_self"],Uue(i,n)),Mle(n,{"requests[].*":"requests[].request.*"})),n}function Uue(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Fue(t,e){const n={},r=p(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],Lue(t,i)),n}function Bue(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Vue(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function que(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Gue(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],KO(Lt(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=p(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&m(r,["seed"],y);const w=p(e,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const b=p(e,["responseSchema"]);b!=null&&m(r,["responseSchema"],tb(b));const x=p(e,["responseJsonSchema"]);if(x!=null&&m(r,["responseJsonSchema"],x),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let U=_;Array.isArray(U)&&(U=U.map(R=>ace(R))),m(n,["safetySettings"],U)}const T=p(e,["tools"]);if(n!==void 0&&T!=null){let U=Ps(T);Array.isArray(U)&&(U=U.map(R=>lce(Cs(R)))),m(n,["tools"],U)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],sce(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=p(e,["cachedContent"]);n!==void 0&&E!=null&&m(n,["cachedContent"],Xr(t,E));const A=p(e,["responseModalities"]);A!=null&&m(r,["responseModalities"],A);const k=p(e,["mediaResolution"]);k!=null&&m(r,["mediaResolution"],k);const C=p(e,["speechConfig"]);if(C!=null&&m(r,["speechConfig"],nb(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=p(e,["thinkingConfig"]);P!=null&&m(r,["thinkingConfig"],P);const O=p(e,["imageConfig"]);O!=null&&m(r,["imageConfig"],Yue(O));const $=p(e,["enableEnhancedCivicAnswers"]);return $!=null&&m(r,["enableEnhancedCivicAnswers"],$),r}function Hue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>kue(u))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function zue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Is(t,r)),n}function Wue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Is(t,r)),n}function Kue(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Jue(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Yue(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Xue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["request","model"],ke(t,r));const i=p(e,["contents"]);if(i!=null){let s=jn(i);Array.isArray(s)&&(s=s.map(l=>KO(l))),m(n,["request","contents"],s)}const o=p(e,["metadata"]);o!=null&&m(n,["metadata"],o);const a=p(e,["config"]);return a!=null&&m(n,["request","generationConfig"],Gue(t,a,p(n,["request"],{}))),n}function Que(t){const e={},n=p(t,["response"]);n!=null&&m(e,["response"],Hue(n));const r=p(t,["error"]);return r!=null&&m(e,["error"],r),e}function Zue(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ece(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function tce(t){const e={},n=p(t,["config"]);return n!=null&&Zue(n,e),e}function nce(t){const e={},n=p(t,["config"]);return n!=null&&ece(n,e),e}function rce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>td(a))),m(e,["batchJobs"],o)}return e}function ice(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>wv(a))),m(e,["batchJobs"],o)}return e}function oce(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Bue(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Vue(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Eue(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function ace(t){const e={},n=p(t,["category"]);if(n!=null&&m(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function sce(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],que(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function lce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Kue(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Jue(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(qr||(qr={}));class Do{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uce extends Yr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Do(qr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=yA(this.apiClient,e),r=n._url,i=te("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const d of l){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=h,f.request=g}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Iue(this.apiClient,e);return s=te("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>wv(d))}else{const u=yA(this.apiClient,e);return s=te("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>td(d))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jue(this.apiClient,e);return o=te("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>td(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Wue(this.apiClient,e);return s=te("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>wv(d))}else{const u=zue(this.apiClient,e);return s=te("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>td(d))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=Aue(this.apiClient,e);a=te("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Tue(this.apiClient,e);a=te("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=nce(e);return s=te("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=ice(d),h=new hA;return Object.assign(h,f),h})}else{const u=tce(e);return s=te("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=rce(d),h=new hA;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Mue(this.apiClient,e);return s=te("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>Due(d))}else{const u=Rue(this.apiClient,e);return s=te("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>$ue(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cce(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function vA(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jce(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function dce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let d=jn(a);Array.isArray(d)&&(d=d.map(f=>vA(f))),m(e,["contents"],d)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],vA(Lt(s)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>Mce(f))),m(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],Rce(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function fce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let f=jn(a);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["contents"],f)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],Lt(s));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>$ce(h))),m(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&m(e,["encryption_spec","kmsKeyName"],d),n}function hce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],$O(t,r));const i=p(e,["config"]);return i!=null&&dce(i,n),n}function pce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],$O(t,r));const i=p(e,["config"]);return i!=null&&fce(i,n),n}function mce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Xr(t,r)),n}function gce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Xr(t,r)),n}function yce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function vce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function xce(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function bce(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wce(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _ce(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Sce(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Xr(t,r)),n}function Ece(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Xr(t,r)),n}function Tce(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Ace(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function kce(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Nce(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Cce(t){const e={},n=p(t,["config"]);return n!=null&&kce(n,e),e}function Pce(t){const e={},n=p(t,["config"]);return n!=null&&Nce(n,e),e}function Ice(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function Oce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function jce(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],xce(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],bce(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],cce(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Rce(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],wce(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function Mce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Tce(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Ace(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function $ce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>_ce(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Dce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Lce(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function Uce(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Xr(t,r));const i=p(e,["config"]);return i!=null&&Dce(i,n),n}function Fce(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Xr(t,r));const i=p(e,["config"]);return i!=null&&Lce(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bce extends Yr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Do(qr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=pce(this.apiClient,e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=hce(this.apiClient,e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ece(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Sce(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=gce(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=vce(d),h=new dA;return Object.assign(h,f),h})}else{const u=mce(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=yce(d),h=new dA;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Fce(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Uce(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Pce(e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Oce(d),h=new fA;return Object.assign(h,f),h})}else{const u=Cce(e);return s=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Ice(d),h=new fA;return Object.assign(h,f),h})}}}function Jf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xA(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye(t){return this instanceof ye?(this.v=t,this):new ye(t)}function tr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,f)}}function s(g,v){r[g]&&(i[g]=function(y){return new Promise(function(w,b){o.push([g,y,w,b])>1||l(g,y)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof ye?Promise.resolve(g.value.v).then(d,f):h(o[0][2],g)}function d(g){l("next",g)}function f(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function nr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xA=="function"?xA(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vce(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:JO(n)}function JO(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function qce(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function bA(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!JO(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Gce{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Hce(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Hce{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),qce(o)}async sendMessage(e){var n;await this.sendPromise;const r=Lt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(s=d.slice(f))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Lt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?bA(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return tr(this,arguments,function*(){var i,o,a,s,l,u;const d=[];try{for(var f=!0,h=nr(e),g;g=yield ye(h.next()),i=g.done,!i;f=!0){s=g.value,f=!1;const v=s;if(Vce(v)){const y=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;y!==void 0&&d.push(y)}yield yield ye(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(a=h.return)&&(yield ye(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...bA(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pp extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,pp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zce(t){const e={},n=p(t,["file"]);return n!=null&&m(e,["file"],n),e}function Wce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Kce(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],VO(n)),e}function Jce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Yce(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],VO(n)),e}function Xce(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Qce(t){const e={},n=p(t,["config"]);return n!=null&&Xce(n,e),e}function Zce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ede extends Yr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Do(qr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Qce(e);return o=te("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Zce(l),d=new iue;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=zce(e);return o=te("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Wce(l),d=new oue;return Object.assign(d,u),d})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Yce(e);return o=te("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Kce(e);return o=te("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Jce(l),d=new aue;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nd(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function tde(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yde(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function nde(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function rde(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ide(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function ode(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const v=p(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const y=p(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const w=p(t,["routingConfig"]);w!=null&&m(e,["routingConfig"],w);const b=p(t,["seed"]);b!=null&&m(e,["seed"],b);const x=p(t,["speechConfig"]);x!=null&&m(e,["speechConfig"],x);const _=p(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const T=p(t,["temperature"]);T!=null&&m(e,["temperature"],T);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const E=p(t,["topK"]);E!=null&&m(e,["topK"],E);const A=p(t,["topP"]);if(A!=null&&m(e,["topP"],A),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ade(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function sde(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function lde(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],rb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],tde(Lt(v)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let E=Ps(y);Array.isArray(E)&&(E=E.map(A=>xde(Cs(A)))),m(e,["setup","tools"],E)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&m(e,["setup","sessionResumption"],vde(w));const b=p(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","inputAudioTranscription"],b);const x=p(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","outputAudioTranscription"],x);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const T=p(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],T);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function ude(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],ode(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],rb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],Lt(v));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let A=Ps(y);Array.isArray(A)&&(A=A.map(k=>bde(Cs(k)))),m(e,["setup","tools"],A)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&m(e,["setup","sessionResumption"],w);const b=p(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","inputAudioTranscription"],b);const x=p(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","outputAudioTranscription"],x);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const T=p(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],T);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&m(e,["setup","proactivity"],S);const E=p(t,["explicitVadSignal"]);return e!==void 0&&E!=null&&m(e,["setup","explicitVadSignal"],E),n}function cde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],ke(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],lde(i,n)),n}function dde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],ke(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],ude(i,n)),n}function fde(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function hde(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["weightedPrompts"],r)}return e}function pde(t){const e={},n=p(t,["media"]);if(n!=null){let u=DO(n);Array.isArray(u)&&(u=u.map(d=>nd(d))),m(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&m(e,["audio"],nd(UO(r)));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],nd(LO(o)));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function mde(t){const e={},n=p(t,["media"]);if(n!=null){let u=DO(n);Array.isArray(u)&&(u=u.map(d=>d)),m(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&m(e,["audio"],UO(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],LO(o));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function gde(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],wde(a));const s=p(t,["goAway"]);s!=null&&m(e,["goAway"],s);const l=p(t,["sessionResumptionUpdate"]);l!=null&&m(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);return u!=null&&m(e,["voiceActivityDetectionSignal"],u),e}function yde(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],nde(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],rde(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],nd(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function vde(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function xde(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],ade(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],sde(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function bde(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>ide(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function wde(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const s=p(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=p(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["promptTokensDetails"],g)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["cacheTokensDetails"],g)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["responseTokensDetails"],g)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["toolUsePromptTokensDetails"],g)}const h=p(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _de(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Sde(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],Ede(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function Ede(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function Tde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["contents"]);if(i!=null){let o=jn(i);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["contents"],o)}return n}function Ade(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["tokensInfo"],i)}return e}function kde(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&m(e,["statistics"],Nde(r)),e}function Nde(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function mp(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Dfe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Cde(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function Pde(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ide(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Lt(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>ZO(s))),m(e,["tools"],a)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],_fe(o)),n}function Ode(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["contents"]);if(i!=null){let a=jn(i);Array.isArray(a)&&(a=a.map(s=>mp(s))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&Pde(o),n}function jde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["contents"]);if(i!=null){let a=jn(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&Ide(o,n),n}function Rde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function Mde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function $de(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],ke(t,r)),n}function Dde(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],ke(t,r)),n}function Lde(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Ude(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Fde(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const w=p(t,["addWatermark"]);e!==void 0&&w!=null&&m(e,["parameters","addWatermark"],w);const b=p(t,["labels"]);e!==void 0&&b!=null&&m(e,["labels"],b);const x=p(t,["editMode"]);e!==void 0&&x!=null&&m(e,["parameters","editMode"],x);const _=p(t,["baseSteps"]);return e!==void 0&&_!=null&&m(e,["parameters","editConfig","baseSteps"],_),n}function Bde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>qfe(l))),m(n,["instances[0]","referenceImages"],s)}const a=p(e,["config"]);return a!=null&&Fde(a,n),n}function Vde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>gp(o))),m(e,["generatedImages"],i)}return e}function qde(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Gde(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const a=p(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const s=p(t,["autoTruncate"]);return e!==void 0&&s!=null&&m(e,["parameters","autoTruncate"],s),n}function Hde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["contents"]);if(i!=null){let s=eb(t,i);Array.isArray(s)&&(s=s.map(l=>l)),m(n,["requests[]","content"],s)}const o=p(e,["config"]);o!=null&&qde(o,n);const a=p(e,["model"]);return a!==void 0&&m(n,["requests[]","model"],ke(t,a)),n}function zde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["contents"]);if(i!=null){let a=eb(t,i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["instances[]","content"],a)}const o=p(e,["config"]);return o!=null&&Gde(o,n),n}function Wde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function Kde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>kde(a))),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function Jde(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function Yde(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Xde(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qde(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Zde(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function efe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],mp(Lt(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=p(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&m(r,["seed"],y);const w=p(e,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const b=p(e,["responseSchema"]);b!=null&&m(r,["responseSchema"],tb(b));const x=p(e,["responseJsonSchema"]);if(x!=null&&m(r,["responseJsonSchema"],x),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let U=_;Array.isArray(U)&&(U=U.map(R=>Gfe(R))),m(n,["safetySettings"],U)}const T=p(e,["tools"]);if(n!==void 0&&T!=null){let U=Ps(T);Array.isArray(U)&&(U=U.map(R=>Xfe(Cs(R)))),m(n,["tools"],U)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],Yfe(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=p(e,["cachedContent"]);n!==void 0&&E!=null&&m(n,["cachedContent"],Xr(t,E));const A=p(e,["responseModalities"]);A!=null&&m(r,["responseModalities"],A);const k=p(e,["mediaResolution"]);k!=null&&m(r,["mediaResolution"],k);const C=p(e,["speechConfig"]);if(C!=null&&m(r,["speechConfig"],nb(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=p(e,["thinkingConfig"]);P!=null&&m(r,["thinkingConfig"],P);const O=p(e,["imageConfig"]);O!=null&&m(r,["imageConfig"],kfe(O));const $=p(e,["enableEnhancedCivicAnswers"]);return $!=null&&m(r,["enableEnhancedCivicAnswers"],$),r}function tfe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Lt(i));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=p(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&m(r,["seed"],y);const w=p(e,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const b=p(e,["responseSchema"]);b!=null&&m(r,["responseSchema"],tb(b));const x=p(e,["responseJsonSchema"]);x!=null&&m(r,["responseJsonSchema"],x);const _=p(e,["routingConfig"]);_!=null&&m(r,["routingConfig"],_);const T=p(e,["modelSelectionConfig"]);T!=null&&m(r,["modelConfig"],T);const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(q=>q)),m(n,["safetySettings"],D)}const E=p(e,["tools"]);if(n!==void 0&&E!=null){let D=Ps(E);Array.isArray(D)&&(D=D.map(q=>ZO(Cs(q)))),m(n,["tools"],D)}const A=p(e,["toolConfig"]);n!==void 0&&A!=null&&m(n,["toolConfig"],A);const k=p(e,["labels"]);n!==void 0&&k!=null&&m(n,["labels"],k);const C=p(e,["cachedContent"]);n!==void 0&&C!=null&&m(n,["cachedContent"],Xr(t,C));const P=p(e,["responseModalities"]);P!=null&&m(r,["responseModalities"],P);const O=p(e,["mediaResolution"]);O!=null&&m(r,["mediaResolution"],O);const $=p(e,["speechConfig"]);$!=null&&m(r,["speechConfig"],nb($));const U=p(e,["audioTimestamp"]);U!=null&&m(r,["audioTimestamp"],U);const R=p(e,["thinkingConfig"]);R!=null&&m(r,["thinkingConfig"],R);const I=p(e,["imageConfig"]);if(I!=null&&m(r,["imageConfig"],Nfe(I)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function wA(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["contents"]);if(i!=null){let a=jn(i);Array.isArray(a)&&(a=a.map(s=>mp(s))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],efe(t,o,n)),n}function _A(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["contents"]);if(i!=null){let a=jn(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],tfe(t,o,n)),n}function SA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Sde(u))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function EA(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),m(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const l=p(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function nfe(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const s=p(t,["personGeneration"]);e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&m(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=p(t,["imageSize"]);if(e!==void 0&&g!=null&&m(e,["parameters","sampleImageSize"],g),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function rfe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const w=p(t,["addWatermark"]);e!==void 0&&w!=null&&m(e,["parameters","addWatermark"],w);const b=p(t,["labels"]);e!==void 0&&b!=null&&m(e,["labels"],b);const x=p(t,["imageSize"]);e!==void 0&&x!=null&&m(e,["parameters","sampleImageSize"],x);const _=p(t,["enhancePrompt"]);return e!==void 0&&_!=null&&m(e,["parameters","enhancePrompt"],_),n}function ife(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&nfe(o,n),n}function ofe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&rfe(o,n),n}function afe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>vfe(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],XO(i)),e}function sfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>gp(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],QO(i)),e}function lfe(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=p(t,["resolution"]);e!==void 0&&a!=null&&m(e,["parameters","resolution"],a);const s=p(t,["personGeneration"]);if(e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&m(e,["instances[0]","lastFrame"],yp(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>che(g))),m(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function ufe(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const a=p(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const s=p(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&m(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const g=p(t,["enhancePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","enhancePrompt"],g);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&m(e,["parameters","generateAudio"],v);const y=p(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],or(y));const w=p(t,["referenceImages"]);if(e!==void 0&&w!=null){let _=w;Array.isArray(_)&&(_=_.map(T=>dhe(T))),m(e,["instances[0]","referenceImages"],_)}const b=p(t,["mask"]);e!==void 0&&b!=null&&m(e,["instances[0]","mask"],uhe(b));const x=p(t,["compressionQuality"]);return e!==void 0&&x!=null&&m(e,["parameters","compressionQuality"],x),n}function cfe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],pfe(a)),e}function dfe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],mfe(a)),e}function ffe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],yp(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],ej(a));const s=p(e,["source"]);s!=null&&gfe(s,n);const l=p(e,["config"]);return l!=null&&lfe(l,n),n}function hfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],or(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],tj(a));const s=p(e,["source"]);s!=null&&yfe(s,n);const l=p(e,["config"]);return l!=null&&ufe(l,n),n}function pfe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>bfe(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function mfe(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>wfe(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function gfe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],yp(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],ej(o)),n}function yfe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],or(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],tj(o)),n}function vfe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],Cfe(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],XO(i)),e}function gp(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],YO(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],QO(i));const o=p(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function xfe(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["mask"],YO(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["labels"],i)}return e}function bfe(t){const e={},n=p(t,["video"]);return n!=null&&m(e,["video"],she(n)),e}function wfe(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],lhe(n)),e}function _fe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const v=p(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const y=p(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const w=p(t,["routingConfig"]);w!=null&&m(e,["routingConfig"],w);const b=p(t,["seed"]);b!=null&&m(e,["seed"],b);const x=p(t,["speechConfig"]);x!=null&&m(e,["speechConfig"],x);const _=p(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const T=p(t,["temperature"]);T!=null&&m(e,["temperature"],T);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const E=p(t,["topK"]);E!=null&&m(e,["topK"],E);const A=p(t,["topP"]);if(A!=null&&m(e,["topP"],A),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Sfe(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],ke(t,r)),n}function Efe(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],ke(t,r)),n}function Tfe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Afe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function kfe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Nfe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const i=p(t,["outputMimeType"]);i!=null&&m(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&m(e,["imageOutputOptions","compressionQuality"],o),e}function Cfe(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Di(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function YO(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Di(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function yp(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Di(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function or(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Di(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Pfe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],qO(t,s)),r}function Ife(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],qO(t,s)),r}function Ofe(t,e){const n={},r=p(e,["config"]);return r!=null&&Pfe(t,r,n),n}function jfe(t,e){const n={},r=p(e,["config"]);return r!=null&&Ife(t,r,n),n}function Rfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=GO(i);Array.isArray(o)&&(o=o.map(a=>_v(a))),m(e,["models"],o)}return e}function Mfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=GO(i);Array.isArray(o)&&(o=o.map(a=>Sv(a))),m(e,["models"],o)}return e}function $fe(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function _v(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["version"]);o!=null&&m(e,["version"],o);const a=p(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],Qfe(a));const s=p(t,["inputTokenLimit"]);s!=null&&m(e,["inputTokenLimit"],s);const l=p(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&m(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&m(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&m(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&m(e,["topP"],h);const g=p(t,["topK"]);g!=null&&m(e,["topK"],g);const v=p(t,["thinking"]);return v!=null&&m(e,["thinking"],v),e}function Sv(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["versionId"]);o!=null&&m(e,["version"],o);const a=p(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>Jde(h))),m(e,["endpoints"],f)}const s=p(t,["labels"]);s!=null&&m(e,["labels"],s);const l=p(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],Zfe(l));const u=p(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),m(e,["checkpoints"],f)}return e}function Dfe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Yde(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Xde(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],_de(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Lfe(t){const e={},n=p(t,["productImage"]);return n!=null&&m(e,["image"],or(n)),e}function Ufe(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=p(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const g=p(t,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),n}function Ffe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["source"]);i!=null&&Vfe(i,n);const o=p(e,["config"]);return o!=null&&Ufe(o,n),n}function Bfe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>gp(i))),m(e,["generatedImages"],r)}return e}function Vfe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],or(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Lfe(s))),m(e,["instances[0]","productImages"],a)}return n}function qfe(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],or(n));const r=p(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],$fe(o));const a=p(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],Cde(a));const s=p(t,["styleImageConfig"]);s!=null&&m(e,["styleImageConfig"],s);const l=p(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],l),e}function XO(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function QO(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function Gfe(t){const e={},n=p(t,["category"]);if(n!=null&&m(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Hfe(t){const e={},n=p(t,["image"]);return n!=null&&m(e,["image"],or(n)),e}function zfe(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const a=p(t,["maskDilation"]);e!==void 0&&a!=null&&m(e,["parameters","maskDilation"],a);const s=p(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&m(e,["parameters","binaryColorThreshold"],s);const l=p(t,["labels"]);return e!==void 0&&l!=null&&m(e,["labels"],l),n}function Wfe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["source"]);i!=null&&Jfe(i,n);const o=p(e,["config"]);return o!=null&&zfe(o,n),n}function Kfe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xfe(i))),m(e,["generatedMasks"],r)}return e}function Jfe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],or(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],Hfe(o)),n}function Yfe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Qde(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function Xfe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Tfe(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Afe(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function ZO(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Zde(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Qfe(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function Zfe(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function ehe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function the(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function nhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ke(t,r));const i=p(e,["config"]);return i!=null&&ehe(i,n),n}function rhe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["config"]);return i!=null&&the(i,n),n}function ihe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const a=p(t,["includeRaiReason"]);e!==void 0&&a!=null&&m(e,["parameters","includeRaiReason"],a);const s=p(t,["outputMimeType"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","mimeType"],s);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const g=p(t,["mode"]);return e!==void 0&&g!=null&&m(e,["parameters","mode"],g),n}function ohe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ke(t,r));const i=p(e,["image"]);i!=null&&m(n,["instances[0]","image"],or(i));const o=p(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=p(e,["config"]);return a!=null&&ihe(a,n),n}function ahe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>gp(o))),m(e,["generatedImages"],i)}return e}function she(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Di(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function lhe(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Di(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function uhe(t){const e={},n=p(t,["image"]);n!=null&&m(e,["_self"],or(n));const r=p(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function che(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],yp(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function dhe(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],or(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function ej(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],Di(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function tj(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Di(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fhe(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function hhe(t){const e={},n=p(t,["config"]);return n!=null&&fhe(n,e),e}function phe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function mhe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&phe(r,e),e}function ghe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function yhe(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),n}function vhe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],bhe(a)),e}function xhe(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&m(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&yhe(i,e),e}function bhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function whe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function _he(t){const e={},n=p(t,["config"]);return n!=null&&whe(n,e),e}function She(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["fileSearchStores"],o)}return e}function nj(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),m(e,["customMetadata"],s)}const a=p(t,["chunkingConfig"]);return e!==void 0&&a!=null&&m(e,["chunkingConfig"],a),n}function Ehe(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&nj(r,e),e}function The(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ahe="Content-Type",khe="X-Server-Timeout",Nhe="User-Agent",Ev="x-goog-api-client",Che="1.34.0",Phe=`google-genai-sdk/${Che}`,Ihe="v1beta1",Ohe="v1beta";class jhe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Ihe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Ohe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Rhe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await TA(i),new xv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await TA(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return tr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield ye(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const y=JSON.parse(JSON.stringify(v.error)),w=y.status,b=y.code,x=`got status: ${w}. ${JSON.stringify(v)}`;if(b>=400&&b<600)throw new pp({message:x,status:b})}}catch(v){if(v.name==="ApiError")throw v}a+=f;let h=-1,g=0;for(;;){h=-1,g=0;for(const w of l){const b=a.indexOf(w);b!==-1&&(h===-1||b<h)&&(h=b,g=w.length)}if(h===-1)break;const v=a.substring(0,h);a=a.substring(h+g);const y=v.trim();if(y.startsWith(s)){const w=y.substring(s.length).trim();try{const b=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ye(new xv(b))}catch(b){throw new Error(`exception parsing stream chunk ${w}. ${b}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Phe+" "+this.clientOptions.userAgentExtra;return e[Nhe]=n,e[Ev]=n,e[Ahe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(khe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),d=te("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&nj(r,f);const h=await this.fetchUploadUrl(u,s,l,d,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function TA(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new pp({message:i,status:n}):new Error(i)}}function Rhe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?s[l]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mhe="mcp_used/unknown";let $he=!1;function rj(t){for(const e of t)if(Dhe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return $he}function ij(t){var e;const n=(e=t[Ev])!==null&&e!==void 0?e:"";t[Ev]=(n+` ${Mhe}`).trimStart()}function Dhe(t){return t!==null&&typeof t=="object"&&t instanceof ib}function Lhe(t){return tr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield ye(n.listTools({cursor:i}));for(const s of a.tools)yield yield ye(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class ib{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ib(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const d of this.mcpClients)try{for(var s=!0,l=(n=void 0,nr(Lhe(d))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),gue(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Uhe(t,e,n){const r=new lue;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Fhe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=qhe(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const d=new Promise(_=>{u=_}),f=e.callbacks,h=function(){u({})},g=this.apiClient,v={onopen:h,onmessage:_=>{Uhe(g,f.onmessage,_)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(_){}},y=this.webSocketFactory.create(l,Vhe(a),v);y.connect(),await d;const x={setup:{model:ke(this.apiClient,e.model)}};return y.send(JSON.stringify(x)),new Bhe(y,this.apiClient)}}class Bhe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=hde(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=fde(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ya.PLAY)}pause(){this.sendPlaybackControl(ya.PAUSE)}stop(){this.sendPlaybackControl(ya.STOP)}resetContext(){this.sendPlaybackControl(ya.RESET_CONTEXT)}close(){this.conn.close()}}function Vhe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function qhe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ghe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Hhe(t,e,n){const r=new sue;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=gde(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class zhe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Fhe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&rj(e.config.tools)&&ij(f);const h=Yhe(f);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const C=this.apiClient.getApiKey();let P="BidiGenerateContent",O="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",O="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${P}?${O}=${C}`}let g=()=>{};const v=new Promise(C=>{g=C}),y=e.callbacks,w=function(){var C;(C=y==null?void 0:y.onopen)===null||C===void 0||C.call(y),g({})},b=this.apiClient,x={onopen:w,onmessage:C=>{Hhe(b,y.onmessage,C)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(C){}},_=this.webSocketFactory.create(d,Jhe(h),x);_.connect(),await v;let T=ke(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const C=this.apiClient.getProject(),P=this.apiClient.getLocation();T=`projects/${C}/locations/${P}/`+T}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[zf.AUDIO]}:e.config.responseModalities=[zf.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],A=[];for(const C of E)if(this.isCallableTool(C)){const P=C;A.push(await P.tool())}else A.push(C);A.length>0&&(e.config.tools=A);const k={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=dde(this.apiClient,k):S=cde(this.apiClient,k),delete S.config,_.send(JSON.stringify(S)),new Khe(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Whe={turnComplete:!0};class Khe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=jn(n.turns),e.isVertexAI()||(r=r.map(i=>mp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Ghe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Whe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:mde(e)}:n={realtimeInput:pde(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Jhe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Yhe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AA=10;function kA(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ia(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ia(t){return"callTool"in t&&typeof t.callTool=="function"}function Xhe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ia(i)))!==null&&r!==void 0?r:!1}function NA(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ia(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function CA(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qhe extends Yr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Xhe(n)||kA(n.config))return await this.generateContentInternal(l);const u=NA(n);if(u.length>0){const y=u.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let d,f;const h=jn(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:AA;let v=0;for(;v<g&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const y=d.candidates[0].content,w=[];for(const b of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Ia(b)){const _=await b.callTool(d.functionCalls);w.push(..._)}v++,f={role:"user",parts:w},l.contents=jn(l.contents),l.contents.push(y),l.contents.push(f),CA(l.config)&&(h.push(y),h.push(f))}return CA(l.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),kA(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=NA(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Do(qr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>Ia(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&rj(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),ij(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ia(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:AA;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,d,f){return tr(this,arguments,function*(){for(var h,g,v,y,w,b;s<o;){a&&(s++,a=!1);const S=yield ye(u.processParamsMaybeAddMcpUsage(f)),E=yield ye(u.generateContentStreamInternal(S)),A=[],k=[];try{for(var x=!0,_=(g=void 0,nr(E)),T;T=yield ye(_.next()),h=T.done,!h;x=!0){y=T.value,x=!1;const C=y;if(yield yield ye(C),C.candidates&&(!((w=C.candidates[0])===null||w===void 0)&&w.content)){k.push(C.candidates[0].content);for(const P of(b=C.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(s<o&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(P.functionCall.name)){const O=yield ye(d.get(P.functionCall.name).callTool([P.functionCall]));A.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(C){g={error:C}}finally{try{!x&&!h&&(v=_.return)&&(yield ye(v.call(_)))}finally{if(g)throw g.error}}if(A.length>0){a=!0;const C=new Ys;C.candidates=[{content:{role:"user",parts:A}}],yield yield ye(C);const P=[];P.push(...k),P.push({role:"user",parts:A});const O=jn(f.contents).concat(P);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=_A(this.apiClient,e);return s=te("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=EA(d),h=new Ys;return Object.assign(h,f),h})}else{const u=wA(this.apiClient,e);return s=te("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=SA(d),h=new Ys;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=_A(this.apiClient,e);return s=te("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return tr(this,arguments,function*(){var h,g,v,y;try{for(var w=!0,b=nr(f),x;x=yield ye(b.next()),h=x.done,!h;w=!0){y=x.value,w=!1;const _=y,T=EA(yield ye(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Ys;Object.assign(S,T),yield yield ye(S)}}catch(_){g={error:_}}finally{try{!w&&!h&&(v=b.return)&&(yield ye(v.call(b)))}finally{if(g)throw g.error}}})})}else{const u=wA(this.apiClient,e);return s=te("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return tr(this,arguments,function*(){var h,g,v,y;try{for(var w=!0,b=nr(f),x;x=yield ye(b.next()),h=x.done,!h;w=!0){y=x.value,w=!1;const _=y,T=SA(yield ye(_.json()));T.sdkHttpResponse={headers:_.headers};const S=new Ys;Object.assign(S,T),yield yield ye(S)}}catch(_){g={error:_}}finally{try{!w&&!h&&(v=b.return)&&(yield ye(v.call(b)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=zde(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Kde(d),h=new iA;return Object.assign(h,f),h})}else{const u=Hde(this.apiClient,e);return s=te("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Wde(d),h=new iA;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ofe(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=sfe(d),h=new oA;return Object.assign(h,f),h})}else{const u=ife(this.apiClient,e);return s=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=afe(d),h=new oA;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Bde(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Vde(l),d=new Yle;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=ohe(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=ahe(l),d=new Xle;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Ffe(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Bfe(l),d=new Qle;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Wfe(this.apiClient,e);return o=te("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Kfe(l),d=new Zle;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Efe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Sv(d))}else{const u=Sfe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>_v(d))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=jfe(this.apiClient,e);return s=te("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Mfe(d),h=new aA;return Object.assign(h,f),h})}else{const u=Ofe(this.apiClient,e);return s=te("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Rfe(d),h=new aA;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=rhe(this.apiClient,e);return s=te("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>Sv(d))}else{const u=nhe(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>_v(d))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Dde(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Ude(d),h=new sA;return Object.assign(h,f),h})}else{const u=$de(this.apiClient,e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Lde(d),h=new sA;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=jde(this.apiClient,e);return s=te("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Mde(d),h=new lA;return Object.assign(h,f),h})}else{const u=Ode(this.apiClient,e);return s=te("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Rde(d),h=new lA;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Tde(this.apiClient,e);return o=te("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Ade(l),d=new eue;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=hfe(this.apiClient,e);return s=te("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const f=dfe(d),h=new Wf;return Object.assign(h,f),h})}else{const u=ffe(this.apiClient,e);return s=te("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const f=cfe(d),h=new Wf;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zhe extends Yr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Gle(e);return s=te("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const u=qle(e);return s=te("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=$le(e);return o=te("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function epe(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function tpe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cpe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function npe(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const a=p(e,["uses"]);n!==void 0&&a!=null&&m(n,["uses"],a);const s=p(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&m(n,["bidiGenerateContentSetup"],upe(t,s));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function rpe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],npe(t,r,n)),n}function ipe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ope(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ape(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function spe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function lpe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],rb(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],tpe(Lt(v)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let E=Ps(y);Array.isArray(E)&&(E=E.map(A=>fpe(Cs(A)))),m(e,["setup","tools"],E)}const w=p(t,["sessionResumption"]);e!==void 0&&w!=null&&m(e,["setup","sessionResumption"],dpe(w));const b=p(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","inputAudioTranscription"],b);const x=p(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","outputAudioTranscription"],x);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const T=p(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],T);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function upe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],ke(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],lpe(i,n)),n}function cpe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],ipe(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],ope(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],epe(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function dpe(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function fpe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],ape(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],spe(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hpe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function ppe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=hpe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class mpe extends Yr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=rpe(this.apiClient,e);o=te("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=ppe(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gpe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function ype(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&gpe(r,e),e}function vpe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function xpe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function bpe(t){const e={},n=p(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&xpe(r,e),e}function wpe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _pe extends Yr{constructor(e){super(),this.apiClient=e,this.list=async n=>new Do(qr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=vpe(e);return o=te("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ype(e);i=te("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=bpe(e);return o=te("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=wpe(l),d=new tue;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Spe extends Yr{constructor(e,n=new _pe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Do(qr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hhe(e);return o=te("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ghe(e);return o=te("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=mhe(e);i=te("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=_he(e);return o=te("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=She(l),d=new nue;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ehe(e);return o=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=The(l),d=new rue;return Object.assign(d,u),d})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=xhe(e);return o=te("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=vhe(l),d=new Qx;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oj=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return oj=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Epe=()=>oj();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Av=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dn extends Error{}class Wt extends Dn{constructor(e,n,r,i){super(`${Wt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new vp({message:r,cause:Av(n)});const o=n;return e===400?new sj(e,o,r,i):e===401?new lj(e,o,r,i):e===403?new uj(e,o,r,i):e===404?new cj(e,o,r,i):e===409?new dj(e,o,r,i):e===422?new fj(e,o,r,i):e===429?new hj(e,o,r,i):e>=500?new pj(e,o,r,i):new Wt(e,o,r,i)}}class kv extends Wt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class vp extends Wt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class aj extends vp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class sj extends Wt{}class lj extends Wt{}class uj extends Wt{}class cj extends Wt{}class dj extends Wt{}class fj extends Wt{}class hj extends Wt{}class pj extends Wt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tpe=/^[a-z][a-z0-9+.-]*:/i,Ape=t=>Tpe.test(t);let Nv=t=>(Nv=Array.isArray,Nv(t));const kpe=Nv;let Npe=kpe;const PA=Npe;function Cpe(t){if(!t)return!0;for(const e in t)return!1;return!0}function Ppe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Ipe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Dn(`${t} must be an integer`);if(e<0)throw new Dn(`${t} must be a positive integer`);return e},Ope=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jpe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rpe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Mpe=()=>{var t,e,n,r,i;const o=Rpe();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qo,"X-Stainless-OS":OA(Deno.build.os),"X-Stainless-Arch":IA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qo,"X-Stainless-OS":OA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":IA((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=$pe();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function $pe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const IA=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",OA=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Dc;const Dpe=()=>Dc??(Dc=Mpe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lpe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function mj(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Upe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return mj({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function gj(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Fpe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bpe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yj=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Mm(t,e,n){return yj(),new File(t,e??"unknown_file",n)}function Vpe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const qpe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vj=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Gpe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&vj(t),Hpe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function zpe(t,e,n){if(yj(),t=await t,Gpe(t))return t instanceof File?t:Mm([await t.arrayBuffer()],t.name);if(Hpe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Mm(await Cv(i),e,n)}const r=await Cv(t);if(e||(e=Vpe(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Mm(r,e,n)}async function Cv(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(vj(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(qpe(t))try{for(var s=!0,l=nr(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(...await Cv(d))}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const d=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${Wpe(t)}`)}return a}function Wpe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xj{constructor(e){this._client=e}}xj._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bj(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const jA=Object.freeze(Object.create(null)),Kpe=(t=bj)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((d,f,h)=>{var g,v,y;/[?#]/.test(f)&&(i=!0);const w=r[h];let b=(i?encodeURIComponent:t)(""+w);return h!==r.length&&(w==null||typeof w=="object"&&w.toString===((y=Object.getPrototypeOf((v=Object.getPrototypeOf((g=w.hasOwnProperty)!==null&&g!==void 0?g:jA))!==null&&v!==void 0?v:jA))===null||y===void 0?void 0:y.toString))&&(b=w+"",o.push({start:d.length+f.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":b)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((d,f)=>d.start-f.start),o.length>0){let d=0;const f=o.reduce((h,g)=>{const v=" ".repeat(g.start-d),y="^".repeat(g.length);return d=g.start+g.length,h+v+y},"");throw new Dn(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},Lc=Kpe(bj);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wj extends xj{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Jf(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Dn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Dn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Lc`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Lc`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Lc`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=Jf(o,["api_version"]);return this._client.get(Lc`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}wj._key=Object.freeze(["interactions"]);class _j extends wj{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jpe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Uc;function ob(t){let e;return(Uc??(e=new globalThis.TextEncoder,Uc=e.encode.bind(e)))(t)}let Fc;function RA(t){let e;return(Fc??(e=new globalThis.TextDecoder,Fc=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ob(e):e;this.buffer=Jpe([this.buffer,n]);const r=[];let i;for(;(i=Ype(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(RA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=RA(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}xp.NEWLINE_CHARS=new Set([`
`,"\r"]);xp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Ype(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Xpe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yf={off:0,error:200,warn:300,info:400,debug:500},MA=(t,e,n)=>{if(t){if(Ppe(Yf,t))return t;Ft(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Yf))}`)}};function il(){}function Bc(t,e,n){return!e||Yf[t]>Yf[n]?il:e[t].bind(e)}const Qpe={error:il,warn:il,info:il,debug:il};let $A=new WeakMap;function Ft(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Qpe;const i=$A.get(n);if(i&&i[0]===r)return i[1];const o={error:Bc("error",n,r),warn:Bc("warn",n,r),info:Bc("info",n,r),debug:Bc("debug",n,r)};return $A.set(n,[r,o]),o}const Yi=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class va{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Ft(r):console;function a(){return tr(this,arguments,function*(){var l,u,d,f;if(i)throw new Dn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,v=nr(Zpe(e,n)),y;y=yield ye(v.next()),l=y.done,!l;g=!0){f=y.value,g=!1;const w=f;if(!h)if(w.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield ye(JSON.parse(w.data))}catch(b){throw o.error("Could not parse message into JSON:",w.data),o.error("From chunk:",w.raw),b}}}catch(w){u={error:w}}finally{try{!g&&!l&&(d=v.return)&&(yield ye(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(w){if(Tv(w))return yield ye(void 0);throw w}finally{h||n.abort()}})}return new va(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return tr(this,arguments,function*(){var l,u,d,f;const h=new xp,g=gj(e);try{for(var v=!0,y=nr(g),w;w=yield ye(y.next()),l=w.done,!l;v=!0){f=w.value,v=!1;const b=f;for(const x of h.decode(b))yield yield ye(x)}}catch(b){u={error:b}}finally{try{!v&&!l&&(d=y.return)&&(yield ye(d.call(y)))}finally{if(u)throw u.error}}for(const b of h.flush())yield yield ye(b)})}function a(){return tr(this,arguments,function*(){var l,u,d,f;if(i)throw new Dn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,v=nr(o()),y;y=yield ye(v.next()),l=y.done,!l;g=!0){f=y.value,g=!1;const w=f;h||w&&(yield yield ye(JSON.parse(w)))}}catch(w){u={error:w}}finally{try{!g&&!l&&(d=v.return)&&(yield ye(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(w){if(Tv(w))return yield ye(void 0);throw w}finally{h||n.abort()}})}return new va(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new va(()=>i(e),this.controller,this.client),new va(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return mj({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=ob(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Zpe(t,e){return tr(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Dn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Dn("Attempted to iterate over a response with no body");const s=new tme,l=new xp,u=gj(t.body);try{for(var d=!0,f=nr(eme(u)),h;h=yield ye(f.next()),r=h.done,!r;d=!0){a=h.value,d=!1;const g=a;for(const v of l.decode(g)){const y=s.decode(v);y&&(yield yield ye(y))}}}catch(g){i={error:g}}finally{try{!d&&!r&&(o=f.return)&&(yield ye(o.call(f)))}finally{if(i)throw i.error}}for(const g of l.flush()){const v=s.decode(g);v&&(yield yield ye(v))}})}function eme(t){return tr(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=nr(t),u;u=yield ye(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const d=o;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?ob(d):d;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let g;for(;(g=Xpe(a))!==-1;)yield yield ye(a.slice(0,g)),a=a.slice(g)}}catch(d){r={error:d}}finally{try{!s&&!n&&(i=l.return)&&(yield ye(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield ye(a))})}class tme{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=nme(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function nme(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rme(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return Ft(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):va.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Ft(t).debug(`[${r}] response parsed`,Yi({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ab extends Promise{constructor(e,n,r=rme){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new ab(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sj=Symbol("brand.privateNullableHeaders");function*ime(t){if(!t)return;if(Sj in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():PA(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=PA(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const Xs=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of ime(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[Sj]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $m=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=Ple)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ej;class bp{constructor(e){var n,r,i,o,a,s,l,{baseURL:u=$m("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=$m("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Jf(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:bp.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(a=(o=MA(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:MA($m("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:v,this.fetchOptions=g.fetchOptions,this.maxRetries=(s=g.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:Lpe(),this.encoder=Bpe,this._options=g,this.apiKey=d,this.apiVersion=f,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Xs([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Xs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Xs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Dn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Qo}`}defaultIdempotencyKey(){return`stainless-node-retry-${Epe()}`}makeStatusError(e,n,r,i){return Wt.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Ape(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return Cpe(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new ab(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:d,timeout:f}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:d,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(Ft(this).debug(`[${h}] sending request`,Yi({retryOfRequestLogID:r,method:s.method,url:d,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new kv;const y=new AbortController,w=await this.fetchWithTimeout(d,u,f,y).catch(Av),b=Date.now();if(w instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new kv;const T=Tv(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(n)return Ft(this).info(`[${h}] connection ${T?"timed out":"failed"} - ${_}`),Ft(this).debug(`[${h}] connection ${T?"timed out":"failed"} (${_})`,Yi({retryOfRequestLogID:r,url:d,durationMs:b-v,message:w.message})),this.retryRequest(s,n,r??h);throw Ft(this).info(`[${h}] connection ${T?"timed out":"failed"} - error; no more retries left`),Ft(this).debug(`[${h}] connection ${T?"timed out":"failed"} (error; no more retries left)`,Yi({retryOfRequestLogID:r,url:d,durationMs:b-v,message:w.message})),T?new aj:new vp({cause:w})}const x=`[${h}${g}] ${u.method} ${d} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${b-v}ms`;if(!w.ok){const _=await this.shouldRetry(w);if(n&&_){const C=`retrying, ${n} attempts remaining`;return await Fpe(w.body),Ft(this).info(`${x} - ${C}`),Ft(this).debug(`[${h}] response error (${C})`,Yi({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:b-v})),this.retryRequest(s,n,r??h,w.headers)}const T=_?"error; no more retries left":"error; not retryable";Ft(this).info(`${x} - ${T}`);const S=await w.text().catch(C=>Av(C).message),E=Ope(S),A=E?void 0:S;throw Ft(this).debug(`[${h}] response error (${T})`,Yi({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:A,durationMs:Date.now()-v})),this.makeStatusError(w.status,E,A,w.headers)}return Ft(this).info(x),Ft(this).debug(`[${h}] response start`,Yi({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:b-v})),{response:w,options:s,controller:y,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=Jf(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await jpe(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:d}=a,f=this.buildURL(l,u,d);"timeout"in a&&Ipe("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:a}),v=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:v},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=Xs([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Dpe()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Xs([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Upe(e)}:this.encoder({body:e,headers:r})}}bp.DEFAULT_TIMEOUT=6e4;class At extends bp{constructor(){super(...arguments),this.interactions=new _j(this)}}Ej=At;At.GeminiNextGenAPIClient=Ej;At.GeminiNextGenAPIClientError=Dn;At.APIError=Wt;At.APIConnectionError=vp;At.APIConnectionTimeoutError=aj;At.APIUserAbortError=kv;At.NotFoundError=cj;At.ConflictError=dj;At.RateLimitError=hj;At.BadRequestError=sj;At.AuthenticationError=lj;At.InternalServerError=pj;At.PermissionDeniedError=uj;At.UnprocessableEntityError=fj;At.toFile=zpe;At.Interactions=_j;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ome(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function ame(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function sme(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function lme(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function ume(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const a=p(t,["learningRateMultiplier"]);if(a!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=p(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function cme(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec"],DA(g))}else if(i==="PREFERENCE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec"],DA(g))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const a=p(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function dme(t,e){const n={},r=p(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&_me(o);const a=p(t,["config"]);return a!=null&&ume(a,n),n}function fme(t,e){const n={},r=p(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Sme(o,n,e);const a=p(t,["config"]);return a!=null&&cme(a,n,e),n}function hme(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function pme(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function mme(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function gme(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function yme(t,e){const n={},r=p(t,["config"]);return r!=null&&mme(r,n),n}function vme(t,e){const n={},r=p(t,["config"]);return r!=null&&gme(r,n),n}function xme(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Tj(s))),m(n,["tuningJobs"],a)}return n}function bme(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Pv(s))),m(n,["tuningJobs"],a)}return n}function wme(t,e){const n={},r=p(t,["name"]);r!=null&&m(n,["model"],r);const i=p(t,["name"]);return i!=null&&m(n,["endpoint"],i),n}function _me(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(n,["examples","examples"],i)}return n}function Sme(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Tj(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["state"]);o!=null&&m(n,["state"],BO(o));const a=p(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=p(t,["tuningTask","startTime"]);s!=null&&m(n,["startTime"],s);const l=p(t,["tuningTask","completeTime"]);l!=null&&m(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const d=p(t,["description"]);d!=null&&m(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&m(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&m(n,["tunedModel"],wme(h)),n}function Pv(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["state"]);o!=null&&m(n,["state"],BO(o));const a=p(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(n,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const d=p(t,["error"]);d!=null&&m(n,["error"],d);const f=p(t,["description"]);f!=null&&m(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&m(n,["baseModel"],h);const g=p(t,["tunedModel"]);g!=null&&m(n,["tunedModel"],g);const v=p(t,["preTunedModel"]);v!=null&&m(n,["preTunedModel"],v);const y=p(t,["supervisedTuningSpec"]);y!=null&&m(n,["supervisedTuningSpec"],y);const w=p(t,["preferenceOptimizationSpec"]);w!=null&&m(n,["preferenceOptimizationSpec"],w);const b=p(t,["tuningDataStats"]);b!=null&&m(n,["tuningDataStats"],b);const x=p(t,["encryptionSpec"]);x!=null&&m(n,["encryptionSpec"],x);const _=p(t,["partnerModelTuningSpec"]);_!=null&&m(n,["partnerModelTuningSpec"],_);const T=p(t,["customBaseModel"]);T!=null&&m(n,["customBaseModel"],T);const S=p(t,["experiment"]);S!=null&&m(n,["experiment"],S);const E=p(t,["labels"]);E!=null&&m(n,["labels"],E);const A=p(t,["outputUri"]);A!=null&&m(n,["outputUri"],A);const k=p(t,["pipelineJob"]);k!=null&&m(n,["pipelineJob"],k);const C=p(t,["serviceAccount"]);C!=null&&m(n,["serviceAccount"],C);const P=p(t,["tunedModelDisplayName"]);P!=null&&m(n,["tunedModelDisplayName"],P);const O=p(t,["veoTuningSpec"]);return O!=null&&m(n,["veoTuningSpec"],O),n}function Eme(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["metadata"]);o!=null&&m(n,["metadata"],o);const a=p(t,["done"]);a!=null&&m(n,["done"],a);const s=p(t,["error"]);return s!=null&&m(n,["error"],s),n}function DA(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&m(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tme extends Yr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Do(qr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:vv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=pme(e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>Pv(d))}else{const u=hme(e);return s=te("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>Tj(d))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=vme(e);return s=te("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=bme(d),h=new uA;return Object.assign(h,f),h})}else{const u=yme(e);return s=te("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=xme(d),h=new uA;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=ame(e);return s=te("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=lme(d),h=new cA;return Object.assign(h,f),h})}else{const u=ome(e);return s=te("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=sme(d),h=new cA;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=fme(e,e);return o=te("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>Pv(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=dme(e);return o=te("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>Eme(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ame{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const kme=1024*1024*8,Nme=3,Cme=1e3,Pme=2,Xf="x-goog-upload-status";async function Ime(t,e,n){var r;const i=await Aj(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Xf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Ome(t,e,n){var r;const i=await Aj(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Xf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=MO(o),s=new Zx;return Object.assign(s,a),s}async function Aj(t,e,n){var r,i;let o=0,a=0,s=new xv(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(kme,o-a),d=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let f=0,h=Cme;for(;f<Nme&&(s=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Xf]));)f++,await Rme(h),h=h*Pme;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Xf])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function jme(t){return{size:t.size,type:t.type}}function Rme(t){return new Promise(e=>setTimeout(e,t))}class Mme{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ime(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ome(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jme(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $me{create(e,n,r){return new Dme(e,n,r)}}class Dme{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LA="x-goog-api-key";class Lme{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(LA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(LA,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ume="gl-node/";class Fme{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new At({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Rle(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Lme(this.apiKey);this.apiClient=new jhe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Ume+"web",uploader:new Mme,downloader:new Ame}),this.models=new Qhe(this.apiClient),this.live=new zhe(this.apiClient,i,new $me),this.batches=new uce(this.apiClient),this.chats=new Gce(this.models,this.apiClient),this.caches=new Bce(this.apiClient),this.files=new ede(this.apiClient),this.operations=new Zhe(this.apiClient),this.authTokens=new mpe(this.apiClient),this.tunings=new Tme(this.apiClient),this.fileSearchStores=new Spe(this.apiClient)}}const Bme=({user:t})=>{const[e,n]=N.useState(!1),[r,i]=N.useState(""),[o,a]=N.useState([{id:"1",role:"model",text:` ${t.fullName} 
  .           .`}]),[s,l]=N.useState(!1),u=N.useRef(null);N.useEffect(()=>{var h;(h=u.current)==null||h.scrollIntoView({behavior:"smooth"})},[o]);const d=async()=>{const h=Jx().map(y=>{var w,b,x,_;return{code:y.trackingCode,title:y.title,status:((w=y.data)==null?void 0:w.status)||y.status,equipment:((b=y.data)==null?void 0:b.equipName)||"",failure:(x=y.data)==null?void 0:x.failureDesc,date:y.createdAt,requester:(_=y.data)==null?void 0:_.requester}}),g=$i("PART_REQUEST").map(y=>{var w,b;return{part:(w=y.data)==null?void 0:w.partName,qty:(b=y.data)==null?void 0:b.qty,requester:y.description}});return`
      You are an intelligent assistant for a Factory Maintenance Management System (CMMS).
      Your goal is to help the maintenance manager by analyzing the provided data.
      
      HERE IS THE LIVE DATA FROM THE SYSTEM:
      ${JSON.stringify({currentTime:new Date().toLocaleString("fa-IR"),currentUser:t.fullName,workOrdersSummary:h,activePartsRequests:g})}

      INSTRUCTIONS:
      1. Answer solely based on the data provided above.
      2. If asked for "Top Failures" or similar, count the occurrences of equipment names in the workOrdersSummary.
      3. Respond in Persian (Farsi).
      4. Be concise and professional.
      5. Use formatting (bullet points, bold text) to make it readable.
      6. If the data is empty, say so.
      7. For "Most frequent failures", calculate the frequency of equipment names in the work orders list and show the top 10.
    `},f=async h=>{if(h.preventDefault(),!r.trim())return;const g={id:Date.now().toString(),role:"user",text:r};a(v=>[...v,g]),i(""),l(!0);try{const v=new Fme({apiKey:"AIzaSyBbrl8wKH28MYJn0yx2AZO6fqQUyhlm-KI"}),y=await d(),b=(await v.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:y+`

User Question: `+r}]}],config:{temperature:.3}})).text||"    .";a(x=>[...x,{id:(Date.now()+1).toString(),role:"model",text:b}])}catch(v){console.error("AI Error:",v),a(y=>[...y,{id:(Date.now()+1).toString(),role:"model",text:`: ${v.message||"      ."}`}])}finally{l(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>n(!e),className:`fixed bottom-6 left-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 flex items-center gap-2
            ${e?"bg-red-500 rotate-90":"bg-gradient-to-r from-blue-600 to-purple-600 animate-pulse"} text-white`,children:e?c.jsx(Ln,{className:"w-6 h-6"}):c.jsx(eD,{className:"w-7 h-7"})}),e&&c.jsxs("div",{className:"fixed bottom-24 left-6 z-50 w-full max-w-sm md:max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col h-[500px] animate-slideUp",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center gap-3 text-white",children:[c.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:c.jsx(xD,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold",children:""}),c.jsx("p",{className:"text-xs opacity-80",children:"   "})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[o.map(h=>c.jsx("div",{className:`flex ${h.role==="user"?"justify-start":"justify-end"}`,children:c.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap shadow-sm
                        ${h.role==="user"?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-br-none border border-gray-100 dark:border-gray-600":"bg-blue-600 text-white rounded-bl-none"}
                     `,children:h.text})},h.id)),s&&c.jsx("div",{className:"flex justify-end",children:c.jsxs("div",{className:"bg-blue-600/10 text-blue-600 p-3 rounded-2xl rounded-bl-none flex items-center gap-2 text-xs font-bold",children:[c.jsx(pl,{className:"w-4 h-4 animate-spin"}),"    ..."]})}),c.jsx("div",{ref:u})]}),c.jsxs("form",{onSubmit:f,className:"p-3 bg-white dark:bg-gray-800 border-t dark:border-gray-700 flex gap-2",children:[c.jsx("input",{type:"text",value:r,onChange:h=>i(h.target.value),placeholder:"    (:       )",className:"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),c.jsx("button",{type:"submit",disabled:s||!r.trim(),className:"bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:c.jsx(Md,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"px-4 py-1 bg-gray-50 dark:bg-gray-900 text-[10px] text-center text-gray-400 border-t dark:border-gray-700",children:"           ."})]})]})},Vme=()=>{const[t,e]=N.useState(()=>{try{const u=localStorage.getItem("currentUser");return u?JSON.parse(u):null}catch(u){return console.error("Failed to parse user from local storage",u),localStorage.removeItem("currentUser"),null}}),[n,r]=N.useState(()=>localStorage.getItem("theme")==="dark"),[i,o]=N.useState(()=>localStorage.getItem("snowMode")==="true");N.useEffect(()=>{n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),N.useEffect(()=>{localStorage.setItem("snowMode",String(i))},[i]);const a=u=>{e(u),localStorage.setItem("currentUser",JSON.stringify(u));const d={id:Si(),userName:u.fullName,personnelCode:u.personnelCode||(u.username==="admin"?"9999":"0000"),action:"  ",date:at(),time:Gf(),ip:eT,details:`Role: ${u.role}`},f=JSON.parse(localStorage.getItem("system_logs")||"[]");f.push(d),localStorage.setItem("system_logs",JSON.stringify(f)),console.log(`LOG: LOGIN user=${u.username}`)},s=()=>{if(t){const u={id:Si(),userName:t.fullName,personnelCode:t.personnelCode||"---",action:"  ",date:at(),time:Gf(),ip:eT},d=JSON.parse(localStorage.getItem("system_logs")||"[]");d.push(u),localStorage.setItem("system_logs",JSON.stringify(d))}e(null),localStorage.removeItem("currentUser")},l=u=>{e(u),localStorage.setItem("currentUser",JSON.stringify(u))};return c.jsxs(J$,{children:[c.jsx(Cle,{enabled:i}),t&&c.jsx(Bme,{user:t}),c.jsx(PD,{user:t,onLogout:s,darkMode:n,toggleDarkMode:()=>r(!n),children:c.jsxs(z$,{children:[c.jsx(it,{path:"/login",element:t?c.jsx(st,{to:"/"}):c.jsx(OD,{onLogin:a})}),c.jsx(it,{path:"/",element:t?c.jsx(poe,{}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/inbox",element:t?c.jsx(wle,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/messages",element:t?c.jsx(Sle,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/reports",element:t?c.jsx(Tle,{}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/shift-report",element:t?c.jsx(Nle,{user:t}):c.jsx(st,{to:"/login"})})," ",c.jsx(it,{path:"/work-orders",element:t?c.jsx(cle,{}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/work-orders/new",element:t?c.jsx(Yx,{}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/projects",element:t?c.jsx(xle,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/performance",element:t?c.jsx(ble,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/part-requests",element:t?c.jsx(hle,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/inspections",element:t?c.jsx(fle,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/documents",element:t?c.jsx(ple,{}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/meetings",element:t?c.jsx(mle,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/suggestions",element:t?c.jsx(gle,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/purchases",element:t?c.jsx(yle,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"/workflow-designer",element:(t==null?void 0:t.role)===Zt.ADMIN?c.jsx(Ele,{}):c.jsx(st,{to:"/"})}),c.jsx(it,{path:"/admin",element:(t==null?void 0:t.role)===Zt.ADMIN?c.jsx(Xse,{}):c.jsx(st,{to:"/"})}),c.jsx(it,{path:"/settings",element:t?c.jsx(vle,{user:t,onUpdateUser:l,snowMode:i,setSnowMode:o}):c.jsx(st,{to:"/login"})}),c.jsx(it,{path:"*",element:c.jsx(st,{to:"/"})})]})})]})};class qme extends j.Component{constructor(e){super(e),this.state={hasError:!1,error:null},this.props=e}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?c.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",textAlign:"center",direction:"rtl",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[c.jsx("h1",{style:{color:"#800020",marginBottom:"10px"},children:"    "}),c.jsx("p",{style:{marginBottom:"20px"},children:"            ."}),c.jsx("div",{style:{marginBottom:"20px",padding:"10px",background:"#f3f4f6",borderRadius:"8px",textAlign:"left",direction:"ltr",overflow:"auto",maxHeight:"200px",fontSize:"12px",maxWidth:"100%",width:"400px"},children:(e=this.state.error)==null?void 0:e.toString()}),c.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{padding:"12px 24px",backgroundColor:"#800020",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:"    "})]}):this.props.children||null}}const kj=document.getElementById("root");if(!kj)throw new Error("Failed to find the root element");const Gme=Dm.createRoot(kj);Gme.render(c.jsx(j.StrictMode,{children:c.jsx(qme,{children:c.jsx(Vme,{})})}));
