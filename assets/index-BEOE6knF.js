function Bj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sk={exports:{}},Ff={},lk={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu=Symbol.for("react.element"),qj=Symbol.for("react.portal"),Vj=Symbol.for("react.fragment"),Gj=Symbol.for("react.strict_mode"),Hj=Symbol.for("react.profiler"),zj=Symbol.for("react.provider"),Wj=Symbol.for("react.context"),Kj=Symbol.for("react.forward_ref"),Jj=Symbol.for("react.suspense"),Yj=Symbol.for("react.memo"),Xj=Symbol.for("react.lazy"),Dx=Symbol.iterator;function Qj(t){return t===null||typeof t!="object"?null:(t=Dx&&t[Dx]||t["@@iterator"],typeof t=="function"?t:null)}var uk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ck=Object.assign,dk={};function ts(t,e,n){this.props=t,this.context=e,this.refs=dk,this.updater=n||uk}ts.prototype.isReactComponent={};ts.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ts.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fk(){}fk.prototype=ts.prototype;function fv(t,e,n){this.props=t,this.context=e,this.refs=dk,this.updater=n||uk}var hv=fv.prototype=new fk;hv.constructor=fv;ck(hv,ts.prototype);hv.isPureReactComponent=!0;var Lx=Array.isArray,hk=Object.prototype.hasOwnProperty,pv={current:null},pk={key:!0,ref:!0,__self:!0,__source:!0};function mk(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)hk.call(e,r)&&!pk.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:bu,type:t,key:o,ref:a,props:i,_owner:pv.current}}function Zj(t,e){return{$$typeof:bu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mv(t){return typeof t=="object"&&t!==null&&t.$$typeof===bu}function eO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ux=/\/+/g;function sp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eO(""+t.key):e.toString(36)}function Pc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case bu:case qj:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+sp(a,0):r,Lx(i)?(n="",t!=null&&(n=t.replace(Ux,"$&/")+"/"),Pc(i,e,n,"",function(u){return u})):i!=null&&(mv(i)&&(i=Zj(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ux,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Lx(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+sp(o,s);a+=Pc(o,e,n,l,i)}else if(l=Qj(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+sp(o,s++),a+=Pc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Gu(t,e,n){if(t==null)return t;var r=[],i=0;return Pc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function tO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},Ic={transition:null},nO={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Ic,ReactCurrentOwner:pv};function gk(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Gu,forEach:function(t,e,n){Gu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gu(t,function(){e++}),e},toArray:function(t){return Gu(t,function(e){return e})||[]},only:function(t){if(!mv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=ts;_e.Fragment=Vj;_e.Profiler=Hj;_e.PureComponent=fv;_e.StrictMode=Gj;_e.Suspense=Jj;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nO;_e.act=gk;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ck({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=pv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)hk.call(e,l)&&!pk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:bu,type:t.type,key:i,ref:o,props:r,_owner:a}};_e.createContext=function(t){return t={$$typeof:Wj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zj,_context:t},t.Consumer=t};_e.createElement=mk;_e.createFactory=function(t){var e=mk.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:Kj,render:t}};_e.isValidElement=mv;_e.lazy=function(t){return{$$typeof:Xj,_payload:{_status:-1,_result:t},_init:tO}};_e.memo=function(t,e){return{$$typeof:Yj,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Ic.transition;Ic.transition={};try{t()}finally{Ic.transition=e}};_e.unstable_act=gk;_e.useCallback=function(t,e){return Ht.current.useCallback(t,e)};_e.useContext=function(t){return Ht.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Ht.current.useEffect(t,e)};_e.useId=function(){return Ht.current.useId()};_e.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Ht.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};_e.useRef=function(t){return Ht.current.useRef(t)};_e.useState=function(t){return Ht.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Ht.current.useTransition()};_e.version="18.3.1";lk.exports=_e;var N=lk.exports;const L=Le(N),rO=Bj({__proto__:null,default:L},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iO=N,oO=Symbol.for("react.element"),aO=Symbol.for("react.fragment"),sO=Object.prototype.hasOwnProperty,lO=iO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uO={key:!0,ref:!0,__self:!0,__source:!0};function yk(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)sO.call(e,r)&&!uO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oO,type:t,key:o,ref:a,props:i,_owner:lO.current}}Ff.Fragment=aO;Ff.jsx=yk;Ff.jsxs=yk;sk.exports=Ff;var c=sk.exports,bm={},vk={exports:{}},yn={},xk={exports:{}},bk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,B){var V=D.length;D.push(B);e:for(;0<V;){var Q=V-1>>>1,H=D[Q];if(0<i(H,B))D[Q]=B,D[V]=H,V=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],V=D.pop();if(V!==B){D[0]=V;e:for(var Q=0,H=D.length,ae=H>>>1;Q<ae;){var ve=2*(Q+1)-1,be=D[ve],ke=ve+1,Se=D[ke];if(0>i(be,V))ke<H&&0>i(Se,be)?(D[Q]=Se,D[ke]=V,Q=ke):(D[Q]=be,D[ve]=V,Q=ve);else if(ke<H&&0>i(Se,V))D[Q]=Se,D[ke]=V,Q=ke;else break e}}return B}function i(D,B){var V=D.sortIndex-B.sortIndex;return V!==0?V:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],d=1,f=null,h=3,g=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=D)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function E(D){if(y=!1,_(D),!v)if(n(l)!==null)v=!0,O(S);else{var B=n(u);B!==null&&F(E,B.startTime-D)}}function S(D,B){v=!1,y&&(y=!1,x(A),A=-1),g=!0;var V=h;try{for(_(B),f=n(l);f!==null&&(!(f.expirationTime>B)||D&&!R());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var H=Q(f.expirationTime<=B);B=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),_(B)}else r(l);f=n(l)}if(f!==null)var ae=!0;else{var ve=n(u);ve!==null&&F(E,ve.startTime-B),ae=!1}return ae}finally{f=null,h=V,g=!1}}var T=!1,k=null,A=-1,C=5,j=-1;function R(){return!(t.unstable_now()-j<C)}function M(){if(k!==null){var D=t.unstable_now();j=D;var B=!0;try{B=k(!0,D)}finally{B?U():(T=!1,k=null)}}else T=!1}var U;if(typeof w=="function")U=function(){w(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,P=$.port2;$.port1.onmessage=M,U=function(){P.postMessage(null)}}else U=function(){b(M,0)};function O(D){k=D,T||(T=!0,U())}function F(D,B){A=b(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,O(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var V=h;h=B;try{return D()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var V=h;h=D;try{return B()}finally{h=V}},t.unstable_scheduleCallback=function(D,B,V){var Q=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Q+V:Q):V=Q,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=V+H,D={id:d++,callback:B,priorityLevel:D,startTime:V,expirationTime:H,sortIndex:-1},V>Q?(D.sortIndex=V,e(u,D),n(l)===null&&D===n(u)&&(y?(x(A),A=-1):y=!0,F(E,V-Q))):(D.sortIndex=H,e(l,D),v||g||(v=!0,O(S))),D},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(D){var B=h;return function(){var V=h;h=B;try{return D.apply(this,arguments)}finally{h=V}}}})(bk);xk.exports=bk;var cO=xk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dO=N,mn=cO;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wk=new Set,fl={};function wo(t,e){Ta(t,e),Ta(t+"Capture",e)}function Ta(t,e){for(fl[t]=e,t=0;t<e.length;t++)wk.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wm=Object.prototype.hasOwnProperty,fO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fx={},Bx={};function hO(t){return wm.call(Bx,t)?!0:wm.call(Fx,t)?!1:fO.test(t)?Bx[t]=!0:(Fx[t]=!0,!1)}function pO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mO(t,e,n,r){if(e===null||typeof e>"u"||pO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gv=/[\-:]([a-z])/g;function yv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gv,yv);It[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gv,yv);It[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gv,yv);It[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vv(t,e,n,r){var i=It.hasOwnProperty(e)?It[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mO(e,n,i,r)&&(n=null),r||i===null?hO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hr=dO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hu=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),xv=Symbol.for("react.strict_mode"),_m=Symbol.for("react.profiler"),_k=Symbol.for("react.provider"),Sk=Symbol.for("react.context"),bv=Symbol.for("react.forward_ref"),Sm=Symbol.for("react.suspense"),Em=Symbol.for("react.suspense_list"),wv=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),Ek=Symbol.for("react.offscreen"),qx=Symbol.iterator;function _s(t){return t===null||typeof t!="object"?null:(t=qx&&t[qx]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,lp;function qs(t){if(lp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lp=e&&e[1]||""}return`
`+lp+t}var up=!1;function cp(t,e){if(!t||up)return"";up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{up=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qs(t):""}function gO(t){switch(t.tag){case 5:return qs(t.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 2:case 15:return t=cp(t.type,!1),t;case 11:return t=cp(t.type.render,!1),t;case 1:return t=cp(t.type,!0),t;default:return""}}function Tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jo:return"Fragment";case Ko:return"Portal";case _m:return"Profiler";case xv:return"StrictMode";case Sm:return"Suspense";case Em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sk:return(t.displayName||"Context")+".Consumer";case _k:return(t._context.displayName||"Context")+".Provider";case bv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wv:return e=t.displayName||null,e!==null?e:Tm(t.type)||"Memo";case ei:e=t._payload,t=t._init;try{return Tm(t(e))}catch{}}return null}function yO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tm(e);case 8:return e===xv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vO(t){var e=Tk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zu(t){t._valueTracker||(t._valueTracker=vO(t))}function kk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Tk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function km(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nk(t,e){e=e.checked,e!=null&&vv(t,"checked",e,!1)}function Nm(t,e){Nk(t,e);var n=Si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Am(t,e.type,n):e.hasOwnProperty("defaultValue")&&Am(t,e.type,Si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Am(t,e,n){(e!=="number"||Hc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vs=Array.isArray;function fa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Si(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Vs(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Si(n)}}function Ak(t,e){var n=Si(e.value),r=Si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ck(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ck(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wu,Pk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xO=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(t){xO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Js[e]=Js[t]})});function Ik(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Js.hasOwnProperty(t)&&Js[t]?(""+e).trim():e+"px"}function jk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ik(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bO=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Im(t,e){if(e){if(bO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function jm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=null;function _v(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rm=null,ha=null,pa=null;function Wx(t){if(t=Su(t)){if(typeof Rm!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Hf(e),Rm(t.stateNode,t.type,e))}}function Ok(t){ha?pa?pa.push(t):pa=[t]:ha=t}function Rk(){if(ha){var t=ha,e=pa;if(pa=ha=null,Wx(t),e)for(t=0;t<e.length;t++)Wx(e[t])}}function Mk(t,e){return t(e)}function $k(){}var dp=!1;function Dk(t,e,n){if(dp)return t(e,n);dp=!0;try{return Mk(t,e,n)}finally{dp=!1,(ha!==null||pa!==null)&&($k(),Rk())}}function pl(t,e){var n=t.stateNode;if(n===null)return null;var r=Hf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Mm=!1;if($r)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Mm=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Mm=!1}function wO(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ys=!1,zc=null,Wc=!1,$m=null,_O={onError:function(t){Ys=!0,zc=t}};function SO(t,e,n,r,i,o,a,s,l){Ys=!1,zc=null,wO.apply(_O,arguments)}function EO(t,e,n,r,i,o,a,s,l){if(SO.apply(this,arguments),Ys){if(Ys){var u=zc;Ys=!1,zc=null}else throw Error(J(198));Wc||(Wc=!0,$m=u)}}function _o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Lk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kx(t){if(_o(t)!==t)throw Error(J(188))}function TO(t){var e=t.alternate;if(!e){if(e=_o(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Kx(i),t;if(o===r)return Kx(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function Uk(t){return t=TO(t),t!==null?Fk(t):null}function Fk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fk(t);if(e!==null)return e;t=t.sibling}return null}var Bk=mn.unstable_scheduleCallback,Jx=mn.unstable_cancelCallback,kO=mn.unstable_shouldYield,NO=mn.unstable_requestPaint,it=mn.unstable_now,AO=mn.unstable_getCurrentPriorityLevel,Sv=mn.unstable_ImmediatePriority,qk=mn.unstable_UserBlockingPriority,Kc=mn.unstable_NormalPriority,CO=mn.unstable_LowPriority,Vk=mn.unstable_IdlePriority,Bf=null,fr=null;function PO(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Bf,t,void 0,(t.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:OO,IO=Math.log,jO=Math.LN2;function OO(t){return t>>>=0,t===0?32:31-(IO(t)/jO|0)|0}var Ku=64,Ju=4194304;function Gs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Gs(s):(o&=a,o!==0&&(r=Gs(o)))}else a=n&~i,a!==0?r=Gs(a):o!==0&&(r=Gs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-er(e),i=1<<n,r|=t[n],e&=~i;return r}function RO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-er(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=RO(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Dm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gk(){var t=Ku;return Ku<<=1,!(Ku&4194240)&&(Ku=64),t}function fp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-er(e),t[e]=n}function $O(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-er(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ev(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-er(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function Hk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zk,Tv,Wk,Kk,Jk,Lm=!1,Yu=[],hi=null,pi=null,mi=null,ml=new Map,gl=new Map,ii=[],DO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yx(t,e){switch(t){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(e.pointerId)}}function Es(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Su(e),e!==null&&Tv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LO(t,e,n,r,i){switch(e){case"focusin":return hi=Es(hi,t,e,n,r,i),!0;case"dragenter":return pi=Es(pi,t,e,n,r,i),!0;case"mouseover":return mi=Es(mi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ml.set(o,Es(ml.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,gl.set(o,Es(gl.get(o)||null,t,e,n,r,i)),!0}return!1}function Yk(t){var e=Ji(t.target);if(e!==null){var n=_o(e);if(n!==null){if(e=n.tag,e===13){if(e=Lk(n),e!==null){t.blockedOn=e,Jk(t.priority,function(){Wk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Um(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Om=r,n.target.dispatchEvent(r),Om=null}else return e=Su(n),e!==null&&Tv(e),t.blockedOn=n,!1;e.shift()}return!0}function Xx(t,e,n){jc(t)&&n.delete(e)}function UO(){Lm=!1,hi!==null&&jc(hi)&&(hi=null),pi!==null&&jc(pi)&&(pi=null),mi!==null&&jc(mi)&&(mi=null),ml.forEach(Xx),gl.forEach(Xx)}function Ts(t,e){t.blockedOn===e&&(t.blockedOn=null,Lm||(Lm=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,UO)))}function yl(t){function e(i){return Ts(i,t)}if(0<Yu.length){Ts(Yu[0],t);for(var n=1;n<Yu.length;n++){var r=Yu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hi!==null&&Ts(hi,t),pi!==null&&Ts(pi,t),mi!==null&&Ts(mi,t),ml.forEach(e),gl.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)Yk(n),n.blockedOn===null&&ii.shift()}var ma=Hr.ReactCurrentBatchConfig,Yc=!0;function FO(t,e,n,r){var i=Re,o=ma.transition;ma.transition=null;try{Re=1,kv(t,e,n,r)}finally{Re=i,ma.transition=o}}function BO(t,e,n,r){var i=Re,o=ma.transition;ma.transition=null;try{Re=4,kv(t,e,n,r)}finally{Re=i,ma.transition=o}}function kv(t,e,n,r){if(Yc){var i=Um(t,e,n,r);if(i===null)_p(t,e,r,Xc,n),Yx(t,r);else if(LO(i,t,e,n,r))r.stopPropagation();else if(Yx(t,r),e&4&&-1<DO.indexOf(t)){for(;i!==null;){var o=Su(i);if(o!==null&&zk(o),o=Um(t,e,n,r),o===null&&_p(t,e,r,Xc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else _p(t,e,r,null,n)}}var Xc=null;function Um(t,e,n,r){if(Xc=null,t=_v(r),t=Ji(t),t!==null)if(e=_o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Lk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xc=t,null}function Xk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AO()){case Sv:return 1;case qk:return 4;case Kc:case CO:return 16;case Vk:return 536870912;default:return 16}default:return 16}}var li=null,Nv=null,Oc=null;function Qk(){if(Oc)return Oc;var t,e=Nv,n=e.length,r,i="value"in li?li.value:li.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Oc=i.slice(t,1<r?1-r:void 0)}function Rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xu(){return!0}function Qx(){return!1}function vn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xu:Qx,this.isPropagationStopped=Qx,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),e}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Av=vn(ns),_u=Qe({},ns,{view:0,detail:0}),qO=vn(_u),hp,pp,ks,qf=Qe({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ks&&(ks&&t.type==="mousemove"?(hp=t.screenX-ks.screenX,pp=t.screenY-ks.screenY):pp=hp=0,ks=t),hp)},movementY:function(t){return"movementY"in t?t.movementY:pp}}),Zx=vn(qf),VO=Qe({},qf,{dataTransfer:0}),GO=vn(VO),HO=Qe({},_u,{relatedTarget:0}),mp=vn(HO),zO=Qe({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),WO=vn(zO),KO=Qe({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JO=vn(KO),YO=Qe({},ns,{data:0}),eb=vn(YO),XO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZO[t])?!!e[t]:!1}function Cv(){return eR}var tR=Qe({},_u,{key:function(t){if(t.key){var e=XO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cv,charCode:function(t){return t.type==="keypress"?Rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nR=vn(tR),rR=Qe({},qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tb=vn(rR),iR=Qe({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cv}),oR=vn(iR),aR=Qe({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),sR=vn(aR),lR=Qe({},qf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uR=vn(lR),cR=[9,13,27,32],Pv=$r&&"CompositionEvent"in window,Xs=null;$r&&"documentMode"in document&&(Xs=document.documentMode);var dR=$r&&"TextEvent"in window&&!Xs,Zk=$r&&(!Pv||Xs&&8<Xs&&11>=Xs),nb=" ",rb=!1;function eN(t,e){switch(t){case"keyup":return cR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yo=!1;function fR(t,e){switch(t){case"compositionend":return tN(e);case"keypress":return e.which!==32?null:(rb=!0,nb);case"textInput":return t=e.data,t===nb&&rb?null:t;default:return null}}function hR(t,e){if(Yo)return t==="compositionend"||!Pv&&eN(t,e)?(t=Qk(),Oc=Nv=li=null,Yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zk&&e.locale!=="ko"?null:e.data;default:return null}}var pR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ib(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pR[t.type]:e==="textarea"}function nN(t,e,n,r){Ok(r),e=Qc(e,"onChange"),0<e.length&&(n=new Av("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qs=null,vl=null;function mR(t){hN(t,0)}function Vf(t){var e=Zo(t);if(kk(e))return t}function gR(t,e){if(t==="change")return e}var rN=!1;if($r){var gp;if($r){var yp="oninput"in document;if(!yp){var ob=document.createElement("div");ob.setAttribute("oninput","return;"),yp=typeof ob.oninput=="function"}gp=yp}else gp=!1;rN=gp&&(!document.documentMode||9<document.documentMode)}function ab(){Qs&&(Qs.detachEvent("onpropertychange",iN),vl=Qs=null)}function iN(t){if(t.propertyName==="value"&&Vf(vl)){var e=[];nN(e,vl,t,_v(t)),Dk(mR,e)}}function yR(t,e,n){t==="focusin"?(ab(),Qs=e,vl=n,Qs.attachEvent("onpropertychange",iN)):t==="focusout"&&ab()}function vR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vf(vl)}function xR(t,e){if(t==="click")return Vf(e)}function bR(t,e){if(t==="input"||t==="change")return Vf(e)}function wR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ir=typeof Object.is=="function"?Object.is:wR;function xl(t,e){if(ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wm.call(e,i)||!ir(t[i],e[i]))return!1}return!0}function sb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lb(t,e){var n=sb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sb(n)}}function oN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aN(){for(var t=window,e=Hc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hc(t.document)}return e}function Iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _R(t){var e=aN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oN(n.ownerDocument.documentElement,n)){if(r!==null&&Iv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=lb(n,o);var a=lb(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SR=$r&&"documentMode"in document&&11>=document.documentMode,Xo=null,Fm=null,Zs=null,Bm=!1;function ub(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bm||Xo==null||Xo!==Hc(r)||(r=Xo,"selectionStart"in r&&Iv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zs&&xl(Zs,r)||(Zs=r,r=Qc(Fm,"onSelect"),0<r.length&&(e=new Av("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xo)))}function Qu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qo={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},vp={},sN={};$r&&(sN=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Gf(t){if(vp[t])return vp[t];if(!Qo[t])return t;var e=Qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sN)return vp[t]=e[n];return t}var lN=Gf("animationend"),uN=Gf("animationiteration"),cN=Gf("animationstart"),dN=Gf("transitionend"),fN=new Map,cb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){fN.set(t,e),wo(e,[t])}for(var xp=0;xp<cb.length;xp++){var bp=cb[xp],ER=bp.toLowerCase(),TR=bp[0].toUpperCase()+bp.slice(1);Ti(ER,"on"+TR)}Ti(lN,"onAnimationEnd");Ti(uN,"onAnimationIteration");Ti(cN,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(dN,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function db(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,EO(r,e,void 0,t),t.currentTarget=null}function hN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;db(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;db(i,s,u),o=l}}}if(Wc)throw t=$m,Wc=!1,$m=null,t}function qe(t,e){var n=e[zm];n===void 0&&(n=e[zm]=new Set);var r=t+"__bubble";n.has(r)||(pN(e,t,2,!1),n.add(r))}function wp(t,e,n){var r=0;e&&(r|=4),pN(n,t,r,e)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function bl(t){if(!t[Zu]){t[Zu]=!0,wk.forEach(function(n){n!=="selectionchange"&&(kR.has(n)||wp(n,!1,t),wp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zu]||(e[Zu]=!0,wp("selectionchange",!1,e))}}function pN(t,e,n,r){switch(Xk(e)){case 1:var i=FO;break;case 4:i=BO;break;default:i=kv}n=i.bind(null,e,n,t),i=void 0,!Mm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _p(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ji(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Dk(function(){var u=o,d=_v(n),f=[];e:{var h=fN.get(t);if(h!==void 0){var g=Av,v=t;switch(t){case"keypress":if(Rc(n)===0)break e;case"keydown":case"keyup":g=nR;break;case"focusin":v="focus",g=mp;break;case"focusout":v="blur",g=mp;break;case"beforeblur":case"afterblur":g=mp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Zx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=GO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=oR;break;case lN:case uN:case cN:g=WO;break;case dN:g=sR;break;case"scroll":g=qO;break;case"wheel":g=uR;break;case"copy":case"cut":case"paste":g=JO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=tb}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,_;w!==null;){_=w;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,x!==null&&(E=pl(w,x),E!=null&&y.push(wl(w,E,_)))),b)break;w=w.return}0<y.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Om&&(v=n.relatedTarget||n.fromElement)&&(Ji(v)||v[Dr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Ji(v):null,v!==null&&(b=_o(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=Zx,E="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=tb,E="onPointerLeave",x="onPointerEnter",w="pointer"),b=g==null?h:Zo(g),_=v==null?h:Zo(v),h=new y(E,w+"leave",g,n,d),h.target=b,h.relatedTarget=_,E=null,Ji(d)===u&&(y=new y(x,w+"enter",v,n,d),y.target=_,y.relatedTarget=b,E=y),b=E,g&&v)t:{for(y=g,x=v,w=0,_=y;_;_=Oo(_))w++;for(_=0,E=x;E;E=Oo(E))_++;for(;0<w-_;)y=Oo(y),w--;for(;0<_-w;)x=Oo(x),_--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=Oo(y),x=Oo(x)}y=null}else y=null;g!==null&&fb(f,h,g,y,!1),v!==null&&b!==null&&fb(f,b,v,y,!0)}}e:{if(h=u?Zo(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=gR;else if(ib(h))if(rN)S=bR;else{S=vR;var T=yR}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=xR);if(S&&(S=S(t,u))){nN(f,S,n,d);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Am(h,"number",h.value)}switch(T=u?Zo(u):window,t){case"focusin":(ib(T)||T.contentEditable==="true")&&(Xo=T,Fm=u,Zs=null);break;case"focusout":Zs=Fm=Xo=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,ub(f,n,d);break;case"selectionchange":if(SR)break;case"keydown":case"keyup":ub(f,n,d)}var k;if(Pv)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Yo?eN(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Zk&&n.locale!=="ko"&&(Yo||A!=="onCompositionStart"?A==="onCompositionEnd"&&Yo&&(k=Qk()):(li=d,Nv="value"in li?li.value:li.textContent,Yo=!0)),T=Qc(u,A),0<T.length&&(A=new eb(A,t,null,n,d),f.push({event:A,listeners:T}),k?A.data=k:(k=tN(n),k!==null&&(A.data=k)))),(k=dR?fR(t,n):hR(t,n))&&(u=Qc(u,"onBeforeInput"),0<u.length&&(d=new eb("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}hN(f,e)})}function wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=pl(t,n),o!=null&&r.unshift(wl(t,o,i)),o=pl(t,e),o!=null&&r.push(wl(t,o,i))),t=t.return}return r}function Oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fb(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=pl(n,o),l!=null&&a.unshift(wl(n,l,s))):i||(l=pl(n,o),l!=null&&a.push(wl(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var NR=/\r\n?/g,AR=/\u0000|\uFFFD/g;function hb(t){return(typeof t=="string"?t:""+t).replace(NR,`
`).replace(AR,"")}function ec(t,e,n){if(e=hb(e),hb(t)!==e&&n)throw Error(J(425))}function Zc(){}var qm=null,Vm=null;function Gm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hm=typeof setTimeout=="function"?setTimeout:void 0,CR=typeof clearTimeout=="function"?clearTimeout:void 0,pb=typeof Promise=="function"?Promise:void 0,PR=typeof queueMicrotask=="function"?queueMicrotask:typeof pb<"u"?function(t){return pb.resolve(null).then(t).catch(IR)}:Hm;function IR(t){setTimeout(function(){throw t})}function Sp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yl(e)}function gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rs=Math.random().toString(36).slice(2),cr="__reactFiber$"+rs,_l="__reactProps$"+rs,Dr="__reactContainer$"+rs,zm="__reactEvents$"+rs,jR="__reactListeners$"+rs,OR="__reactHandles$"+rs;function Ji(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mb(t);t!==null;){if(n=t[cr])return n;t=mb(t)}return e}t=n,n=t.parentNode}return null}function Su(t){return t=t[cr]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Hf(t){return t[_l]||null}var Wm=[],ea=-1;function ki(t){return{current:t}}function He(t){0>ea||(t.current=Wm[ea],Wm[ea]=null,ea--)}function Be(t,e){ea++,Wm[ea]=t.current,t.current=e}var Ei={},Ut=ki(Ei),Zt=ki(!1),lo=Ei;function ka(t,e){var n=t.type.contextTypes;if(!n)return Ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function en(t){return t=t.childContextTypes,t!=null}function ed(){He(Zt),He(Ut)}function gb(t,e,n){if(Ut.current!==Ei)throw Error(J(168));Be(Ut,e),Be(Zt,n)}function mN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,yO(t)||"Unknown",i));return Qe({},n,r)}function td(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ei,lo=Ut.current,Be(Ut,t),Be(Zt,Zt.current),!0}function yb(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=mN(t,e,lo),r.__reactInternalMemoizedMergedChildContext=t,He(Zt),He(Ut),Be(Ut,t)):He(Zt),Be(Zt,n)}var Er=null,zf=!1,Ep=!1;function gN(t){Er===null?Er=[t]:Er.push(t)}function RR(t){zf=!0,gN(t)}function Ni(){if(!Ep&&Er!==null){Ep=!0;var t=0,e=Re;try{var n=Er;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Er=null,zf=!1}catch(i){throw Er!==null&&(Er=Er.slice(t+1)),Bk(Sv,Ni),i}finally{Re=e,Ep=!1}}return null}var ta=[],na=0,nd=null,rd=0,Sn=[],En=0,uo=null,Tr=1,kr="";function Fi(t,e){ta[na++]=rd,ta[na++]=nd,nd=t,rd=e}function yN(t,e,n){Sn[En++]=Tr,Sn[En++]=kr,Sn[En++]=uo,uo=t;var r=Tr;t=kr;var i=32-er(r)-1;r&=~(1<<i),n+=1;var o=32-er(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Tr=1<<32-er(e)+i|n<<i|r,kr=o+t}else Tr=1<<o|n<<i|r,kr=t}function jv(t){t.return!==null&&(Fi(t,1),yN(t,1,0))}function Ov(t){for(;t===nd;)nd=ta[--na],ta[na]=null,rd=ta[--na],ta[na]=null;for(;t===uo;)uo=Sn[--En],Sn[En]=null,kr=Sn[--En],Sn[En]=null,Tr=Sn[--En],Sn[En]=null}var pn=null,hn=null,We=!1,Jn=null;function vN(t,e){var n=Tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,hn=gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=uo!==null?{id:Tr,overflow:kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,hn=null,!0):!1;default:return!1}}function Km(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jm(t){if(We){var e=hn;if(e){var n=e;if(!vb(t,e)){if(Km(t))throw Error(J(418));e=gi(n.nextSibling);var r=pn;e&&vb(t,e)?vN(r,n):(t.flags=t.flags&-4097|2,We=!1,pn=t)}}else{if(Km(t))throw Error(J(418));t.flags=t.flags&-4097|2,We=!1,pn=t}}}function xb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function tc(t){if(t!==pn)return!1;if(!We)return xb(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gm(t.type,t.memoizedProps)),e&&(e=hn)){if(Km(t))throw xN(),Error(J(418));for(;e;)vN(t,e),e=gi(e.nextSibling)}if(xb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=pn?gi(t.stateNode.nextSibling):null;return!0}function xN(){for(var t=hn;t;)t=gi(t.nextSibling)}function Na(){hn=pn=null,We=!1}function Rv(t){Jn===null?Jn=[t]:Jn.push(t)}var MR=Hr.ReactCurrentBatchConfig;function Ns(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function nc(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bb(t){var e=t._init;return e(t._payload)}function bN(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=bi(x,w),x.index=0,x.sibling=null,x}function o(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,w,_,E){return w===null||w.tag!==6?(w=Ip(_,x.mode,E),w.return=x,w):(w=i(w,_),w.return=x,w)}function l(x,w,_,E){var S=_.type;return S===Jo?d(x,w,_.props.children,E,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ei&&bb(S)===w.type)?(E=i(w,_.props),E.ref=Ns(x,w,_),E.return=x,E):(E=Bc(_.type,_.key,_.props,null,x.mode,E),E.ref=Ns(x,w,_),E.return=x,E)}function u(x,w,_,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=jp(_,x.mode,E),w.return=x,w):(w=i(w,_.children||[]),w.return=x,w)}function d(x,w,_,E,S){return w===null||w.tag!==7?(w=io(_,x.mode,E,S),w.return=x,w):(w=i(w,_),w.return=x,w)}function f(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ip(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hu:return _=Bc(w.type,w.key,w.props,null,x.mode,_),_.ref=Ns(x,null,w),_.return=x,_;case Ko:return w=jp(w,x.mode,_),w.return=x,w;case ei:var E=w._init;return f(x,E(w._payload),_)}if(Vs(w)||_s(w))return w=io(w,x.mode,_,null),w.return=x,w;nc(x,w)}return null}function h(x,w,_,E){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(x,w,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hu:return _.key===S?l(x,w,_,E):null;case Ko:return _.key===S?u(x,w,_,E):null;case ei:return S=_._init,h(x,w,S(_._payload),E)}if(Vs(_)||_s(_))return S!==null?null:d(x,w,_,E,null);nc(x,_)}return null}function g(x,w,_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(_)||null,s(w,x,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hu:return x=x.get(E.key===null?_:E.key)||null,l(w,x,E,S);case Ko:return x=x.get(E.key===null?_:E.key)||null,u(w,x,E,S);case ei:var T=E._init;return g(x,w,_,T(E._payload),S)}if(Vs(E)||_s(E))return x=x.get(_)||null,d(w,x,E,S,null);nc(w,E)}return null}function v(x,w,_,E){for(var S=null,T=null,k=w,A=w=0,C=null;k!==null&&A<_.length;A++){k.index>A?(C=k,k=null):C=k.sibling;var j=h(x,k,_[A],E);if(j===null){k===null&&(k=C);break}t&&k&&j.alternate===null&&e(x,k),w=o(j,w,A),T===null?S=j:T.sibling=j,T=j,k=C}if(A===_.length)return n(x,k),We&&Fi(x,A),S;if(k===null){for(;A<_.length;A++)k=f(x,_[A],E),k!==null&&(w=o(k,w,A),T===null?S=k:T.sibling=k,T=k);return We&&Fi(x,A),S}for(k=r(x,k);A<_.length;A++)C=g(k,x,A,_[A],E),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?A:C.key),w=o(C,w,A),T===null?S=C:T.sibling=C,T=C);return t&&k.forEach(function(R){return e(x,R)}),We&&Fi(x,A),S}function y(x,w,_,E){var S=_s(_);if(typeof S!="function")throw Error(J(150));if(_=S.call(_),_==null)throw Error(J(151));for(var T=S=null,k=w,A=w=0,C=null,j=_.next();k!==null&&!j.done;A++,j=_.next()){k.index>A?(C=k,k=null):C=k.sibling;var R=h(x,k,j.value,E);if(R===null){k===null&&(k=C);break}t&&k&&R.alternate===null&&e(x,k),w=o(R,w,A),T===null?S=R:T.sibling=R,T=R,k=C}if(j.done)return n(x,k),We&&Fi(x,A),S;if(k===null){for(;!j.done;A++,j=_.next())j=f(x,j.value,E),j!==null&&(w=o(j,w,A),T===null?S=j:T.sibling=j,T=j);return We&&Fi(x,A),S}for(k=r(x,k);!j.done;A++,j=_.next())j=g(k,x,A,j.value,E),j!==null&&(t&&j.alternate!==null&&k.delete(j.key===null?A:j.key),w=o(j,w,A),T===null?S=j:T.sibling=j,T=j);return t&&k.forEach(function(M){return e(x,M)}),We&&Fi(x,A),S}function b(x,w,_,E){if(typeof _=="object"&&_!==null&&_.type===Jo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Hu:e:{for(var S=_.key,T=w;T!==null;){if(T.key===S){if(S=_.type,S===Jo){if(T.tag===7){n(x,T.sibling),w=i(T,_.props.children),w.return=x,x=w;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ei&&bb(S)===T.type){n(x,T.sibling),w=i(T,_.props),w.ref=Ns(x,T,_),w.return=x,x=w;break e}n(x,T);break}else e(x,T);T=T.sibling}_.type===Jo?(w=io(_.props.children,x.mode,E,_.key),w.return=x,x=w):(E=Bc(_.type,_.key,_.props,null,x.mode,E),E.ref=Ns(x,w,_),E.return=x,x=E)}return a(x);case Ko:e:{for(T=_.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(x,w.sibling),w=i(w,_.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=jp(_,x.mode,E),w.return=x,x=w}return a(x);case ei:return T=_._init,b(x,w,T(_._payload),E)}if(Vs(_))return v(x,w,_,E);if(_s(_))return y(x,w,_,E);nc(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,_),w.return=x,x=w):(n(x,w),w=Ip(_,x.mode,E),w.return=x,x=w),a(x)):n(x,w)}return b}var Aa=bN(!0),wN=bN(!1),id=ki(null),od=null,ra=null,Mv=null;function $v(){Mv=ra=od=null}function Dv(t){var e=id.current;He(id),t._currentValue=e}function Ym(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ga(t,e){od=t,Mv=ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if(Mv!==t)if(t={context:t,memoizedValue:e,next:null},ra===null){if(od===null)throw Error(J(308));ra=t,od.dependencies={lanes:0,firstContext:t}}else ra=ra.next=t;return e}var Yi=null;function Lv(t){Yi===null?Yi=[t]:Yi.push(t)}function _N(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Lv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Lr(t,r)}function Lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ti=!1;function Uv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Lr(t,n)}return i=r.interleaved,i===null?(e.next=e,Lv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Lr(t,n)}function Mc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ev(t,n)}}function wb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ad(t,e,n,r){var i=t.updateQueue;ti=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,y=s;switch(h=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=Qe({},f,h);break e;case 2:ti=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fo|=a,t.lanes=a,t.memoizedState=f}}function _b(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Eu={},hr=ki(Eu),Sl=ki(Eu),El=ki(Eu);function Xi(t){if(t===Eu)throw Error(J(174));return t}function Fv(t,e){switch(Be(El,e),Be(Sl,t),Be(hr,Eu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pm(e,t)}He(hr),Be(hr,e)}function Ca(){He(hr),He(Sl),He(El)}function EN(t){Xi(El.current);var e=Xi(hr.current),n=Pm(e,t.type);e!==n&&(Be(Sl,t),Be(hr,n))}function Bv(t){Sl.current===t&&(He(hr),He(Sl))}var Ye=ki(0);function sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tp=[];function qv(){for(var t=0;t<Tp.length;t++)Tp[t]._workInProgressVersionPrimary=null;Tp.length=0}var $c=Hr.ReactCurrentDispatcher,kp=Hr.ReactCurrentBatchConfig,co=0,Xe=null,gt=null,wt=null,ld=!1,el=!1,Tl=0,$R=0;function jt(){throw Error(J(321))}function Vv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ir(t[n],e[n]))return!1;return!0}function Gv(t,e,n,r,i,o){if(co=o,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$c.current=t===null||t.memoizedState===null?FR:BR,t=n(r,i),el){o=0;do{if(el=!1,Tl=0,25<=o)throw Error(J(301));o+=1,wt=gt=null,e.updateQueue=null,$c.current=qR,t=n(r,i)}while(el)}if($c.current=ud,e=gt!==null&&gt.next!==null,co=0,wt=gt=Xe=null,ld=!1,e)throw Error(J(300));return t}function Hv(){var t=Tl!==0;return Tl=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Xe.memoizedState=wt=t:wt=wt.next=t,wt}function On(){if(gt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=wt===null?Xe.memoizedState:wt.next;if(e!==null)wt=e,gt=t;else{if(t===null)throw Error(J(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},wt===null?Xe.memoizedState=wt=t:wt=wt.next=t}return wt}function kl(t,e){return typeof e=="function"?e(t):e}function Np(t){var e=On(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var d=u.lane;if((co&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Xe.lanes|=d,fo|=d}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,ir(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Xe.lanes|=o,fo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ap(t){var e=On(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);ir(o,e.memoizedState)||(Jt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function TN(){}function kN(t,e){var n=Xe,r=On(),i=e(),o=!ir(r.memoizedState,i);if(o&&(r.memoizedState=i,Jt=!0),r=r.queue,zv(CN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Nl(9,AN.bind(null,n,r,i,e),void 0,null),_t===null)throw Error(J(349));co&30||NN(n,e,i)}return i}function NN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AN(t,e,n,r){e.value=n,e.getSnapshot=r,PN(e)&&IN(t)}function CN(t,e,n){return n(function(){PN(e)&&IN(t)})}function PN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ir(t,n)}catch{return!0}}function IN(t){var e=Lr(t,1);e!==null&&tr(e,t,1,-1)}function Sb(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:t},e.queue=t,t=t.dispatch=UR.bind(null,Xe,t),[e.memoizedState,t]}function Nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jN(){return On().memoizedState}function Dc(t,e,n,r){var i=ur();Xe.flags|=t,i.memoizedState=Nl(1|e,n,void 0,r===void 0?null:r)}function Wf(t,e,n,r){var i=On();r=r===void 0?null:r;var o=void 0;if(gt!==null){var a=gt.memoizedState;if(o=a.destroy,r!==null&&Vv(r,a.deps)){i.memoizedState=Nl(e,n,o,r);return}}Xe.flags|=t,i.memoizedState=Nl(1|e,n,o,r)}function Eb(t,e){return Dc(8390656,8,t,e)}function zv(t,e){return Wf(2048,8,t,e)}function ON(t,e){return Wf(4,2,t,e)}function RN(t,e){return Wf(4,4,t,e)}function MN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $N(t,e,n){return n=n!=null?n.concat([t]):null,Wf(4,4,MN.bind(null,e,t),n)}function Wv(){}function DN(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function LN(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UN(t,e,n){return co&21?(ir(n,e)||(n=Gk(),Xe.lanes|=n,fo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function DR(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=kp.transition;kp.transition={};try{t(!1),e()}finally{Re=n,kp.transition=r}}function FN(){return On().memoizedState}function LR(t,e,n){var r=xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BN(t))qN(e,n);else if(n=_N(t,e,n,r),n!==null){var i=Vt();tr(n,t,r,i),VN(n,e,r)}}function UR(t,e,n){var r=xi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BN(t))qN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ir(s,a)){var l=e.interleaved;l===null?(i.next=i,Lv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_N(t,e,i,r),n!==null&&(i=Vt(),tr(n,t,r,i),VN(n,e,r))}}function BN(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function qN(t,e){el=ld=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function VN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ev(t,n)}}var ud={readContext:jn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},FR={readContext:jn,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:Eb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dc(4194308,4,MN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dc(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LR.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:Sb,useDebugValue:Wv,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=Sb(!1),e=t[0];return t=DR.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=ur();if(We){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),_t===null)throw Error(J(349));co&30||NN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Eb(CN.bind(null,r,o,t),[t]),r.flags|=2048,Nl(9,AN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ur(),e=_t.identifierPrefix;if(We){var n=kr,r=Tr;n=(r&~(1<<32-er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$R++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BR={readContext:jn,useCallback:DN,useContext:jn,useEffect:zv,useImperativeHandle:$N,useInsertionEffect:ON,useLayoutEffect:RN,useMemo:LN,useReducer:Np,useRef:jN,useState:function(){return Np(kl)},useDebugValue:Wv,useDeferredValue:function(t){var e=On();return UN(e,gt.memoizedState,t)},useTransition:function(){var t=Np(kl)[0],e=On().memoizedState;return[t,e]},useMutableSource:TN,useSyncExternalStore:kN,useId:FN,unstable_isNewReconciler:!1},qR={readContext:jn,useCallback:DN,useContext:jn,useEffect:zv,useImperativeHandle:$N,useInsertionEffect:ON,useLayoutEffect:RN,useMemo:LN,useReducer:Ap,useRef:jN,useState:function(){return Ap(kl)},useDebugValue:Wv,useDeferredValue:function(t){var e=On();return gt===null?e.memoizedState=t:UN(e,gt.memoizedState,t)},useTransition:function(){var t=Ap(kl)[0],e=On().memoizedState;return[t,e]},useMutableSource:TN,useSyncExternalStore:kN,useId:FN,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kf={isMounted:function(t){return(t=t._reactInternals)?_o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=xi(t),o=Ir(r,i);o.payload=e,n!=null&&(o.callback=n),e=yi(t,o,i),e!==null&&(tr(e,t,i,r),Mc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=xi(t),o=Ir(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=yi(t,o,i),e!==null&&(tr(e,t,i,r),Mc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=xi(t),i=Ir(n,r);i.tag=2,e!=null&&(i.callback=e),e=yi(t,i,r),e!==null&&(tr(e,t,r,n),Mc(e,t,r))}};function Tb(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!xl(n,r)||!xl(i,o):!0}function GN(t,e,n){var r=!1,i=Ei,o=e.contextType;return typeof o=="object"&&o!==null?o=jn(o):(i=en(e)?lo:Ut.current,r=e.contextTypes,o=(r=r!=null)?ka(t,i):Ei),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function kb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kf.enqueueReplaceState(e,e.state,null)}function Qm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Uv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=jn(o):(o=en(e)?lo:Ut.current,i.context=ka(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Xm(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kf.enqueueReplaceState(i,i.state,null),ad(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e){try{var n="",r=e;do n+=gO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Cp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VR=typeof WeakMap=="function"?WeakMap:Map;function HN(t,e,n){n=Ir(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dd||(dd=!0,ug=r),Zm(t,e)},n}function zN(t,e,n){n=Ir(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Zm(t,e),typeof r!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Nb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rM.bind(null,t,e,n),e.then(t,t))}function Ab(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ir(-1,1),e.tag=2,yi(n,e,1))),n.lanes|=1),t)}var GR=Hr.ReactCurrentOwner,Jt=!1;function Bt(t,e,n,r){e.child=t===null?wN(e,null,n,r):Aa(e,t.child,n,r)}function Pb(t,e,n,r,i){n=n.render;var o=e.ref;return ga(e,i),r=Gv(t,e,n,r,o,i),n=Hv(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(We&&n&&jv(e),e.flags|=1,Bt(t,e,r,i),e.child)}function Ib(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!t0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,WN(t,e,o,r,i)):(t=Bc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:xl,n(a,r)&&t.ref===e.ref)return Ur(t,e,i)}return e.flags|=1,t=bi(o,r),t.ref=e.ref,t.return=e,e.child=t}function WN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(xl(o,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Ur(t,e,i)}return eg(t,e,n,r,i)}function KN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(oa,ln),ln|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(oa,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Be(oa,ln),ln|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Be(oa,ln),ln|=r;return Bt(t,e,i,n),e.child}function JN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function eg(t,e,n,r,i){var o=en(n)?lo:Ut.current;return o=ka(e,o),ga(e,i),n=Gv(t,e,n,r,o,i),r=Hv(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ur(t,e,i)):(We&&r&&jv(e),e.flags|=1,Bt(t,e,n,i),e.child)}function jb(t,e,n,r,i){if(en(n)){var o=!0;td(e)}else o=!1;if(ga(e,i),e.stateNode===null)Lc(t,e),GN(e,n,r),Qm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=jn(u):(u=en(n)?lo:Ut.current,u=ka(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&kb(e,a,r,u),ti=!1;var h=e.memoizedState;a.state=h,ad(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Zt.current||ti?(typeof d=="function"&&(Xm(e,n,d,r),l=e.memoizedState),(s=ti||Tb(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,SN(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Vn(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=en(n)?lo:Ut.current,l=ka(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&kb(e,a,r,l),ti=!1,h=e.memoizedState,a.state=h,ad(e,r,a,i);var v=e.memoizedState;s!==f||h!==v||Zt.current||ti?(typeof g=="function"&&(Xm(e,n,g,r),v=e.memoizedState),(u=ti||Tb(e,n,u,r,h,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return tg(t,e,n,r,o,i)}function tg(t,e,n,r,i,o){JN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&yb(e,n,!1),Ur(t,e,o);r=e.stateNode,GR.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Aa(e,t.child,null,o),e.child=Aa(e,null,s,o)):Bt(t,e,s,o),e.memoizedState=r.state,i&&yb(e,n,!0),e.child}function YN(t){var e=t.stateNode;e.pendingContext?gb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gb(t,e.context,!1),Fv(t,e.containerInfo)}function Ob(t,e,n,r,i){return Na(),Rv(i),e.flags|=256,Bt(t,e,n,r),e.child}var ng={dehydrated:null,treeContext:null,retryLane:0};function rg(t){return{baseLanes:t,cachePool:null,transitions:null}}function XN(t,e,n){var r=e.pendingProps,i=Ye.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Ye,i&1),t===null)return Jm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Xf(a,r,0,null),t=io(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=rg(n),e.memoizedState=ng,t):Kv(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return HR(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=bi(s,o):(o=io(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?rg(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=ng,r}return o=t.child,t=o.sibling,r=bi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kv(t,e){return e=Xf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rc(t,e,n,r){return r!==null&&Rv(r),Aa(e,t.child,null,n),t=Kv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HR(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Cp(Error(J(422))),rc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Xf({mode:"visible",children:r.children},i,0,null),o=io(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Aa(e,t.child,null,a),e.child.memoizedState=rg(a),e.memoizedState=ng,o);if(!(e.mode&1))return rc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=Cp(o,r,void 0),rc(t,e,a,r)}if(s=(a&t.childLanes)!==0,Jt||s){if(r=_t,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Lr(t,i),tr(r,t,i,-1))}return e0(),r=Cp(Error(J(421))),rc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iM.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,hn=gi(i.nextSibling),pn=e,We=!0,Jn=null,t!==null&&(Sn[En++]=Tr,Sn[En++]=kr,Sn[En++]=uo,Tr=t.id,kr=t.overflow,uo=e),e=Kv(e,r.children),e.flags|=4096,e)}function Rb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ym(t.return,e,n)}function Pp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function QN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Bt(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rb(t,n,e);else if(t.tag===19)Rb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pp(e,!0,n,null,o);break;case"together":Pp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zR(t,e,n){switch(e.tag){case 3:YN(e),Na();break;case 5:EN(e);break;case 1:en(e.type)&&td(e);break;case 4:Fv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(id,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?XN(t,e,n):(Be(Ye,Ye.current&1),t=Ur(t,e,n),t!==null?t.sibling:null);Be(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,KN(t,e,n)}return Ur(t,e,n)}var ZN,ig,eA,tA;ZN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ig=function(){};eA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xi(hr.current);var o=null;switch(n){case"input":i=km(t,i),r=km(t,r),o=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),o=[];break;case"textarea":i=Cm(t,i),r=Cm(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zc)}Im(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};tA=function(t,e,n,r){n!==r&&(e.flags|=4)};function As(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WR(t,e,n){var r=e.pendingProps;switch(Ov(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return en(e.type)&&ed(),Ot(e),null;case 3:return r=e.stateNode,Ca(),He(Zt),He(Ut),qv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(fg(Jn),Jn=null))),ig(t,e),Ot(e),null;case 5:Bv(e);var i=Xi(El.current);if(n=e.type,t!==null&&e.stateNode!=null)eA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Ot(e),null}if(t=Xi(hr.current),tc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[cr]=e,r[_l]=o,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<Hs.length;i++)qe(Hs[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":Vx(r,o),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qe("invalid",r);break;case"textarea":Hx(r,o),qe("invalid",r)}Im(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&ec(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&ec(r.textContent,s,t),i=["children",""+s]):fl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&qe("scroll",r)}switch(n){case"input":zu(r),Gx(r,o,!0);break;case"textarea":zu(r),zx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Zc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ck(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[cr]=e,t[_l]=r,ZN(t,e,!1,!1),e.stateNode=t;e:{switch(a=jm(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hs.length;i++)qe(Hs[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":Vx(t,r),i=km(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),qe("invalid",t);break;case"textarea":Hx(t,r),i=Cm(t,r),qe("invalid",t);break;default:i=r}Im(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?jk(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Pk(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hl(t,l):typeof l=="number"&&hl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&qe("scroll",t):l!=null&&vv(t,o,l,a))}switch(n){case"input":zu(t),Gx(t,r,!1);break;case"textarea":zu(t),zx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Si(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?fa(t,!!r.multiple,o,!1):r.defaultValue!=null&&fa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)tA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Xi(El.current),Xi(hr.current),tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(o=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ec(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return Ot(e),null;case 13:if(He(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&hn!==null&&e.mode&1&&!(e.flags&128))xN(),Na(),e.flags|=98560,o=!1;else if(o=tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[cr]=e}else Na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),o=!1}else Jn!==null&&(fg(Jn),Jn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?yt===0&&(yt=3):e0())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Ca(),ig(t,e),t===null&&bl(e.stateNode.containerInfo),Ot(e),null;case 10:return Dv(e.type._context),Ot(e),null;case 17:return en(e.type)&&ed(),Ot(e),null;case 19:if(He(Ye),o=e.memoizedState,o===null)return Ot(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)As(o,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=sd(t),a!==null){for(e.flags|=128,As(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Ye,Ye.current&1|2),e.child}t=t.sibling}o.tail!==null&&it()>Ia&&(e.flags|=128,r=!0,As(o,!1),e.lanes=4194304)}else{if(!r)if(t=sd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),As(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!We)return Ot(e),null}else 2*it()-o.renderingStartTime>Ia&&n!==1073741824&&(e.flags|=128,r=!0,As(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=it(),e.sibling=null,n=Ye.current,Be(Ye,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return Zv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ln&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function KR(t,e){switch(Ov(e),e.tag){case 1:return en(e.type)&&ed(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ca(),He(Zt),He(Ut),qv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bv(e),null;case 13:if(He(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Ye),null;case 4:return Ca(),null;case 10:return Dv(e.type._context),null;case 22:case 23:return Zv(),null;case 24:return null;default:return null}}var ic=!1,Mt=!1,JR=typeof WeakSet=="function"?WeakSet:Set,se=null;function ia(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function og(t,e,n){try{n()}catch(r){et(t,e,r)}}var Mb=!1;function YR(t,e){if(qm=Yc,t=aN(),Iv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++d===r&&(l=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vm={focusedElem:t,selectionRange:n},Yc=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Vn(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(E){et(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return v=Mb,Mb=!1,v}function tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&og(e,n,o)}i=i.next}while(i!==r)}}function Jf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ag(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nA(t){var e=t.alternate;e!==null&&(t.alternate=null,nA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[_l],delete e[zm],delete e[jR],delete e[OR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rA(t){return t.tag===5||t.tag===3||t.tag===4}function $b(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zc));else if(r!==4&&(t=t.child,t!==null))for(sg(t,e,n),t=t.sibling;t!==null;)sg(t,e,n),t=t.sibling}function lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lg(t,e,n),t=t.sibling;t!==null;)lg(t,e,n),t=t.sibling}var At=null,Hn=!1;function Zr(t,e,n){for(n=n.child;n!==null;)iA(t,e,n),n=n.sibling}function iA(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Bf,n)}catch{}switch(n.tag){case 5:Mt||ia(n,e);case 6:var r=At,i=Hn;At=null,Zr(t,e,n),At=r,Hn=i,At!==null&&(Hn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Hn?(t=At,n=n.stateNode,t.nodeType===8?Sp(t.parentNode,n):t.nodeType===1&&Sp(t,n),yl(t)):Sp(At,n.stateNode));break;case 4:r=At,i=Hn,At=n.stateNode.containerInfo,Hn=!0,Zr(t,e,n),At=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&og(n,e,a),i=i.next}while(i!==r)}Zr(t,e,n);break;case 1:if(!Mt&&(ia(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){et(n,e,s)}Zr(t,e,n);break;case 21:Zr(t,e,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,Zr(t,e,n),Mt=r):Zr(t,e,n);break;default:Zr(t,e,n)}}function Db(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JR),e.forEach(function(r){var i=oM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:At=s.stateNode,Hn=!1;break e;case 3:At=s.stateNode.containerInfo,Hn=!0;break e;case 4:At=s.stateNode.containerInfo,Hn=!0;break e}s=s.return}if(At===null)throw Error(J(160));iA(o,a,i),At=null,Hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oA(e,t),e=e.sibling}function oA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),lr(t),r&4){try{tl(3,t,t.return),Jf(3,t)}catch(y){et(t,t.return,y)}try{tl(5,t,t.return)}catch(y){et(t,t.return,y)}}break;case 1:Fn(e,t),lr(t),r&512&&n!==null&&ia(n,n.return);break;case 5:if(Fn(e,t),lr(t),r&512&&n!==null&&ia(n,n.return),t.flags&32){var i=t.stateNode;try{hl(i,"")}catch(y){et(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Nk(i,o),jm(s,a);var u=jm(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?jk(i,f):d==="dangerouslySetInnerHTML"?Pk(i,f):d==="children"?hl(i,f):vv(i,d,f,u)}switch(s){case"input":Nm(i,o);break;case"textarea":Ak(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?fa(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?fa(i,!!o.multiple,o.defaultValue,!0):fa(i,!!o.multiple,o.multiple?[]:"",!1))}i[_l]=o}catch(y){et(t,t.return,y)}}break;case 6:if(Fn(e,t),lr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){et(t,t.return,y)}}break;case 3:if(Fn(e,t),lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(e.containerInfo)}catch(y){et(t,t.return,y)}break;case 4:Fn(e,t),lr(t);break;case 13:Fn(e,t),lr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Xv=it())),r&4&&Db(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Mt=(u=Mt)||d,Fn(e,t),Mt=u):Fn(e,t),lr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,g=h.child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:ia(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){et(r,n,y)}}break;case 5:ia(h,h.return);break;case 22:if(h.memoizedState!==null){Ub(f);continue}}g!==null?(g.return=h,se=g):Ub(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Ik("display",a))}catch(y){et(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){et(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fn(e,t),lr(t),r&4&&Db(t);break;case 21:break;default:Fn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rA(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hl(i,""),r.flags&=-33);var o=$b(t);lg(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=$b(t);sg(t,s,a);break;default:throw Error(J(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XR(t,e,n){se=t,aA(t)}function aA(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ic;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Mt;s=ic;var u=Mt;if(ic=a,(Mt=l)&&!u)for(se=i;se!==null;)a=se,l=a.child,a.tag===22&&a.memoizedState!==null?Fb(i):l!==null?(l.return=a,se=l):Fb(i);for(;o!==null;)se=o,aA(o),o=o.sibling;se=i,ic=s,Mt=u}Lb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):Lb(t)}}function Lb(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mt||Jf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&_b(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_b(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&yl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Mt||e.flags&512&&ag(e)}catch(h){et(e,e.return,h)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function Ub(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function Fb(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jf(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){et(e,i,l)}}var o=e.return;try{ag(e)}catch(l){et(e,o,l)}break;case 5:var a=e.return;try{ag(e)}catch(l){et(e,a,l)}}}catch(l){et(e,e.return,l)}if(e===t){se=null;break}var s=e.sibling;if(s!==null){s.return=e.return,se=s;break}se=e.return}}var QR=Math.ceil,cd=Hr.ReactCurrentDispatcher,Jv=Hr.ReactCurrentOwner,An=Hr.ReactCurrentBatchConfig,Ne=0,_t=null,ct=null,Pt=0,ln=0,oa=ki(0),yt=0,Al=null,fo=0,Yf=0,Yv=0,nl=null,Kt=null,Xv=0,Ia=1/0,_r=null,dd=!1,ug=null,vi=null,oc=!1,ui=null,fd=0,rl=0,cg=null,Uc=-1,Fc=0;function Vt(){return Ne&6?it():Uc!==-1?Uc:Uc=it()}function xi(t){return t.mode&1?Ne&2&&Pt!==0?Pt&-Pt:MR.transition!==null?(Fc===0&&(Fc=Gk()),Fc):(t=Re,t!==0||(t=window.event,t=t===void 0?16:Xk(t.type)),t):1}function tr(t,e,n,r){if(50<rl)throw rl=0,cg=null,Error(J(185));wu(t,n,r),(!(Ne&2)||t!==_t)&&(t===_t&&(!(Ne&2)&&(Yf|=n),yt===4&&oi(t,Pt)),tn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(Ia=it()+500,zf&&Ni()))}function tn(t,e){var n=t.callbackNode;MO(t,e);var r=Jc(t,t===_t?Pt:0);if(r===0)n!==null&&Jx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jx(n),e===1)t.tag===0?RR(Bb.bind(null,t)):gN(Bb.bind(null,t)),PR(function(){!(Ne&6)&&Ni()}),n=null;else{switch(Hk(r)){case 1:n=Sv;break;case 4:n=qk;break;case 16:n=Kc;break;case 536870912:n=Vk;break;default:n=Kc}n=pA(n,sA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sA(t,e){if(Uc=-1,Fc=0,Ne&6)throw Error(J(327));var n=t.callbackNode;if(ya()&&t.callbackNode!==n)return null;var r=Jc(t,t===_t?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hd(t,r);else{e=r;var i=Ne;Ne|=2;var o=uA();(_t!==t||Pt!==e)&&(_r=null,Ia=it()+500,ro(t,e));do try{tM();break}catch(s){lA(t,s)}while(!0);$v(),cd.current=o,Ne=i,ct!==null?e=0:(_t=null,Pt=0,e=yt)}if(e!==0){if(e===2&&(i=Dm(t),i!==0&&(r=i,e=dg(t,i))),e===1)throw n=Al,ro(t,0),oi(t,r),tn(t,it()),n;if(e===6)oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZR(i)&&(e=hd(t,r),e===2&&(o=Dm(t),o!==0&&(r=o,e=dg(t,o))),e===1))throw n=Al,ro(t,0),oi(t,r),tn(t,it()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Bi(t,Kt,_r);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=Xv+500-it(),10<e)){if(Jc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hm(Bi.bind(null,t,Kt,_r),e);break}Bi(t,Kt,_r);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-er(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QR(r/1960))-r,10<r){t.timeoutHandle=Hm(Bi.bind(null,t,Kt,_r),r);break}Bi(t,Kt,_r);break;case 5:Bi(t,Kt,_r);break;default:throw Error(J(329))}}}return tn(t,it()),t.callbackNode===n?sA.bind(null,t):null}function dg(t,e){var n=nl;return t.current.memoizedState.isDehydrated&&(ro(t,e).flags|=256),t=hd(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&fg(e)),t}function fg(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function ZR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ir(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~Yv,e&=~Yf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-er(e),r=1<<n;t[n]=-1,e&=~r}}function Bb(t){if(Ne&6)throw Error(J(327));ya();var e=Jc(t,0);if(!(e&1))return tn(t,it()),null;var n=hd(t,e);if(t.tag!==0&&n===2){var r=Dm(t);r!==0&&(e=r,n=dg(t,r))}if(n===1)throw n=Al,ro(t,0),oi(t,e),tn(t,it()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bi(t,Kt,_r),tn(t,it()),null}function Qv(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(Ia=it()+500,zf&&Ni())}}function ho(t){ui!==null&&ui.tag===0&&!(Ne&6)&&ya();var e=Ne;Ne|=1;var n=An.transition,r=Re;try{if(An.transition=null,Re=1,t)return t()}finally{Re=r,An.transition=n,Ne=e,!(Ne&6)&&Ni()}}function Zv(){ln=oa.current,He(oa)}function ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CR(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Ov(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ed();break;case 3:Ca(),He(Zt),He(Ut),qv();break;case 5:Bv(r);break;case 4:Ca();break;case 13:He(Ye);break;case 19:He(Ye);break;case 10:Dv(r.type._context);break;case 22:case 23:Zv()}n=n.return}if(_t=t,ct=t=bi(t.current,null),Pt=ln=e,yt=0,Al=null,Yv=Yf=fo=0,Kt=nl=null,Yi!==null){for(e=0;e<Yi.length;e++)if(n=Yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Yi=null}return t}function lA(t,e){do{var n=ct;try{if($v(),$c.current=ud,ld){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ld=!1}if(co=0,wt=gt=Xe=null,el=!1,Tl=0,Jv.current=null,n===null||n.return===null){yt=1,Al=e,ct=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Pt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Ab(a);if(g!==null){g.flags&=-257,Cb(g,a,s,o,e),g.mode&1&&Nb(o,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){Nb(o,u,e),e0();break e}l=Error(J(426))}}else if(We&&s.mode&1){var b=Ab(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Cb(b,a,s,o,e),Rv(Pa(l,s));break e}}o=l=Pa(l,s),yt!==4&&(yt=2),nl===null?nl=[o]:nl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=HN(o,l,e);wb(o,x);break e;case 1:s=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(vi===null||!vi.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=zN(o,s,e);wb(o,E);break e}}o=o.return}while(o!==null)}dA(n)}catch(S){e=S,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function uA(){var t=cd.current;return cd.current=ud,t===null?ud:t}function e0(){(yt===0||yt===3||yt===2)&&(yt=4),_t===null||!(fo&268435455)&&!(Yf&268435455)||oi(_t,Pt)}function hd(t,e){var n=Ne;Ne|=2;var r=uA();(_t!==t||Pt!==e)&&(_r=null,ro(t,e));do try{eM();break}catch(i){lA(t,i)}while(!0);if($v(),Ne=n,cd.current=r,ct!==null)throw Error(J(261));return _t=null,Pt=0,yt}function eM(){for(;ct!==null;)cA(ct)}function tM(){for(;ct!==null&&!kO();)cA(ct)}function cA(t){var e=hA(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?dA(t):ct=e,Jv.current=null}function dA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KR(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ct=null;return}}else if(n=WR(n,e,ln),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);yt===0&&(yt=5)}function Bi(t,e,n){var r=Re,i=An.transition;try{An.transition=null,Re=1,nM(t,e,n,r)}finally{An.transition=i,Re=r}return null}function nM(t,e,n,r){do ya();while(ui!==null);if(Ne&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($O(t,o),t===_t&&(ct=_t=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oc||(oc=!0,pA(Kc,function(){return ya(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=An.transition,An.transition=null;var a=Re;Re=1;var s=Ne;Ne|=4,Jv.current=null,YR(t,n),oA(n,t),_R(Vm),Yc=!!qm,Vm=qm=null,t.current=n,XR(n),NO(),Ne=s,Re=a,An.transition=o}else t.current=n;if(oc&&(oc=!1,ui=t,fd=i),o=t.pendingLanes,o===0&&(vi=null),PO(n.stateNode),tn(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dd)throw dd=!1,t=ug,ug=null,t;return fd&1&&t.tag!==0&&ya(),o=t.pendingLanes,o&1?t===cg?rl++:(rl=0,cg=t):rl=0,Ni(),null}function ya(){if(ui!==null){var t=Hk(fd),e=An.transition,n=Re;try{if(An.transition=null,Re=16>t?16:t,ui===null)var r=!1;else{if(t=ui,ui=null,fd=0,Ne&6)throw Error(J(331));var i=Ne;for(Ne|=4,se=t.current;se!==null;){var o=se,a=o.child;if(se.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:tl(8,d,o)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,g=d.return;if(nA(d),d===u){se=null;break}if(h!==null){h.return=g,se=h;break}se=g}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}se=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,se=a;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:tl(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,se=x;break e}se=o.return}}var w=t.current;for(se=w;se!==null;){a=se;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,se=_;else e:for(a=w;se!==null;){if(s=se,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Jf(9,s)}}catch(S){et(s,s.return,S)}if(s===a){se=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,se=E;break e}se=s.return}}if(Ne=i,Ni(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Bf,t)}catch{}r=!0}return r}finally{Re=n,An.transition=e}}return!1}function qb(t,e,n){e=Pa(n,e),e=HN(t,e,1),t=yi(t,e,1),e=Vt(),t!==null&&(wu(t,1,e),tn(t,e))}function et(t,e,n){if(t.tag===3)qb(t,t,n);else for(;e!==null;){if(e.tag===3){qb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vi===null||!vi.has(r))){t=Pa(n,t),t=zN(e,t,1),e=yi(e,t,1),t=Vt(),e!==null&&(wu(e,1,t),tn(e,t));break}}e=e.return}}function rM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(Pt&n)===n&&(yt===4||yt===3&&(Pt&130023424)===Pt&&500>it()-Xv?ro(t,0):Yv|=n),tn(t,e)}function fA(t,e){e===0&&(t.mode&1?(e=Ju,Ju<<=1,!(Ju&130023424)&&(Ju=4194304)):e=1);var n=Vt();t=Lr(t,e),t!==null&&(wu(t,e,n),tn(t,n))}function iM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fA(t,n)}function oM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),fA(t,n)}var hA;hA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,zR(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,We&&e.flags&1048576&&yN(e,rd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lc(t,e),t=e.pendingProps;var i=ka(e,Ut.current);ga(e,n),i=Gv(null,e,r,t,i,n);var o=Hv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(r)?(o=!0,td(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uv(e),i.updater=Kf,e.stateNode=i,i._reactInternals=e,Qm(e,r,t,n),e=tg(null,e,r,!0,o,n)):(e.tag=0,We&&o&&jv(e),Bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Lc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sM(r),t=Vn(r,t),i){case 0:e=eg(null,e,r,t,n);break e;case 1:e=jb(null,e,r,t,n);break e;case 11:e=Pb(null,e,r,t,n);break e;case 14:e=Ib(null,e,r,Vn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),eg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),jb(t,e,r,i,n);case 3:e:{if(YN(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,SN(t,e),ad(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Pa(Error(J(423)),e),e=Ob(t,e,r,n,i);break e}else if(r!==i){i=Pa(Error(J(424)),e),e=Ob(t,e,r,n,i);break e}else for(hn=gi(e.stateNode.containerInfo.firstChild),pn=e,We=!0,Jn=null,n=wN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Na(),r===i){e=Ur(t,e,n);break e}Bt(t,e,r,n)}e=e.child}return e;case 5:return EN(e),t===null&&Jm(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Gm(r,i)?a=null:o!==null&&Gm(r,o)&&(e.flags|=32),JN(t,e),Bt(t,e,a,n),e.child;case 6:return t===null&&Jm(e),null;case 13:return XN(t,e,n);case 4:return Fv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Aa(e,null,r,n):Bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),Pb(t,e,r,i,n);case 7:return Bt(t,e,e.pendingProps,n),e.child;case 8:return Bt(t,e,e.pendingProps.children,n),e.child;case 12:return Bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Be(id,r._currentValue),r._currentValue=a,o!==null)if(ir(o.value,a)){if(o.children===i.children&&!Zt.current){e=Ur(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ir(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ym(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Ym(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ga(e,n),i=jn(i),r=r(i),e.flags|=1,Bt(t,e,r,n),e.child;case 14:return r=e.type,i=Vn(r,e.pendingProps),i=Vn(r.type,i),Ib(t,e,r,i,n);case 15:return WN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),Lc(t,e),e.tag=1,en(r)?(t=!0,td(e)):t=!1,ga(e,n),GN(e,r,i),Qm(e,r,i,n),tg(null,e,r,!0,t,n);case 19:return QN(t,e,n);case 22:return KN(t,e,n)}throw Error(J(156,e.tag))};function pA(t,e){return Bk(t,e)}function aM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,n,r){return new aM(t,e,n,r)}function t0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sM(t){if(typeof t=="function")return t0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bv)return 11;if(t===wv)return 14}return 2}function bi(t,e){var n=t.alternate;return n===null?(n=Tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bc(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")t0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Jo:return io(n.children,i,o,e);case xv:a=8,i|=8;break;case _m:return t=Tn(12,n,e,i|2),t.elementType=_m,t.lanes=o,t;case Sm:return t=Tn(13,n,e,i),t.elementType=Sm,t.lanes=o,t;case Em:return t=Tn(19,n,e,i),t.elementType=Em,t.lanes=o,t;case Ek:return Xf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _k:a=10;break e;case Sk:a=9;break e;case bv:a=11;break e;case wv:a=14;break e;case ei:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Tn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function io(t,e,n,r){return t=Tn(7,t,r,e),t.lanes=n,t}function Xf(t,e,n,r){return t=Tn(22,t,r,e),t.elementType=Ek,t.lanes=n,t.stateNode={isHidden:!1},t}function Ip(t,e,n){return t=Tn(6,t,null,e),t.lanes=n,t}function jp(t,e,n){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fp(0),this.expirationTimes=fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function n0(t,e,n,r,i,o,a,s,l){return t=new lM(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Tn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uv(o),t}function uM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mA(t){if(!t)return Ei;t=t._reactInternals;e:{if(_o(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(en(n))return mN(t,n,e)}return e}function gA(t,e,n,r,i,o,a,s,l){return t=n0(n,r,!0,t,i,o,a,s,l),t.context=mA(null),n=t.current,r=Vt(),i=xi(n),o=Ir(r,i),o.callback=e??null,yi(n,o,i),t.current.lanes=i,wu(t,i,r),tn(t,r),t}function Qf(t,e,n,r){var i=e.current,o=Vt(),a=xi(i);return n=mA(n),e.context===null?e.context=n:e.pendingContext=n,e=Ir(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yi(i,e,a),t!==null&&(tr(t,i,a,o),Mc(t,i,a)),a}function pd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function r0(t,e){Vb(t,e),(t=t.alternate)&&Vb(t,e)}function cM(){return null}var yA=typeof reportError=="function"?reportError:function(t){console.error(t)};function i0(t){this._internalRoot=t}Zf.prototype.render=i0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Qf(t,e,null,null)};Zf.prototype.unmount=i0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ho(function(){Qf(null,t,null,null)}),e[Dr]=null}};function Zf(t){this._internalRoot=t}Zf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&Yk(t)}};function o0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gb(){}function dM(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=pd(a);o.call(u)}}var a=gA(e,r,t,0,null,!1,!1,"",Gb);return t._reactRootContainer=a,t[Dr]=a.current,bl(t.nodeType===8?t.parentNode:t),ho(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=pd(l);s.call(u)}}var l=n0(t,0,!1,null,null,!1,!1,"",Gb);return t._reactRootContainer=l,t[Dr]=l.current,bl(t.nodeType===8?t.parentNode:t),ho(function(){Qf(e,l,n,r)}),l}function th(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=pd(a);s.call(l)}}Qf(e,a,t,i)}else a=dM(n,e,t,i,r);return pd(a)}zk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gs(e.pendingLanes);n!==0&&(Ev(e,n|1),tn(e,it()),!(Ne&6)&&(Ia=it()+500,Ni()))}break;case 13:ho(function(){var r=Lr(t,1);if(r!==null){var i=Vt();tr(r,t,1,i)}}),r0(t,1)}};Tv=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var n=Vt();tr(e,t,134217728,n)}r0(t,134217728)}};Wk=function(t){if(t.tag===13){var e=xi(t),n=Lr(t,e);if(n!==null){var r=Vt();tr(n,t,e,r)}r0(t,e)}};Kk=function(){return Re};Jk=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};Rm=function(t,e,n){switch(e){case"input":if(Nm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hf(r);if(!i)throw Error(J(90));kk(r),Nm(r,i)}}}break;case"textarea":Ak(t,n);break;case"select":e=n.value,e!=null&&fa(t,!!n.multiple,e,!1)}};Mk=Qv;$k=ho;var fM={usingClientEntryPoint:!1,Events:[Su,Zo,Hf,Ok,Rk,Qv]},Cs={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hM={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Uk(t),t===null?null:t.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||cM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{Bf=ac.inject(hM),fr=ac}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fM;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o0(e))throw Error(J(200));return uM(t,e,null,n)};yn.createRoot=function(t,e){if(!o0(t))throw Error(J(299));var n=!1,r="",i=yA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=n0(t,1,!1,null,null,n,!1,r,i),t[Dr]=e.current,bl(t.nodeType===8?t.parentNode:t),new i0(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=Uk(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return ho(t)};yn.hydrate=function(t,e,n){if(!eh(e))throw Error(J(200));return th(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!o0(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=yA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=gA(e,null,t,1,n??null,i,!1,o,a),t[Dr]=e.current,bl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zf(e)};yn.render=function(t,e,n){if(!eh(e))throw Error(J(200));return th(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!eh(t))throw Error(J(40));return t._reactRootContainer?(ho(function(){th(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};yn.unstable_batchedUpdates=Qv;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eh(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return th(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function vA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vA)}catch(t){console.error(t)}}vA(),vk.exports=yn;var pM=vk.exports,Hb=pM;bm.createRoot=Hb.createRoot,bm.hydrateRoot=Hb.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cl.apply(this,arguments)}var ci;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ci||(ci={}));const zb="popstate";function mM(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:l=""}=So(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),hg("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof o=="string"?o:xA(o))}function r(i,o){nh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return yM(e,n,r,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gM(){return Math.random().toString(36).substr(2,8)}function Wb(t,e){return{usr:t.state,key:t.key,idx:e}}function hg(t,e,n,r){return n===void 0&&(n=null),Cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?So(e):e,{state:n,key:e&&e.key||r||gM()})}function xA(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function So(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=ci.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Cl({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=ci.Pop;let b=d(),x=b==null?null:b-u;u=b,l&&l({action:s,location:y.location,delta:x})}function h(b,x){s=ci.Push;let w=hg(y.location,b,x);n&&n(w,b),u=d()+1;let _=Wb(w,u),E=y.createHref(w);try{a.pushState(_,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}o&&l&&l({action:s,location:y.location,delta:1})}function g(b,x){s=ci.Replace;let w=hg(y.location,b,x);n&&n(w,b),u=d();let _=Wb(w,u),E=y.createHref(w);a.replaceState(_,"",E),o&&l&&l({action:s,location:y.location,delta:0})}function v(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:xA(b);return w=w.replace(/ $/,"%20"),dt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return s},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zb,f),l=b,()=>{i.removeEventListener(zb,f),l=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let x=v(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:g,go(b){return a.go(b)}};return y}var Kb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kb||(Kb={}));function vM(t,e,n){return n===void 0&&(n="/"),xM(t,e,n)}function xM(t,e,n,r){let i=typeof e=="string"?So(e):e,o=_A(i.pathname||"/",n);if(o==null)return null;let a=bA(t);bM(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=jM(o);s=CM(a[l],u)}return s}function bA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(dt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=oo([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(dt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bA(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:NM(u,o.index),routesMeta:d})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of wA(o.path))i(o,a,l)}),e}function wA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=wA(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function bM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wM=/^:[\w-]+$/,_M=3,SM=2,EM=1,TM=10,kM=-2,Jb=t=>t==="*";function NM(t,e){let n=t.split("/"),r=n.length;return n.some(Jb)&&(r+=kM),e&&(r+=SM),n.filter(i=>!Jb(i)).reduce((i,o)=>i+(wM.test(o)?_M:o===""?EM:TM),r)}function AM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CM(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=PM({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:oo([o,f.pathname]),pathnameBase:DM(oo([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=oo([o,f.pathnameBase]))}return a}function PM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let y=s[f]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const v=s[f];return g&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function IM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _A(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const OM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RM=t=>OM.test(t);function MM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?So(t):t,o;if(n)if(RM(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),nh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=Yb(n.substring(1),"/"):o=Yb(n,e)}else o=e;return{pathname:o,search:LM(r),hash:UM(i)}}function Yb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Op(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $M(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SA(t,e){let n=$M(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function EA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=So(t):(i=Cl({},t),dt(!i.pathname||!i.pathname.includes("?"),Op("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),Op("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),Op("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=MM(i,s),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const oo=t=>t.join("/").replace(/\/\/+/g,"/"),DM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TA=["post","put","patch","delete"];new Set(TA);const BM=["get",...TA];new Set(BM);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}const a0=N.createContext(null),qM=N.createContext(null),Tu=N.createContext(null),rh=N.createContext(null),Eo=N.createContext({outlet:null,matches:[],isDataRoute:!1}),kA=N.createContext(null);function ku(){return N.useContext(rh)!=null}function ih(){return ku()||dt(!1),N.useContext(rh).location}function NA(t){N.useContext(Tu).static||N.useLayoutEffect(t)}function is(){let{isDataRoute:t}=N.useContext(Eo);return t?t$():VM()}function VM(){ku()||dt(!1);let t=N.useContext(a0),{basename:e,future:n,navigator:r}=N.useContext(Tu),{matches:i}=N.useContext(Eo),{pathname:o}=ih(),a=JSON.stringify(SA(i,n.v7_relativeSplatPath)),s=N.useRef(!1);return NA(()=>{s.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=EA(u,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:oo([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,o,t])}function GM(t,e){return HM(t,e)}function HM(t,e,n,r){ku()||dt(!1);let{navigator:i}=N.useContext(Tu),{matches:o}=N.useContext(Eo),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=ih(),d;if(e){var f;let b=typeof e=="string"?So(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||dt(!1),d=b}else d=u;let h=d.pathname||"/",g=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=vM(t,{pathname:g}),y=YM(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:oo([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:oo([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&y?N.createElement(rh.Provider,{value:{location:Pl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ci.Pop}},y):y}function zM(){let t=e$(),e=FM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const WM=N.createElement(zM,null);class KM extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Eo.Provider,{value:this.props.routeContext},N.createElement(kA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JM(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(a0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Eo.Provider,{value:e},r)}function YM(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||dt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let g,v=!1,y=null,b=null;n&&(g=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||WM,l&&(u<0&&h===0?(n$("route-fallback"),v=!0,b=null):u===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),w=()=>{let _;return g?_=y:v?_=b:f.route.Component?_=N.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,N.createElement(JM,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(KM,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var AA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AA||{}),CA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(CA||{});function XM(t){let e=N.useContext(a0);return e||dt(!1),e}function QM(t){let e=N.useContext(qM);return e||dt(!1),e}function ZM(t){let e=N.useContext(Eo);return e||dt(!1),e}function PA(t){let e=ZM(),n=e.matches[e.matches.length-1];return n.route.id||dt(!1),n.route.id}function e$(){var t;let e=N.useContext(kA),n=QM(),r=PA();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function t$(){let{router:t}=XM(AA.UseNavigateStable),e=PA(CA.UseNavigateStable),n=N.useRef(!1);return NA(()=>{n.current=!0}),N.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pl({fromRouteId:e},o)))},[t,e])}const Xb={};function n$(t,e,n){Xb[t]||(Xb[t]=!0)}function r$(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function st(t){let{to:e,replace:n,state:r,relative:i}=t;ku()||dt(!1);let{future:o,static:a}=N.useContext(Tu),{matches:s}=N.useContext(Eo),{pathname:l}=ih(),u=is(),d=EA(e,SA(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function rt(t){dt(!1)}function i$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ci.Pop,navigator:o,static:a=!1,future:s}=t;ku()&&dt(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:o,static:a,future:Pl({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=So(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:v="default"}=r,y=N.useMemo(()=>{let b=_A(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:g,key:v},navigationType:i}},[l,d,f,h,g,v,i]);return y==null?null:N.createElement(Tu.Provider,{value:u},N.createElement(rh.Provider,{children:n,value:y}))}function o$(t){let{children:e,location:n}=t;return GM(pg(e),n)}new Promise(()=>{});function pg(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let o=[...e,i];if(r.type===N.Fragment){n.push.apply(n,pg(r.props.children,o));return}r.type!==rt&&dt(!1),!r.props.index||!r.props.children||dt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=pg(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const a$="6";try{window.__reactRouterVersion=a$}catch{}const s$="startTransition",Qb=rO[s$];function l$(t){let{basename:e,children:n,future:r,window:i}=t,o=N.useRef();o.current==null&&(o.current=mM({window:i,v5Compat:!0}));let a=o.current,[s,l]=N.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=N.useCallback(f=>{u&&Qb?Qb(()=>l(f)):l(f)},[l,u]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.useEffect(()=>r$(r),[r]),N.createElement(i$,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}var Zb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zb||(Zb={}));var ew;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ew||(ew={}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const n=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},d)=>N.createElement("svg",{ref:d,...u$,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${c$(t)}`,s].join(" "),...u},[...e.map(([f,h])=>N.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=Z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Z("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=Z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=Z("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=Z("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Z("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=Z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=Z("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=Z("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=Z("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=Z("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=Z("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Z("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=Z("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=Z("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=Z("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=Z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=Z("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=Z("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=Z("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=Z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=Z("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Z("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=Z("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=Z("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=Z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=Z("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=Z("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=Z("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=Z("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=Z("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=Z("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=Z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=Z("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=Z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=Z("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=Z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=Z("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=Z("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=Z("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=Z("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),K$="2.4.0",aw=[{id:"dashboard",title:"",icon:f$,path:"/"},{id:"shiftreport",title:" ",icon:DA,path:"/shift-report"},{id:"reports",title:"",icon:BA,path:"/reports"},{id:"inbox",title:" ",icon:bd,path:"/inbox"},{id:"messages",title:"",icon:UA,path:"/messages"},{id:"workorders",title:" ",icon:GA,path:"/work-orders"},{id:"projects",title:"",icon:gd,path:"/projects"},{id:"performance",title:" ",icon:s0,path:"/performance"},{id:"partrequest",title:" ",icon:_d,path:"/part-requests"},{id:"inspections",title:" ",icon:$A,path:"/inspections"},{id:"documents",title:" ",icon:md,path:"/documents"},{id:"meetings",title:"",icon:xd,path:"/meetings"},{id:"suggestions",title:" ",icon:wd,path:"/suggestions"},{id:"purchases",title:" ",icon:kd,path:"/purchases"},{id:"workflow",title:" ",icon:LA,path:"/workflow-designer",role:"ADMIN"},{id:"admin",title:"  ",icon:Nu,path:"/admin",role:"ADMIN"},{id:"settings",title:"",icon:d0,path:"/settings"}],J$=[{name:"",value:400},{name:"",value:300},{name:"",value:300},{name:"",value:200}],Y$=[{name:"",uv:400,pv:2400},{name:"",uv:300,pv:1398},{name:"",uv:200,pv:9800},{name:"",uv:278,pv:3908},{name:"",uv:189,pv:4800},{name:"",uv:239,pv:3800}],X$=({children:t,user:e,onLogout:n,darkMode:r,toggleDarkMode:i})=>{var h;const[o,a]=N.useState(!1),s=is(),l=ih();if(l.pathname==="/login")return c.jsx(c.Fragment,{children:t});const d=()=>{s(-1)},f=l.pathname==="/";return c.jsxs("div",{className:`flex h-screen w-full overflow-hidden ${r?"dark":""}`,children:[o&&c.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden",onClick:()=>a(!1)}),c.jsx("aside",{className:`
        fixed top-0 right-0 z-50 h-full w-64 bg-white dark:bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out
        ${o?"translate-x-0":"translate-x-full"}
        md:relative md:translate-x-0 md:w-64 md:flex-shrink-0
      `,children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-primary dark:text-red-400",children:""}),c.jsx("button",{onClick:()=>a(!1),className:"md:hidden",children:c.jsx(nn,{className:"w-6 h-6"})})]}),c.jsxs("div",{onClick:()=>{s("/settings"),a(!1)},className:"p-4 bg-gray-50 dark:bg-gray-700 flex items-center gap-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group relative",title:" ",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-primary text-white flex items-center justify-center overflow-hidden border-2 border-transparent group-hover:border-primary transition-all",children:e!=null&&e.avatar?c.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full object-cover"}):c.jsx(f0,{})}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("p",{className:"font-medium truncate group-hover:text-primary transition-colors",children:e==null?void 0:e.fullName}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:e==null?void 0:e.role})]}),c.jsx("div",{className:"absolute left-2 text-xs text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",children:""})]}),c.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:aw.map(g=>{if(g.id==="settings"||g.role&&(e==null?void 0:e.role)!==g.role&&(e==null?void 0:e.role)!=="ADMIN")return null;const v=l.pathname===g.path;return c.jsxs("button",{onClick:()=>{s(g.path),a(!1)},className:`w-full flex items-center gap-3 px-6 py-3 text-right transition-colors
                    ${v?"bg-primary/10 text-primary dark:text-red-400 border-r-4 border-primary":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[c.jsx(g.icon,{className:"w-5 h-5"}),c.jsx("span",{children:g.title})]},g.id)})}),c.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[c.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg mb-2",children:[r?c.jsx(q$,{className:"w-5 h-5"}):c.jsx(P$,{className:"w-5 h-5"}),c.jsx("span",{children:r?" ":" "})]}),c.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:[c.jsx(N$,{className:"w-5 h-5"}),c.jsx("span",{children:""})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-gray-50 dark:bg-gray-900",children:[c.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm z-10 px-4 h-16 flex items-center justify-between flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2",children:c.jsx(C$,{className:"w-6 h-6"})}),!f&&c.jsx("button",{onClick:d,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:c.jsx(ah,{className:"w-6 h-6"})}),c.jsx("h1",{className:"text-lg font-semibold",children:((h=aw.find(g=>g.path===l.pathname))==null?void 0:h.title)||(l.pathname==="/settings"?"":"")})]}),c.jsx("div",{className:"flex items-center gap-2"})]}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar pb-20 md:pb-6",children:t})]})]})};var Xt=(t=>(t.ADMIN="ADMIN",t.USER="USER",t.STOREKEEPER="STOREKEEPER",t.INSPECTOR="INSPECTOR",t.MANAGER="MANAGER",t.EXPERT="EXPERT",t))(Xt||{});const Q$={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},HA=({className:t})=>{const e=()=>{try{return`${Q$&&"/net/"||"/"}logo.svg`.replace(/\/\//g,"/")}catch{return"/logo.svg"}};return c.jsx("img",{src:e(),className:t,alt:"Company Logo",onError:n=>{console.warn("Logo load failed"),n.currentTarget.style.display="none"}})};function uh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Z$(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(s,l)}u((r=r.apply(t,e||[])).next())})}const eD=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class h0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class tD extends h0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sw extends h0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class lw extends h0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(mg||(mg={}));class nD{constructor(e,{headers:n={},customFetch:r,region:i=mg.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=eD(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Z$(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:d,timeout:f}=r;let h={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let b=d;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const x=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:b}).catch(S=>{throw new tD(S)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new sw(x);if(!x.ok)throw new lw(x);let _=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return _==="application/json"?E=yield x.json():_==="application/octet-stream"||_==="application/pdf"?E=yield x.blob():_==="text/event-stream"?E=x:_==="multipart/form-data"?E=yield x.formData():E=yield x.text(),{data:E,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof lw||s instanceof sw?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var rD=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},iD=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,d=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var g;const x=await o.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?s=x:s=JSON.parse(x))}const y=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const y=await o.text();try{a=JSON.parse(y),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,d="OK")}catch{o.status===404&&y===""?(u=204,d="No Content"):a={message:y}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&n.shouldThrowOnError)throw new rD(a)}return{error:a,data:s,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,d,f,h;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";s=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${v}`,y&&(s+=` (${y})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var g;s=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},oD=class extends iD{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const uw=new RegExp("[,()]");var Go=class extends oD{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&uw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&uw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},aD=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new Go({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,s)=>a.concat(Object.keys(s)),[]);if(o.length>0){const a=[...new Set(o)].map(s=>`"${s}"`);this.url.searchParams.set("columns",a.join(","))}}return new Go({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Go({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Go({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Go({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},sD=class zA{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new aD(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new zA(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",u=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new Go({method:s,url:l,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class lD{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const uD="2.89.0",cD=`realtime-js/${uD}`,WA="1.0.0",dD="2.0.0",cw=WA,gg=1e4,fD=1e3,hD=100;var ni;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ni||(ni={}));var mt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(mt||(mt={}));var zn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(zn||(zn={}));var yg;(function(t){t.websocket="websocket"})(yg||(yg={}));var Wi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wi||(Wi={}));class pD{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,o;const a=e.topic,s=(i=e.ref)!==null&&i!==void 0?i:"",l=(o=e.join_ref)!==null&&o!==void 0?o:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(g),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,s.length),v.setUint8(y++,a.length),v.setUint8(y++,u.length),v.setUint8(y++,f.length),v.setUint8(y++,n),Array.from(l,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(s,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(u,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(f,x=>v.setUint8(y++,x.charCodeAt(0)));var b=new Uint8Array(g.byteLength+r.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(r),g.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+o));l=l+o;const f=r.decode(e.slice(l,l+a));l=l+a;const h=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:g};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class KA{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ue||(Ue={}));const dw=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,a)=>(o[a]=mD(a,t,e,i),o),{}):{}},mD=(t,e,n,r)=>{const i=e.find(s=>s.name===t),o=i==null?void 0:i.type,a=n[t];return o&&!r.includes(o)?JA(o,a):vg(a)},JA=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return xD(e,n)}switch(t){case Ue.bool:return gD(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return yD(e);case Ue.json:case Ue.jsonb:return vD(e);case Ue.timestamp:return bD(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return vg(e);default:return vg(e)}},vg=t=>t,gD=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yD=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vD=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},xD=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const a=t.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>JA(e,s))}return t},bD=t=>typeof t=="string"?t.replace(" ","T"):t,YA=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Rp{constructor(e,n,r={},i=gg){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fw||(fw={}));class ol{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ol.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=ol.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ol.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),a=this.transformState(n),s={},l={};return this.map(o,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=o[u];if(f){const h=d.map(b=>b.presence_ref),g=f.map(b=>b.presence_ref),v=d.filter(b=>g.indexOf(b.presence_ref)<0),y=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(s[u]=v),y.length>0&&(l[u]=y)}else s[u]=d}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const d=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),d.length>0){const f=e[s].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);e[s].unshift(...h)}r(s,d,l)}),this.map(a,(s,l)=>{let u=e[s];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hw||(hw={}));var al;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(al||(al={}));var Sr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));class aa{constructor(e,n={config:{}},r){var i,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rp(this,zn.join,this.params,this.timeout),this.rejoinTimer=new KA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new ol(this),this.broadcastEndpointURL=YA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[al.PRESENCE]&&this.bindings[al.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Sr.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Sr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(Sr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,x=[];for(let w=0;w<b;w++){const _=y[w],{filter:{event:E,schema:S,table:T,filter:k}}=_,A=g&&g[w];if(A&&A.event===E&&aa.isFilterValueEqual(A.schema,S)&&aa.isFilterValueEqual(A.table,T)&&aa.isFilterValueEqual(A.filter,k))x.push(Object.assign(Object.assign({},_),{id:A.id}));else{this.unsubscribe(),this.state=mt.errored,e==null||e(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Sr.SUBSCRIBED);return}}).receive("error",g=>{this.state=mt.errored,e==null||e(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===mt.joined&&e===al.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=mt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Rp(this,zn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Rp(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>hD){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:d}=zn;if(r&&[s,l,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,y,b;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=g.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var v,y,b,x,w,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const E=g.id,S=(v=g.filter)===null||v===void 0?void 0:v.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const E=(w=(x=g==null?void 0:g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:b,commit_timestamp:x,type:w,errors:_}=v;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:x,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(h,r)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&aa.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(zn.close,{},e)}_onError(e){this._on(zn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=dw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=dw(e.columns,e.old_record)),n}}const Mp=()=>{},sc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wD=[1e3,2e3,5e3,1e4],_D=1e4,SD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ED{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gg,this.transport=null,this.heartbeatIntervalMs=sc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mp,this.ref=0,this.reconnectTimer=null,this.vsn=cw,this.logger=Mp,this.conn=null,this.sendBuffer=[],this.serializer=new pD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${yg.websocket}`,this.httpEndpoint=YA(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lD.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ni.connecting:return Wi.Connecting;case ni.open:return Wi.Open;case ni.closing:return Wi.Closing;default:return Wi.Closed}}isConnected(){return this.connectionState()===Wi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new aa(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:i,ref:o}=e,a=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(fD,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},sc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ni.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ni.open||this.conn.readyState===ni.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(zn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([SD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:cD};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(zn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new KA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,o,a,s,l,u,d,f,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:gg,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:sc.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Mp,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:cw,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>wD[v-1]||_D,this.vsn){case WA:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(v,y)=>y(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,y)=>y(JSON.parse(v));break;case dD:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Il=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function TD(t,e,n){const r=new URL(e,t);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function kD(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function ND(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=TD(t.baseUrl,r,i),l=await kD(t.auth),u=await e(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const g=f?h:void 0,v=g==null?void 0:g.error;throw new Il((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function lc(t){return t.join("")}var AD=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:lc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${lc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${lc(t.namespace)}`}),!0}catch(e){if(e instanceof Il&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Il&&n.status===409)return;throw n}}};function Ro(t){return t.join("")}var CD=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ro(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ro(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ro(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ro(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ro(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ro(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Il&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Il&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},PD=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=ND({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new AD(this.client,e),this.tableOps=new CD(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},ch=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var ID=class extends ch{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},xg=class extends ch{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const p0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jD=()=>Response,bg=t=>{if(Array.isArray(t))return t.map(n=>bg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=bg(r)}),e},OD=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},RD=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function MD(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $D(t){var e=MD(t,"string");return jl(e)=="symbol"?e:e+""}function DD(t,e,n){return(e=$D(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(n),!0).forEach(function(r){DD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const $p=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},LD=async(t,e,n)=>{t instanceof await jD()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,o=(r==null?void 0:r.statusCode)||i+"";e(new ID($p(r),i,o))}).catch(r=>{e(new xg($p(r),r))}):e(new xg($p(t),t))},UD=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(OD(r)?(i.headers=pe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),pe(pe({},i),n))};async function Au(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,UD(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>LD(l,s,r))})}async function Ol(t,e,n,r){return Au(t,"GET",e,n,r)}async function Gn(t,e,n,r,i){return Au(t,"POST",e,r,i,n)}async function wg(t,e,n,r,i){return Au(t,"PUT",e,r,i,n)}async function FD(t,e,n,r){return Au(t,"HEAD",e,pe(pe({},n),{},{noResolveJson:!0}),r)}async function m0(t,e,n,r,i){return Au(t,"DELETE",e,r,i,n)}var BD=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}}};let XA;XA=Symbol.toStringTag;var qD=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[XA]="BlobDownloadBuilder",this.promise=null}asStream(){return new BD(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}}};const VD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var GD=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=p0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let o;const a=pe(pe({},mw),r);let s=pe(pe({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=pe(pe({},s),r.headers));const u=i._removeEmptyFolders(e),d=i._getFinalPath(u),f=await(t=="PUT"?wg:Gn)(i.fetch,`${i.url}/object/${d}`,o,pe({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const o=i._removeEmptyFolders(t),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",e);try{let l;const u=pe({upsert:mw.upsert},r),d=pe(pe({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:o,fullPath:(await wg(i.fetch,s.toString(),l,{headers:d})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=pe({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const o=await Gn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new ch("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await Gn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await Gn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),o=await Gn(r.fetch,`${r.url}/object/sign/${i}`,pe({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await Gn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>pe(pe({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(t),a=()=>Ol(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new qD(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:bg(await Ol(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await FD(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r)&&r instanceof xg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(t){var e=this;try{return{data:await m0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=pe(pe(pe({},VD),e),{},{prefix:t||""});return{data:await Gn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=pe({},t);return{data:await Gn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const QA="2.89.0",ZA={"X-Client-Info":`storage-js/${QA}`};var HD=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=pe(pe({},ZA),e),this.fetch=p0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Ol(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Ol(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await Gn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await wg(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await Gn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await m0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},zD=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},ZA),e),this.fetch=p0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Gn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Ol(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await m0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!RD(t))throw new ch("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new PD({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const g0={"X-Client-Info":`storage-js/${QA}`,"Content-Type":"application/json"};var eC=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function cn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Dp=class extends eC{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},WD=class extends eC{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const y0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),KD=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},gw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),JD=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";e(new Dp(gw(o),r,a))}).catch(()=>{const o=r+"";e(new Dp(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";e(new Dp(i.statusText||`HTTP ${r} error`,r,o))}}else e(new WD(gw(t),t))},YD=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(KD(r)?(i.headers=pe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,pe(pe({},i),n)):i};async function XD(t,e,n,r,i,o){return new Promise((a,s)=>{t(n,YD(e,r,i,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>JD(l,s,r))})}async function dn(t,e,n,r,i){return XD(t,"POST",e,r,i,n)}var QD=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},g0),e),this.fetch=y0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await dn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await dn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await dn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await dn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(cn(r))return{data:null,error:r};throw r}}},ZD=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},g0),e),this.fetch=y0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await dn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await dn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await dn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await dn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await dn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}}},eL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=pe(pe({},g0),e),this.fetch=y0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await dn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await dn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await dn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await dn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(cn(n))return{data:null,error:n};throw n}}},tL=class extends eL{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new nL(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},nL=class extends QD{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new rL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},rL=class extends ZD{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,pe(pe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},iL=class extends HD{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new GD(this.url,this.headers,t,this.fetch)}get vectors(){return new tL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zD(this.url+"/iceberg",this.headers,this.fetch)}};const tC="2.89.0",Ho=30*1e3,_g=3,Lp=_g*Ho,oL="http://localhost:9999",aL="supabase.auth.token",sL={"X-Client-Info":`gotrue-js/${tC}`},Sg="X-Supabase-Api-Version",nC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uL=10*60*1e3;class Rl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ce(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cL extends Rl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function dL(t){return ce(t)&&t.name==="AuthApiError"}class Ki extends Rl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class zr extends Rl{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class on extends zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fL(t){return ce(t)&&t.name==="AuthSessionMissingError"}class Mo extends zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uc extends zr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cc extends zr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hL(t){return ce(t)&&t.name==="AuthImplicitGrantRedirectError"}class yw extends zr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pL extends zr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Eg extends zr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Up(t){return ce(t)&&t.name==="AuthRetryableFetchError"}class vw extends zr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Tg extends zr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xw=` 	
\r=`.split(""),mL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<xw.length;e+=1)t[xw[e].charCodeAt(0)]=-2;for(let e=0;e<Ad.length;e+=1)t[Ad[e].charCodeAt(0)]=e;return t})();function bw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ad[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ad[r]),e.queuedBits-=6}}function rC(t,e,n){const r=mL[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ww(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{vL(a,r,n)};for(let a=0;a<t.length;a+=1)rC(t.charCodeAt(a),i,o);return e.join("")}function gL(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function yL(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}gL(r,e)}}function vL(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function va(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)rC(t.charCodeAt(i),n,r);return new Uint8Array(e)}function xL(t){const e=[];return yL(t,n=>e.push(n)),new Uint8Array(e)}function Qi(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>bw(i,n,r)),bw(null,n,r),e.join("")}function bL(t){return Math.round(Date.now()/1e3)+t}function wL(){return Symbol("auth-callback")}const kt=()=>typeof window<"u"&&typeof document<"u",Di={tested:!1,writable:!1},iC=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Di.tested)return Di.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Di.tested=!0,Di.writable=!0}catch{Di.tested=!0,Di.writable=!1}return Di.writable};function _L(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const oC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),SL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Li=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tt=async(t,e)=>{await t.removeItem(e)};class dh{constructor(){this.promise=new dh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}dh.promiseConstructor=Promise;function Fp(t){const e=t.split(".");if(e.length!==3)throw new Tg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!lL.test(e[r]))throw new Tg("JWT not in base64url format");return{header:JSON.parse(ww(e[0])),payload:JSON.parse(ww(e[1])),signature:va(e[2]),raw:{header:e[0],payload:e[1]}}}async function EL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function TL(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await t(o);if(!e(o,null,a)){r(a);return}}catch(a){if(!e(o,a)){i(a);return}}})()})}function kL(t){return("0"+t.toString(16)).substr(-2)}function NL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,kL).join("")}async function AL(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function CL(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await AL(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $o(t,e,n=!1){const r=NL();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await zo(t,`${e}-code-verifier`,i);const o=await CL(r);return[o,r===o?"plain":"s256"]}const PL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IL(t){const e=t.headers.get(Sg);if(!e||!e.match(PL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function jL(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function OL(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Do(t){if(!RL.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ML(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function _w(t){return JSON.parse(JSON.stringify(t))}const qi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$L=[502,503,504];async function Sw(t){var e;if(!SL(t))throw new Eg(qi(t),0);if($L.includes(t.status))throw new Eg(qi(t),t.status);let n;try{n=await t.json()}catch(o){throw new Ki(qi(o),o)}let r;const i=IL(t);if(i&&i.getTime()>=nC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new vw(qi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new on}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new vw(qi(n),t.status,n.weak_password.reasons);throw new cL(qi(n),t.status||500,r)}const DL=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function he(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Sg]||(o[Sg]=nC["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await LL(t,e,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function LL(t,e,n,r,i,o){const a=DL(e,r,i,o);let s;try{s=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Eg(qi(l),0)}if(s.ok||await Sw(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await Sw(l)}}function qn(t){var e;let n=null;BL(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=bL(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ew(t){const e=qn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ai(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function UL(t){return{data:t,error:null}}function FL(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=uh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function Tw(t){return t}function BL(t){return t.access_token&&t.refresh_token&&t.expires_in}const qp=["global","local","others"];class qL{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=oC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=qp[0]){if(qp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qp.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ai})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=uh(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:FL,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ai})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Tw});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Do(e);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ai})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Do(e);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ai})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Do(e);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ai})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Do(e.userId);try{const{data:n,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Do(e.userId),Do(e.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},d=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Tw});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ce(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}}function kw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Lo={debug:!!(globalThis&&iC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class VL extends aC{}async function GL(t,e,n){Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new VL(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Lo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function HL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function zL(t){return parseInt(t,16)}function WL(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function KL(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=sC(t.address),v=d?`${d}://${r}`:r,y=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${g}

${y}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),s&&(x+=`
Not Before: ${s.toISOString()}`),l&&(x+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}x+=w}return`${b}
${x}`}class ut extends Error{constructor({message:e,code:n,cause:r,name:i}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Cd extends ut{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function JL({error:t,options:e}){var n,r,i;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(lC(a)){if(o.rp.id!==a)return new ut({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function YL({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ut({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(lC(r)){if(n.rpId!==r)return new ut({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class XL{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const QL=new XL;function ZL(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=uh(t,["challenge","user","excludeCredentials"]),o=va(e).buffer,a=Object.assign(Object.assign({},n),{id:va(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:va(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function eU(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=uh(t,["challenge","allowCredentials"]),i=va(e).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:va(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function tU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Qi(new Uint8Array(t.response.attestationObject)),clientDataJSON:Qi(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function nU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Qi(new Uint8Array(i.authenticatorData)),clientDataJSON:Qi(new Uint8Array(i.clientDataJSON)),signature:Qi(new Uint8Array(i.signature)),userHandle:i.userHandle?Qi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function lC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Nw(){var t,e;return!!(kt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rU(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cd("Browser returned unexpected credential type",e)}:{data:null,error:new Cd("Empty credential response",e)}}catch(e){return{data:null,error:JL({error:e,options:t})}}}async function iU(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cd("Browser returned unexpected credential type",e)}:{data:null,error:new Cd("Empty credential response",e)}}catch(e){return{data:null,error:YL({error:e,options:t})}}}const oU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},aU={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(e(a)){const s=r[o];e(s)?r[o]=Pd(s,a):r[o]=Pd(a)}else r[o]=a}return r}function sU(t,e){return Pd(oU,t,e||{})}function lU(t,e){return Pd(aU,t,e||{})}class uU{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},o){try{const{data:a,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:s};const l=i??QL.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=sU(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await rU({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=lU(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await iU(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return ce(a)?{data:null,error:a}:{data:null,error:new Ki("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Rl("rpId is required for WebAuthn authentication")};try{if(!Nw())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return ce(a)?{data:null,error:a}:{data:null,error:new Ki("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Rl("rpId is required for WebAuthn registration")};try{if(!Nw())return{data:null,error:new Ki("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ce(a)?{data:null,error:a}:{data:null,error:new Ki("Unexpected error in register",a)}}}}HL();const cU={url:oL,storageKey:aL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Aw(t,e,n){return await n()}const Uo={};class Ml{get jwks(){var e,n;return(n=(e=Uo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Uo[this.storageKey]=Object.assign(Object.assign({},Uo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Uo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Uo[this.storageKey]=Object.assign(Object.assign({},Uo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},cU),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Ml.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ml.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&kt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new qL({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=oC(o.fetch),this.lock=o.lock||Aw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&kt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=GL:this.lock=Aw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new uU(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:iC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=kw(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${tC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(kt()&&(n=_L(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),kt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),hL(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?this._returnResult({error:n}):this._returnResult({error:new Ki("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:qn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:d,password:f,options:h}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await $o(this.storage,this.storageKey)),o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:qn})}else if("phone"in e){const{phone:d,password:f,options:h}=e;o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qn})}else throw new uc("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await Tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:a,options:s}=e;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ew})}else if("phone"in e){const{phone:o,password:a,options:s}=e;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ew})}else throw new uc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Mo;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,o,a,s,l,u,d,f,h;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:y,wallet:b,statement:x,options:w}=e;let _;if(kt())if(typeof b=="object")_=b;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")_=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const E=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=sC(S[0]);let k=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const C=await _.request({method:"eth_chainId"});k=zL(C)}const A={domain:E.host,address:T,statement:x,uri:E.href,version:"1",chainId:k,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=KL(A),v=await _.request({method:"personal_sign",params:[WL(g),T]})}try{const{data:y,error:b}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:qn});if(b)throw b;if(!y||!y.session||!y.user){const x=new Mo;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(ce(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,o,a,s,l,u,d,f,h,g;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:b,wallet:x,statement:w,options:_}=e;let E;if(kt())if(typeof x=="object")E=x;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))E=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=x}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const T=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let k;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")k=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)k=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const T=await E.signMessage(new TextEncoder().encode(v),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=T}}try{const{data:b,error:x}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Qi(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:qn});if(x)throw x;if(!b||!b.session||!b.user){const w=new Mo;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(ce(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await Li(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new pL;const{data:o,error:a}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:qn});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new Mo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=e,s=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:qn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Mo;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,o,a;try{if("email"in e){const{email:s,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $o(this.storage,this.storageKey));const{error:f}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:d}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new uc("You must provide either an email or phone number.")}catch(s){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),ce(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:qn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await $o(this.storage,this.storageKey));const u=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:UL});return!((o=u.data)===null||o===void 0)&&o.url&&kt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),ce(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new on;const{error:i}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ce(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:a}=await he(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:a,error:s}=await he(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new uc("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Li(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Lp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Li(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Bp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=ML(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ai}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new on}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ai})})}catch(n){if(ce(n))return fL(n)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new on;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await $o(this.storage,this.storageKey));const{data:u,error:d}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:ai});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),ce(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new on;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=Fp(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ce(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:s}=n;if(s)throw s;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new on;const{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ce(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!kt())throw new cc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new cc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new yw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yw("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=e;if(!o||!s||!a||!u)throw new cc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const g=h-d;g*1e3<=Ho&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:y,error:b}=await this._getUser(o);if(b)throw b;const x={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(r){if(ce(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Li(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,e);if(s&&!(dL(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=wL(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await $o(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),ce(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,d;const{data:f,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return kt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ce(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:d}=e,f=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:qn}),{data:h,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Mo}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await TL(async i=>(i>0&&await EL(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Up(o)&&Date.now()+a-r<Ho})}catch(r){if(this._debug(n,"error",r),ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),kt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Li(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Li(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await zo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Bp()}else if(i&&!i.user&&!i.user){const a=await Li(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Tt(this.storage,this.storageKey+"-user"),await zo(this.storage,this.storageKey,i)):i.user=Bp()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Lp;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Lp}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Up(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new on;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dh;const{data:o,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new on;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),ce(o)){const a={data:null,error:o};return Up(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Tt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await zo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=_w(i);await zo(this.storage,this.storageKey,o)}else{const i=_w(n);await zo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ho);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ho);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ho}ms, refresh threshold is ${_g} ticks`),i<=_g&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof aC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await $o(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await he(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await he(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?tU(e.webauthn.credential_response):nU(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:ZL(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:eU(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Fp(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new on})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new on});const a=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&kt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new on});const a=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&kt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new on})})}catch(e){if(ce(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new on})})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+uL>i)return r;const{data:o,error:a}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});r=g.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=Fp(r);n!=null&&n.allowExpired||jL(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:i,signature:a},error:null}}const d=OL(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,xL(`${s}.${l}`)))throw new Tg("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}}Ml.nextInstanceID={};const dU=Ml,fU="2.89.0";let zs="";typeof Deno<"u"?zs="deno":typeof document<"u"?zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zs="react-native":zs="node";const hU={"X-Client-Info":`supabase-js-${zs}/${fU}`},pU={headers:hU},mU={schema:"public"},gU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yU={};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function vU(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xU(t){var e=vU(t,"string");return $l(e)=="symbol"?e:e+""}function bU(t,e,n){return(e=xU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cw(Object(n),!0).forEach(function(r){bU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const wU=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_U=()=>Headers,SU=(t,e,n)=>{const r=wU(n),i=_U();return async(o,a)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Ze(Ze({},a),{},{headers:u}))}};function EU(t){return t.endsWith("/")?t:t+"/"}function TU(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:Ze(Ze({},l),i),auth:Ze(Ze({},u),o),realtime:Ze(Ze({},d),a),storage:{},global:Ze(Ze(Ze({},f),s),{},{headers:Ze(Ze({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function kU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(EU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var NU=class extends dU{constructor(t){super(t)}},AU=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const o=kU(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:mU,realtime:yU,auth:Ze(Ze({},gU),{},{storageKey:a}),global:pU},l=TU(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=SU(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new sD(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new iL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new nD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new NU({url:this.authUrl.href,headers:Ze(Ze({},h),d),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ED(this.realtimeUrl.href,Ze(Ze({},t),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const CU=(t,e,n)=>new AU(t,e,n);function PU(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}PU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Pw={BASE_URL:"/net/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},IU="https://krgznynrljnvxwhvsdxj.supabase.co",jU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtyZ3pueW5ybGpudnh3aHZzZHhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMzI3MzMsImV4cCI6MjA4MTkwODczM30.OUjiO0YpbSHSfD9gQ6T6RugFNdGPvJPhMzTQBkbgI5c";function uC(t){try{if(typeof import.meta<"u"&&import.meta&&Pw)return Pw[t]}catch(e){console.warn(`Error accessing environment variable ${t}:`,e)}}const OU=uC("VITE_SUPABASE_URL"),RU=uC("VITE_SUPABASE_ANON_KEY"),cC=OU||IU,MU=RU||jU;cC.includes("placeholder")&&console.warn("Supabase Client Warning: Missing or invalid URL/Key. Connection may fail.");const Yn=CU(cC,MU),Iw=`--      SQL Editor  Supabase  

-- 1.   (  )
create table if not exists locations (
  id uuid default gen_random_uuid() primary key,
  code text unique,
  name text not null,
  parent_id uuid references locations(id),
  created_at timestamptz default now()
);

create table if not exists measurement_units (
  id uuid default gen_random_uuid() primary key,
  title text not null,
  created_at timestamptz default now()
);

create table if not exists equipment_classes (
  id uuid default gen_random_uuid() primary key,
  name text not null,
  created_at timestamptz default now()
);

create table if not exists equipment_groups (
  id uuid default gen_random_uuid() primary key,
  name text not null,
  class_id uuid references equipment_classes(id),
  created_at timestamptz default now()
);

create table if not exists part_categories (
  id uuid default gen_random_uuid() primary key,
  name text not null,
  parent_id uuid references part_categories(id),
  level_type text,
  created_at timestamptz default now()
);

create table if not exists personnel (
  id uuid default gen_random_uuid() primary key,
  personnel_code text unique not null,
  first_name text,
  last_name text,
  unit text,
  mobile text,
  email text, -- Added Email
  profile_picture text,
  created_at timestamptz default now()
);

-- 2.   (  )
create table if not exists app_users (
  id uuid default gen_random_uuid() primary key,
  username text unique not null,
  role text not null,
  personnel_id uuid references personnel(id),
  is_default_password boolean default true,
  avatar text,
  created_at timestamptz default now()
);

create table if not exists equipment (
  id uuid default gen_random_uuid() primary key,
  code text unique,
  name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  location_id uuid references locations(id),
  description text,
  created_at timestamptz default now()
);

create table if not exists equipment_local_names (
  id uuid default gen_random_uuid() primary key,
  local_name text not null,
  class_id uuid references equipment_classes(id),
  group_id uuid references equipment_groups(id),
  created_at timestamptz default now()
);

create table if not exists parts (
  id uuid default gen_random_uuid() primary key,
  code text,
  name text not null,
  category_id uuid references part_categories(id),
  stock_unit_id uuid references measurement_units(id),
  consumption_unit_id uuid references measurement_units(id),
  created_at timestamptz default now()
);

create table if not exists cartable_items (
  id uuid default gen_random_uuid() primary key,
  workflow_id text,
  tracking_code text unique,
  module text not null,
  title text,
  description text,
  current_step_id text,
  initiator_id uuid references app_users(id),
  assignee_role text,
  assignee_id uuid references app_users(id),
  status text,
  data jsonb,
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

-- 3.   
create table if not exists user_groups ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists org_chart ( id uuid default gen_random_uuid() primary key, code text, name text, manager_name text, created_at timestamptz default now() );
create table if not exists evaluation_periods ( id uuid default gen_random_uuid() primary key, code text, title text, created_at timestamptz default now() );
create table if not exists evaluation_criteria ( id uuid default gen_random_uuid() primary key, title text, max_score numeric, created_at timestamptz default now() );
create table if not exists equipment_tree ( id uuid default gen_random_uuid() primary key, equipment_id uuid references equipment(id), code text, name text, parent_id uuid references equipment_tree(id), created_at timestamptz default now() );
create table if not exists activity_cards ( id uuid default gen_random_uuid() primary key, code text, name text, created_at timestamptz default now() );
create table if not exists checklist_items ( id uuid default gen_random_uuid() primary key, activity_card_id uuid references activity_cards(id), sort_order int, description text, created_at timestamptz default now() );
create table if not exists maintenance_plans ( id uuid default gen_random_uuid() primary key, code text, name text, equipment_id uuid references equipment(id), created_at timestamptz default now() );

-- 4.  RLS  
alter table locations enable row level security; create policy "Allow all" on locations for all using (true) with check (true);
alter table measurement_units enable row level security; create policy "Allow all" on measurement_units for all using (true) with check (true);
alter table equipment_classes enable row level security; create policy "Allow all" on equipment_classes for all using (true) with check (true);
alter table equipment_groups enable row level security; create policy "Allow all" on equipment_groups for all using (true) with check (true);
alter table part_categories enable row level security; create policy "Allow all" on part_categories for all using (true) with check (true);
alter table personnel enable row level security; create policy "Allow all" on personnel for all using (true) with check (true);
alter table app_users enable row level security; create policy "Allow all" on app_users for all using (true) with check (true);
alter table equipment enable row level security; create policy "Allow all" on equipment for all using (true) with check (true);
alter table equipment_local_names enable row level security; create policy "Allow all" on equipment_local_names for all using (true) with check (true);
alter table parts enable row level security; create policy "Allow all" on parts for all using (true) with check (true);
alter table cartable_items enable row level security; create policy "Allow all" on cartable_items for all using (true) with check (true);
alter table user_groups enable row level security; create policy "Allow all" on user_groups for all using (true) with check (true);
alter table org_chart enable row level security; create policy "Allow all" on org_chart for all using (true) with check (true);
alter table evaluation_periods enable row level security; create policy "Allow all" on evaluation_periods for all using (true) with check (true);
alter table evaluation_criteria enable row level security; create policy "Allow all" on evaluation_criteria for all using (true) with check (true);
alter table equipment_tree enable row level security; create policy "Allow all" on equipment_tree for all using (true) with check (true);
alter table activity_cards enable row level security; create policy "Allow all" on activity_cards for all using (true) with check (true);
alter table checklist_items enable row level security; create policy "Allow all" on checklist_items for all using (true) with check (true);
alter table maintenance_plans enable row level security; create policy "Allow all" on maintenance_plans for all using (true) with check (true);

-- 5.    
create or replace function get_next_tracking_code(prefix_input text)
returns text
language plpgsql
as $$
declare
  new_code text;
  count_val integer;
begin
  select count(*) into count_val from cartable_items where tracking_code like prefix_input || '%';
  new_code := prefix_input || to_char(count_val + 1001, 'FM0000');
  return new_code;
end;
$$;

-- UPDATE:       (   )
alter table personnel add column if not exists email text;
`,$U=({onLogin:t})=>{const[e,n]=N.useState(""),[r,i]=N.useState(""),[o,a]=N.useState(""),[s,l]=N.useState(!1),[u,d]=N.useState(!1),[f,h]=N.useState("checking"),[g,v]=N.useState(""),[y,b]=N.useState(!1),[x,w]=N.useState(!1);N.useEffect(()=>{_()},[]);const _=async()=>{h("checking");try{const{data:C,error:j}=await Yn.from("app_users").select("count",{count:"exact",head:!0});if(j)throw j;h("connected"),v("    ")}catch(C){console.error("Supabase Connection Error:",C),h("error");let j="   ";if(typeof C=="string")j=C;else if(C!=null&&C.code)C.code==="42P01"?j="   ":C.code==="PGRST301"?j="     (RLS)":j=` : ${C.code} - ${C.message||""}`;else try{const R=JSON.stringify(C);R==="{}"||R==='{"message":""}'?j="   ":C.message&&C.message.includes("fetch")?j="   (  VPN   )":C.message&&C.message.includes("jw")?j=" API  ":C.message?j=C.message:j="  (  )"}catch{j=" "}v(j)}},E=()=>{navigator.clipboard.writeText(Iw),w(!0),setTimeout(()=>w(!1),2e3)},S={id:"1",username:"admin",fullName:" ",role:Xt.ADMIN,passwordHash:"admin",isDefaultPassword:!0},T=C=>{if(C.preventDefault(),a(""),e.toLowerCase()==="admin"&&r==="admin"){if(u){const j={...S,isDefaultPassword:!1};t(j);return}{d(!0),a("         .");return}}else a("      ")},k=C=>{if(C.preventDefault(),r==="admin"){a("        ");return}t({...S,isDefaultPassword:!1})};return c.jsxs("div",{className:"min-h-[100dvh] flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 relative overflow-hidden font-sans",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute -top-[20%] -right-[10%] w-[70vw] h-[70vw] rounded-full bg-[#800020]/5 blur-3xl"}),c.jsx("div",{className:"absolute top-[40%] -left-[10%] w-[50vw] h-[50vw] rounded-full bg-blue-500/5 blur-3xl"})]}),c.jsxs("div",{className:"w-full max-w-sm z-10 flex flex-col gap-8",children:[c.jsxs("div",{className:"text-center flex flex-col items-center animate-fadeIn",children:[c.jsx("div",{className:"w-32 h-32 flex items-center justify-center mb-4 transform hover:scale-105 transition duration-500",children:c.jsx(HA,{className:"w-full h-full drop-shadow-2xl"})}),c.jsx("h1",{className:"text-xl font-black text-[#800020] dark:text-red-400 leading-tight mb-2 px-4",children:"     "}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium tracking-wide",children:"    "})]}),(f==="checking"||f==="error")&&c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsxs("div",{onClick:_,className:`cursor-pointer flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-bold justify-center transition-colors border max-w-full text-center
                    ${f==="checking"?"bg-gray-100 text-gray-500 border-gray-200":""}
                    ${f==="error"?"bg-red-50 text-red-700 border-red-200":""}
                `,children:[f==="checking"&&c.jsxs(c.Fragment,{children:[c.jsx(W$,{className:"w-3 h-3 animate-pulse"}),"    ..."]}),f==="error"&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(D$,{className:"w-3 h-3 flex-shrink-0"})," ",c.jsx("span",{className:"truncate",children:g})," ",c.jsx(Sd,{className:"w-3 h-3"})]})]}),f==="error"&&c.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-1 text-[10px] bg-blue-50 text-blue-600 px-3 py-1 rounded-full border border-blue-200 hover:bg-blue-100 transition",children:[c.jsx(m$,{className:"w-3 h-3"}),"    (SQL)"]})]}),c.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-8 animate-slideUp border border-white/50 dark:border-gray-700/50",children:u?c.jsxs("form",{onSubmit:k,className:"space-y-5",children:[c.jsxs("div",{className:"bg-yellow-50 text-yellow-800 px-4 py-3 rounded-xl text-sm mb-4 border border-yellow-100 flex items-start gap-2",children:[c.jsx(jA,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{children:"            ."})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:"  "}),c.jsxs("div",{className:"relative",children:[c.jsx(ow,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:s?"text":"password",placeholder:"",value:r,onChange:C=>i(C.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-lg",style:{fontFamily:s?"inherit":"Verdana, sans-serif"},required:!0,autoFocus:!0}),c.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:s?c.jsx(rw,{className:"w-5 h-5"}):c.jsx(vd,{className:"w-5 h-5"})})]})]}),c.jsx("button",{type:"submit",className:"w-full bg-[#800020] hover:bg-[#600018] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-95 shadow-lg shadow-red-900/20 flex items-center justify-center gap-2",children:"   "})]}):c.jsxs("form",{onSubmit:T,className:"space-y-5",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),c.jsxs("div",{className:"relative group",children:[c.jsx(f0,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),c.jsx("input",{type:"text",placeholder:"     ",value:e,onChange:C=>n(C.target.value),className:"w-full pr-12 pl-4 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100",required:!0,autoComplete:"username"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 mr-1",children:" "}),c.jsxs("div",{className:"relative group",children:[c.jsx(ow,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-[#800020] transition-colors"}),c.jsx("input",{type:s?"text":"password",placeholder:"",value:r,onChange:C=>i(C.target.value),className:"w-full pr-12 pl-12 h-14 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-[#800020] focus:border-transparent outline-none transition-all text-gray-800 dark:text-gray-100 tracking-wider",style:{fontFamily:s?"inherit":"Verdana, sans-serif"},required:!0,autoComplete:"current-password"}),c.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute left-0 top-0 bottom-0 px-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 flex items-center justify-center",children:s?c.jsx(rw,{className:"w-5 h-5"}):c.jsx(vd,{className:"w-5 h-5"})})]})]})]}),o&&c.jsxs("div",{className:"text-red-500 text-sm text-center bg-red-50 dark:bg-red-900/10 p-3 rounded-xl border border-red-100 dark:border-red-900/20 flex items-center justify-center gap-2 animate-shake",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),o]}),c.jsxs("button",{type:"submit",className:"w-full bg-[#800020] hover:bg-[#600018] text-white h-14 rounded-2xl font-bold text-lg transition-all transform active:scale-[0.98] shadow-xl shadow-red-900/20 flex items-center justify-center gap-2 mt-2",children:[c.jsx("span",{children:"  "}),c.jsx(k$,{className:"w-5 h-5"})]})]})}),c.jsxs("div",{className:"text-center space-y-1 pb-4",children:[c.jsxs("p",{className:"text-gray-400 dark:text-gray-500 text-[10px] font-bold tracking-widest uppercase",children:[" ",K$]}),c.jsxs("p",{className:"text-gray-300 dark:text-gray-600 text-[9px] font-bold tracking-[0.1em] uppercase font-mono opacity-50",children:["Hash: ","b7a9f2c"]}),c.jsx("p",{className:"text-gray-300 dark:text-gray-600 text-[9px] font-bold tracking-[0.3em] uppercase font-sans opacity-70 mt-2",children:"DESIGN BY H.PARSA"})]})]}),y&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[c.jsxs("h3",{className:"font-bold flex items-center gap-2 text-gray-700 dark:text-gray-200",children:[c.jsx(y$,{className:"w-5 h-5 text-blue-600"}),"  "]}),c.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition",children:c.jsx(nn,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/10 border-b border-yellow-100 dark:border-yellow-900/30 text-sm text-yellow-800 dark:text-yellow-200",children:["        ",c.jsx("b",{children:"Supabase"}),"  ",c.jsx("b",{children:"SQL Editor"}),"        ."]}),c.jsxs("div",{className:"flex-1 overflow-auto p-4 bg-gray-900 text-gray-300 font-mono text-xs relative",children:[c.jsx("pre",{children:Iw}),c.jsxs("button",{onClick:E,className:"absolute top-4 left-4 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-2 shadow-lg transition",children:[x?c.jsx(oh,{className:"w-4 h-4"}):c.jsx(g$,{className:"w-4 h-4"}),x?" ":" "]})]})]})})]})};function dC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ae(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dC(t))&&(r&&(r+=" "),r+=e);return r}var DU=Array.isArray,rn=DU,LU=typeof Vu=="object"&&Vu&&Vu.Object===Object&&Vu,fC=LU,UU=fC,FU=typeof self=="object"&&self&&self.Object===Object&&self,BU=UU||FU||Function("return this")(),xr=BU,qU=xr,VU=qU.Symbol,Cu=VU,jw=Cu,hC=Object.prototype,GU=hC.hasOwnProperty,HU=hC.toString,Ps=jw?jw.toStringTag:void 0;function zU(t){var e=GU.call(t,Ps),n=t[Ps];try{t[Ps]=void 0;var r=!0}catch{}var i=HU.call(t);return r&&(e?t[Ps]=n:delete t[Ps]),i}var WU=zU,KU=Object.prototype,JU=KU.toString;function YU(t){return JU.call(t)}var XU=YU,Ow=Cu,QU=WU,ZU=XU,e4="[object Null]",t4="[object Undefined]",Rw=Ow?Ow.toStringTag:void 0;function n4(t){return t==null?t===void 0?t4:e4:Rw&&Rw in Object(t)?QU(t):ZU(t)}var Wr=n4;function r4(t){return t!=null&&typeof t=="object"}var Kr=r4,i4=Wr,o4=Kr,a4="[object Symbol]";function s4(t){return typeof t=="symbol"||o4(t)&&i4(t)==a4}var as=s4,l4=rn,u4=as,c4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d4=/^\w*$/;function f4(t,e){if(l4(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||u4(t)?!0:d4.test(t)||!c4.test(t)||e!=null&&t in Object(e)}var v0=f4;function h4(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ai=h4;const ss=Le(Ai);var p4=Wr,m4=Ai,g4="[object AsyncFunction]",y4="[object Function]",v4="[object GeneratorFunction]",x4="[object Proxy]";function b4(t){if(!m4(t))return!1;var e=p4(t);return e==y4||e==v4||e==g4||e==x4}var x0=b4;const xe=Le(x0);var w4=xr,_4=w4["__core-js_shared__"],S4=_4,Vp=S4,Mw=function(){var t=/[^.]+$/.exec(Vp&&Vp.keys&&Vp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function E4(t){return!!Mw&&Mw in t}var T4=E4,k4=Function.prototype,N4=k4.toString;function A4(t){if(t!=null){try{return N4.call(t)}catch{}try{return t+""}catch{}}return""}var pC=A4,C4=x0,P4=T4,I4=Ai,j4=pC,O4=/[\\^$.*+?()[\]{}|]/g,R4=/^\[object .+?Constructor\]$/,M4=Function.prototype,$4=Object.prototype,D4=M4.toString,L4=$4.hasOwnProperty,U4=RegExp("^"+D4.call(L4).replace(O4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function F4(t){if(!I4(t)||P4(t))return!1;var e=C4(t)?U4:R4;return e.test(j4(t))}var B4=F4;function q4(t,e){return t==null?void 0:t[e]}var V4=q4,G4=B4,H4=V4;function z4(t,e){var n=H4(t,e);return G4(n)?n:void 0}var To=z4,W4=To,K4=W4(Object,"create"),fh=K4,$w=fh;function J4(){this.__data__=$w?$w(null):{},this.size=0}var Y4=J4;function X4(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Q4=X4,Z4=fh,e3="__lodash_hash_undefined__",t3=Object.prototype,n3=t3.hasOwnProperty;function r3(t){var e=this.__data__;if(Z4){var n=e[t];return n===e3?void 0:n}return n3.call(e,t)?e[t]:void 0}var i3=r3,o3=fh,a3=Object.prototype,s3=a3.hasOwnProperty;function l3(t){var e=this.__data__;return o3?e[t]!==void 0:s3.call(e,t)}var u3=l3,c3=fh,d3="__lodash_hash_undefined__";function f3(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=c3&&e===void 0?d3:e,this}var h3=f3,p3=Y4,m3=Q4,g3=i3,y3=u3,v3=h3;function ls(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ls.prototype.clear=p3;ls.prototype.delete=m3;ls.prototype.get=g3;ls.prototype.has=y3;ls.prototype.set=v3;var x3=ls;function b3(){this.__data__=[],this.size=0}var w3=b3;function _3(t,e){return t===e||t!==t&&e!==e}var b0=_3,S3=b0;function E3(t,e){for(var n=t.length;n--;)if(S3(t[n][0],e))return n;return-1}var hh=E3,T3=hh,k3=Array.prototype,N3=k3.splice;function A3(t){var e=this.__data__,n=T3(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():N3.call(e,n,1),--this.size,!0}var C3=A3,P3=hh;function I3(t){var e=this.__data__,n=P3(e,t);return n<0?void 0:e[n][1]}var j3=I3,O3=hh;function R3(t){return O3(this.__data__,t)>-1}var M3=R3,$3=hh;function D3(t,e){var n=this.__data__,r=$3(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var L3=D3,U3=w3,F3=C3,B3=j3,q3=M3,V3=L3;function us(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}us.prototype.clear=U3;us.prototype.delete=F3;us.prototype.get=B3;us.prototype.has=q3;us.prototype.set=V3;var ph=us,G3=To,H3=xr,z3=G3(H3,"Map"),w0=z3,Dw=x3,W3=ph,K3=w0;function J3(){this.size=0,this.__data__={hash:new Dw,map:new(K3||W3),string:new Dw}}var Y3=J3;function X3(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Q3=X3,Z3=Q3;function e5(t,e){var n=t.__data__;return Z3(e)?n[typeof e=="string"?"string":"hash"]:n.map}var mh=e5,t5=mh;function n5(t){var e=t5(this,t).delete(t);return this.size-=e?1:0,e}var r5=n5,i5=mh;function o5(t){return i5(this,t).get(t)}var a5=o5,s5=mh;function l5(t){return s5(this,t).has(t)}var u5=l5,c5=mh;function d5(t,e){var n=c5(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var f5=d5,h5=Y3,p5=r5,m5=a5,g5=u5,y5=f5;function cs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cs.prototype.clear=h5;cs.prototype.delete=p5;cs.prototype.get=m5;cs.prototype.has=g5;cs.prototype.set=y5;var _0=cs,mC=_0,v5="Expected a function";function S0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(v5);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(S0.Cache||mC),n}S0.Cache=mC;var gC=S0;const x5=Le(gC);var b5=gC,w5=500;function _5(t){var e=b5(t,function(r){return n.size===w5&&n.clear(),r}),n=e.cache;return e}var S5=_5,E5=S5,T5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k5=/\\(\\)?/g,N5=E5(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(T5,function(n,r,i,o){e.push(i?o.replace(k5,"$1"):r||n)}),e}),A5=N5;function C5(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var E0=C5,Lw=Cu,P5=E0,I5=rn,j5=as,Uw=Lw?Lw.prototype:void 0,Fw=Uw?Uw.toString:void 0;function yC(t){if(typeof t=="string")return t;if(I5(t))return P5(t,yC)+"";if(j5(t))return Fw?Fw.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var O5=yC,R5=O5;function M5(t){return t==null?"":R5(t)}var vC=M5,$5=rn,D5=v0,L5=A5,U5=vC;function F5(t,e){return $5(t)?t:D5(t,e)?[t]:L5(U5(t))}var xC=F5,B5=as;function q5(t){if(typeof t=="string"||B5(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var gh=q5,V5=xC,G5=gh;function H5(t,e){e=V5(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[G5(e[n++])];return n&&n==r?t:void 0}var T0=H5,z5=T0;function W5(t,e,n){var r=t==null?void 0:z5(t,e);return r===void 0?n:r}var bC=W5;const Cn=Le(bC);function K5(t){return t==null}var J5=K5;const we=Le(J5);var Y5=Wr,X5=rn,Q5=Kr,Z5="[object String]";function eF(t){return typeof t=="string"||!X5(t)&&Q5(t)&&Y5(t)==Z5}var tF=eF;const po=Le(tF);var wC={exports:{}},Me={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0=Symbol.for("react.element"),N0=Symbol.for("react.portal"),yh=Symbol.for("react.fragment"),vh=Symbol.for("react.strict_mode"),xh=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),wh=Symbol.for("react.context"),nF=Symbol.for("react.server_context"),_h=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),Eh=Symbol.for("react.suspense_list"),Th=Symbol.for("react.memo"),kh=Symbol.for("react.lazy"),rF=Symbol.for("react.offscreen"),_C;_C=Symbol.for("react.module.reference");function $n(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case k0:switch(t=t.type,t){case yh:case xh:case vh:case Sh:case Eh:return t;default:switch(t=t&&t.$$typeof,t){case nF:case wh:case _h:case kh:case Th:case bh:return t;default:return e}}case N0:return e}}}Me.ContextConsumer=wh;Me.ContextProvider=bh;Me.Element=k0;Me.ForwardRef=_h;Me.Fragment=yh;Me.Lazy=kh;Me.Memo=Th;Me.Portal=N0;Me.Profiler=xh;Me.StrictMode=vh;Me.Suspense=Sh;Me.SuspenseList=Eh;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(t){return $n(t)===wh};Me.isContextProvider=function(t){return $n(t)===bh};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===k0};Me.isForwardRef=function(t){return $n(t)===_h};Me.isFragment=function(t){return $n(t)===yh};Me.isLazy=function(t){return $n(t)===kh};Me.isMemo=function(t){return $n(t)===Th};Me.isPortal=function(t){return $n(t)===N0};Me.isProfiler=function(t){return $n(t)===xh};Me.isStrictMode=function(t){return $n(t)===vh};Me.isSuspense=function(t){return $n(t)===Sh};Me.isSuspenseList=function(t){return $n(t)===Eh};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yh||t===xh||t===vh||t===Sh||t===Eh||t===rF||typeof t=="object"&&t!==null&&(t.$$typeof===kh||t.$$typeof===Th||t.$$typeof===bh||t.$$typeof===wh||t.$$typeof===_h||t.$$typeof===_C||t.getModuleId!==void 0)};Me.typeOf=$n;wC.exports=Me;var iF=wC.exports,oF=Wr,aF=Kr,sF="[object Number]";function lF(t){return typeof t=="number"||aF(t)&&oF(t)==sF}var SC=lF;const uF=Le(SC);var cF=SC;function dF(t){return cF(t)&&t!=+t}var fF=dF;const Pu=Le(fF);var Zn=function(e){return e===0?0:e>0?1:-1},Zi=function(e){return po(e)&&e.indexOf("%")===e.length-1},ee=function(e){return uF(e)&&!Pu(e)},hF=function(e){return we(e)},vt=function(e){return ee(e)||po(e)},pF=0,Iu=function(e){var n=++pF;return"".concat(e||"").concat(n)},mo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!po(e))return r;var o;if(Zi(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Pu(o)&&(o=r),i&&o>n&&(o=n),o},si=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},mF=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Xn=function(e,n){return ee(e)&&ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function Id(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Cn(r,e))===n})}var gF=function(e,n){return ee(e)&&ee(n)?e-n:po(e)&&po(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function xa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}var yF=["viewBox","children"],vF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Bw=["points","pathLength"],Gp={svg:yF,polygon:Bw,polyline:Bw},A0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!ss(r))return null;var i={};return Object.keys(r).forEach(function(o){A0.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},xF=function(e,n,r){return function(i){return e(n,r,i),null}},Od=function(e,n,r){if(!ss(e)||kg(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];A0.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=xF(a,n,r))}),i},bF=["children"],wF=["children"];function qw(t,e){if(t==null)return{};var n=_F(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _F(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}var Vw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Or=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Gw=null,Hp=null,C0=function t(e){if(e===Gw&&Array.isArray(Hp))return Hp;var n=[];return N.Children.forEach(e,function(r){we(r)||(iF.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Hp=n,Gw=e,n};function Pn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Or(i)}):r=[Or(e)],C0(t).forEach(function(i){var o=Cn(i,"type.displayName")||Cn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function un(t,e){var n=Pn(t,e);return n&&n[0]}var Hw=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ee(r)||r<=0||!ee(i)||i<=0)},SF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],EF=function(e){return e&&e.type&&po(e.type)&&SF.indexOf(e.type)>=0},TF=function(e){return e&&Ng(e)==="object"&&"clipDot"in e},kF=function(e,n,r,i){var o,a=(o=Gp==null?void 0:Gp[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!xe(e)&&(i&&a.includes(n)||vF.includes(n))||r&&A0.includes(n)},Te=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!ss(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;kF((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Ag=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return zw(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!zw(o,a))return!1}return!0},zw=function(e,n){if(we(e)&&we(n))return!0;if(!we(e)&&!we(n)){var r=e.props||{},i=r.children,o=qw(r,bF),a=n.props||{},s=a.children,l=qw(a,wF);return i&&s?xa(o,l)&&Ag(i,s):!i&&!s?xa(o,l):!1}return!1},Ww=function(e,n){var r=[],i={};return C0(e).forEach(function(o,a){if(EF(o))r.push(o);else if(o){var s=Or(o.type),l=n[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},NF=function(e){var n=e&&e.type;return n&&Vw[n]?Vw[n]:null},AF=function(e,n){return C0(n).indexOf(e)},CF=["children","width","height","viewBox","className","style","title","desc"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cg.apply(this,arguments)}function PF(t,e){if(t==null)return{};var n=IF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pg(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=PF(t,CF),d=i||{width:n,height:r,x:0,y:0},f=Ae("recharts-surface",o);return L.createElement("svg",Cg({},Te(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,s),L.createElement("desc",null,l),e)}var jF=["children","className"];function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function OF(t,e){if(t==null)return{};var n=RF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ot=L.forwardRef(function(t,e){var n=t.children,r=t.className,i=OF(t,jF),o=Ae("recharts-layer",r);return L.createElement("g",Ig({className:o},Te(i,!0),{ref:e}),n)}),Rr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function MF(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var $F=MF,DF=$F;function LF(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:DF(t,e,n)}var UF=LF,FF="\\ud800-\\udfff",BF="\\u0300-\\u036f",qF="\\ufe20-\\ufe2f",VF="\\u20d0-\\u20ff",GF=BF+qF+VF,HF="\\ufe0e\\ufe0f",zF="\\u200d",WF=RegExp("["+zF+FF+GF+HF+"]");function KF(t){return WF.test(t)}var EC=KF;function JF(t){return t.split("")}var YF=JF,TC="\\ud800-\\udfff",XF="\\u0300-\\u036f",QF="\\ufe20-\\ufe2f",ZF="\\u20d0-\\u20ff",eB=XF+QF+ZF,tB="\\ufe0e\\ufe0f",nB="["+TC+"]",jg="["+eB+"]",Og="\\ud83c[\\udffb-\\udfff]",rB="(?:"+jg+"|"+Og+")",kC="[^"+TC+"]",NC="(?:\\ud83c[\\udde6-\\uddff]){2}",AC="[\\ud800-\\udbff][\\udc00-\\udfff]",iB="\\u200d",CC=rB+"?",PC="["+tB+"]?",oB="(?:"+iB+"(?:"+[kC,NC,AC].join("|")+")"+PC+CC+")*",aB=PC+CC+oB,sB="(?:"+[kC+jg+"?",jg,NC,AC,nB].join("|")+")",lB=RegExp(Og+"(?="+Og+")|"+sB+aB,"g");function uB(t){return t.match(lB)||[]}var cB=uB,dB=YF,fB=EC,hB=cB;function pB(t){return fB(t)?hB(t):dB(t)}var mB=pB,gB=UF,yB=EC,vB=mB,xB=vC;function bB(t){return function(e){e=xB(e);var n=yB(e)?vB(e):void 0,r=n?n[0]:e.charAt(0),i=n?gB(n,1).join(""):e.slice(1);return r[t]()+i}}var wB=bB,_B=wB,SB=_B("toUpperCase"),EB=SB;const Nh=Le(EB);function Fe(t){return function(){return t}}const IC=Math.cos,Rd=Math.sin,or=Math.sqrt,Md=Math.PI,Ah=2*Md,Rg=Math.PI,Mg=2*Rg,Vi=1e-6,TB=Mg-Vi;function jC(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function kB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return jC;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class NB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?jC:kB(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,d=a-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Vi)if(!(Math.abs(f*l-u*d)>Vi)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,v=i-s,y=l*l+u*u,b=g*g+v*v,x=Math.sqrt(y),w=Math.sqrt(h),_=o*Math.tan((Rg-Math.acos((y+h-b)/(2*x*w)))/2),E=_/w,S=_/x;Math.abs(E-1)>Vi&&this._append`L${e+E*d},${n+E*f}`,this._append`A${o},${o},0,0,${+(f*g>d*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Vi||Math.abs(this._y1-d)>Vi)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Mg+Mg),h>TB?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Vi&&this._append`A${r},${r},0,${+(h>=Rg)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function P0(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new NB(e)}function I0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function OC(t){this._context=t}OC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ch(t){return new OC(t)}function RC(t){return t[0]}function MC(t){return t[1]}function $C(t,e){var n=Fe(!0),r=null,i=Ch,o=null,a=P0(s);t=typeof t=="function"?t:t===void 0?RC:Fe(t),e=typeof e=="function"?e:e===void 0?MC:Fe(e);function s(l){var u,d=(l=I0(l)).length,f,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Fe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Fe(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Fe(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function dc(t,e,n){var r=null,i=Fe(!0),o=null,a=Ch,s=null,l=P0(u);t=typeof t=="function"?t:t===void 0?RC:Fe(+t),e=typeof e=="function"?e:Fe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?MC:Fe(+n);function u(f){var h,g,v,y=(f=I0(f)).length,b,x=!1,w,_=new Array(y),E=new Array(y);for(o==null&&(s=a(w=l())),h=0;h<=y;++h){if(!(h<y&&i(b=f[h],h,f))===x)if(x=!x)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(_[v],E[v]);s.lineEnd(),s.areaEnd()}x&&(_[h]=+t(b,h,f),E[h]=+e(b,h,f),s.point(r?+r(b,h,f):_[h],n?+n(b,h,f):E[h]))}if(w)return s=null,w+""||null}function d(){return $C().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Fe(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Fe(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Fe(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Fe(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Fe(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Fe(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Fe(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class DC{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function AB(t){return new DC(t,!0)}function CB(t){return new DC(t,!1)}const j0={draw(t,e){const n=or(e/Md);t.moveTo(n,0),t.arc(0,0,n,0,Ah)}},PB={draw(t,e){const n=or(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},LC=or(1/3),IB=LC*2,jB={draw(t,e){const n=or(e/IB),r=n*LC;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},OB={draw(t,e){const n=or(e),r=-n/2;t.rect(r,r,n,n)}},RB=.8908130915292852,UC=Rd(Md/10)/Rd(7*Md/10),MB=Rd(Ah/10)*UC,$B=-IC(Ah/10)*UC,DB={draw(t,e){const n=or(e*RB),r=MB*n,i=$B*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Ah*o/5,s=IC(a),l=Rd(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},zp=or(3),LB={draw(t,e){const n=-or(e/(zp*3));t.moveTo(0,n*2),t.lineTo(-zp*n,-n),t.lineTo(zp*n,-n),t.closePath()}},xn=-.5,bn=or(3)/2,$g=1/or(12),UB=($g/2+1)*3,FB={draw(t,e){const n=or(e/UB),r=n/2,i=n*$g,o=r,a=n*$g+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(xn*r-bn*i,bn*r+xn*i),t.lineTo(xn*o-bn*a,bn*o+xn*a),t.lineTo(xn*s-bn*l,bn*s+xn*l),t.lineTo(xn*r+bn*i,xn*i-bn*r),t.lineTo(xn*o+bn*a,xn*a-bn*o),t.lineTo(xn*s+bn*l,xn*l-bn*s),t.closePath()}};function BB(t,e){let n=null,r=P0(i);t=typeof t=="function"?t:Fe(t||j0),e=typeof e=="function"?e:Fe(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Fe(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Fe(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function $d(){}function Dd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function FC(t){this._context=t}FC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qB(t){return new FC(t)}function BC(t){this._context=t}BC.prototype={areaStart:$d,areaEnd:$d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Dd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VB(t){return new BC(t)}function qC(t){this._context=t}qC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Dd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GB(t){return new qC(t)}function VC(t){this._context=t}VC.prototype={areaStart:$d,areaEnd:$d,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HB(t){return new VC(t)}function Kw(t){return t<0?-1:1}function Jw(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Kw(o)+Kw(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Yw(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Wp(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Ld(t){this._context=t}Ld.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wp(this,this._t0,Yw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Wp(this,Yw(this,n=Jw(this,t,e)),n);break;default:Wp(this,this._t0,n=Jw(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function GC(t){this._context=new HC(t)}(GC.prototype=Object.create(Ld.prototype)).point=function(t,e){Ld.prototype.point.call(this,e,t)};function HC(t){this._context=t}HC.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function zB(t){return new Ld(t)}function WB(t){return new GC(t)}function zC(t){this._context=t}zC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Xw(t),i=Xw(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Xw(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function KB(t){return new zC(t)}function Ph(t,e){this._context=t,this._t=e}Ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function JB(t){return new Ph(t,.5)}function YB(t){return new Ph(t,0)}function XB(t){return new Ph(t,1)}function ja(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Dg(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function QB(t,e){return t[e]}function ZB(t){const e=[];return e.key=t,e}function e6(){var t=Fe([]),e=Dg,n=ja,r=QB;function i(o){var a=Array.from(t.apply(this,arguments),ZB),s,l=a.length,u=-1,d;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,d=I0(e(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Fe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Fe(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Dg:typeof o=="function"?o:Fe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ja,i):n},i}function t6(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ja(t,e)}}function n6(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}ja(t,e)}}function r6(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,g=(f-h)/2,v=0;v<s;++v){var y=t[e[v]],b=y[r][1]||0,x=y[r-1][1]||0;g+=b-x}l+=f,u+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ja(t,e)}}function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}var i6=["type","size","sizeType"];function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(this,arguments)}function Qw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qw(Object(n),!0).forEach(function(r){o6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o6(t,e,n){return e=a6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a6(t){var e=s6(t,"string");return Dl(e)=="symbol"?e:e+""}function s6(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l6(t,e){if(t==null)return{};var n=u6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u6(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var WC={symbolCircle:j0,symbolCross:PB,symbolDiamond:jB,symbolSquare:OB,symbolStar:DB,symbolTriangle:LB,symbolWye:FB},c6=Math.PI/180,d6=function(e){var n="symbol".concat(Nh(e));return WC[n]||j0},f6=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*c6;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},h6=function(e,n){WC["symbol".concat(Nh(e))]=n},O0=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=l6(e,i6),u=Zw(Zw({},l),{},{type:r,size:o,sizeType:s}),d=function(){var b=d6(r),x=BB().type(b).size(f6(o,s,r));return x()},f=u.className,h=u.cx,g=u.cy,v=Te(u,!0);return h===+h&&g===+g&&o===+o?L.createElement("path",Lg({},v,{className:Ae("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:d()})):null};O0.registerSymbol=h6;function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(this,arguments)}function e_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e_(Object(n),!0).forEach(function(r){Ll(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JC(r.key),r)}}function y6(t,e,n){return e&&g6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v6(t,e,n){return e=Ud(e),x6(t,KC()?Reflect.construct(e,n||[],Ud(t).constructor):e.apply(t,n))}function x6(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b6(t)}function b6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KC=function(){return!!t})()}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ud(t)}function w6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fg(t,e)}function Fg(t,e){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fg(t,e)}function Ll(t,e,n){return e=JC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JC(t){var e=_6(t,"string");return Oa(e)=="symbol"?e:e+""}function _6(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wn=32,R0=function(t){function e(){return m6(this,e),v6(this,e,arguments)}return w6(e,t),y6(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=wn/2,a=wn/6,s=wn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:wn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(wn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return L.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(wn/8,"h").concat(wn,"v").concat(wn*3/4,"h").concat(-wn,"z"),className:"recharts-legend-icon"});if(L.isValidElement(r.legendIcon)){var u=p6({},r);return delete u.legendIcon,L.cloneElement(r.legendIcon,u)}return L.createElement(O0,{fill:l,cx:o,cy:o,size:wn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:wn,height:wn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,v){var y=g.formatter||l,b=Ae(Ll(Ll({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var x=xe(g.value)?null:g.value;Rr(!xe(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=g.inactive?u:g.color;return L.createElement("li",Ug({className:b,style:f,key:"legend-item-".concat(v)},Od(r.props,g,v)),L.createElement(Pg,{width:a,height:a,viewBox:d,style:h},r.renderIcon(g)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(x,g,v):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(N.PureComponent);Ll(R0,"displayName","Legend");Ll(R0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var S6=ph;function E6(){this.__data__=new S6,this.size=0}var T6=E6;function k6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var N6=k6;function A6(t){return this.__data__.get(t)}var C6=A6;function P6(t){return this.__data__.has(t)}var I6=P6,j6=ph,O6=w0,R6=_0,M6=200;function $6(t,e){var n=this.__data__;if(n instanceof j6){var r=n.__data__;if(!O6||r.length<M6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new R6(r)}return n.set(t,e),this.size=n.size,this}var D6=$6,L6=ph,U6=T6,F6=N6,B6=C6,q6=I6,V6=D6;function ds(t){var e=this.__data__=new L6(t);this.size=e.size}ds.prototype.clear=U6;ds.prototype.delete=F6;ds.prototype.get=B6;ds.prototype.has=q6;ds.prototype.set=V6;var YC=ds,G6="__lodash_hash_undefined__";function H6(t){return this.__data__.set(t,G6),this}var z6=H6;function W6(t){return this.__data__.has(t)}var K6=W6,J6=_0,Y6=z6,X6=K6;function Fd(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new J6;++e<n;)this.add(t[e])}Fd.prototype.add=Fd.prototype.push=Y6;Fd.prototype.has=X6;var XC=Fd;function Q6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var QC=Q6;function Z6(t,e){return t.has(e)}var ZC=Z6,e8=XC,t8=QC,n8=ZC,r8=1,i8=2;function o8(t,e,n,r,i,o){var a=n&r8,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,g=n&i8?new e8:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var v=t[f],y=e[f];if(r)var b=a?r(y,v,f,e,t,o):r(v,y,f,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(g){if(!t8(e,function(x,w){if(!n8(g,w)&&(v===x||i(v,x,n,r,o)))return g.push(w)})){h=!1;break}}else if(!(v===y||i(v,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var eP=o8,a8=xr,s8=a8.Uint8Array,l8=s8;function u8(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var c8=u8;function d8(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var M0=d8,t_=Cu,n_=l8,f8=b0,h8=eP,p8=c8,m8=M0,g8=1,y8=2,v8="[object Boolean]",x8="[object Date]",b8="[object Error]",w8="[object Map]",_8="[object Number]",S8="[object RegExp]",E8="[object Set]",T8="[object String]",k8="[object Symbol]",N8="[object ArrayBuffer]",A8="[object DataView]",r_=t_?t_.prototype:void 0,Kp=r_?r_.valueOf:void 0;function C8(t,e,n,r,i,o,a){switch(n){case A8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case N8:return!(t.byteLength!=e.byteLength||!o(new n_(t),new n_(e)));case v8:case x8:case _8:return f8(+t,+e);case b8:return t.name==e.name&&t.message==e.message;case S8:case T8:return t==e+"";case w8:var s=p8;case E8:var l=r&g8;if(s||(s=m8),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=y8,a.set(t,e);var d=h8(s(t),s(e),r,i,o,a);return a.delete(t),d;case k8:if(Kp)return Kp.call(t)==Kp.call(e)}return!1}var P8=C8;function I8(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var tP=I8,j8=tP,O8=rn;function R8(t,e,n){var r=e(t);return O8(t)?r:j8(r,n(t))}var M8=R8;function $8(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var D8=$8;function L8(){return[]}var U8=L8,F8=D8,B8=U8,q8=Object.prototype,V8=q8.propertyIsEnumerable,i_=Object.getOwnPropertySymbols,G8=i_?function(t){return t==null?[]:(t=Object(t),F8(i_(t),function(e){return V8.call(t,e)}))}:B8,H8=G8;function z8(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var W8=z8,K8=Wr,J8=Kr,Y8="[object Arguments]";function X8(t){return J8(t)&&K8(t)==Y8}var Q8=X8,o_=Q8,Z8=Kr,nP=Object.prototype,eq=nP.hasOwnProperty,tq=nP.propertyIsEnumerable,nq=o_(function(){return arguments}())?o_:function(t){return Z8(t)&&eq.call(t,"callee")&&!tq.call(t,"callee")},$0=nq,Bd={exports:{}};function rq(){return!1}var iq=rq;Bd.exports;(function(t,e){var n=xr,r=iq,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Bd,Bd.exports);var rP=Bd.exports,oq=9007199254740991,aq=/^(?:0|[1-9]\d*)$/;function sq(t,e){var n=typeof t;return e=e??oq,!!e&&(n=="number"||n!="symbol"&&aq.test(t))&&t>-1&&t%1==0&&t<e}var D0=sq,lq=9007199254740991;function uq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lq}var L0=uq,cq=Wr,dq=L0,fq=Kr,hq="[object Arguments]",pq="[object Array]",mq="[object Boolean]",gq="[object Date]",yq="[object Error]",vq="[object Function]",xq="[object Map]",bq="[object Number]",wq="[object Object]",_q="[object RegExp]",Sq="[object Set]",Eq="[object String]",Tq="[object WeakMap]",kq="[object ArrayBuffer]",Nq="[object DataView]",Aq="[object Float32Array]",Cq="[object Float64Array]",Pq="[object Int8Array]",Iq="[object Int16Array]",jq="[object Int32Array]",Oq="[object Uint8Array]",Rq="[object Uint8ClampedArray]",Mq="[object Uint16Array]",$q="[object Uint32Array]",Ve={};Ve[Aq]=Ve[Cq]=Ve[Pq]=Ve[Iq]=Ve[jq]=Ve[Oq]=Ve[Rq]=Ve[Mq]=Ve[$q]=!0;Ve[hq]=Ve[pq]=Ve[kq]=Ve[mq]=Ve[Nq]=Ve[gq]=Ve[yq]=Ve[vq]=Ve[xq]=Ve[bq]=Ve[wq]=Ve[_q]=Ve[Sq]=Ve[Eq]=Ve[Tq]=!1;function Dq(t){return fq(t)&&dq(t.length)&&!!Ve[cq(t)]}var Lq=Dq;function Uq(t){return function(e){return t(e)}}var iP=Uq,qd={exports:{}};qd.exports;(function(t,e){var n=fC,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(qd,qd.exports);var Fq=qd.exports,Bq=Lq,qq=iP,a_=Fq,s_=a_&&a_.isTypedArray,Vq=s_?qq(s_):Bq,oP=Vq,Gq=W8,Hq=$0,zq=rn,Wq=rP,Kq=D0,Jq=oP,Yq=Object.prototype,Xq=Yq.hasOwnProperty;function Qq(t,e){var n=zq(t),r=!n&&Hq(t),i=!n&&!r&&Wq(t),o=!n&&!r&&!i&&Jq(t),a=n||r||i||o,s=a?Gq(t.length,String):[],l=s.length;for(var u in t)(e||Xq.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Kq(u,l)))&&s.push(u);return s}var Zq=Qq,eV=Object.prototype;function tV(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||eV;return t===n}var nV=tV;function rV(t,e){return function(n){return t(e(n))}}var aP=rV,iV=aP,oV=iV(Object.keys,Object),aV=oV,sV=nV,lV=aV,uV=Object.prototype,cV=uV.hasOwnProperty;function dV(t){if(!sV(t))return lV(t);var e=[];for(var n in Object(t))cV.call(t,n)&&n!="constructor"&&e.push(n);return e}var fV=dV,hV=x0,pV=L0;function mV(t){return t!=null&&pV(t.length)&&!hV(t)}var ju=mV,gV=Zq,yV=fV,vV=ju;function xV(t){return vV(t)?gV(t):yV(t)}var Ih=xV,bV=M8,wV=H8,_V=Ih;function SV(t){return bV(t,_V,wV)}var EV=SV,l_=EV,TV=1,kV=Object.prototype,NV=kV.hasOwnProperty;function AV(t,e,n,r,i,o){var a=n&TV,s=l_(t),l=s.length,u=l_(e),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:NV.call(e,h)))return!1}var g=o.get(t),v=o.get(e);if(g&&v)return g==e&&v==t;var y=!0;o.set(t,e),o.set(e,t);for(var b=a;++f<l;){h=s[f];var x=t[h],w=e[h];if(r)var _=a?r(w,x,h,e,t,o):r(x,w,h,t,e,o);if(!(_===void 0?x===w||i(x,w,n,r,o):_)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var E=t.constructor,S=e.constructor;E!=S&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var CV=AV,PV=To,IV=xr,jV=PV(IV,"DataView"),OV=jV,RV=To,MV=xr,$V=RV(MV,"Promise"),DV=$V,LV=To,UV=xr,FV=LV(UV,"Set"),sP=FV,BV=To,qV=xr,VV=BV(qV,"WeakMap"),GV=VV,Bg=OV,qg=w0,Vg=DV,Gg=sP,Hg=GV,lP=Wr,fs=pC,u_="[object Map]",HV="[object Object]",c_="[object Promise]",d_="[object Set]",f_="[object WeakMap]",h_="[object DataView]",zV=fs(Bg),WV=fs(qg),KV=fs(Vg),JV=fs(Gg),YV=fs(Hg),Gi=lP;(Bg&&Gi(new Bg(new ArrayBuffer(1)))!=h_||qg&&Gi(new qg)!=u_||Vg&&Gi(Vg.resolve())!=c_||Gg&&Gi(new Gg)!=d_||Hg&&Gi(new Hg)!=f_)&&(Gi=function(t){var e=lP(t),n=e==HV?t.constructor:void 0,r=n?fs(n):"";if(r)switch(r){case zV:return h_;case WV:return u_;case KV:return c_;case JV:return d_;case YV:return f_}return e});var XV=Gi,Jp=YC,QV=eP,ZV=P8,eG=CV,p_=XV,m_=rn,g_=rP,tG=oP,nG=1,y_="[object Arguments]",v_="[object Array]",fc="[object Object]",rG=Object.prototype,x_=rG.hasOwnProperty;function iG(t,e,n,r,i,o){var a=m_(t),s=m_(e),l=a?v_:p_(t),u=s?v_:p_(e);l=l==y_?fc:l,u=u==y_?fc:u;var d=l==fc,f=u==fc,h=l==u;if(h&&g_(t)){if(!g_(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new Jp),a||tG(t)?QV(t,e,n,r,i,o):ZV(t,e,l,n,r,i,o);if(!(n&nG)){var g=d&&x_.call(t,"__wrapped__"),v=f&&x_.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,b=v?e.value():e;return o||(o=new Jp),i(y,b,n,r,o)}}return h?(o||(o=new Jp),eG(t,e,n,r,i,o)):!1}var oG=iG,aG=oG,b_=Kr;function uP(t,e,n,r,i){return t===e?!0:t==null||e==null||!b_(t)&&!b_(e)?t!==t&&e!==e:aG(t,e,n,r,uP,i)}var U0=uP,sG=YC,lG=U0,uG=1,cG=2;function dG(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],d=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new sG;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?lG(d,u,uG|cG,r,f):h))return!1}}return!0}var fG=dG,hG=Ai;function pG(t){return t===t&&!hG(t)}var cP=pG,mG=cP,gG=Ih;function yG(t){for(var e=gG(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,mG(i)]}return e}var vG=yG;function xG(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var dP=xG,bG=fG,wG=vG,_G=dP;function SG(t){var e=wG(t);return e.length==1&&e[0][2]?_G(e[0][0],e[0][1]):function(n){return n===t||bG(n,t,e)}}var EG=SG;function TG(t,e){return t!=null&&e in Object(t)}var kG=TG,NG=xC,AG=$0,CG=rn,PG=D0,IG=L0,jG=gh;function OG(t,e,n){e=NG(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=jG(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&IG(i)&&PG(a,i)&&(CG(t)||AG(t)))}var RG=OG,MG=kG,$G=RG;function DG(t,e){return t!=null&&$G(t,e,MG)}var LG=DG,UG=U0,FG=bC,BG=LG,qG=v0,VG=cP,GG=dP,HG=gh,zG=1,WG=2;function KG(t,e){return qG(t)&&VG(e)?GG(HG(t),e):function(n){var r=FG(n,t);return r===void 0&&r===e?BG(n,t):UG(e,r,zG|WG)}}var JG=KG;function YG(t){return t}var hs=YG;function XG(t){return function(e){return e==null?void 0:e[t]}}var QG=XG,ZG=T0;function eH(t){return function(e){return ZG(e,t)}}var tH=eH,nH=QG,rH=tH,iH=v0,oH=gh;function aH(t){return iH(t)?nH(oH(t)):rH(t)}var sH=aH,lH=EG,uH=JG,cH=hs,dH=rn,fH=sH;function hH(t){return typeof t=="function"?t:t==null?cH:typeof t=="object"?dH(t)?uH(t[0],t[1]):lH(t):fH(t)}var Ci=hH;function pH(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var fP=pH;function mH(t){return t!==t}var gH=mH;function yH(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var vH=yH,xH=fP,bH=gH,wH=vH;function _H(t,e,n){return e===e?wH(t,e,n):xH(t,bH,n)}var SH=_H,EH=SH;function TH(t,e){var n=t==null?0:t.length;return!!n&&EH(t,e,0)>-1}var kH=TH;function NH(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var AH=NH;function CH(){}var PH=CH,Yp=sP,IH=PH,jH=M0,OH=1/0,RH=Yp&&1/jH(new Yp([,-0]))[1]==OH?function(t){return new Yp(t)}:IH,MH=RH,$H=XC,DH=kH,LH=AH,UH=ZC,FH=MH,BH=M0,qH=200;function VH(t,e,n){var r=-1,i=DH,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=LH;else if(o>=qH){var u=e?null:FH(t);if(u)return BH(u);a=!1,i=UH,l=new $H}else l=e?[]:s;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var GH=VH,HH=Ci,zH=GH;function WH(t,e){return t&&t.length?zH(t,HH(e)):[]}var KH=WH;const w_=Le(KH);function hP(t,e,n){return e===!0?w_(t,n):xe(e)?w_(t,e):t}function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}var JH=["ref"];function __(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?__(Object(n),!0).forEach(function(r){jh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mP(r.key),r)}}function XH(t,e,n){return e&&S_(t.prototype,e),n&&S_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QH(t,e,n){return e=Vd(e),ZH(t,pP()?Reflect.construct(e,n||[],Vd(t).constructor):e.apply(t,n))}function ZH(t,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e7(t)}function e7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pP=function(){return!!t})()}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vd(t)}function t7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zg(t,e)}function zg(t,e){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zg(t,e)}function jh(t,e,n){return e=mP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mP(t){var e=n7(t,"string");return Ra(e)=="symbol"?e:e+""}function n7(t,e){if(Ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function r7(t,e){if(t==null)return{};var n=i7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function o7(t){return t.value}function a7(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var n=r7(e,JH);return L.createElement(R0,n)}var E_=1,ba=function(t){function e(){var n;YH(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=QH(this,e,[].concat(i)),jh(n,"lastBoundingBox",{width:-1,height:-1}),n}return t7(e,t),XH(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>E_||Math.abs(i.height-this.lastBoundingBox.height)>E_)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?br({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return br(br({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=br(br({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){r.wrapperNode=g}},a7(o,br(br({},this.props),{},{payload:hP(d,u,o7)})))}}],[{key:"getWithHeight",value:function(r,i){var o=br(br({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ee(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(N.PureComponent);jh(ba,"displayName","Legend");jh(ba,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var T_=Cu,s7=$0,l7=rn,k_=T_?T_.isConcatSpreadable:void 0;function u7(t){return l7(t)||s7(t)||!!(k_&&t&&t[k_])}var c7=u7,d7=tP,f7=c7;function gP(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=f7),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?gP(s,e-1,n,r,i):d7(i,s):r||(i[i.length]=s)}return i}var yP=gP;function h7(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var p7=h7,m7=p7,g7=m7(),y7=g7,v7=y7,x7=Ih;function b7(t,e){return t&&v7(t,e,x7)}var vP=b7,w7=ju;function _7(t,e){return function(n,r){if(n==null)return n;if(!w7(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var S7=_7,E7=vP,T7=S7,k7=T7(E7),F0=k7,N7=F0,A7=ju;function C7(t,e){var n=-1,r=A7(t)?Array(t.length):[];return N7(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var xP=C7;function P7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var I7=P7,N_=as;function j7(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=N_(t),a=e!==void 0,s=e===null,l=e===e,u=N_(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var O7=j7,R7=O7;function M7(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=R7(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var $7=M7,Xp=E0,D7=T0,L7=Ci,U7=xP,F7=I7,B7=iP,q7=$7,V7=hs,G7=rn;function H7(t,e,n){e.length?e=Xp(e,function(o){return G7(o)?function(a){return D7(a,o.length===1?o[0]:o)}:o}):e=[V7];var r=-1;e=Xp(e,B7(L7));var i=U7(t,function(o,a,s){var l=Xp(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return F7(i,function(o,a){return q7(o,a,n)})}var z7=H7;function W7(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var K7=W7,J7=K7,A_=Math.max;function Y7(t,e,n){return e=A_(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=A_(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),J7(t,this,s)}}var X7=Y7;function Q7(t){return function(){return t}}var Z7=Q7,ez=To,tz=function(){try{var t=ez(Object,"defineProperty");return t({},"",{}),t}catch{}}(),bP=tz,nz=Z7,C_=bP,rz=hs,iz=C_?function(t,e){return C_(t,"toString",{configurable:!0,enumerable:!1,value:nz(e),writable:!0})}:rz,oz=iz,az=800,sz=16,lz=Date.now;function uz(t){var e=0,n=0;return function(){var r=lz(),i=sz-(r-n);if(n=r,i>0){if(++e>=az)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var cz=uz,dz=oz,fz=cz,hz=fz(dz),pz=hz,mz=hs,gz=X7,yz=pz;function vz(t,e){return yz(gz(t,e,mz),t+"")}var xz=vz,bz=b0,wz=ju,_z=D0,Sz=Ai;function Ez(t,e,n){if(!Sz(n))return!1;var r=typeof e;return(r=="number"?wz(n)&&_z(e,n.length):r=="string"&&e in n)?bz(n[e],t):!1}var Oh=Ez,Tz=yP,kz=z7,Nz=xz,P_=Oh,Az=Nz(function(t,e){if(t==null)return[];var n=e.length;return n>1&&P_(t,e[0],e[1])?e=[]:n>2&&P_(e[0],e[1],e[2])&&(e=[e[0]]),kz(t,Tz(e,1),[])}),Cz=Az;const B0=Le(Cz);function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function Pz(t,e){return Rz(t)||Oz(t,e)||jz(t,e)||Iz()}function Iz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jz(t,e){if(t){if(typeof t=="string")return I_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(t,e)}}function I_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Rz(t){if(Array.isArray(t))return t}function j_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j_(Object(n),!0).forEach(function(r){Mz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mz(t,e,n){return e=$z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $z(t){var e=Dz(t,"string");return Ul(e)=="symbol"?e:e+""}function Dz(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lz(t){return Array.isArray(t)&&vt(t[0])&&vt(t[1])?t.join(" ~ "):t}var Uz=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,y=e.label,b=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,_=function(){if(d&&d.length){var M={padding:0,margin:0},U=(h?B0(d,h):d).map(function($,P){if($.type==="none")return null;var O=Qp({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),F=$.formatter||f||Lz,D=$.value,B=$.name,V=D,Q=B;if(F&&V!=null&&Q!=null){var H=F(D,B,$,P,d);if(Array.isArray(H)){var ae=Pz(H,2);V=ae[0],Q=ae[1]}else V=H}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:O},vt(Q)?L.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,vt(Q)?L.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,L.createElement("span",{className:"recharts-tooltip-item-value"},V),L.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:M},U)}return null},E=Qp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Qp({margin:0},u),T=!we(y),k=T?y:"",A=Ae("recharts-default-tooltip",g),C=Ae("recharts-tooltip-label",v);T&&b&&d!==void 0&&d!==null&&(k=b(y,d));var j=w?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",Wg({className:A,style:E},j),L.createElement("p",{className:C,style:S},L.isValidElement(k)?k:"".concat(k)),_())};function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function hc(t,e,n){return e=Fz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fz(t){var e=Bz(t,"string");return Fl(e)=="symbol"?e:e+""}function Bz(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Is="recharts-tooltip-wrapper",qz={visibility:"hidden"};function Vz(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ae(Is,hc(hc(hc(hc({},"".concat(Is,"-right"),ee(n)&&e&&ee(e.x)&&n>=e.x),"".concat(Is,"-left"),ee(n)&&e&&ee(e.x)&&n<e.x),"".concat(Is,"-bottom"),ee(r)&&e&&ee(e.y)&&r>=e.y),"".concat(Is,"-top"),ee(r)&&e&&ee(e.y)&&r<e.y))}function O_(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ee(o[r]))return o[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,g=l[r];return h<g?Math.max(f,l[r]):Math.max(d,l[r])}var v=f+s,y=l[r]+u;return v>y?Math.max(d,l[r]):Math.max(f,l[r])}function Gz(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Hz(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=O_({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=O_({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Gz({translateX:d,translateY:f,useTranslate3d:s})):u=qz,{cssProperties:u,cssClasses:Vz({translateX:d,translateY:f,coordinate:n})}}function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(Object(n),!0).forEach(function(r){Jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_P(r.key),r)}}function Kz(t,e,n){return e&&Wz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jz(t,e,n){return e=Gd(e),Yz(t,wP()?Reflect.construct(e,n||[],Gd(t).constructor):e.apply(t,n))}function Yz(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xz(t)}function Xz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wP=function(){return!!t})()}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(t)}function Qz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kg(t,e)}function Kg(t,e){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kg(t,e)}function Jg(t,e,n){return e=_P(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _P(t){var e=Zz(t,"string");return Ma(e)=="symbol"?e:e+""}function Zz(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $_=1,eW=function(t){function e(){var n;zz(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Jz(this,e,[].concat(i)),Jg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Jg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Qz(e,t),Kz(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>$_||Math.abs(r.height-this.state.lastBoundingBox.height)>$_)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,_=Hz({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:x}),E=_.cssClasses,S=_.cssProperties,T=M_(M_({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return L.createElement("div",{tabIndex:-1,className:E,style:T,ref:function(A){r.wrapperNode=A}},u)}}])}(N.PureComponent),tW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ps={isSsr:tW()};function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function D_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(n),!0).forEach(function(r){q0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EP(r.key),r)}}function iW(t,e,n){return e&&rW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oW(t,e,n){return e=Hd(e),aW(t,SP()?Reflect.construct(e,n||[],Hd(t).constructor):e.apply(t,n))}function aW(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sW(t)}function sW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SP=function(){return!!t})()}function Hd(t){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hd(t)}function lW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yg(t,e)}function Yg(t,e){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yg(t,e)}function q0(t,e,n){return e=EP(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EP(t){var e=uW(t,"string");return $a(e)=="symbol"?e:e+""}function uW(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cW(t){return t.dataKey}function dW(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(Uz,e)}var _n=function(t){function e(){return nW(this,e),oW(this,e,arguments)}return lW(e,t),iW(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,y=i.payloadUniqBy,b=i.position,x=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,S=v??[];f&&S.length&&(S=hP(v.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),y,cW));var T=S.length>0;return L.createElement(eW,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:T,offset:g,position:b,reverseDirection:x,useTranslate3d:w,viewBox:_,wrapperStyle:E},dW(u,L_(L_({},this.props),{},{payload:S})))}}])}(N.PureComponent);q0(_n,"displayName","Tooltip");q0(_n,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ps.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var fW=xr,hW=function(){return fW.Date.now()},pW=hW,mW=/\s/;function gW(t){for(var e=t.length;e--&&mW.test(t.charAt(e)););return e}var yW=gW,vW=yW,xW=/^\s+/;function bW(t){return t&&t.slice(0,vW(t)+1).replace(xW,"")}var wW=bW,_W=wW,U_=Ai,SW=as,F_=NaN,EW=/^[-+]0x[0-9a-f]+$/i,TW=/^0b[01]+$/i,kW=/^0o[0-7]+$/i,NW=parseInt;function AW(t){if(typeof t=="number")return t;if(SW(t))return F_;if(U_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=U_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=_W(t);var n=TW.test(t);return n||kW.test(t)?NW(t.slice(2),n?2:8):EW.test(t)?F_:+t}var TP=AW,CW=Ai,Zp=pW,B_=TP,PW="Expected a function",IW=Math.max,jW=Math.min;function OW(t,e,n){var r,i,o,a,s,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(PW);e=B_(e)||0,CW(n)&&(d=!!n.leading,f="maxWait"in n,o=f?IW(B_(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(T){var k=r,A=i;return r=i=void 0,u=T,a=t.apply(A,k),a}function v(T){return u=T,s=setTimeout(x,e),d?g(T):a}function y(T){var k=T-l,A=T-u,C=e-k;return f?jW(C,o-A):C}function b(T){var k=T-l,A=T-u;return l===void 0||k>=e||k<0||f&&A>=o}function x(){var T=Zp();if(b(T))return w(T);s=setTimeout(x,y(T))}function w(T){return s=void 0,h&&r?g(T):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function E(){return s===void 0?a:w(Zp())}function S(){var T=Zp(),k=b(T);if(r=arguments,i=this,l=T,k){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(x,e),g(l)}return s===void 0&&(s=setTimeout(x,e)),a}return S.cancel=_,S.flush=E,S}var RW=OW,MW=RW,$W=Ai,DW="Expected a function";function LW(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(DW);return $W(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),MW(t,e,{leading:r,maxWait:e,trailing:i})}var UW=LW;const kP=Le(UW);function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(n),!0).forEach(function(r){FW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FW(t,e,n){return e=BW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BW(t){var e=qW(t,"string");return Bl(e)=="symbol"?e:e+""}function qW(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VW(t,e){return WW(t)||zW(t,e)||HW(t,e)||GW()}function GW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HW(t,e){if(t){if(typeof t=="string")return V_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V_(t,e)}}function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function WW(t){if(Array.isArray(t))return t}var Xg=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,g=t.children,v=t.debounce,y=v===void 0?0:v,b=t.id,x=t.className,w=t.onResize,_=t.style,E=_===void 0?{}:_,S=N.useRef(null),T=N.useRef();T.current=w,N.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=N.useState({containerWidth:i.width,containerHeight:i.height}),A=VW(k,2),C=A[0],j=A[1],R=N.useCallback(function(U,$){j(function(P){var O=Math.round(U),F=Math.round($);return P.containerWidth===O&&P.containerHeight===F?P:{containerWidth:O,containerHeight:F}})},[]);N.useEffect(function(){var U=function(B){var V,Q=B[0].contentRect,H=Q.width,ae=Q.height;R(H,ae),(V=T.current)===null||V===void 0||V.call(T,H,ae)};y>0&&(U=kP(U,y,{trailing:!0,leading:!1}));var $=new ResizeObserver(U),P=S.current.getBoundingClientRect(),O=P.width,F=P.height;return R(O,F),$.observe(S.current),function(){$.disconnect()}},[R,y]);var M=N.useMemo(function(){var U=C.containerWidth,$=C.containerHeight;if(U<0||$<0)return null;Rr(Zi(a)||Zi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Rr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=Zi(a)?U:a,O=Zi(l)?$:l;n&&n>0&&(P?O=P/n:O&&(P=O*n),h&&O>h&&(O=h)),Rr(P>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,O,a,l,d,f,n);var F=!Array.isArray(g)&&Or(g.type).endsWith("Chart");return L.Children.map(g,function(D){return L.isValidElement(D)?N.cloneElement(D,pc({width:P,height:O},F?{style:pc({height:"100%",width:"100%",maxHeight:O,maxWidth:P},D.props.style)}:{})):D})},[n,g,l,h,f,d,C,a]);return L.createElement("div",{id:b?"".concat(b):void 0,className:Ae("recharts-responsive-container",x),style:pc(pc({},E),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:S},M)}),NP=function(e){return null};NP.displayName="Cell";function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function G_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(n),!0).forEach(function(r){KW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KW(t,e,n){return e=JW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JW(t){var e=YW(t,"string");return ql(e)=="symbol"?e:e+""}function YW(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fo={widthCache:{},cacheCount:0},XW=2e3,QW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},H_="recharts_measurement_span";function ZW(t){var e=Qg({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var sl=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ps.isSsr)return{width:0,height:0};var r=ZW(n),i=JSON.stringify({text:e,copyStyle:r});if(Fo.widthCache[i])return Fo.widthCache[i];try{var o=document.getElementById(H_);o||(o=document.createElement("span"),o.setAttribute("id",H_),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Qg(Qg({},QW),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Fo.widthCache[i]=l,++Fo.cacheCount>XW&&(Fo.cacheCount=0,Fo.widthCache={}),l}catch{return{width:0,height:0}}},e9=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function zd(t,e){return i9(t)||r9(t,e)||n9(t,e)||t9()}function t9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n9(t,e){if(t){if(typeof t=="string")return z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z_(t,e)}}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function i9(t){if(Array.isArray(t))return t}function o9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s9(r.key),r)}}function a9(t,e,n){return e&&W_(t.prototype,e),n&&W_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s9(t){var e=l9(t,"string");return Vl(e)=="symbol"?e:e+""}function l9(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var K_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,c9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},d9=Object.keys(AP),sa="NaN";function f9(t,e){return t*AP[e]}var mc=function(){function t(e,n){o9(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!u9.test(n)&&(this.num=NaN,this.unit=""),d9.includes(n)&&(this.num=f9(e,n),this.unit="px")}return a9(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=c9.exec(n))!==null&&r!==void 0?r:[],o=zd(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function CP(t){if(t.includes(sa))return sa;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=K_.exec(e))!==null&&n!==void 0?n:[],i=zd(r,4),o=i[1],a=i[2],s=i[3],l=mc.parse(o??""),u=mc.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return sa;e=e.replace(K_,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=J_.exec(e))!==null&&f!==void 0?f:[],g=zd(h,4),v=g[1],y=g[2],b=g[3],x=mc.parse(v??""),w=mc.parse(b??""),_=y==="+"?x.add(w):x.subtract(w);if(_.isNaN())return sa;e=e.replace(J_,_.toString())}return e}var Y_=/\(([^()]*)\)/;function h9(t){for(var e=t;e.includes("(");){var n=Y_.exec(e),r=zd(n,2),i=r[1];e=e.replace(Y_,CP(i))}return e}function p9(t){var e=t.replace(/\s+/g,"");return e=h9(e),e=CP(e),e}function m9(t){try{return p9(t)}catch{return sa}}function em(t){var e=m9(t.slice(5,-1));return e===sa?"":e}var g9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],y9=["dx","dy","angle","className","breakAll"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(this,arguments)}function X_(t,e){if(t==null)return{};var n=v9(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Q_(t,e){return _9(t)||w9(t,e)||b9(t,e)||x9()}function x9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b9(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function _9(t){if(Array.isArray(t))return t}var PP=/[ \f\n\r\t\v\u2028\u2029]+/,IP=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];we(n)||(r?o=n.toString().split(""):o=n.toString().split(PP));var a=o.map(function(l){return{word:l,width:sl(l,i).width}}),s=r?0:sl("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},S9=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=ee(a),f=s,h=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce(function(O,F){var D=F.word,B=F.width,V=O[O.length-1];if(V&&(i==null||o||V.width+B+r<Number(i)))V.words.push(D),V.width+=B+r;else{var Q={words:[D],width:B};O.push(Q)}return O},[])},g=h(n),v=function(P){return P.reduce(function(O,F){return O.width>F.width?O:F})};if(!d)return g;for(var y="",b=function(P){var O=f.slice(0,P),F=IP({breakAll:u,style:l,children:O+y}).wordsWithComputedWidth,D=h(F),B=D.length>a||v(D).width>Number(i);return[B,D]},x=0,w=f.length-1,_=0,E;x<=w&&_<=f.length-1;){var S=Math.floor((x+w)/2),T=S-1,k=b(T),A=Q_(k,2),C=A[0],j=A[1],R=b(S),M=Q_(R,1),U=M[0];if(!C&&!U&&(x=S+1),C&&U&&(w=S-1),!C&&U){E=j;break}_++}return E||g},eS=function(e){var n=we(e)?[]:e.toString().split(PP);return[{words:n}]},E9=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!ps.isSsr){var l,u,d=IP({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return eS(i);return S9({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return eS(i)},tS="#808080",Wd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,g=h===void 0?"start":h,v=e.verticalAnchor,y=v===void 0?"end":v,b=e.fill,x=b===void 0?tS:b,w=X_(e,g9),_=N.useMemo(function(){return E9({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),E=w.dx,S=w.dy,T=w.angle,k=w.className,A=w.breakAll,C=X_(w,y9);if(!vt(r)||!vt(o))return null;var j=r+(ee(E)?E:0),R=o+(ee(S)?S:0),M;switch(y){case"start":M=em("calc(".concat(u,")"));break;case"middle":M=em("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:M=em("calc(".concat(_.length-1," * -").concat(s,")"));break}var U=[];if(f){var $=_[0].width,P=w.width;U.push("scale(".concat((ee(P)?P/$:1)/$,")"))}return T&&U.push("rotate(".concat(T,", ").concat(j,", ").concat(R,")")),U.length&&(C.transform=U.join(" ")),L.createElement("text",Zg({},Te(C,!0),{x:j,y:R,className:Ae("recharts-text",k),textAnchor:g,fill:x.includes("url")?tS:x}),_.map(function(O,F){var D=O.words.join(A?"":" ");return L.createElement("tspan",{x:j,dy:F===0?M:s,key:"".concat(D,"-").concat(F)},D)}))};function wi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T9(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function V0(t){let e,n,r;t.length!==2?(e=wi,n=(s,l)=>wi(t(s),l),r=(s,l)=>t(s)-l):(e=t===wi||t===T9?t:k9,n=t,r=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function a(s,l,u=0,d=s.length){const f=i(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function k9(){return 0}function jP(t){return t===null?NaN:+t}function*N9(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const A9=V0(wi),Ou=A9.right;V0(jP).center;class nS extends Map{constructor(e,n=I9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(rS(this,e))}has(e){return super.has(rS(this,e))}set(e,n){return super.set(C9(this,e),n)}delete(e){return super.delete(P9(this,e))}}function rS({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function C9({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function P9({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function I9(t){return t!==null&&typeof t=="object"?t.valueOf():t}function j9(t=wi){if(t===wi)return OP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function OP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const O9=Math.sqrt(50),R9=Math.sqrt(10),M9=Math.sqrt(2);function Kd(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=O9?10:o>=R9?5:o>=M9?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Kd(t,e,n*2):[s,l,u]}function ey(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Kd(e,t,n):Kd(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function ty(t,e,n){return e=+e,t=+t,n=+n,Kd(t,e,n)[2]}function ny(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ty(e,t,n):ty(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function iS(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function oS(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function RP(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?OP:j9(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));RP(t,e,g,v,i)}const o=t[e];let a=n,s=r;for(js(t,n,e),i(t[r],o)>0&&js(t,n,r);a<s;){for(js(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?js(t,n,s):(++s,js(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function js(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $9(t,e,n){if(t=Float64Array.from(N9(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return oS(t);if(e>=1)return iS(t);var r,i=(r-1)*e,o=Math.floor(i),a=iS(RP(t,o).subarray(0,o+1)),s=oS(t.subarray(o+1));return a+(s-a)*(i-o)}}function D9(t,e,n=jP){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function L9(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Dn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Jr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ry=Symbol("implicit");function G0(){var t=new nS,e=[],n=[],r=ry;function i(o){let a=t.get(o);if(a===void 0){if(r!==ry)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new nS;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return G0(e,n).unknown(r)},Dn.apply(i,arguments),i}function Gl(){var t=G0().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,g=i<r,v=g?i:r,y=g?r:i;o=(y-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(y-v-o*(h-l))*d,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var b=L9(h).map(function(x){return v+o*x});return n(g?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Gl(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},Dn.apply(f(),arguments)}function MP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return MP(e())},t}function ll(){return MP(Gl.apply(null,arguments).paddingInner(1))}function H0(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $P(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ru(){}var Hl=.7,Jd=1/Hl,wa="\\s*([+-]?\\d+)\\s*",zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U9=/^#([0-9a-f]{3,8})$/,F9=new RegExp(`^rgb\\(${wa},${wa},${wa}\\)$`),B9=new RegExp(`^rgb\\(${pr},${pr},${pr}\\)$`),q9=new RegExp(`^rgba\\(${wa},${wa},${wa},${zl}\\)$`),V9=new RegExp(`^rgba\\(${pr},${pr},${pr},${zl}\\)$`),G9=new RegExp(`^hsl\\(${zl},${pr},${pr}\\)$`),H9=new RegExp(`^hsla\\(${zl},${pr},${pr},${zl}\\)$`),aS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H0(Ru,Wl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sS,formatHex:sS,formatHex8:z9,formatHsl:W9,formatRgb:lS,toString:lS});function sS(){return this.rgb().formatHex()}function z9(){return this.rgb().formatHex8()}function W9(){return DP(this).formatHsl()}function lS(){return this.rgb().formatRgb()}function Wl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=U9.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?uS(e):n===3?new Qt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?gc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?gc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=F9.exec(t))?new Qt(e[1],e[2],e[3],1):(e=B9.exec(t))?new Qt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=q9.exec(t))?gc(e[1],e[2],e[3],e[4]):(e=V9.exec(t))?gc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=G9.exec(t))?fS(e[1],e[2]/100,e[3]/100,1):(e=H9.exec(t))?fS(e[1],e[2]/100,e[3]/100,e[4]):aS.hasOwnProperty(t)?uS(aS[t]):t==="transparent"?new Qt(NaN,NaN,NaN,0):null}function uS(t){return new Qt(t>>16&255,t>>8&255,t&255,1)}function gc(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qt(t,e,n,r)}function K9(t){return t instanceof Ru||(t=Wl(t)),t?(t=t.rgb(),new Qt(t.r,t.g,t.b,t.opacity)):new Qt}function iy(t,e,n,r){return arguments.length===1?K9(t):new Qt(t,e,n,r??1)}function Qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}H0(Qt,iy,$P(Ru,{brighter(t){return t=t==null?Jd:Math.pow(Jd,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Hl:Math.pow(Hl,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qt(ao(this.r),ao(this.g),ao(this.b),Yd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cS,formatHex:cS,formatHex8:J9,formatRgb:dS,toString:dS}));function cS(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}`}function J9(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}${eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function dS(){const t=Yd(this.opacity);return`${t===1?"rgb(":"rgba("}${ao(this.r)}, ${ao(this.g)}, ${ao(this.b)}${t===1?")":`, ${t})`}`}function Yd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ao(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function eo(t){return t=ao(t),(t<16?"0":"")+t.toString(16)}function fS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qn(t,e,n,r)}function DP(t){if(t instanceof Qn)return new Qn(t.h,t.s,t.l,t.opacity);if(t instanceof Ru||(t=Wl(t)),!t)return new Qn;if(t instanceof Qn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Qn(a,s,l,t.opacity)}function Y9(t,e,n,r){return arguments.length===1?DP(t):new Qn(t,e,n,r??1)}function Qn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}H0(Qn,Y9,$P(Ru,{brighter(t){return t=t==null?Jd:Math.pow(Jd,t),new Qn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hl:Math.pow(Hl,t),new Qn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qt(tm(t>=240?t-240:t+120,i,r),tm(t,i,r),tm(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Qn(hS(this.h),yc(this.s),yc(this.l),Yd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yd(this.opacity);return`${t===1?"hsl(":"hsla("}${hS(this.h)}, ${yc(this.s)*100}%, ${yc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hS(t){return t=(t||0)%360,t<0?t+360:t}function yc(t){return Math.max(0,Math.min(1,t||0))}function tm(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const z0=t=>()=>t;function X9(t,e){return function(n){return t+n*e}}function Q9(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Z9(t){return(t=+t)==1?LP:function(e,n){return n-e?Q9(e,n,t):z0(isNaN(e)?n:e)}}function LP(t,e){var n=e-t;return n?X9(t,n):z0(isNaN(t)?e:t)}const pS=function t(e){var n=Z9(e);function r(i,o){var a=n((i=iy(i)).r,(o=iy(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=LP(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function eK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function tK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nK(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ms(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function rK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iK(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ms(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var oy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nm=new RegExp(oy.source,"g");function oK(t){return function(){return t}}function aK(t){return function(e){return t(e)+""}}function sK(t,e){var n=oy.lastIndex=nm.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=oy.exec(t))&&(i=nm.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Xd(r,i)})),n=nm.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?aK(l[0].x):oK(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function ms(t,e){var n=typeof e,r;return e==null||n==="boolean"?z0(e):(n==="number"?Xd:n==="string"?(r=Wl(e))?(e=r,pS):sK:e instanceof Wl?pS:e instanceof Date?rK:tK(e)?eK:Array.isArray(e)?nK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iK:Xd)(t,e)}function W0(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function lK(t,e){e===void 0&&(e=t,t=ms);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function uK(t){return function(){return t}}function Qd(t){return+t}var mS=[0,1];function qt(t){return t}function ay(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:uK(isNaN(e)?NaN:.5)}function cK(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function dK(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=ay(i,r),o=n(a,o)):(r=ay(r,i),o=n(o,a)),function(s){return o(r(s))}}function fK(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ay(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Ou(t,s,1,r)-1;return o[l](i[l](s))}}function Mu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Rh(){var t=mS,e=mS,n=ms,r,i,o,a=qt,s,l,u;function d(){var h=Math.min(t.length,e.length);return a!==qt&&(a=cK(t[0],t[h-1])),s=h>2?fK:dK,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),Xd)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Qd),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=W0,d()},f.clamp=function(h){return arguments.length?(a=h?!0:qt,d()):a!==qt},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,g){return r=h,i=g,d()}}function K0(){return Rh()(qt,qt)}function hK(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Da(t){return t=Zd(Math.abs(t)),t?t[1]:NaN}function pK(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function mK(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var gK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kl(t){if(!(e=gK.exec(t)))throw new Error("invalid format: "+t);var e;return new J0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Kl.prototype=J0.prototype;function J0(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}J0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yK(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var UP;function vK(t,e){var n=Zd(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(UP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Zd(t,Math.max(0,e+o-1))[0]}function gS(t,e){var n=Zd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yS={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hK,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gS(t*100,e),r:gS,s:vK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vS(t){return t}var xS=Array.prototype.map,bS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xK(t){var e=t.grouping===void 0||t.thousands===void 0?vS:pK(xS.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?vS:mK(xS.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Kl(f);var h=f.fill,g=f.align,v=f.sign,y=f.symbol,b=f.zero,x=f.width,w=f.comma,_=f.precision,E=f.trim,S=f.type;S==="n"?(w=!0,S="g"):yS[S]||(_===void 0&&(_=12),E=!0,S="g"),(b||h==="0"&&g==="=")&&(b=!0,h="0",g="=");var T=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=y==="$"?r:/[%p]/.test(S)?a:"",A=yS[S],C=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function j(R){var M=T,U=k,$,P,O;if(S==="c")U=A(R)+U,R="";else{R=+R;var F=R<0||1/R<0;if(R=isNaN(R)?l:A(Math.abs(R),_),E&&(R=yK(R)),F&&+R==0&&v!=="+"&&(F=!1),M=(F?v==="("?v:s:v==="-"||v==="("?"":v)+M,U=(S==="s"?bS[8+UP/3]:"")+U+(F&&v==="("?")":""),C){for($=-1,P=R.length;++$<P;)if(O=R.charCodeAt($),48>O||O>57){U=(O===46?i+R.slice($+1):R.slice($))+U,R=R.slice(0,$);break}}}w&&!b&&(R=e(R,1/0));var D=M.length+R.length+U.length,B=D<x?new Array(x-D+1).join(h):"";switch(w&&b&&(R=e(B+R,B.length?x-U.length:1/0),B=""),g){case"<":R=M+R+U+B;break;case"=":R=M+B+R+U;break;case"^":R=B.slice(0,D=B.length>>1)+M+R+U+B.slice(D);break;default:R=B+M+R+U;break}return o(R)}return j.toString=function(){return f+""},j}function d(f,h){var g=u((f=Kl(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Da(h)/3)))*3,y=Math.pow(10,-v),b=bS[8+v/3];return function(x){return g(y*x)+b}}return{format:u,formatPrefix:d}}var vc,Y0,FP;bK({thousands:",",grouping:[3],currency:["$",""]});function bK(t){return vc=xK(t),Y0=vc.format,FP=vc.formatPrefix,vc}function wK(t){return Math.max(0,-Da(Math.abs(t)))}function _K(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Da(e)/3)))*3-Da(Math.abs(t)))}function SK(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Da(e)-Da(t))+1}function BP(t,e,n,r){var i=ny(t,e,n),o;switch(r=Kl(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=_K(i,a))&&(r.precision=o),FP(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=SK(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=wK(i))&&(r.precision=o-(r.type==="%")*2);break}}return Y0(r)}function Pi(t){var e=t.domain;return t.ticks=function(n){var r=e();return ey(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return BP(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,d=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);d-- >0;){if(u=ty(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function ef(){var t=K0();return t.copy=function(){return Mu(t,ef())},Dn.apply(t,arguments),Pi(t)}function qP(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Qd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return qP(t).unknown(e)},t=arguments.length?Array.from(t,Qd):[0,1],Pi(n)}function VP(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function wS(t){return Math.log(t)}function _S(t){return Math.exp(t)}function EK(t){return-Math.log(-t)}function TK(t){return-Math.exp(-t)}function kK(t){return isFinite(t)?+("1e"+t):t<0?0:t}function NK(t){return t===10?kK:t===Math.E?Math.exp:e=>Math.pow(t,e)}function AK(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function SS(t){return(e,n)=>-t(-e,n)}function X0(t){const e=t(wS,_S),n=e.domain;let r=10,i,o;function a(){return i=AK(r),o=NK(r),n()[0]<0?(i=SS(i),o=SS(o),t(EK,TK)):t(wS,_S),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),g=i(d),v,y;const b=s==null?10:+s;let x=[];if(!(r%1)&&g-h<b){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(y=h<0?v/o(-h):v*o(h),!(y<u)){if(y>d)break;x.push(y)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(y=h>0?v/o(-h):v*o(h),!(y<u)){if(y>d)break;x.push(y)}x.length*2<b&&(x=ey(u,d,b))}else x=ey(h,g,Math.min(g-h,b)).map(o);return f?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Kl(l)).precision==null&&(l.trim=!0),l=Y0(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(VP(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function GP(){const t=X0(Rh()).domain([1,10]);return t.copy=()=>Mu(t,GP()).base(t.base()),Dn.apply(t,arguments),t}function ES(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function TS(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Q0(t){var e=1,n=t(ES(e),TS(e));return n.constant=function(r){return arguments.length?t(ES(e=+r),TS(e)):e},Pi(n)}function HP(){var t=Q0(Rh());return t.copy=function(){return Mu(t,HP()).constant(t.constant())},Dn.apply(t,arguments)}function kS(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function CK(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function PK(t){return t<0?-t*t:t*t}function Z0(t){var e=t(qt,qt),n=1;function r(){return n===1?t(qt,qt):n===.5?t(CK,PK):t(kS(n),kS(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Pi(e)}function ex(){var t=Z0(Rh());return t.copy=function(){return Mu(t,ex()).exponent(t.exponent())},Dn.apply(t,arguments),t}function IK(){return ex.apply(null,arguments).exponent(.5)}function NS(t){return Math.sign(t)*t*t}function jK(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function zP(){var t=K0(),e=[0,1],n=!1,r;function i(o){var a=jK(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(NS(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Qd)).map(NS)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return zP(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Dn.apply(i,arguments),Pi(i)}function WP(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=D9(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Ou(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(wi),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return WP().domain(t).range(e).unknown(r)},Dn.apply(o,arguments)}function KP(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Ou(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return KP().domain([t,e]).range(i).unknown(o)},Dn.apply(Pi(a),arguments)}function JP(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Ou(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return JP().domain(t).range(e).unknown(n)},Dn.apply(i,arguments)}const rm=new Date,im=new Date;function xt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>xt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(rm.setTime(+o),im.setTime(+a),t(rm),t(im),Math.floor(n(rm,im))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const tf=xt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);tf.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):tf);tf.range;const Nr=1e3,kn=Nr*60,Ar=kn*60,Fr=Ar*24,tx=Fr*7,AS=Fr*30,om=Fr*365,to=xt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Nr)},(t,e)=>(e-t)/Nr,t=>t.getUTCSeconds());to.range;const nx=xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nr)},(t,e)=>{t.setTime(+t+e*kn)},(t,e)=>(e-t)/kn,t=>t.getMinutes());nx.range;const rx=xt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*kn)},(t,e)=>(e-t)/kn,t=>t.getUTCMinutes());rx.range;const ix=xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nr-t.getMinutes()*kn)},(t,e)=>{t.setTime(+t+e*Ar)},(t,e)=>(e-t)/Ar,t=>t.getHours());ix.range;const ox=xt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ar)},(t,e)=>(e-t)/Ar,t=>t.getUTCHours());ox.range;const $u=xt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*kn)/Fr,t=>t.getDate()-1);$u.range;const Mh=xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fr,t=>t.getUTCDate()-1);Mh.range;const YP=xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fr,t=>Math.floor(t/Fr));YP.range;function ko(t){return xt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*kn)/tx)}const $h=ko(0),nf=ko(1),OK=ko(2),RK=ko(3),La=ko(4),MK=ko(5),$K=ko(6);$h.range;nf.range;OK.range;RK.range;La.range;MK.range;$K.range;function No(t){return xt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/tx)}const Dh=No(0),rf=No(1),DK=No(2),LK=No(3),Ua=No(4),UK=No(5),FK=No(6);Dh.range;rf.range;DK.range;LK.range;Ua.range;UK.range;FK.range;const ax=xt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ax.range;const sx=xt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());sx.range;const Br=xt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Br.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Br.range;const qr=xt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});qr.range;function XP(t,e,n,r,i,o){const a=[[to,1,Nr],[to,5,5*Nr],[to,15,15*Nr],[to,30,30*Nr],[o,1,kn],[o,5,5*kn],[o,15,15*kn],[o,30,30*kn],[i,1,Ar],[i,3,3*Ar],[i,6,6*Ar],[i,12,12*Ar],[r,1,Fr],[r,2,2*Fr],[n,1,tx],[e,1,AS],[e,3,3*AS],[t,1,om]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:l(u,d,f),v=g?g.range(u,+d+1):[];return h?v.reverse():v}function l(u,d,f){const h=Math.abs(d-u)/f,g=V0(([,,b])=>b).right(a,h);if(g===a.length)return t.every(ny(u/om,d/om,f));if(g===0)return tf.every(Math.max(ny(u,d,f),1));const[v,y]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return v.every(y)}return[s,l]}const[BK,qK]=XP(qr,sx,Dh,YP,ox,rx),[VK,GK]=XP(Br,ax,$h,$u,ix,nx);function am(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Os(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function HK(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Rs(i),d=Ms(i),f=Rs(o),h=Ms(o),g=Rs(a),v=Ms(a),y=Rs(s),b=Ms(s),x=Rs(l),w=Ms(l),_={a:F,A:D,b:B,B:V,c:null,d:RS,e:RS,f:pJ,g:EJ,G:kJ,H:dJ,I:fJ,j:hJ,L:QP,m:mJ,M:gJ,p:Q,q:H,Q:DS,s:LS,S:yJ,u:vJ,U:xJ,V:bJ,w:wJ,W:_J,x:null,X:null,y:SJ,Y:TJ,Z:NJ,"%":$S},E={a:ae,A:ve,b:be,B:ke,c:null,d:MS,e:MS,f:IJ,g:BJ,G:VJ,H:AJ,I:CJ,j:PJ,L:eI,m:jJ,M:OJ,p:Se,q:ze,Q:DS,s:LS,S:RJ,u:MJ,U:$J,V:DJ,w:LJ,W:UJ,x:null,X:null,y:FJ,Y:qJ,Z:GJ,"%":$S},S={a:j,A:R,b:M,B:U,c:$,d:jS,e:jS,f:sJ,g:IS,G:PS,H:OS,I:OS,j:rJ,L:aJ,m:nJ,M:iJ,p:C,q:tJ,Q:uJ,s:cJ,S:oJ,u:YK,U:XK,V:QK,w:JK,W:ZK,x:P,X:O,y:IS,Y:PS,Z:eJ,"%":lJ};_.x=T(n,_),_.X=T(r,_),_.c=T(e,_),E.x=T(n,E),E.X=T(r,E),E.c=T(e,E);function T(Y,de){return function(me){var K=[],Oe=-1,q=0,ne=Y.length,ue,ye,Ie;for(me instanceof Date||(me=new Date(+me));++Oe<ne;)Y.charCodeAt(Oe)===37&&(K.push(Y.slice(q,Oe)),(ye=CS[ue=Y.charAt(++Oe)])!=null?ue=Y.charAt(++Oe):ye=ue==="e"?" ":"0",(Ie=de[ue])&&(ue=Ie(me,ye)),K.push(ue),q=Oe+1);return K.push(Y.slice(q,Oe)),K.join("")}}function k(Y,de){return function(me){var K=Os(1900,void 0,1),Oe=A(K,Y,me+="",0),q,ne;if(Oe!=me.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(de&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(q=sm(Os(K.y,0,1)),ne=q.getUTCDay(),q=ne>4||ne===0?rf.ceil(q):rf(q),q=Mh.offset(q,(K.V-1)*7),K.y=q.getUTCFullYear(),K.m=q.getUTCMonth(),K.d=q.getUTCDate()+(K.w+6)%7):(q=am(Os(K.y,0,1)),ne=q.getDay(),q=ne>4||ne===0?nf.ceil(q):nf(q),q=$u.offset(q,(K.V-1)*7),K.y=q.getFullYear(),K.m=q.getMonth(),K.d=q.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ne="Z"in K?sm(Os(K.y,0,1)).getUTCDay():am(Os(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ne+5)%7:K.w+K.U*7-(ne+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,sm(K)):am(K)}}function A(Y,de,me,K){for(var Oe=0,q=de.length,ne=me.length,ue,ye;Oe<q;){if(K>=ne)return-1;if(ue=de.charCodeAt(Oe++),ue===37){if(ue=de.charAt(Oe++),ye=S[ue in CS?de.charAt(Oe++):ue],!ye||(K=ye(Y,me,K))<0)return-1}else if(ue!=me.charCodeAt(K++))return-1}return K}function C(Y,de,me){var K=u.exec(de.slice(me));return K?(Y.p=d.get(K[0].toLowerCase()),me+K[0].length):-1}function j(Y,de,me){var K=g.exec(de.slice(me));return K?(Y.w=v.get(K[0].toLowerCase()),me+K[0].length):-1}function R(Y,de,me){var K=f.exec(de.slice(me));return K?(Y.w=h.get(K[0].toLowerCase()),me+K[0].length):-1}function M(Y,de,me){var K=x.exec(de.slice(me));return K?(Y.m=w.get(K[0].toLowerCase()),me+K[0].length):-1}function U(Y,de,me){var K=y.exec(de.slice(me));return K?(Y.m=b.get(K[0].toLowerCase()),me+K[0].length):-1}function $(Y,de,me){return A(Y,e,de,me)}function P(Y,de,me){return A(Y,n,de,me)}function O(Y,de,me){return A(Y,r,de,me)}function F(Y){return a[Y.getDay()]}function D(Y){return o[Y.getDay()]}function B(Y){return l[Y.getMonth()]}function V(Y){return s[Y.getMonth()]}function Q(Y){return i[+(Y.getHours()>=12)]}function H(Y){return 1+~~(Y.getMonth()/3)}function ae(Y){return a[Y.getUTCDay()]}function ve(Y){return o[Y.getUTCDay()]}function be(Y){return l[Y.getUTCMonth()]}function ke(Y){return s[Y.getUTCMonth()]}function Se(Y){return i[+(Y.getUTCHours()>=12)]}function ze(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var de=T(Y+="",_);return de.toString=function(){return Y},de},parse:function(Y){var de=k(Y+="",!1);return de.toString=function(){return Y},de},utcFormat:function(Y){var de=T(Y+="",E);return de.toString=function(){return Y},de},utcParse:function(Y){var de=k(Y+="",!0);return de.toString=function(){return Y},de}}}var CS={"-":"",_:" ",0:"0"},St=/^\s*\d+/,zK=/^%/,WK=/[\\^$*+?|[\]().{}]/g;function Ce(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function KK(t){return t.replace(WK,"\\$&")}function Rs(t){return new RegExp("^(?:"+t.map(KK).join("|")+")","i")}function Ms(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function JK(t,e,n){var r=St.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function YK(t,e,n){var r=St.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function XK(t,e,n){var r=St.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function QK(t,e,n){var r=St.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ZK(t,e,n){var r=St.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function PS(t,e,n){var r=St.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function IS(t,e,n){var r=St.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eJ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tJ(t,e,n){var r=St.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function nJ(t,e,n){var r=St.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function jS(t,e,n){var r=St.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rJ(t,e,n){var r=St.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function OS(t,e,n){var r=St.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function iJ(t,e,n){var r=St.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function oJ(t,e,n){var r=St.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function aJ(t,e,n){var r=St.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function sJ(t,e,n){var r=St.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lJ(t,e,n){var r=zK.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function uJ(t,e,n){var r=St.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function cJ(t,e,n){var r=St.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function RS(t,e){return Ce(t.getDate(),e,2)}function dJ(t,e){return Ce(t.getHours(),e,2)}function fJ(t,e){return Ce(t.getHours()%12||12,e,2)}function hJ(t,e){return Ce(1+$u.count(Br(t),t),e,3)}function QP(t,e){return Ce(t.getMilliseconds(),e,3)}function pJ(t,e){return QP(t,e)+"000"}function mJ(t,e){return Ce(t.getMonth()+1,e,2)}function gJ(t,e){return Ce(t.getMinutes(),e,2)}function yJ(t,e){return Ce(t.getSeconds(),e,2)}function vJ(t){var e=t.getDay();return e===0?7:e}function xJ(t,e){return Ce($h.count(Br(t)-1,t),e,2)}function ZP(t){var e=t.getDay();return e>=4||e===0?La(t):La.ceil(t)}function bJ(t,e){return t=ZP(t),Ce(La.count(Br(t),t)+(Br(t).getDay()===4),e,2)}function wJ(t){return t.getDay()}function _J(t,e){return Ce(nf.count(Br(t)-1,t),e,2)}function SJ(t,e){return Ce(t.getFullYear()%100,e,2)}function EJ(t,e){return t=ZP(t),Ce(t.getFullYear()%100,e,2)}function TJ(t,e){return Ce(t.getFullYear()%1e4,e,4)}function kJ(t,e){var n=t.getDay();return t=n>=4||n===0?La(t):La.ceil(t),Ce(t.getFullYear()%1e4,e,4)}function NJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ce(e/60|0,"0",2)+Ce(e%60,"0",2)}function MS(t,e){return Ce(t.getUTCDate(),e,2)}function AJ(t,e){return Ce(t.getUTCHours(),e,2)}function CJ(t,e){return Ce(t.getUTCHours()%12||12,e,2)}function PJ(t,e){return Ce(1+Mh.count(qr(t),t),e,3)}function eI(t,e){return Ce(t.getUTCMilliseconds(),e,3)}function IJ(t,e){return eI(t,e)+"000"}function jJ(t,e){return Ce(t.getUTCMonth()+1,e,2)}function OJ(t,e){return Ce(t.getUTCMinutes(),e,2)}function RJ(t,e){return Ce(t.getUTCSeconds(),e,2)}function MJ(t){var e=t.getUTCDay();return e===0?7:e}function $J(t,e){return Ce(Dh.count(qr(t)-1,t),e,2)}function tI(t){var e=t.getUTCDay();return e>=4||e===0?Ua(t):Ua.ceil(t)}function DJ(t,e){return t=tI(t),Ce(Ua.count(qr(t),t)+(qr(t).getUTCDay()===4),e,2)}function LJ(t){return t.getUTCDay()}function UJ(t,e){return Ce(rf.count(qr(t)-1,t),e,2)}function FJ(t,e){return Ce(t.getUTCFullYear()%100,e,2)}function BJ(t,e){return t=tI(t),Ce(t.getUTCFullYear()%100,e,2)}function qJ(t,e){return Ce(t.getUTCFullYear()%1e4,e,4)}function VJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ua(t):Ua.ceil(t),Ce(t.getUTCFullYear()%1e4,e,4)}function GJ(){return"+0000"}function $S(){return"%"}function DS(t){return+t}function LS(t){return Math.floor(+t/1e3)}var Bo,nI,rI;HJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HJ(t){return Bo=HK(t),nI=Bo.format,Bo.parse,rI=Bo.utcFormat,Bo.utcParse,Bo}function zJ(t){return new Date(t)}function WJ(t){return t instanceof Date?+t:+new Date(+t)}function lx(t,e,n,r,i,o,a,s,l,u){var d=K0(),f=d.invert,h=d.domain,g=u(".%L"),v=u(":%S"),y=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),w=u("%b %d"),_=u("%B"),E=u("%Y");function S(T){return(l(T)<T?g:s(T)<T?v:a(T)<T?y:o(T)<T?b:r(T)<T?i(T)<T?x:w:n(T)<T?_:E)(T)}return d.invert=function(T){return new Date(f(T))},d.domain=function(T){return arguments.length?h(Array.from(T,WJ)):h().map(zJ)},d.ticks=function(T){var k=h();return t(k[0],k[k.length-1],T??10)},d.tickFormat=function(T,k){return k==null?S:u(k)},d.nice=function(T){var k=h();return(!T||typeof T.range!="function")&&(T=e(k[0],k[k.length-1],T??10)),T?h(VP(k,T)):d},d.copy=function(){return Mu(d,lx(t,e,n,r,i,o,a,s,l,u))},d}function KJ(){return Dn.apply(lx(VK,GK,Br,ax,$h,$u,ix,nx,to,nI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JJ(){return Dn.apply(lx(BK,qK,qr,sx,Dh,Mh,ox,rx,to,rI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lh(){var t=0,e=1,n,r,i,o,a=qt,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var g,v;return arguments.length?([g,v]=h,a=f(g,v),u):[a(0),a(1)]}}return u.range=d(ms),u.rangeRound=d(W0),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Ii(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iI(){var t=Pi(Lh()(qt));return t.copy=function(){return Ii(t,iI())},Jr.apply(t,arguments)}function oI(){var t=X0(Lh()).domain([1,10]);return t.copy=function(){return Ii(t,oI()).base(t.base())},Jr.apply(t,arguments)}function aI(){var t=Q0(Lh());return t.copy=function(){return Ii(t,aI()).constant(t.constant())},Jr.apply(t,arguments)}function ux(){var t=Z0(Lh());return t.copy=function(){return Ii(t,ux()).exponent(t.exponent())},Jr.apply(t,arguments)}function YJ(){return ux.apply(null,arguments).exponent(.5)}function sI(){var t=[],e=qt;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ou(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(wi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>$9(t,o/r))},n.copy=function(){return sI(e).domain(t)},Jr.apply(n,arguments)}function Uh(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=qt,d,f=!1,h;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-o)*(r*y<r*o?s:l),u(f?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(f=!!y,g):f},g.interpolator=function(y){return arguments.length?(u=y,g):u};function v(y){return function(b){var x,w,_;return arguments.length?([x,w,_]=b,u=lK(y,[x,w,_]),g):[u(0),u(.5),u(1)]}}return g.range=v(ms),g.rangeRound=v(W0),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return d=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function lI(){var t=Pi(Uh()(qt));return t.copy=function(){return Ii(t,lI())},Jr.apply(t,arguments)}function uI(){var t=X0(Uh()).domain([.1,1,10]);return t.copy=function(){return Ii(t,uI()).base(t.base())},Jr.apply(t,arguments)}function cI(){var t=Q0(Uh());return t.copy=function(){return Ii(t,cI()).constant(t.constant())},Jr.apply(t,arguments)}function cx(){var t=Z0(Uh());return t.copy=function(){return Ii(t,cx()).exponent(t.exponent())},Jr.apply(t,arguments)}function XJ(){return cx.apply(null,arguments).exponent(.5)}const US=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gl,scaleDiverging:lI,scaleDivergingLog:uI,scaleDivergingPow:cx,scaleDivergingSqrt:XJ,scaleDivergingSymlog:cI,scaleIdentity:qP,scaleImplicit:ry,scaleLinear:ef,scaleLog:GP,scaleOrdinal:G0,scalePoint:ll,scalePow:ex,scaleQuantile:WP,scaleQuantize:KP,scaleRadial:zP,scaleSequential:iI,scaleSequentialLog:oI,scaleSequentialPow:ux,scaleSequentialQuantile:sI,scaleSequentialSqrt:YJ,scaleSequentialSymlog:aI,scaleSqrt:IK,scaleSymlog:HP,scaleThreshold:JP,scaleTime:KJ,scaleUtc:JJ,tickFormat:BP},Symbol.toStringTag,{value:"Module"}));var QJ=as;function ZJ(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!QJ(a):n(a,s)))var s=a,l=o}return l}var dI=ZJ;function eY(t,e){return t>e}var tY=eY,nY=dI,rY=tY,iY=hs;function oY(t){return t&&t.length?nY(t,iY,rY):void 0}var aY=oY;const Fh=Le(aY);function sY(t,e){return t<e}var lY=sY,uY=dI,cY=lY,dY=hs;function fY(t){return t&&t.length?uY(t,dY,cY):void 0}var hY=fY;const Bh=Le(hY);var pY=E0,mY=Ci,gY=xP,yY=rn;function vY(t,e){var n=yY(t)?pY:gY;return n(t,mY(e))}var xY=vY,bY=yP,wY=xY;function _Y(t,e){return bY(wY(t,e),1)}var SY=_Y;const EY=Le(SY);var TY=U0;function kY(t,e){return TY(t,e)}var NY=kY;const qh=Le(NY);var gs=1e9,AY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fx,Ke=!0,Rn="[DecimalError] ",so=Rn+"Invalid argument: ",dx=Rn+"Exponent out of range: ",ys=Math.floor,Hi=Math.pow,CY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fn,bt=1e7,Ge=7,fI=9007199254740991,of=ys(fI/Ge),le={};le.absoluteValue=le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};le.comparedTo=le.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};le.decimalPlaces=le.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ge;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};le.dividedBy=le.div=function(t){return Mr(this,new this.constructor(t))};le.dividedToIntegerBy=le.idiv=function(t){var e=this,n=e.constructor;return De(Mr(e,new n(t),0,1),n.precision)};le.equals=le.eq=function(t){return!this.cmp(t)};le.exponent=function(){return ft(this)};le.greaterThan=le.gt=function(t){return this.cmp(t)>0};le.greaterThanOrEqualTo=le.gte=function(t){return this.cmp(t)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(t){return this.cmp(t)<0};le.lessThanOrEqualTo=le.lte=function(t){return this.cmp(t)<1};le.logarithm=le.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(fn))throw Error(Rn+"NaN");if(n.s<1)throw Error(Rn+(n.s?"NaN":"-Infinity"));return n.eq(fn)?new r(0):(Ke=!1,e=Mr(Jl(n,o),Jl(t,o),o),Ke=!0,De(e,i))};le.minus=le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mI(e,t):hI(e,(t.s=-t.s,t))};le.modulo=le.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Rn+"NaN");return n.s?(Ke=!1,e=Mr(n,t,0,1).times(t),Ke=!0,n.minus(e)):De(new r(n),i)};le.naturalExponential=le.exp=function(){return pI(this)};le.naturalLogarithm=le.ln=function(){return Jl(this)};le.negated=le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};le.plus=le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hI(e,t):mI(e,(t.s=-t.s,t))};le.precision=le.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(so+t);if(e=ft(i)+1,r=i.d.length-1,n=r*Ge+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};le.squareRoot=le.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Rn+"NaN")}for(t=ft(s),Ke=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=dr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ys((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Mr(s,o,a+2)).times(.5),dr(o.d).slice(0,a)===(e=dr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(De(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Ke=!0,De(r,n)};le.times=le.mul=function(t){var e,n,r,i,o,a,s,l,u,d=this,f=d.constructor,h=d.d,g=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%bt|0,e=s/bt|0;o[i]=(o[i]+e)%bt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ke?De(t,f.precision):t};le.toDecimalPlaces=le.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(vr(t,0,gs),e===void 0?e=r.rounding:vr(e,0,8),De(n,t+ft(n)+1,e))};le.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=go(r,!0):(vr(t,0,gs),e===void 0?e=i.rounding:vr(e,0,8),r=De(new i(r),t+1,e),n=go(r,!0,t+1)),n};le.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?go(i):(vr(t,0,gs),e===void 0?e=o.rounding:vr(e,0,8),r=De(new o(i),t+ft(i)+1,e),n=go(r.abs(),!1,t+ft(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};le.toInteger=le.toint=function(){var t=this,e=t.constructor;return De(new e(t),ft(t)+1,e.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(fn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Rn+"Infinity");return s}if(s.eq(fn))return s;if(r=l.precision,t.eq(fn))return De(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=fI){for(i=new l(fn),e=Math.ceil(r/Ge+4),Ke=!1;n%2&&(i=i.times(s),BS(i.d,e)),n=ys(n/2),n!==0;)s=s.times(s),BS(s.d,e);return Ke=!0,t.s<0?new l(fn).div(i):De(i,r)}}else if(o<0)throw Error(Rn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ke=!1,i=t.times(Jl(s,r+u)),Ke=!0,i=pI(i),i.s=o,i};le.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=ft(i),r=go(i,n<=o.toExpNeg||n>=o.toExpPos)):(vr(t,1,gs),e===void 0?e=o.rounding:vr(e,0,8),i=De(new o(i),t,e),n=ft(i),r=go(i,t<=n||n<=o.toExpNeg,t)),r};le.toSignificantDigits=le.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(vr(t,1,gs),e===void 0?e=r.rounding:vr(e,0,8)),De(new r(n),t,e)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ft(t),n=t.constructor;return go(t,e<=n.toExpNeg||e>=n.toExpPos)};function hI(t,e){var n,r,i,o,a,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ke?De(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Ge),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/bt|0,l[o]%=bt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ke?De(e,f):e}function vr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(so+t)}function dr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ge-r.length,n&&(o+=ri(n)),o+=r;a=t[e],r=a+"",n=Ge-r.length,n&&(o+=ri(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Mr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%bt|0,a=o/bt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*bt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,d,f,h,g,v,y,b,x,w,_,E,S,T,k,A,C=r.constructor,j=r.s==i.s?1:-1,R=r.d,M=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Rn+"Division by zero");for(l=r.e-i.e,k=M.length,S=R.length,g=new C(j),v=g.d=[],u=0;M[u]==(R[u]||0);)++u;if(M[u]>(R[u]||0)&&--l,o==null?w=o=C.precision:a?w=o+(ft(r)-ft(i))+1:w=o,w<0)return new C(0);if(w=w/Ge+2|0,u=0,k==1)for(d=0,M=M[0],w++;(u<S||d)&&w--;u++)_=d*bt+(R[u]||0),v[u]=_/M|0,d=_%M|0;else{for(d=bt/(M[0]+1)|0,d>1&&(M=t(M,d),R=t(R,d),k=M.length,S=R.length),E=k,y=R.slice(0,k),b=y.length;b<k;)y[b++]=0;A=M.slice(),A.unshift(0),T=M[0],M[1]>=bt/2&&++T;do d=0,s=e(M,y,k,b),s<0?(x=y[0],k!=b&&(x=x*bt+(y[1]||0)),d=x/T|0,d>1?(d>=bt&&(d=bt-1),f=t(M,d),h=f.length,b=y.length,s=e(f,y,h,b),s==1&&(d--,n(f,k<h?A:M,h))):(d==0&&(s=d=1),f=M.slice()),h=f.length,h<b&&f.unshift(0),n(y,f,b),s==-1&&(b=y.length,s=e(M,y,k,b),s<1&&(d++,n(y,k<b?A:M,b))),b=y.length):s===0&&(d++,y=[0]),v[u++]=d,s&&y[0]?y[b++]=R[E]||0:(y=[R[E]],b=1);while((E++<S||y[0]!==void 0)&&w--)}return v[0]||v.shift(),g.e=l,De(g,a?o+ft(g)+1:o)}}();function pI(t,e){var n,r,i,o,a,s,l=0,u=0,d=t.constructor,f=d.precision;if(ft(t)>16)throw Error(dx+ft(t));if(!t.s)return new d(fn);for(Ke=!1,s=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Hi(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new d(fn),d.precision=s;;){if(i=De(i.times(t),s),n=n.times(++l),a=o.plus(Mr(i,n,s)),dr(a.d).slice(0,s)===dr(o.d).slice(0,s)){for(;u--;)o=De(o.times(o),s);return d.precision=f,e==null?(Ke=!0,De(o,f)):o}o=a}}function ft(t){for(var e=t.e*Ge,n=t.d[0];n>=10;n/=10)e++;return e}function lm(t,e,n){if(e>t.LN10.sd())throw Ke=!0,n&&(t.precision=n),Error(Rn+"LN10 precision limit exceeded");return De(new t(t.LN10),e)}function ri(t){for(var e="";t--;)e+="0";return e}function Jl(t,e){var n,r,i,o,a,s,l,u,d,f=1,h=10,g=t,v=g.d,y=g.constructor,b=y.precision;if(g.s<1)throw Error(Rn+(g.s?"NaN":"-Infinity"));if(g.eq(fn))return new y(0);if(e==null?(Ke=!1,u=b):u=e,g.eq(10))return e==null&&(Ke=!0),lm(y,u);if(u+=h,y.precision=u,n=dr(v),r=n.charAt(0),o=ft(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=dr(g.d),r=n.charAt(0),f++;o=ft(g),r>1?(g=new y("0."+n),o++):g=new y(r+"."+n.slice(1))}else return l=lm(y,u+2,b).times(o+""),g=Jl(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=b,e==null?(Ke=!0,De(g,b)):g;for(s=a=g=Mr(g.minus(fn),g.plus(fn),u),d=De(g.times(g),u),i=3;;){if(a=De(a.times(d),u),l=s.plus(Mr(a,new y(i),u)),dr(l.d).slice(0,u)===dr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(lm(y,u+2,b).times(o+""))),s=Mr(s,new y(f),u),y.precision=b,e==null?(Ke=!0,De(s,b)):s;s=l,i+=2}}function FS(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ys(n/Ge),t.d=[],r=(n+1)%Ge,n<0&&(r+=Ge),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ge;r<i;)t.d.push(+e.slice(r,r+=Ge));e=e.slice(r),r=Ge-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ke&&(t.e>of||t.e<-of))throw Error(dx+n)}else t.s=0,t.e=0,t.d=[0];return t}function De(t,e,n){var r,i,o,a,s,l,u,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ge,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/Ge),o=f.length,d>=o)return t;for(u=o=f[d],a=1;o>=10;o/=10)a++;r%=Ge,i=r-Ge+a}if(n!==void 0&&(o=Hi(10,a-i-1),s=u/o%10|0,l=e<0||f[d+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Hi(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=ft(t),f.length=1,e=e-o-1,f[0]=Hi(10,(Ge-e%Ge)%Ge),t.e=ys(-e/Ge)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Hi(10,Ge-r),f[d]=i>0?(u/Hi(10,a-i)%Hi(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==bt&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=bt)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Ke&&(t.e>of||t.e<-of))throw Error(dx+ft(t));return t}function mI(t,e){var n,r,i,o,a,s,l,u,d,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ke?De(e,g):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(g/Ge),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=bt-1;--l[o],l[i]+=bt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ke?De(e,g):e):new h(0)}function go(t,e,n){var r,i=ft(t),o=dr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ri(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ri(-i-1)+o,n&&(r=n-a)>0&&(o+=ri(r))):i>=a?(o+=ri(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ri(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ri(r))),t.s<0?"-"+o:o}function BS(t,e){if(t.length>e)return t.length=e,!0}function gI(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(so+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return FS(a,o.toString())}else if(typeof o!="string")throw Error(so+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,CY.test(o))FS(a,o);else throw Error(so+o)}if(i.prototype=le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gI,i.config=i.set=PY,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function PY(t){if(!t||typeof t!="object")throw Error(Rn+"Object expected");var e,n,r,i=["precision",1,gs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ys(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(so+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(so+n+": "+r);return this}var fx=gI(AY);fn=new fx(1);const $e=fx;function IY(t){return MY(t)||RY(t)||OY(t)||jY()}function jY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OY(t,e){if(t){if(typeof t=="string")return sy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sy(t,e)}}function RY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function MY(t){if(Array.isArray(t))return sy(t)}function sy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $Y=function(e){return e},yI={},vI=function(e){return e===yI},qS=function(e){return function n(){return arguments.length===0||arguments.length===1&&vI(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},DY=function t(e,n){return e===1?n:qS(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==yI}).length;return a>=e?n.apply(void 0,i):t(e-a,qS(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(f){return vI(f)?l.shift():f});return n.apply(void 0,IY(d).concat(l))}))})},Vh=function(e){return DY(e.length,e)},ly=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},LY=Vh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),UY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return $Y;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},uy=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},xI=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function FY(t){var e;return t===0?e=1:e=Math.floor(new $e(t).abs().log(10).toNumber())+1,e}function BY(t,e,n){for(var r=new $e(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var qY=Vh(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),VY=Vh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),GY=Vh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Gh={rangeStep:BY,getDigitCount:FY,interpolateNumber:qY,uninterpolateNumber:VY,uninterpolateTruncation:GY};function cy(t){return WY(t)||zY(t)||bI(t)||HY()}function HY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function WY(t){if(Array.isArray(t))return dy(t)}function Yl(t,e){return YY(t)||JY(t,e)||bI(t,e)||KY()}function KY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bI(t,e){if(t){if(typeof t=="string")return dy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dy(t,e)}}function dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JY(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function YY(t){if(Array.isArray(t))return t}function wI(t){var e=Yl(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function _I(t,e,n){if(t.lte(0))return new $e(0);var r=Gh.getDigitCount(t.toNumber()),i=new $e(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new $e(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new $e(Math.ceil(l))}function XY(t,e,n){var r=1,i=new $e(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new $e(10).pow(Gh.getDigitCount(t)-1),i=new $e(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new $e(Math.floor(t)))}else t===0?i=new $e(Math.floor((e-1)/2)):n||(i=new $e(Math.floor(t)));var a=Math.floor((e-1)/2),s=UY(LY(function(l){return i.add(new $e(l-a).mul(r)).toNumber()}),ly);return s(0,e)}function SI(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new $e(0),tickMin:new $e(0),tickMax:new $e(0)};var o=_I(new $e(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new $e(0):(a=new $e(t).add(e).div(2),a=a.sub(new $e(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new $e(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?SI(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new $e(s).mul(o)),tickMax:a.add(new $e(l).mul(o))})}function QY(t){var e=Yl(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=wI([n,r]),l=Yl(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(cy(ly(0,i-1).map(function(){return 1/0}))):[].concat(cy(ly(0,i-1).map(function(){return-1/0})),[d]);return n>r?uy(f):f}if(u===d)return XY(u,i,o);var h=SI(u,d,a,o),g=h.step,v=h.tickMin,y=h.tickMax,b=Gh.rangeStep(v,y.add(new $e(.1).mul(g)),g);return n>r?uy(b):b}function ZY(t,e){var n=Yl(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=wI([r,i]),s=Yl(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=_I(new $e(u).sub(l).div(d-1),o,0),h=[].concat(cy(Gh.rangeStep(new $e(l),new $e(u).sub(new $e(.99).mul(f)),f)),[u]);return r>i?uy(h):h}var eX=xI(QY),tX=xI(ZY),nX="Invariant failed";function yo(t,e){throw new Error(nX)}var rX=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(this,arguments)}function iX(t,e){return lX(t)||sX(t,e)||aX(t,e)||oX()}function oX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aX(t,e){if(t){if(typeof t=="string")return VS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VS(t,e)}}function VS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function lX(t){if(Array.isArray(t))return t}function uX(t,e){if(t==null)return{};var n=cX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kI(r.key),r)}}function hX(t,e,n){return e&&fX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pX(t,e,n){return e=sf(e),mX(t,EI()?Reflect.construct(e,n||[],sf(t).constructor):e.apply(t,n))}function mX(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gX(t)}function gX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EI=function(){return!!t})()}function sf(t){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sf(t)}function yX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fy(t,e)}function fy(t,e){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fy(t,e)}function TI(t,e,n){return e=kI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kI(t){var e=vX(t,"string");return Fa(e)=="symbol"?e:e+""}function vX(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Du=function(t){function e(){return dX(this,e),pX(this,e,arguments)}return yX(e,t),hX(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=uX(r,rX),g=Te(h,!1);this.props.direction==="x"&&d.type!=="number"&&yo();var v=l.map(function(y){var b=u(y,s),x=b.x,w=b.y,_=b.value,E=b.errorVal;if(!E)return null;var S=[],T,k;if(Array.isArray(E)){var A=iX(E,2);T=A[0],k=A[1]}else T=k=E;if(o==="vertical"){var C=d.scale,j=w+i,R=j+a,M=j-a,U=C(_-T),$=C(_+k);S.push({x1:$,y1:R,x2:$,y2:M}),S.push({x1:U,y1:j,x2:$,y2:j}),S.push({x1:U,y1:R,x2:U,y2:M})}else if(o==="horizontal"){var P=f.scale,O=x+i,F=O-a,D=O+a,B=P(_-T),V=P(_+k);S.push({x1:F,y1:V,x2:D,y2:V}),S.push({x1:O,y1:B,x2:O,y2:V}),S.push({x1:F,y1:B,x2:D,y2:B})}return L.createElement(ot,af({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},g),S.map(function(Q){return L.createElement("line",af({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return L.createElement(ot,{className:"recharts-errorBars"},v)}}])}(L.Component);TI(Du,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});TI(Du,"displayName","ErrorBar");function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function GS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(n),!0).forEach(function(r){xX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xX(t,e,n){return e=bX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bX(t){var e=wX(t,"string");return Xl(e)=="symbol"?e:e+""}function wX(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NI=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=un(n,ba);if(!a)return null;var s=ba.defaultProps,l=s!==void 0?Ui(Ui({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,g=f.props,v=g.sectors||g.data||[];return d.concat(v.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,g=h!==void 0?Ui(Ui({},h),f.props):{},v=g.dataKey,y=g.name,b=g.legendType,x=g.hide;return{inactive:x,dataKey:v,type:l.iconType||b||"square",color:hx(f),value:y||v,payload:g}}),Ui(Ui(Ui({},l),ba.getWithHeight(a,i)),{},{payload:u,item:a})};function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function HS(t){return TX(t)||EX(t)||SX(t)||_X()}function _X(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SX(t,e){if(t){if(typeof t=="string")return hy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hy(t,e)}}function EX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TX(t){if(Array.isArray(t))return hy(t)}function hy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(n),!0).forEach(function(r){_a(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _a(t,e,n){return e=kX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kX(t){var e=NX(t,"string");return Ql(e)=="symbol"?e:e+""}function NX(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gn(t,e,n){return we(t)||we(e)?n:vt(e)?Cn(t,e,n):xe(e)?e(t):n}function ul(t,e,n,r){var i=EY(t,function(s){return gn(s,e)});if(n==="number"){var o=i.filter(function(s){return ee(s)||parseFloat(s)});return o.length?[Bh(o),Fh(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!we(s)}):i;return a.map(function(s){return vt(s)||s instanceof Date?s:""})}var AX=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Zn(f-d)!==Zn(h-f)){var v=[];if(Zn(h-f)===Zn(l[1]-l[0])){g=h;var y=f+l[1]-l[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{g=d;var b=h+l[1]-l[0];v[0]=Math.min(f,(b+f)/2),v[1]=Math.max(f,(b+f)/2)}var x=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var w=Math.min(d,h),_=Math.max(d,h);if(e>(w+f)/2&&e<=(_+f)/2){a=i[u].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){a=r[E].index;break}return a},hx=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?tt(tt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},CX=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,g=f.length;h<g;h++){var v=d[f[h]],y=v.items,b=v.cateAxisId,x=y.filter(function(k){return Or(k.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,_=w!==void 0?tt(tt({},w),x[0].props):x[0].props,E=_.barSize,S=_[b];a[S]||(a[S]=[]);var T=we(E)?n:E;a[S].push({item:x[0],stackList:x.slice(1),barSize:we(T)?void 0:mo(T,r,0)})}}return a},PX=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=mo(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,v=a.reduce(function(E,S){return E+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var y=(i-v)/2>>0,b={offset:y-u,size:0};d=a.reduce(function(E,S){var T={item:S.item,position:{offset:b.offset+b.size+u,size:h?g:S.barSize}},k=[].concat(HS(E),[T]);return b=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){k.push({item:A,position:b})}),k},f)}else{var x=mo(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var w=(i-2*x-(l-1)*u)/l;w>1&&(w>>=0);var _=s===+s?Math.min(w,s):w;d=a.reduce(function(E,S,T){var k=[].concat(HS(E),[{item:S.item,position:{offset:x+(w+u)*T+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){k.push({item:A,position:k[k.length-1].position})}),k},f)}return d},IX=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=NI({children:o,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,g=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&ee(e[g]))return tt(tt({},e),{},_a({},g,e[g]+(f||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&ee(e[v]))return tt(tt({},e),{},_a({},v,e[v]+(h||0)))}return e},jX=function(e,n,r){return we(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},AI=function(e,n,r,i,o){var a=n.props.children,s=Pn(a,Du).filter(function(u){return jX(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=gn(d,r);if(we(f))return u;var h=Array.isArray(f)?[Bh(f),Fh(f)]:[f,f],g=l.reduce(function(v,y){var b=gn(d,y,0),x=h[0]-Math.abs(Array.isArray(b)?b[0]:b),w=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(x,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},OX=function(e,n,r,i,o){var a=n.map(function(s){return AI(e,s,r,o,i)}).filter(function(s){return!we(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},CI=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&AI(e,l,u,i)||ul(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},PI=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},II=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Cr=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Zn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Pu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},um=new WeakMap,xc=function(e,n){if(typeof n!="function")return e;um.has(e)||um.set(e,new WeakMap);var r=um.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},RX=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Gl(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:ef(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ll(),realScaleType:"point"}:o==="category"?{scale:Gl(),realScaleType:"band"}:{scale:ef(),realScaleType:"linear"};if(po(i)){var l="scale".concat(Nh(i));return{scale:(US[l]||ll)(),realScaleType:US[l]?l:"point"}}return xe(i)?{scale:i}:{scale:ll(),realScaleType:"point"}},WS=1e-4,MX=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-WS,a=Math.max(i[0],i[1])+WS,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},$X=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},DX=function(e,n){if(!n||n.length!==2||!ee(n[0])||!ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(o[0]=r),(!ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},LX=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Pu(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},UX=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Pu(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},FX={sign:LX,expand:t6,none:ja,silhouette:n6,wiggle:r6,positive:UX},BX=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=FX[r],a=e6().keys(i).value(function(s,l){return+gn(s,l,0)}).order(Dg).offset(o);return a(e)},qX=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?tt(tt({},h.type.defaultProps),h.props):h.props,y=v.stackId,b=v.hide;if(b)return f;var x=v[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(vt(y)){var _=w.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[y]=_}else w.stackGroups[Iu("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return tt(tt({},f),{},_a({},x,w))},l),d={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,b){var x=g.stackGroups[b];return tt(tt({},y),{},_a({},b,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:BX(e,x.items,o)}))},v)}return tt(tt({},f),{},_a({},h,g))},d)},VX=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=eX(u,o,s);return e.domain([Bh(d),Fh(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=tX(f,o,s);return{niceTicks:h}}return null};function KS(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!we(i[e.dataKey])){var s=Id(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=gn(i,we(a)?e.dataKey:a);return we(l)?null:e.scale(l)}var JS=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=gn(a,n.dataKey,n.domain[s]);return we(l)?null:n.scale(l)-o/2+i},GX=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},HX=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?tt(tt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(vt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},zX=function(e){return e.reduce(function(n,r){return[Bh(r.concat([n[0]]).filter(ee)),Fh(r.concat([n[1]]).filter(ee))]},[1/0,-1/0])},jI=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,d){var f=zX(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},YS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,py=function(e,n,r){if(xe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(YS.test(e[0])){var o=+YS.exec(e[0])[1];i[0]=n[0]-o}else xe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(XS.test(e[1])){var a=+XS.exec(e[1])[1];i[1]=n[1]+a}else xe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},lf=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=B0(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],d=o[s-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},QS=function(e,n,r){return!e||!e.length||qh(e,Cn(r,"type.defaultProps.domain"))?n:e},OI=function(e,n){var r=e.type.defaultProps?tt(tt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return tt(tt({},Te(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:hx(e),value:gn(n,i),type:l,payload:n,chartType:u,hide:d})};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function ZS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZS(Object(n),!0).forEach(function(r){WX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WX(t,e,n){return e=KX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KX(t){var e=JX(t,"string");return Zl(e)=="symbol"?e:e+""}function JX(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uf=Math.PI/180,YX=function(e){return e*180/Math.PI},Ct=function(e,n,r,i){return{x:e+Math.cos(-uf*i)*r,y:n+Math.sin(-uf*i)*r}},XX=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},QX=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=XX({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:YX(u),angleInRadian:u}},ZX=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},eQ=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},t1=function(e,n){var r=e.x,i=e.y,o=QX({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var d=ZX(n),f=d.startAngle,h=d.endAngle,g=s,v;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;v=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=f}return v?e1(e1({},n),{},{radius:a,angle:eQ(g,n)}):null};function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}var tQ=["offset"];function nQ(t){return aQ(t)||oQ(t)||iQ(t)||rQ()}function rQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iQ(t,e){if(t){if(typeof t=="string")return my(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return my(t,e)}}function oQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aQ(t){if(Array.isArray(t))return my(t)}function my(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sQ(t,e){if(t==null)return{};var n=lQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(r){uQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uQ(t,e,n){return e=cQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cQ(t){var e=dQ(t,"string");return eu(e)=="symbol"?e:e+""}function dQ(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}var fQ=function(e){var n=e.value,r=e.formatter,i=we(e.children)?n:e.children;return xe(r)?r(i):i},hQ=function(e,n){var r=Zn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},pQ=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,y=l.clockWise,b=(f+h)/2,x=hQ(g,v),w=x>=0?1:-1,_,E;i==="insideStart"?(_=g+w*a,E=y):i==="insideEnd"?(_=v-w*a,E=!y):i==="end"&&(_=v+w*a,E=y),E=x<=0?E:!E;var S=Ct(u,d,b,_),T=Ct(u,d,b,_+(E?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),A=we(e.id)?Iu("recharts-radial-line-"):e.id;return L.createElement("text",tu({},r,{dominantBaseline:"central",className:Ae("recharts-radial-bar-label",s)}),L.createElement("defs",null,L.createElement("path",{id:A,d:k})),L.createElement("textPath",{xlinkHref:"#".concat(A)},n))},mQ=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var g=Ct(a,s,u+r,h),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,x=Ct(a,s,b,h),w=x.x,_=x.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},gQ=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,g=f>0?"end":"start",v=f>0?"start":"end",y=u>=0?1:-1,b=y*i,x=y>0?"end":"start",w=y>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return pt(pt({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var E={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return pt(pt({},E),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var S={x:s-b,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return pt(pt({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(o==="right"){var T={x:s+u+b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return pt(pt({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:d}:{})}var k=r?{width:u,height:d}:{};return o==="insideLeft"?pt({x:s+b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},k):o==="insideRight"?pt({x:s+u-b,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},k):o==="insideTop"?pt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},k):o==="insideBottom"?pt({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:g},k):o==="insideTopLeft"?pt({x:s+b,y:l+h,textAnchor:w,verticalAnchor:v},k):o==="insideTopRight"?pt({x:s+u-b,y:l+h,textAnchor:x,verticalAnchor:v},k):o==="insideBottomLeft"?pt({x:s+b,y:l+d-h,textAnchor:w,verticalAnchor:g},k):o==="insideBottomRight"?pt({x:s+u-b,y:l+d-h,textAnchor:x,verticalAnchor:g},k):ss(o)&&(ee(o.x)||Zi(o.x))&&(ee(o.y)||Zi(o.y))?pt({x:s+mo(o.x,u),y:l+mo(o.y,d),textAnchor:"end",verticalAnchor:"end"},k):pt({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},yQ=function(e){return"cx"in e&&ee(e.cx)};function $t(t){var e=t.offset,n=e===void 0?5:e,r=sQ(t,tQ),i=pt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||we(s)&&we(l)&&!N.isValidElement(u)&&!xe(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var g;if(xe(u)){if(g=N.createElement(u,i),N.isValidElement(g))return g}else g=fQ(i);var v=yQ(o),y=Te(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return pQ(i,g,y);var b=v?mQ(i):gQ(i);return L.createElement(Wd,tu({className:Ae("recharts-label",f)},y,b,{breakAll:h}),g)}$t.displayName="Label";var RI=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,g=e.top,v=e.left,y=e.width,b=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(ee(y)&&ee(b)){if(ee(f)&&ee(h))return{x:f,y:h,width:y,height:b};if(ee(g)&&ee(v))return{x:g,y:v,width:y,height:b}}return ee(f)&&ee(h)?{x:f,y:h,width:0,height:0}:ee(n)&&ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},vQ=function(e,n){return e?e===!0?L.createElement($t,{key:"label-implicit",viewBox:n}):vt(e)?L.createElement($t,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===$t?N.cloneElement(e,{key:"label-implicit",viewBox:n}):L.createElement($t,{key:"label-implicit",content:e,viewBox:n}):xe(e)?L.createElement($t,{key:"label-implicit",content:e,viewBox:n}):ss(e)?L.createElement($t,tu({viewBox:n},e,{key:"label-implicit"})):null:null},xQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=RI(e),a=Pn(i,$t).map(function(l,u){return N.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=vQ(e.label,n||o);return[s].concat(nQ(a))};$t.parseViewBox=RI;$t.renderCallByParent=xQ;function bQ(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var wQ=bQ;const _Q=Le(wQ);function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}var SQ=["valueAccessor"],EQ=["data","dataKey","clockWise","id","textBreakAll"];function TQ(t){return CQ(t)||AQ(t)||NQ(t)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NQ(t,e){if(t){if(typeof t=="string")return gy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gy(t,e)}}function AQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CQ(t){if(Array.isArray(t))return gy(t)}function gy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cf.apply(this,arguments)}function r1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(n),!0).forEach(function(r){PQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PQ(t,e,n){return e=IQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQ(t){var e=jQ(t,"string");return nu(e)=="symbol"?e:e+""}function jQ(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o1(t,e){if(t==null)return{};var n=OQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var RQ=function(e){return Array.isArray(e.value)?_Q(e.value):e.value};function _i(t){var e=t.valueAccessor,n=e===void 0?RQ:e,r=o1(t,SQ),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=o1(r,EQ);return!i||!i.length?null:L.createElement(ot,{className:"recharts-label-list"},i.map(function(d,f){var h=we(o)?n(d,f):gn(d&&d.payload,o),g=we(s)?{}:{id:"".concat(s,"-").concat(f)};return L.createElement($t,cf({},Te(d,!0),u,g,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:$t.parseViewBox(we(a)?d:i1(i1({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}_i.displayName="LabelList";function MQ(t,e){return t?t===!0?L.createElement(_i,{key:"labelList-implicit",data:e}):L.isValidElement(t)||xe(t)?L.createElement(_i,{key:"labelList-implicit",data:e,content:t}):ss(t)?L.createElement(_i,cf({data:e},t,{key:"labelList-implicit"})):null:null}function $Q(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Pn(r,_i).map(function(a,s){return N.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=MQ(t.label,e);return[o].concat(TQ(i))}_i.renderCallByParent=$Q;function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(r){DQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DQ(t,e,n){return e=LQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LQ(t){var e=UQ(t,"string");return ru(e)=="symbol"?e:e+""}function UQ(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FQ=function(e,n){var r=Zn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},bc=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/uf,h=u?o:o+a*f,g=Ct(n,r,d,h),v=Ct(n,r,i,h),y=u?o-a*f:o,b=Ct(n,r,d*Math.cos(f*uf),y);return{center:g,circleTangency:v,lineTangency:b,theta:f}},MI=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=FQ(a,s),u=a+l,d=Ct(n,r,o,a),f=Ct(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=Ct(n,r,i,a),v=Ct(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},BQ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Zn(d-u),h=bc({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,y=h.theta,b=bc({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),x=b.circleTangency,w=b.lineTangency,_=b.theta,E=l?Math.abs(u-d):Math.abs(u-d)-y-_;if(E<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):MI({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var T=bc({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=T.circleTangency,A=T.lineTangency,C=T.theta,j=bc({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=j.circleTangency,M=j.lineTangency,U=j.theta,$=l?Math.abs(u-d):Math.abs(u-d)-C-U;if($<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},qQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$I=function(e){var n=s1(s1({},qQ),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var g=Ae("recharts-sector",h),v=a-o,y=mo(s,v,0,!0),b;return y>0&&Math.abs(d-f)<360?b=BQ({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):b=MI({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),L.createElement("path",yy({},Te(n,!0),{className:g,d:b,role:"img"}))};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function vy(){return vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vy.apply(this,arguments)}function l1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l1(Object(n),!0).forEach(function(r){VQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VQ(t,e,n){return e=GQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=HQ(t,"string");return iu(e)=="symbol"?e:e+""}function HQ(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c1={curveBasisClosed:VB,curveBasisOpen:GB,curveBasis:qB,curveBumpX:AB,curveBumpY:CB,curveLinearClosed:HB,curveLinear:Ch,curveMonotoneX:zB,curveMonotoneY:WB,curveNatural:KB,curveStep:JB,curveStepAfter:XB,curveStepBefore:YB},wc=function(e){return e.x===+e.x&&e.y===+e.y},$s=function(e){return e.x},Ds=function(e){return e.y},zQ=function(e,n){if(xe(e))return e;var r="curve".concat(Nh(e));return(r==="curveMonotone"||r==="curveBump")&&n?c1["".concat(r).concat(n==="vertical"?"Y":"X")]:c1[r]||Ch},WQ=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=zQ(r,s),f=u?o.filter(function(y){return wc(y)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(y){return wc(y)}):a,v=f.map(function(y,b){return u1(u1({},y),{},{base:g[b]})});return s==="vertical"?h=dc().y(Ds).x1($s).x0(function(y){return y.base.x}):h=dc().x($s).y1(Ds).y0(function(y){return y.base.y}),h.defined(wc).curve(d),h(v)}return s==="vertical"&&ee(a)?h=dc().y(Ds).x1($s).x0(a):ee(a)?h=dc().x($s).y1(Ds).y0(a):h=$C().x($s).y(Ds),h.defined(wc).curve(d),h(f)},xy=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?WQ(e):i;return N.createElement("path",vy({},Te(e,!1),jd(e),{className:Ae("recharts-curve",n),d:a,ref:o}))},DI={exports:{}},KQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JQ=KQ,YQ=JQ;function LI(){}function UI(){}UI.resetWarningCache=LI;var XQ=function(){function t(r,i,o,a,s,l){if(l!==YQ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UI,resetWarningCache:LI};return n.PropTypes=n,n};DI.exports=XQ();var QQ=DI.exports;const je=Le(QQ),{getOwnPropertyNames:ZQ,getOwnPropertySymbols:eZ}=Object,{hasOwnProperty:tZ}=Object.prototype;function cm(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function _c(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function nZ(t){return t!=null?t[Symbol.toStringTag]:void 0}function d1(t){return ZQ(t).concat(eZ(t))}const rZ=Object.hasOwn||((t,e)=>tZ.call(t,e));function Ao(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const iZ="__v",oZ="__o",aZ="_owner",{getOwnPropertyDescriptor:f1,keys:h1}=Object;function sZ(t,e){return t.byteLength===e.byteLength&&df(new Uint8Array(t),new Uint8Array(e))}function lZ(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function uZ(t,e){return t.byteLength===e.byteLength&&df(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function cZ(t,e){return Ao(t.getTime(),e.getTime())}function dZ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function fZ(t,e){return t===e}function p1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let d=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,g=s.value;if(n.equals(h[0],g[0],l,f,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}const hZ=Ao;function pZ(t,e,n){const r=h1(t);let i=r.length;if(h1(e).length!==i)return!1;for(;i-- >0;)if(!FI(t,e,n,r[i]))return!1;return!0}function Ls(t,e,n){const r=d1(t);let i=r.length;if(d1(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!FI(t,e,n,o)||(a=f1(t,o),s=f1(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function mZ(t,e){return Ao(t.valueOf(),e.valueOf())}function gZ(t,e){return t.source===e.source&&t.flags===e.flags}function m1(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,d=0;for(;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function df(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function yZ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function FI(t,e,n,r){return(r===aZ||r===oZ||r===iZ)&&(t.$$typeof||e.$$typeof)?!0:rZ(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const vZ="[object ArrayBuffer]",xZ="[object Arguments]",bZ="[object Boolean]",wZ="[object DataView]",_Z="[object Date]",SZ="[object Error]",EZ="[object Map]",TZ="[object Number]",kZ="[object Object]",NZ="[object RegExp]",AZ="[object Set]",CZ="[object String]",PZ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},IZ="[object URL]",jZ=Object.prototype.toString;function OZ({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:g,unknownTagComparators:v}){return function(b,x,w){if(b===x)return!0;if(b==null||x==null)return!1;const _=typeof b;if(_!==typeof x)return!1;if(_!=="object")return _==="number"?s(b,x,w):_==="function"?o(b,x,w):!1;const E=b.constructor;if(E!==x.constructor)return!1;if(E===Object)return l(b,x,w);if(Array.isArray(b))return e(b,x,w);if(E===Date)return r(b,x,w);if(E===RegExp)return d(b,x,w);if(E===Map)return a(b,x,w);if(E===Set)return f(b,x,w);const S=jZ.call(b);if(S===_Z)return r(b,x,w);if(S===NZ)return d(b,x,w);if(S===EZ)return a(b,x,w);if(S===AZ)return f(b,x,w);if(S===kZ)return typeof b.then!="function"&&typeof x.then!="function"&&l(b,x,w);if(S===IZ)return g(b,x,w);if(S===SZ)return i(b,x,w);if(S===xZ)return l(b,x,w);if(PZ[S])return h(b,x,w);if(S===vZ)return t(b,x,w);if(S===wZ)return n(b,x,w);if(S===bZ||S===TZ||S===CZ)return u(b,x,w);if(v){let T=v[S];if(!T){const k=nZ(b);k&&(T=v[k])}if(T)return T(b,x,w)}return!1}}function RZ({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:sZ,areArraysEqual:n?Ls:lZ,areDataViewsEqual:uZ,areDatesEqual:cZ,areErrorsEqual:dZ,areFunctionsEqual:fZ,areMapsEqual:n?cm(p1,Ls):p1,areNumbersEqual:hZ,areObjectsEqual:n?Ls:pZ,arePrimitiveWrappersEqual:mZ,areRegExpsEqual:gZ,areSetsEqual:n?cm(m1,Ls):m1,areTypedArraysEqual:n?cm(df,Ls):df,areUrlsEqual:yZ,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=_c(r.areArraysEqual),o=_c(r.areMapsEqual),a=_c(r.areObjectsEqual),s=_c(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function MZ(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function $Z({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(s,l,{cache:u,equals:r,meta:d,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const DZ=ji();ji({strict:!0});ji({circular:!0});ji({circular:!0,strict:!0});ji({createInternalComparator:()=>Ao});ji({strict:!0,createInternalComparator:()=>Ao});ji({circular:!0,createInternalComparator:()=>Ao});ji({circular:!0,createInternalComparator:()=>Ao,strict:!0});function ji(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=RZ(t),a=OZ(o),s=n?n(a):MZ(a);return $Z({circular:e,comparator:a,createState:r,equals:s,strict:i})}function LZ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function g1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):LZ(i)};requestAnimationFrame(r)}function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function UZ(t){return VZ(t)||qZ(t)||BZ(t)||FZ()}function FZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BZ(t,e){if(t){if(typeof t=="string")return y1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y1(t,e)}}function y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VZ(t){if(Array.isArray(t))return t}function GZ(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=UZ(a),l=s[0],u=s.slice(1);if(typeof l=="number"){g1(i.bind(null,u),l);return}i(l),g1(i.bind(null,u));return}by(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function v1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(n),!0).forEach(function(r){BI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BI(t,e,n){return e=HZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HZ(t){var e=zZ(t,"string");return ou(e)==="symbol"?e:String(e)}function zZ(t,e){if(ou(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WZ=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},KZ=function(e){return e},JZ=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},cl=function(e,n){return Object.keys(n).reduce(function(r,i){return x1(x1({},r),{},BI({},i,e(i,n[i])))},{})},b1=function(e,n,r){return e.map(function(i){return"".concat(JZ(i)," ").concat(n,"ms ").concat(r)}).join(",")};function YZ(t,e){return ZZ(t)||QZ(t,e)||qI(t,e)||XZ()}function XZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ZZ(t){if(Array.isArray(t))return t}function eee(t){return ree(t)||nee(t)||qI(t)||tee()}function tee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qI(t,e){if(t){if(typeof t=="string")return wy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wy(t,e)}}function nee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ree(t){if(Array.isArray(t))return wy(t)}function wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ff=1e-4,VI=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},GI=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},w1=function(e,n){return function(r){var i=VI(e,n);return GI(i,r)}},iee=function(e,n){return function(r){var i=VI(e,n),o=[].concat(eee(i.map(function(a,s){return a*s}).slice(1)),[0]);return GI(o,r)}},_1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=YZ(u,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=w1(i,a),h=w1(o,s),g=iee(i,a),v=function(x){return x>1?1:x<0?0:x},y=function(x){for(var w=x>1?1:x,_=w,E=0;E<8;++E){var S=f(_)-w,T=g(_);if(Math.abs(S-w)<ff||T<ff)return h(_);_=v(_-S/T)}return h(_)};return y.isStepper=!1,y},oee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,h){var g=-(d-f)*r,v=h*o,y=h+(g-v)*s/1e3,b=h*s/1e3+d;return Math.abs(b-f)<ff&&Math.abs(y)<ff?[f,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},aee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _1(i);case"spring":return oee();default:if(i.split("(")[0]==="cubic-bezier")return _1(i)}return typeof i=="function"?i:null};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function S1(t){return uee(t)||lee(t)||HI(t)||see()}function see(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uee(t){if(Array.isArray(t))return Sy(t)}function E1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E1(Object(n),!0).forEach(function(r){_y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _y(t,e,n){return e=cee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cee(t){var e=dee(t,"string");return au(e)==="symbol"?e:String(e)}function dee(t,e){if(au(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fee(t,e){return mee(t)||pee(t,e)||HI(t,e)||hee()}function hee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HI(t,e){if(t){if(typeof t=="string")return Sy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sy(t,e)}}function Sy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mee(t){if(Array.isArray(t))return t}var hf=function(e,n,r){return e+(n-e)*r},Ey=function(e){var n=e.from,r=e.to;return n!==r},gee=function t(e,n,r){var i=cl(function(o,a){if(Ey(a)){var s=e(a.from,a.to,a.velocity),l=fee(s,2),u=l[0],d=l[1];return Nt(Nt({},a),{},{from:u,velocity:d})}return a},n);return r<1?cl(function(o,a){return Ey(a)?Nt(Nt({},a),{},{velocity:hf(a.velocity,i[o].velocity,r),from:hf(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const yee=function(t,e,n,r,i){var o=WZ(t,e),a=o.reduce(function(b,x){return Nt(Nt({},b),{},_y({},x,[t[x],e[x]]))},{}),s=o.reduce(function(b,x){return Nt(Nt({},b),{},_y({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return cl(function(x,w){return w.from},s)},g=function(){return!Object.values(s).filter(Ey).length},v=function(x){u||(u=x);var w=x-u,_=w/n.dt;s=gee(n,s,_),i(Nt(Nt(Nt({},t),e),h())),u=x,g()||(l=requestAnimationFrame(f))},y=function(x){d||(d=x);var w=(x-d)/r,_=cl(function(S,T){return hf.apply(void 0,S1(T).concat([n(w)]))},a);if(i(Nt(Nt(Nt({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var E=cl(function(S,T){return hf.apply(void 0,S1(T).concat([n(1)]))},a);i(Nt(Nt(Nt({},t),e),E))}};return f=n.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}var vee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xee(t,e){if(t==null)return{};var n=bee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bee(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function dm(t){return Eee(t)||See(t)||_ee(t)||wee()}function wee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ee(t,e){if(t){if(typeof t=="string")return Ty(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ty(t,e)}}function See(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eee(t){if(Array.isArray(t))return Ty(t)}function Ty(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){Ws(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ws(t,e,n){return e=zI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zI(r.key),r)}}function Nee(t,e,n){return e&&kee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zI(t){var e=Aee(t,"string");return Ba(e)==="symbol"?e:String(e)}function Aee(t,e){if(Ba(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ky(t,e)}function ky(t,e){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ky(t,e)}function Pee(t){var e=Iee();return function(){var r=pf(t),i;if(e){var o=pf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ny(this,i)}}function Ny(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ay(t)}function Ay(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pf(t){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pf(t)}var Vr=function(t){Cee(n,t);var e=Pee(n);function n(r,i){var o;Tee(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Ay(o)),o.changeStyle=o.changeStyle.bind(Ay(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),Ny(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Ny(o);o.state={style:l?Ws({},l,u):u}}else o.state={style:{}};return o}return Nee(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var g={style:l?Ws({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(g);return}if(!(DZ(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?f:i.to;if(this.state&&h){var b={style:l?Ws({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(b)}this.runAnimation(Bn(Bn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=yee(a,s,aee(u),l,this.changeStyle),v=function(){o.stopJSAnimation=g()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,g=function(y,b,x){if(x===0)return y;var w=b.duration,_=b.easing,E=_===void 0?"ease":_,S=b.style,T=b.properties,k=b.onAnimationEnd,A=x>0?a[x-1]:b,C=T||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(dm(y),[o.runJSAnimation.bind(o,{from:A.style,to:S,duration:w,easing:E}),w]);var j=b1(C,w,E),R=Bn(Bn(Bn({},A.style),S),{},{transition:j});return[].concat(dm(y),[R,w,k]).filter(KZ)};return this.manager.start([l].concat(dm(a.reduce(g,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=GZ());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?Ws({},s,l):l,b=b1(Object.keys(y),a,u);v.start([d,o,Bn(Bn({},y),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=xee(i,vee),u=N.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||u===0||a<=0)return o;var f=function(g){var v=g.props,y=v.style,b=y===void 0?{}:y,x=v.className,w=N.cloneElement(g,Bn(Bn({},l),{},{style:Bn(Bn({},b),d),className:x}));return w};return u===1?f(N.Children.only(o)):L.createElement("div",null,N.Children.map(o,function(h){return f(h)}))}}]),n}(N.PureComponent);Vr.displayName="Animate";Vr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vr.propTypes={from:je.oneOfType([je.object,je.string]),to:je.oneOfType([je.object,je.string]),attributeName:je.string,duration:je.number,begin:je.number,easing:je.oneOfType([je.string,je.func]),steps:je.arrayOf(je.shape({duration:je.number.isRequired,style:je.object.isRequired,easing:je.oneOfType([je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),je.func]),properties:je.arrayOf("string"),onAnimationEnd:je.func})),children:je.oneOfType([je.node,je.func]),isActive:je.bool,canBegin:je.bool,onAnimationEnd:je.func,shouldReAnimate:je.bool,onAnimationStart:je.func,onAnimationReStart:je.func};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}function jee(t,e){return $ee(t)||Mee(t,e)||Ree(t,e)||Oee()}function Oee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ree(t,e){if(t){if(typeof t=="string")return k1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k1(t,e)}}function k1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function $ee(t){if(Array.isArray(t))return t}function N1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N1(Object(n),!0).forEach(function(r){Dee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dee(t,e,n){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=Uee(t,"string");return su(e)=="symbol"?e:e+""}function Uee(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C1=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);d="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Fee=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},Bee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},px=function(e){var n=A1(A1({},Bee),e),r=N.useRef(),i=N.useState(-1),o=jee(i,2),a=o[0],s=o[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=Ae("recharts-rectangle",g);return w?L.createElement(Vr,{canBegin:a>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:y,animationEasing:v,isActive:w},function(E){var S=E.width,T=E.height,k=E.x,A=E.y;return L.createElement(Vr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:x,easing:v},L.createElement("path",mf({},Te(n,!0),{className:_,d:C1(k,A,S,T,h),ref:r})))}):L.createElement("path",mf({},Te(n,!0),{className:_,d:C1(l,u,d,f,h)}))};function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}var mx=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ae("recharts-dot",o);return n===+n&&r===+r&&i===+i?N.createElement("circle",Cy({},Te(e,!1),jd(e),{className:a,cx:n,cy:r,r:i})):null};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}var qee=["x","y","top","left","width","height","className"];function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Py.apply(this,arguments)}function P1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(n),!0).forEach(function(r){Gee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gee(t,e,n){return e=Hee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hee(t){var e=zee(t,"string");return lu(e)=="symbol"?e:e+""}function zee(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wee(t,e){if(t==null)return{};var n=Kee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jee=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Yee=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,g=h===void 0?0:h,v=e.className,y=Wee(e,qee),b=Vee({x:r,y:o,top:s,left:u,width:f,height:g},y);return!ee(r)||!ee(o)||!ee(f)||!ee(g)||!ee(s)||!ee(u)?null:L.createElement("path",Py({},Te(b,!0),{className:Ae("recharts-cross",v),d:Jee(r,o,f,g,s,u)}))},Xee=aP,Qee=Xee(Object.getPrototypeOf,Object),Zee=Qee,ete=Wr,tte=Zee,nte=Kr,rte="[object Object]",ite=Function.prototype,ote=Object.prototype,WI=ite.toString,ate=ote.hasOwnProperty,ste=WI.call(Object);function lte(t){if(!nte(t)||ete(t)!=rte)return!1;var e=tte(t);if(e===null)return!0;var n=ate.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&WI.call(n)==ste}var ute=lte;const cte=Le(ute);var dte=Wr,fte=Kr,hte="[object Boolean]";function pte(t){return t===!0||t===!1||fte(t)&&dte(t)==hte}var mte=pte;const gte=Le(mte);function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}function yte(t,e){return wte(t)||bte(t,e)||xte(t,e)||vte()}function vte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xte(t,e){if(t){if(typeof t=="string")return I1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I1(t,e)}}function I1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function wte(t){if(Array.isArray(t))return t}function j1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j1(Object(n),!0).forEach(function(r){_te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _te(t,e,n){return e=Ste(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ste(t){var e=Ete(t,"string");return uu(e)=="symbol"?e:e+""}function Ete(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R1=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Tte={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kte=function(e){var n=O1(O1({},Tte),e),r=N.useRef(),i=N.useState(-1),o=yte(i,2),a=o[0],s=o[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,b=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Ae("recharts-trapezoid",g);return x?L.createElement(Vr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:v,isActive:x},function(_){var E=_.upperWidth,S=_.lowerWidth,T=_.height,k=_.x,A=_.y;return L.createElement(Vr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:v},L.createElement("path",gf({},Te(n,!0),{className:w,d:R1(k,A,E,S,T),ref:r})))}):L.createElement("g",null,L.createElement("path",gf({},Te(n,!0),{className:w,d:R1(l,u,d,f,h)})))},Nte=["option","shapeType","propTransformer","activeClassName","isActive"];function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function Ate(t,e){if(t==null)return{};var n=Cte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(n),!0).forEach(function(r){Pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pte(t,e,n){return e=Ite(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=jte(t,"string");return cu(e)=="symbol"?e:e+""}function jte(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ote(t,e){return yf(yf({},e),t)}function Rte(t,e){return t==="symbols"}function $1(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return L.createElement(px,n);case"trapezoid":return L.createElement(kte,n);case"sector":return L.createElement($I,n);case"symbols":if(Rte(e))return L.createElement(O0,n);break;default:return null}}function Mte(t){return N.isValidElement(t)?t.props:t}function $te(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Ote:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Ate(t,Nte),u;if(N.isValidElement(e))u=N.cloneElement(e,yf(yf({},l),Mte(e)));else if(xe(e))u=e(l);else if(cte(e)&&!gte(e)){var d=i(e,l);u=L.createElement($1,{shapeType:n,elementProps:d})}else{var f=l;u=L.createElement($1,{shapeType:n,elementProps:f})}return s?L.createElement(ot,{className:a},u):u}function Hh(t,e){return e!=null&&"trapezoids"in t.props}function zh(t,e){return e!=null&&"sectors"in t.props}function du(t,e){return e!=null&&"points"in t.props}function Dte(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Lte(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Ute(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Fte(t,e){var n;return Hh(t,e)?n=Dte:zh(t,e)?n=Lte:du(t,e)&&(n=Ute),n}function Bte(t,e){var n;return Hh(t,e)?n="trapezoids":zh(t,e)?n="sectors":du(t,e)&&(n="points"),n}function qte(t,e){if(Hh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(zh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return du(t,e)?e.payload:{}}function Vte(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Bte(n,e),o=qte(n,e),a=r.filter(function(l,u){var d=qh(o,l),f=n.props[i].filter(function(v){var y=Fte(n,e);return y(v,e)}),h=n.props[i].indexOf(f[f.length-1]),g=u===h;return d&&g}),s=r.indexOf(a[a.length-1]);return s}var Gte=Math.ceil,Hte=Math.max;function zte(t,e,n,r){for(var i=-1,o=Hte(Gte((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Wte=zte,Kte=TP,D1=1/0,Jte=17976931348623157e292;function Yte(t){if(!t)return t===0?t:0;if(t=Kte(t),t===D1||t===-D1){var e=t<0?-1:1;return e*Jte}return t===t?t:0}var KI=Yte,Xte=Wte,Qte=Oh,fm=KI;function Zte(t){return function(e,n,r){return r&&typeof r!="number"&&Qte(e,n,r)&&(n=r=void 0),e=fm(e),n===void 0?(n=e,e=0):n=fm(n),r=r===void 0?e<n?1:-1:fm(r),Xte(e,n,r,t)}}var ene=Zte,tne=ene,nne=tne(),rne=nne;const vf=Le(rne);function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function L1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(n),!0).forEach(function(r){JI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JI(t,e,n){return e=ine(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ine(t){var e=one(t,"string");return fu(e)=="symbol"?e:e+""}function one(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ane=["Webkit","Moz","O","ms"],sne=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=ane.reduce(function(o,a){return U1(U1({},o),{},JI({},a+r,n))},{});return i[e]=n,i};function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xf.apply(this,arguments)}function F1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F1(Object(n),!0).forEach(function(r){sn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XI(r.key),r)}}function une(t,e,n){return e&&B1(t.prototype,e),n&&B1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cne(t,e,n){return e=bf(e),dne(t,YI()?Reflect.construct(e,n||[],bf(t).constructor):e.apply(t,n))}function dne(t,e){if(e&&(qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fne(t)}function fne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YI=function(){return!!t})()}function bf(t){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bf(t)}function hne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iy(t,e)}function Iy(t,e){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iy(t,e)}function sn(t,e,n){return e=XI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XI(t){var e=pne(t,"string");return qa(e)=="symbol"?e:e+""}function pne(t,e){if(qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mne=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=ll().domain(vf(0,l)).range([o,o+a-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},q1=function(e){return e.changedTouches&&!!e.changedTouches.length},Va=function(t){function e(n){var r;return lne(this,e),r=cne(this,e,[n]),sn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),sn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),sn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),sn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),sn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),sn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),sn(r,"handleSlideDragStart",function(i){var o=q1(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return hne(e,t),une(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,f),v=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=gn(o[r],s,r);return xe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+d-f-s,u+d-f-a):y<0&&(y=Math.max(y,u-a,u-s));var b=this.getIndex({startX:a+y,endX:s+y});(b.startIndex!==h||b.endIndex!==g)&&v&&v(b),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=q1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,g=d.travellerWidth,v=d.onChange,y=d.gap,b=d.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-g-u):w<0&&(w=Math.max(w,f-u)),x[a]=u+w;var _=this.getIndex(x),E=_.startIndex,S=_.endIndex,T=function(){var A=b.length-1;return a==="startX"&&(s>l?E%y===0:S%y===0)||s<l&&S===A||a==="endX"&&(s>l?S%y===0:E%y===0)||s>l&&S===A};this.setState(sn(sn({},a,u+w),"brushMoveStartX",r.pageX),function(){v&&T()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(sn({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return L.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,d=r.padding,f=N.Children.only(u);return f?L.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,y=l.startIndex,b=l.endIndex,x=Math.max(r,this.props.x),w=hm(hm({},Te(this.props,!1)),{},{x,y:u,width:d,height:f}),_=g||"Min value: ".concat((o=v[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[b])===null||a===void 0?void 0:a.name);return L.createElement(ot,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,g=5,v={pointerEvents:"none",fill:u};return L.createElement(ot,{className:"recharts-brush-texts"},L.createElement(Wd,xf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:a+s/2},v),this.getTextOfTick(i)),L.createElement(Wd,xf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+g,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,y=h.isTextActive,b=h.isSlideMoving,x=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ee(s)||!ee(l)||!ee(u)||!ee(d)||u<=0||d<=0)return null;var _=Ae("recharts-brush",o),E=L.Children.count(a)===1,S=sne("userSelect","none");return L.createElement(ot,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||b||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),L.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return L.isValidElement(r)?o=L.cloneElement(r,i):xe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return hm({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?mne({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(N.PureComponent);sn(Va,"displayName","Brush");sn(Va,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var gne=F0;function yne(t,e){var n;return gne(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var vne=yne,xne=QC,bne=Ci,wne=vne,_ne=rn,Sne=Oh;function Ene(t,e,n){var r=_ne(t)?xne:wne;return n&&Sne(t,e,n)&&(e=void 0),r(t,bne(e))}var Tne=Ene;const kne=Le(Tne);var mr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},V1=bP;function Nne(t,e,n){e=="__proto__"&&V1?V1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Ane=Nne,Cne=Ane,Pne=vP,Ine=Ci;function jne(t,e){var n={};return e=Ine(e),Pne(t,function(r,i,o){Cne(n,i,e(r,i,o))}),n}var One=jne;const Rne=Le(One);function Mne(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var $ne=Mne,Dne=F0;function Lne(t,e){var n=!0;return Dne(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Une=Lne,Fne=$ne,Bne=Une,qne=Ci,Vne=rn,Gne=Oh;function Hne(t,e,n){var r=Vne(t)?Fne:Bne;return n&&Gne(t,e,n)&&(e=void 0),r(t,qne(e))}var zne=Hne;const QI=Le(zne);var Wne=["x","y"];function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jy.apply(this,arguments)}function G1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(n),!0).forEach(function(r){Kne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kne(t,e,n){return e=Jne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jne(t){var e=Yne(t,"string");return hu(e)=="symbol"?e:e+""}function Yne(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xne(t,e){if(t==null)return{};var n=Qne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zne(t,e){var n=t.x,r=t.y,i=Xne(t,Wne),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Us(Us(Us(Us(Us({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function H1(t){return L.createElement($te,jy({shapeType:"rectangle",propTransformer:Zne,activeClassName:"recharts-active-bar"},t))}var ere=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ee(r)||hF(r);return o?e(r,i):(o||yo(),n)}},tre=["value","background"],ZI;function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function nre(t,e){if(t==null)return{};var n=rre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wf.apply(this,arguments)}function z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(n),!0).forEach(function(r){di(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ire(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t2(r.key),r)}}function ore(t,e,n){return e&&W1(t.prototype,e),n&&W1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function are(t,e,n){return e=_f(e),sre(t,e2()?Reflect.construct(e,n||[],_f(t).constructor):e.apply(t,n))}function sre(t,e){if(e&&(Ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lre(t)}function lre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e2=function(){return!!t})()}function _f(t){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_f(t)}function ure(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oy(t,e)}function Oy(t,e){return Oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Oy(t,e)}function di(t,e,n){return e=t2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t2(t){var e=cre(t,"string");return Ga(e)=="symbol"?e:e+""}function cre(t,e){if(Ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oi=function(t){function e(){var n;ire(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=are(this,e,[].concat(i)),di(n,"state",{isAnimationFinished:!1}),di(n,"id",Iu("recharts-bar-")),di(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),di(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return ure(e,t),ore(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,d=Te(this.props,!1);return r&&r.map(function(f,h){var g=h===l,v=g?u:a,y=lt(lt(lt({},d),f),{},{isActive:g,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(ot,wf({className:"recharts-bar-rectangle"},Od(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),L.createElement(H1,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return L.createElement(Vr,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=o.map(function(b,x){var w=h&&h[x];if(w){var _=Xn(w.x,b.x),E=Xn(w.y,b.y),S=Xn(w.width,b.width),T=Xn(w.height,b.height);return lt(lt({},b),{},{x:_(v),y:E(v),width:S(v),height:T(v)})}if(a==="horizontal"){var k=Xn(0,b.height),A=k(v);return lt(lt({},b),{},{y:b.y+b.height-A,height:A})}var C=Xn(0,b.width),j=C(v);return lt(lt({},b),{},{width:j})});return L.createElement(ot,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!qh(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Te(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=nre(u,tre);if(!f)return null;var g=lt(lt(lt(lt(lt({},h),{},{fill:"#eee"},f),l),Od(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(H1,wf({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=Pn(d,Du);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(b,x){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:gn(b,x)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return L.createElement(ot,v,f.map(function(y){return L.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=Ae("recharts-bar",a),w=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,E=w||_,S=we(y)?this.id:y;return L.createElement(ot,{className:x},w||_?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(S)},L.createElement("rect",{x:w?u:u-f/2,y:_?d:d-h/2,width:w?f:f*2,height:_?h:h*2}))):null,L.createElement(ot,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!g||b)&&_i.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(N.PureComponent);ZI=Oi;di(Oi,"displayName","Bar");di(Oi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ps.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});di(Oi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,g=$X(r,n);if(!g)return null;var v=e.layout,y=n.type.defaultProps,b=y!==void 0?lt(lt({},y),n.props):n.props,x=b.dataKey,w=b.children,_=b.minPointSize,E=v==="horizontal"?a:o,S=u?E.scale.domain():null,T=GX({numericAxis:E}),k=Pn(w,NP),A=f.map(function(C,j){var R,M,U,$,P,O;u?R=DX(u[d+j],S):(R=gn(C,x),Array.isArray(R)||(R=[T,R]));var F=ere(_,ZI.defaultProps.minPointSize)(R[1],j);if(v==="horizontal"){var D,B=[a.scale(R[0]),a.scale(R[1])],V=B[0],Q=B[1];M=JS({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:C,index:j}),U=(D=Q??V)!==null&&D!==void 0?D:void 0,$=g.size;var H=V-Q;if(P=Number.isNaN(H)?0:H,O={x:M,y:a.y,width:$,height:a.height},Math.abs(F)>0&&Math.abs(P)<Math.abs(F)){var ae=Zn(P||F)*(Math.abs(F)-Math.abs(P));U-=ae,P+=ae}}else{var ve=[o.scale(R[0]),o.scale(R[1])],be=ve[0],ke=ve[1];if(M=be,U=JS({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:C,index:j}),$=ke-be,P=g.size,O={x:o.x,y:U,width:o.width,height:P},Math.abs(F)>0&&Math.abs($)<Math.abs(F)){var Se=Zn($||F)*(Math.abs(F)-Math.abs($));$+=Se}}return lt(lt(lt({},C),{},{x:M,y:U,width:$,height:P,value:u?R:R[1],payload:C,background:O},k&&k[j]&&k[j].props),{},{tooltipPayload:[OI(n,C)],tooltipPosition:{x:M+$/2,y:U+P/2}})});return lt({data:A,layout:v},h)});function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function dre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n2(r.key),r)}}function fre(t,e,n){return e&&K1(t.prototype,e),n&&K1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function J1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(n),!0).forEach(function(r){Wh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wh(t,e,n){return e=n2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n2(t){var e=hre(t,"string");return pu(e)=="symbol"?e:e+""}function hre(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r2=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!un(u,Oi);return d.reduce(function(g,v){var y=n[v],b=y.orientation,x=y.domain,w=y.padding,_=w===void 0?{}:w,E=y.mirror,S=y.reversed,T="".concat(b).concat(E?"Mirror":""),k,A,C,j,R;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var M=x[1]-x[0],U=1/0,$=y.categoricalDomain.sort(gF);if($.forEach(function(ve,be){be>0&&(U=Math.min((ve||0)-($[be-1]||0),U))}),Number.isFinite(U)){var P=U/M,O=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(k=P*O/2),y.padding==="no-gap"){var F=mo(e.barCategoryGap,P*O),D=P*O/2;k=D-F-(D-F)/O*F}}}i==="xAxis"?A=[r.left+(_.left||0)+(k||0),r.left+r.width-(_.right||0)-(k||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(k||0),r.top+r.height-(_.bottom||0)-(k||0)]:A=y.range,S&&(A=[A[1],A[0]]);var B=RX(y,o,h),V=B.scale,Q=B.realScaleType;V.domain(x).range(A),MX(V);var H=VX(V,Wn(Wn({},y),{},{realScaleType:Q}));i==="xAxis"?(R=b==="top"&&!E||b==="bottom"&&E,C=r.left,j=f[T]-R*y.height):i==="yAxis"&&(R=b==="left"&&!E||b==="right"&&E,C=f[T]-R*y.width,j=r.top);var ae=Wn(Wn(Wn({},y),H),{},{realScaleType:Q,x:C,y:j,scale:V,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ae.bandSize=lf(ae,H),!y.hide&&i==="xAxis"?f[T]+=(R?-1:1)*ae.height:y.hide||(f[T]+=(R?-1:1)*ae.width),Wn(Wn({},g),{},Wh({},v,ae))},{})},i2=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},pre=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return i2({x:n,y:r},{x:i,y:o})},o2=function(){function t(e){dre(this,t),this.scale=e}return fre(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Wh(o2,"EPS",1e-4);var gx=function(e){var n=Object.keys(e).reduce(function(r,i){return Wn(Wn({},r),{},Wh({},i,o2.create(e[i])))},{});return Wn(Wn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Rne(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return QI(i,function(o,a){return n[a].isInRange(o)})}})};function mre(t){return(t%180+180)%180}var gre=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=mre(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},yre=Ci,vre=ju,xre=Ih;function bre(t){return function(e,n,r){var i=Object(e);if(!vre(e)){var o=yre(n);e=xre(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var wre=bre,_re=KI;function Sre(t){var e=_re(t),n=e%1;return e===e?n?e-n:e:0}var Ere=Sre,Tre=fP,kre=Ci,Nre=Ere,Are=Math.max;function Cre(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Nre(n);return i<0&&(i=Are(r+i,0)),Tre(t,kre(e),i)}var Pre=Cre,Ire=wre,jre=Pre,Ore=Ire(jre),Rre=Ore;const Mre=Le(Rre);var $re=x5(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),yx=N.createContext(void 0),vx=N.createContext(void 0),a2=N.createContext(void 0),s2=N.createContext({}),l2=N.createContext(void 0),u2=N.createContext(0),c2=N.createContext(0),Y1=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,d=$re(o);return L.createElement(yx.Provider,{value:r},L.createElement(vx.Provider,{value:i},L.createElement(s2.Provider,{value:o},L.createElement(a2.Provider,{value:d},L.createElement(l2.Provider,{value:a},L.createElement(u2.Provider,{value:u},L.createElement(c2.Provider,{value:l},s)))))))},Dre=function(){return N.useContext(l2)},d2=function(e){var n=N.useContext(yx);n==null&&yo();var r=n[e];return r==null&&yo(),r},Lre=function(){var e=N.useContext(yx);return si(e)},Ure=function(){var e=N.useContext(vx),n=Mre(e,function(r){return QI(r.domain,Number.isFinite)});return n||si(e)},f2=function(e){var n=N.useContext(vx);n==null&&yo();var r=n[e];return r==null&&yo(),r},Fre=function(){var e=N.useContext(a2);return e},Bre=function(){return N.useContext(s2)},xx=function(){return N.useContext(c2)},bx=function(){return N.useContext(u2)};function Ha(t){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(t)}function qre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p2(r.key),r)}}function Gre(t,e,n){return e&&Vre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hre(t,e,n){return e=Sf(e),zre(t,h2()?Reflect.construct(e,n||[],Sf(t).constructor):e.apply(t,n))}function zre(t,e){if(e&&(Ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wre(t)}function Wre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h2=function(){return!!t})()}function Sf(t){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sf(t)}function Kre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ry(t,e)}function Ry(t,e){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ry(t,e)}function X1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(n),!0).forEach(function(r){wx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wx(t,e,n){return e=p2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p2(t){var e=Jre(t,"string");return Ha(e)=="symbol"?e:e+""}function Jre(t,e){if(Ha(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Yre(t,e){return eie(t)||Zre(t,e)||Qre(t,e)||Xre()}function Xre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qre(t,e){if(t){if(typeof t=="string")return Z1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z1(t,e)}}function Z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function eie(t){if(Array.isArray(t))return t}function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}var tie=function(e,n){var r;return L.isValidElement(e)?r=L.cloneElement(e,n):xe(e)?r=e(n):r=L.createElement("line",My({},n,{className:"recharts-reference-line-line"})),r},nie=function(e,n,r,i,o,a,s,l,u){var d=o.x,f=o.y,h=o.width,g=o.height;if(r){var v=u.y,y=e.y.apply(v,{position:a});if(mr(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:d+h,y},{x:d,y}];return l==="left"?b.reverse():b}if(n){var x=u.x,w=e.x.apply(x,{position:a});if(mr(u,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+g},{x:w,y:f}];return s==="top"?_.reverse():_}if(i){var E=u.segment,S=E.map(function(T){return e.apply(T,{position:a})});return mr(u,"discard")&&kne(S,function(T){return!e.isInRange(T)})?null:S}return null};function rie(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Dre(),d=d2(i),f=f2(o),h=Fre();if(!u||!h)return null;Rr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=gx({x:d.scale,y:f.scale}),v=vt(e),y=vt(n),b=r&&r.length===2,x=nie(g,v,y,b,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var w=Yre(x,2),_=w[0],E=_.x,S=_.y,T=w[1],k=T.x,A=T.y,C=mr(t,"hidden")?"url(#".concat(u,")"):void 0,j=Q1(Q1({clipPath:C},Te(t,!0)),{},{x1:E,y1:S,x2:k,y2:A});return L.createElement(ot,{className:Ae("recharts-reference-line",s)},tie(a,j),$t.renderCallByParent(t,pre({x1:E,y1:S,x2:k,y2:A})))}var _x=function(t){function e(){return qre(this,e),Hre(this,e,arguments)}return Kre(e,t),Gre(e,[{key:"render",value:function(){return L.createElement(rie,this.props)}}])}(L.Component);wx(_x,"displayName","ReferenceLine");wx(_x,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(this,arguments)}function za(t){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(t)}function eE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(n),!0).forEach(function(r){Kh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g2(r.key),r)}}function aie(t,e,n){return e&&oie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sie(t,e,n){return e=Ef(e),lie(t,m2()?Reflect.construct(e,n||[],Ef(t).constructor):e.apply(t,n))}function lie(t,e){if(e&&(za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uie(t)}function uie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m2=function(){return!!t})()}function Ef(t){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ef(t)}function cie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dy(t,e)}function Dy(t,e){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dy(t,e)}function Kh(t,e,n){return e=g2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g2(t){var e=die(t,"string");return za(e)=="symbol"?e:e+""}function die(t,e){if(za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fie=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=gx({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return mr(e,"discard")&&!a.isInRange(s)?null:s},Jh=function(t){function e(){return iie(this,e),sie(this,e,arguments)}return cie(e,t),aie(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=vt(i),d=vt(o);if(Rr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=fie(this.props);if(!f)return null;var h=f.x,g=f.y,v=this.props,y=v.shape,b=v.className,x=mr(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=tE(tE({clipPath:x},Te(this.props,!0)),{},{cx:h,cy:g});return L.createElement(ot,{className:Ae("recharts-reference-dot",b)},e.renderDot(y,w),$t.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(L.Component);Kh(Jh,"displayName","ReferenceDot");Kh(Jh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Kh(Jh,"renderDot",function(t,e){var n;return L.isValidElement(t)?n=L.cloneElement(t,e):xe(t)?n=t(e):n=L.createElement(mx,$y({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(this,arguments)}function Wa(t){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(t)}function nE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(n),!0).forEach(function(r){Yh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v2(r.key),r)}}function mie(t,e,n){return e&&pie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gie(t,e,n){return e=Tf(e),yie(t,y2()?Reflect.construct(e,n||[],Tf(t).constructor):e.apply(t,n))}function yie(t,e){if(e&&(Wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vie(t)}function vie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y2=function(){return!!t})()}function Tf(t){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tf(t)}function xie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uy(t,e)}function Uy(t,e){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uy(t,e)}function Yh(t,e,n){return e=v2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v2(t){var e=bie(t,"string");return Wa(e)=="symbol"?e:e+""}function bie(t,e){if(Wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wie=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=gx({x:d.scale,y:f.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return mr(o,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:i2(g,v)},Xh=function(t){function e(){return hie(this,e),gie(this,e,arguments)}return xie(e,t),mie(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;Rr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=vt(i),h=vt(o),g=vt(a),v=vt(s),y=this.props.shape;if(!f&&!h&&!g&&!v&&!y)return null;var b=wie(f,h,g,v,this.props);if(!b&&!y)return null;var x=mr(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(ot,{className:Ae("recharts-reference-area",l)},e.renderRect(y,rE(rE({clipPath:x},Te(this.props,!0)),b)),$t.renderCallByParent(this.props,b))}}])}(L.Component);Yh(Xh,"displayName","ReferenceArea");Yh(Xh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yh(Xh,"renderRect",function(t,e){var n;return L.isValidElement(t)?n=L.cloneElement(t,e):xe(t)?n=t(e):n=L.createElement(px,Ly({},e,{className:"recharts-reference-area-rect"})),n});function x2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function _ie(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return gre(r,n)}function Sie(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function kf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Eie(t,e){return x2(t,e+1)}function Tie(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,d=a,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:x2(r,u)};var y=l,b,x=function(){return b===void 0&&(b=n(v,y)),b},w=v.coordinate,_=l===0||kf(t,w,x,d,s);_||(l=0,d=a,u+=1),_&&(d=w+t*(x()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function iE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(n),!0).forEach(function(r){kie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kie(t,e,n){return e=Nie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nie(t){var e=Aie(t,"string");return mu(e)=="symbol"?e:e+""}function Aie(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cie(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var g=o[h],v,y=function(){return v===void 0&&(v=n(g,h)),v};if(h===a-1){var b=t*(g.coordinate+t*y()/2-l);o[h]=g=Rt(Rt({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else o[h]=g=Rt(Rt({},g),{},{tickCoord:g.coordinate});var x=kf(t,g.tickCoord,y,s,l);x&&(l=g.tickCoord-t*(y()/2+i),o[h]=Rt(Rt({},g),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return o}function Pie(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-u);a[s-1]=d=Rt(Rt({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var g=kf(t,d.tickCoord,function(){return f},l,u);g&&(u=d.tickCoord-t*(f/2+i),a[s-1]=Rt(Rt({},d),{},{isShow:!0}))}for(var v=o?s-1:s,y=function(w){var _=a[w],E,S=function(){return E===void 0&&(E=n(_,w)),E};if(w===0){var T=t*(_.coordinate-t*S()/2-l);a[w]=_=Rt(Rt({},_),{},{tickCoord:T<0?_.coordinate-T*t:_.coordinate})}else a[w]=_=Rt(Rt({},_),{},{tickCoord:_.coordinate});var k=kf(t,_.tickCoord,S,l,u);k&&(l=_.tickCoord+t*(S()/2+i),a[w]=Rt(Rt({},_),{},{isShow:!0}))},b=0;b<v;b++)y(b);return a}function Sx(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ee(l)||ps.isSsr)return Eie(i,typeof l=="number"&&ee(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",v=d&&g==="width"?sl(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,E){var S=xe(u)?u(_.value,E):_.value;return g==="width"?_ie(sl(S,{fontSize:e,letterSpacing:n}),v,f):sl(S,{fontSize:e,letterSpacing:n})[g]},b=i.length>=2?Zn(i[1].coordinate-i[0].coordinate):1,x=Sie(o,b,g);return l==="equidistantPreserveStart"?Tie(b,x,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Pie(b,x,y,i,a,l==="preserveStartEnd"):h=Cie(b,x,y,i,a),h.filter(function(w){return w.isShow}))}var Iie=["viewBox"],jie=["viewBox"],Oie=["ticks"];function Ka(t){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(t)}function la(){return la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},la.apply(this,arguments)}function oE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(n),!0).forEach(function(r){Ex(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pm(t,e){if(t==null)return{};var n=Rie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w2(r.key),r)}}function $ie(t,e,n){return e&&aE(t.prototype,e),n&&aE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Die(t,e,n){return e=Nf(e),Lie(t,b2()?Reflect.construct(e,n||[],Nf(t).constructor):e.apply(t,n))}function Lie(t,e){if(e&&(Ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uie(t)}function Uie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b2=function(){return!!t})()}function Nf(t){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(t)}function Fie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fy(t,e)}function Fy(t,e){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fy(t,e)}function Ex(t,e,n){return e=w2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2(t){var e=Bie(t,"string");return Ka(e)=="symbol"?e:e+""}function Bie(t,e){if(Ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vs=function(t){function e(n){var r;return Mie(this,e),r=Die(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Fie(e,t),$ie(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=pm(r,Iie),s=this.props,l=s.viewBox,u=pm(s,jie);return!xa(o,l)||!xa(a,u)||!xa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,g,v,y,b,x,w,_=f?-1:1,E=r.tickSize||d,S=ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,b=a+ +!f*l,y=b-_*E,w=y-_*h,x=S;break;case"left":y=b=r.coordinate,v=o+ +!f*s,g=v-_*E,x=g-_*h,w=S;break;case"right":y=b=r.coordinate,v=o+ +f*s,g=v+_*E,x=g+_*h,w=S;break;default:g=v=r.coordinate,b=a+ +f*l,y=b+_*E,w=y+_*h,x=S;break}return{line:{x1:g,y1:y,x2:v,y2:b},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=ht(ht(ht({},Te(this.props,!1)),Te(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=ht(ht({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);f=ht(ht({},f),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return L.createElement("line",la({},f,{className:Ae("recharts-cartesian-axis-line",Cn(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,g=Sx(ht(ht({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=Te(this.props,!1),x=Te(d,!1),w=ht(ht({},b),{},{fill:"none"},Te(l,!1)),_=g.map(function(E,S){var T=a.getTickLineCoord(E),k=T.line,A=T.tick,C=ht(ht(ht(ht({textAnchor:v,verticalAnchor:y},b),{},{stroke:"none",fill:u},x),A),{},{index:S,payload:E,visibleTicksCount:g.length,tickFormatter:f});return L.createElement(ot,la({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Od(a.props,E,S)),l&&L.createElement("line",la({},w,k,{className:Ae("recharts-cartesian-axis-tick-line",Cn(l,"className"))})),d&&e.renderTickItem(d,C,"".concat(xe(f)?f(E.value,S):E.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,g=pm(f,Oie),v=h;return xe(l)&&(v=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!v||!v.length?null:L.createElement(ot,{className:Ae("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),$t.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Ae(i.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(r)?a=L.cloneElement(r,ht(ht({},i),{},{className:s})):xe(r)?a=r(ht(ht({},i),{},{className:s})):a=L.createElement(Wd,la({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(N.Component);Ex(vs,"displayName","CartesianAxis");Ex(vs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qie=["x1","y1","x2","y2","key"],Vie=["offset"];function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}function sE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(n),!0).forEach(function(r){Gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gie(t,e,n){return e=Hie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=zie(t,"string");return vo(e)=="symbol"?e:e+""}function zie(t,e){if(vo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},no.apply(this,arguments)}function lE(t,e){if(t==null)return{};var n=Wie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Kie=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return L.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _2(t,e){var n;if(L.isValidElement(t))n=L.cloneElement(t,e);else if(xe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=lE(e,qie),u=Te(l,!1);u.offset;var d=lE(u,Vie);n=L.createElement("line",no({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Jie(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Dt(Dt({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return _2(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Yie(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=Dt(Dt({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return _2(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Xie(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var v=!d[g+1],y=v?i+a-h:d[g+1]-h;if(y<=0)return null;var b=g%e.length;return L.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:y,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Qie(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==d[0]&&d.unshift(0);var f=d.map(function(h,g){var v=!d[g+1],y=v?o+s-h:d[g+1]-h;if(y<=0)return null;var b=g%r.length;return L.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Zie=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return II(Sx(Dt(Dt(Dt({},vs.defaultProps),r),{},{ticks:Cr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},eoe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return II(Sx(Dt(Dt(Dt({},vs.defaultProps),r),{},{ticks:Cr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},qo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Af(t){var e,n,r,i,o,a,s=xx(),l=bx(),u=Bre(),d=Dt(Dt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:qo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:qo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:qo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:qo.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:qo.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:qo.verticalFill,x:ee(t.x)?t.x:u.left,y:ee(t.y)?t.y:u.top,width:ee(t.width)?t.width:u.width,height:ee(t.height)?t.height:u.height}),f=d.x,h=d.y,g=d.width,v=d.height,y=d.syncWithTicks,b=d.horizontalValues,x=d.verticalValues,w=Lre(),_=Ure();if(!ee(g)||g<=0||!ee(v)||v<=0||!ee(f)||f!==+f||!ee(h)||h!==+h)return null;var E=d.verticalCoordinatesGenerator||Zie,S=d.horizontalCoordinatesGenerator||eoe,T=d.horizontalPoints,k=d.verticalPoints;if((!T||!T.length)&&xe(S)){var A=b&&b.length,C=S({yAxis:_?Dt(Dt({},_),{},{ticks:A?b:_.ticks}):void 0,width:s,height:l,offset:u},A?!0:y);Rr(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vo(C),"]")),Array.isArray(C)&&(T=C)}if((!k||!k.length)&&xe(E)){var j=x&&x.length,R=E({xAxis:w?Dt(Dt({},w),{},{ticks:j?x:w.ticks}):void 0,width:s,height:l,offset:u},j?!0:y);Rr(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vo(R),"]")),Array.isArray(R)&&(k=R)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(Kie,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(Jie,no({},d,{offset:u,horizontalPoints:T,xAxis:w,yAxis:_})),L.createElement(Yie,no({},d,{offset:u,verticalPoints:k,xAxis:w,yAxis:_})),L.createElement(Xie,no({},d,{horizontalPoints:T})),L.createElement(Qie,no({},d,{verticalPoints:k})))}Af.displayName="CartesianGrid";var toe=["type","layout","connectNulls","ref"],noe=["key"];function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function uE(t,e){if(t==null)return{};var n=roe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function roe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}function cE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vo(t){return soe(t)||aoe(t)||ooe(t)||ioe()}function ioe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ooe(t,e){if(t){if(typeof t=="string")return By(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return By(t,e)}}function aoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function soe(t){if(Array.isArray(t))return By(t)}function By(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function loe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E2(r.key),r)}}function uoe(t,e,n){return e&&dE(t.prototype,e),n&&dE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function coe(t,e,n){return e=Cf(e),doe(t,S2()?Reflect.construct(e,n||[],Cf(t).constructor):e.apply(t,n))}function doe(t,e){if(e&&(Ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return foe(t)}function foe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S2=function(){return!!t})()}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(t)}function hoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qy(t,e)}function qy(t,e){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qy(t,e)}function Kn(t,e,n){return e=E2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E2(t){var e=poe(t,"string");return Ja(e)=="symbol"?e:e+""}function poe(t,e){if(Ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lu=function(t){function e(){var n;loe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=coe(this,e,[].concat(i)),Kn(n,"state",{isAnimationFinished:!0,totalLength:0}),Kn(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Kn(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var d=Math.floor(a/u),f=a%u,h=s-a,g=[],v=0,y=0;v<l.length;y+=l[v],++v)if(y+l[v]>f){g=[].concat(Vo(l.slice(0,v)),[f-y]);break}var b=g.length%2===0?[0,h]:[h];return[].concat(Vo(e.repeat(l,d)),Vo(g),b).map(function(x){return"".concat(x,"px")}).join(", ")}),Kn(n,"id",Iu("recharts-line-")),Kn(n,"pathRef",function(a){n.mainCurve=a}),Kn(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Kn(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return hoe(e,t),uoe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=Pn(d,Du);if(!f)return null;var h=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:gn(y.payload,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return L.createElement(ot,g,f.map(function(v){return L.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,d=s.dataKey,f=Te(this.props,!1),h=Te(l,!0),g=u.map(function(y,b){var x=an(an(an({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return e.renderDotItem(l,x)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return L.createElement(ot,dl({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=uE(s,toe),h=an(an(an({},Te(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:d});return L.createElement(xy,dl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,g=a.animationId,v=a.animateNewValues,y=a.width,b=a.height,x=this.state,w=x.prevPoints,_=x.totalLength;return L.createElement(Vr,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var S=E.t;if(w){var T=w.length/s.length,k=s.map(function(M,U){var $=Math.floor(U*T);if(w[$]){var P=w[$],O=Xn(P.x,M.x),F=Xn(P.y,M.y);return an(an({},M),{},{x:O(S),y:F(S)})}if(v){var D=Xn(y*2,M.x),B=Xn(b/2,M.y);return an(an({},M),{},{x:D(S),y:B(S)})}return an(an({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(k,r,i)}var A=Xn(0,_),C=A(S),j;if(l){var R="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});j=o.getStrokeDasharray(C,_,R)}else j=o.generateSimpleStrokeDasharray(_,C);return o.renderCurveStatically(s,r,i,{strokeDasharray:j})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return s&&a&&a.length&&(!u&&d>0||!qh(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,g=i.width,v=i.height,y=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var x=this.state.isAnimationFinished,w=s.length===1,_=Ae("recharts-line",l),E=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,T=E||S,k=we(b)?this.id:b,A=(r=Te(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=A.r,j=C===void 0?3:C,R=A.strokeWidth,M=R===void 0?2:R,U=TF(a)?a:{},$=U.clipDot,P=$===void 0?!0:$,O=j*2+M;return L.createElement(ot,{className:_},E||S?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(k)},L.createElement("rect",{x:E?h:h-g/2,y:S?f:f-v/2,width:E?g:g*2,height:S?v:v*2})),!P&&L.createElement("clipPath",{id:"clipPath-dots-".concat(k)},L.createElement("rect",{x:h-O/2,y:f-O/2,width:g+O,height:v+O}))):null,!w&&this.renderCurve(T,k),this.renderErrorBar(T,k),(w||a)&&this.renderDots(T,P,k),(!y||x)&&_i.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Vo(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Vo(a),Vo(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(L.isValidElement(r))o=L.cloneElement(r,i);else if(xe(r))o=r(i);else{var a=i.key,s=uE(i,noe),l=Ae("recharts-line-dot",typeof r!="boolean"?r.className:"");o=L.createElement(mx,dl({key:a},s,{className:l}))}return o}}])}(N.PureComponent);Kn(Lu,"displayName","Line");Kn(Lu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ps.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Kn(Lu,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,g){var v=gn(h,a);return d==="horizontal"?{x:KS({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:we(v)?null:r.scale(v),value:v,payload:h}:{x:we(v)?null:n.scale(v),y:KS({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:v,payload:h}});return an({points:f,layout:d},u)});function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function moe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function goe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N2(r.key),r)}}function yoe(t,e,n){return e&&goe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function voe(t,e,n){return e=Pf(e),xoe(t,T2()?Reflect.construct(e,n||[],Pf(t).constructor):e.apply(t,n))}function xoe(t,e){if(e&&(Ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return boe(t)}function boe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T2=function(){return!!t})()}function Pf(t){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pf(t)}function woe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vy(t,e)}function Vy(t,e){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vy(t,e)}function k2(t,e,n){return e=N2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N2(t){var e=_oe(t,"string");return Ya(e)=="symbol"?e:e+""}function _oe(t,e){if(Ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}function Soe(t){var e=t.xAxisId,n=xx(),r=bx(),i=d2(e);return i==null?null:N.createElement(vs,Gy({},i,{className:Ae("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Cr(a,!0)}}))}var xo=function(t){function e(){return moe(this,e),voe(this,e,arguments)}return woe(e,t),yoe(e,[{key:"render",value:function(){return N.createElement(Soe,this.props)}}])}(N.Component);k2(xo,"displayName","XAxis");k2(xo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}function Eoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Toe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P2(r.key),r)}}function koe(t,e,n){return e&&Toe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Noe(t,e,n){return e=If(e),Aoe(t,A2()?Reflect.construct(e,n||[],If(t).constructor):e.apply(t,n))}function Aoe(t,e){if(e&&(Xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Coe(t)}function Coe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A2=function(){return!!t})()}function If(t){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},If(t)}function Poe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hy(t,e)}function Hy(t,e){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hy(t,e)}function C2(t,e,n){return e=P2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P2(t){var e=Ioe(t,"string");return Xa(e)=="symbol"?e:e+""}function Ioe(t,e){if(Xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}var joe=function(e){var n=e.yAxisId,r=xx(),i=bx(),o=f2(n);return o==null?null:N.createElement(vs,zy({},o,{className:Ae("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Cr(s,!0)}}))},bo=function(t){function e(){return Eoe(this,e),Noe(this,e,arguments)}return Poe(e,t),koe(e,[{key:"render",value:function(){return N.createElement(joe,this.props)}}])}(N.Component);C2(bo,"displayName","YAxis");C2(bo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fE(t){return $oe(t)||Moe(t)||Roe(t)||Ooe()}function Ooe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Roe(t,e){if(t){if(typeof t=="string")return Wy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wy(t,e)}}function Moe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $oe(t){if(Array.isArray(t))return Wy(t)}function Wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ky=function(e,n,r,i,o){var a=Pn(e,_x),s=Pn(e,Jh),l=[].concat(fE(a),fE(s)),u=Pn(e,Xh),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,b){if(b.props[d]===r&&mr(b.props,"extendDomain")&&ee(b.props[f])){var x=b.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},h)),u.length){var g="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(y,b){if(b.props[d]===r&&mr(b.props,"extendDomain")&&ee(b.props[g])&&ee(b.props[v])){var x=b.props[g],w=b.props[v];return[Math.min(y[0],x,w),Math.max(y[1],x,w)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,b){return ee(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},I2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,v=new Array(g);h<g;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,g,v){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],x=arguments.length,w,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,g),!0;case 6:return b.fn.call(b.context,d,f,h,g,v),!0}for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];b.fn.apply(b.context,w)}else{var E=b.length,S;for(_=0;_<E;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),x){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,d);break;case 3:b[_].fn.call(b[_].context,d,f);break;case 4:b[_].fn.call(b[_].context,d,f,h);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];b[_].fn.apply(b[_].context,w)}}return!0},s.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&a(this,g);else{for(var y=0,b=[],x=v.length;y<x;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&b.push(v[y]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(I2);var Doe=I2.exports;const Loe=Le(Doe);var mm=new Loe,gm="recharts.syncMouseEvents";function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Uoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Foe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j2(r.key),r)}}function Boe(t,e,n){return e&&Foe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ym(t,e,n){return e=j2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j2(t){var e=qoe(t,"string");return gu(e)=="symbol"?e:e+""}function qoe(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Voe=function(){function t(){Uoe(this,t),ym(this,"activeIndex",0),ym(this,"coordinateList",[]),ym(this,"layout","horizontal")}return Boe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Goe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ee(r)&&ee(i))return!0}return!1}function Hoe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function O2(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ct(e,n,r,i),s=Ct(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function zoe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Ct(s,l,u,f),g=Ct(s,l,d,f);r=h.x,i=h.y,o=g.x,a=g.y}else return O2(e);return[{x:r,y:i},{x:o,y:a}]}function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function hE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(r){Woe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Woe(t,e,n){return e=Koe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Koe(t){var e=Joe(t,"string");return yu(e)=="symbol"?e:e+""}function Joe(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yoe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,y=xy;if(h==="ScatterChart")v=a,y=Yee;else if(h==="BarChart")v=Hoe(f,a,l,d),y=px;else if(f==="radial"){var b=O2(a),x=b.cx,w=b.cy,_=b.radius,E=b.startAngle,S=b.endAngle;v={cx:x,cy:w,startAngle:E,endAngle:S,innerRadius:_,outerRadius:_},y=$I}else v={points:zoe(f,a,l)},y=xy;var T=Sc(Sc(Sc(Sc({stroke:"#ccc",pointerEvents:"none"},l),v),Te(g,!1)),{},{payload:s,payloadIndex:u,className:Ae("recharts-tooltip-cursor",g.className)});return N.isValidElement(g)?N.cloneElement(g,T):N.createElement(y,T)}var Xoe=["item"],Qoe=["children","className","width","height","style","compact","title","desc"];function Qa(t){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(t)}function ua(){return ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ua.apply(this,arguments)}function pE(t,e){return tae(t)||eae(t,e)||M2(t,e)||Zoe()}function Zoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function tae(t){if(Array.isArray(t))return t}function mE(t,e){if(t==null)return{};var n=nae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$2(r.key),r)}}function oae(t,e,n){return e&&iae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aae(t,e,n){return e=jf(e),sae(t,R2()?Reflect.construct(e,n||[],jf(t).constructor):e.apply(t,n))}function sae(t,e){if(e&&(Qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lae(t)}function lae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R2=function(){return!!t})()}function jf(t){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jf(t)}function uae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jy(t,e)}function Jy(t,e){return Jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jy(t,e)}function Za(t){return fae(t)||dae(t)||M2(t)||cae()}function cae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2(t,e){if(t){if(typeof t=="string")return Yy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yy(t,e)}}function dae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fae(t){if(Array.isArray(t))return Yy(t)}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(n),!0).forEach(function(r){fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fe(t,e,n){return e=$2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $2(t){var e=hae(t,"string");return Qa(e)=="symbol"?e:e+""}function hae(t,e){if(Qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pae={xAxis:["bottom","top"],yAxis:["left","right"]},mae={width:"100%",height:"100%"},D2={x:0,y:0};function Ec(t){return t}var gae=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},yae=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return W(W(W({},i),Ct(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return W(W(W({},i),Ct(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return D2},Qh=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Za(s),Za(u)):s},[]);return a.length>0?a:e&&e.length&&ee(i)&&ee(o)?e.slice(i,o+1):[]};function L2(t){return t==="number"?[0,"auto"]:void 0}var Xy=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Qh(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=f===void 0?s:f;h=Id(g,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Za(l),[OI(u,h)]):l},[])},yE=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=gae(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=AX(a,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=Xy(e,n,d,f),g=yae(r,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},vae=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,g=PI(d,o);return r.reduce(function(v,y){var b,x=y.type.defaultProps!==void 0?W(W({},y.type.defaultProps),y.props):y.props,w=x.type,_=x.dataKey,E=x.allowDataOverflow,S=x.allowDuplicatedCategory,T=x.scale,k=x.ticks,A=x.includeHidden,C=x[a];if(v[C])return v;var j=Qh(e.data,{graphicalItems:i.filter(function(H){var ae,ve=a in H.props?H.props[a]:(ae=H.type.defaultProps)===null||ae===void 0?void 0:ae[a];return ve===C}),dataStartIndex:l,dataEndIndex:u}),R=j.length,M,U,$;Goe(x.domain,E,w)&&(M=py(x.domain,null,E),g&&(w==="number"||T!=="auto")&&($=ul(j,_,"category")));var P=L2(w);if(!M||M.length===0){var O,F=(O=x.domain)!==null&&O!==void 0?O:P;if(_){if(M=ul(j,_,w),w==="category"&&g){var D=mF(M);S&&D?(U=M,M=vf(0,R)):S||(M=QS(F,M,y).reduce(function(H,ae){return H.indexOf(ae)>=0?H:[].concat(Za(H),[ae])},[]))}else if(w==="category")S?M=M.filter(function(H){return H!==""&&!we(H)}):M=QS(F,M,y).reduce(function(H,ae){return H.indexOf(ae)>=0||ae===""||we(ae)?H:[].concat(Za(H),[ae])},[]);else if(w==="number"){var B=OX(j,i.filter(function(H){var ae,ve,be=a in H.props?H.props[a]:(ae=H.type.defaultProps)===null||ae===void 0?void 0:ae[a],ke="hide"in H.props?H.props.hide:(ve=H.type.defaultProps)===null||ve===void 0?void 0:ve.hide;return be===C&&(A||!ke)}),_,o,d);B&&(M=B)}g&&(w==="number"||T!=="auto")&&($=ul(j,_,"category"))}else g?M=vf(0,R):s&&s[C]&&s[C].hasStack&&w==="number"?M=h==="expand"?[0,1]:jI(s[C].stackGroups,l,u):M=CI(j,i.filter(function(H){var ae=a in H.props?H.props[a]:H.type.defaultProps[a],ve="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return ae===C&&(A||!ve)}),w,d,!0);if(w==="number")M=Ky(f,M,C,o,k),F&&(M=py(F,M,E));else if(w==="category"&&F){var V=F,Q=M.every(function(H){return V.indexOf(H)>=0});Q&&(M=V)}}return W(W({},v),{},fe({},C,W(W({},x),{},{axisType:o,domain:M,categoricalDomain:$,duplicateDomain:U,originalDomain:(b=x.domain)!==null&&b!==void 0?b:P,isCategorical:g,layout:d})))},{})},xae=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=Qh(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=PI(d,o),y=-1;return r.reduce(function(b,x){var w=x.type.defaultProps!==void 0?W(W({},x.type.defaultProps),x.props):x.props,_=w[a],E=L2("number");if(!b[_]){y++;var S;return v?S=vf(0,g):s&&s[_]&&s[_].hasStack?(S=jI(s[_].stackGroups,l,u),S=Ky(f,S,_,o)):(S=py(E,CI(h,r.filter(function(T){var k,A,C=a in T.props?T.props[a]:(k=T.type.defaultProps)===null||k===void 0?void 0:k[a],j="hide"in T.props?T.props.hide:(A=T.type.defaultProps)===null||A===void 0?void 0:A.hide;return C===_&&!j}),"number",d),i.defaultProps.allowDataOverflow),S=Ky(f,S,_,o)),W(W({},b),{},fe({},_,W(W({axisType:o},i.defaultProps),{},{hide:!0,orientation:Cn(pae,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:E,isCategorical:v,layout:d})))}return b},{})},bae=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Pn(d,o),g={};return h&&h.length?g=vae(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=xae(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},wae=function(e){var n=si(e),r=Cr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:B0(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:lf(n,r)}},vE=function(e){var n=e.children,r=e.defaultShowTooltip,i=un(n,Va),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},_ae=function(e){return!e||!e.length?!1:e.some(function(n){var r=Or(n&&n.type);return r&&r.indexOf("Bar")>=0})},xE=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Sae=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,d=r.height,f=r.children,h=r.margin||{},g=un(f,Va),v=un(f,ba),y=Object.keys(l).reduce(function(S,T){var k=l[T],A=k.orientation;return!k.mirror&&!k.hide?W(W({},S),{},fe({},A,S[A]+k.width)):S},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(S,T){var k=a[T],A=k.orientation;return!k.mirror&&!k.hide?W(W({},S),{},fe({},A,Cn(S,"".concat(A))+k.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=W(W({},b),y),w=x.bottom;g&&(x.bottom+=g.props.height||Va.defaultProps.height),v&&n&&(x=IX(x,i,r,n));var _=u-x.left-x.right,E=d-x.top-x.bottom;return W(W({brushBottom:w},x),{},{width:Math.max(_,0),height:Math.max(E,0)})},Eae=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},U2=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,w){var _=w.graphicalItems,E=w.stackGroups,S=w.offset,T=w.updateId,k=w.dataStartIndex,A=w.dataEndIndex,C=x.barSize,j=x.layout,R=x.barGap,M=x.barCategoryGap,U=x.maxBarSize,$=xE(j),P=$.numericAxisName,O=$.cateAxisName,F=_ae(_),D=[];return _.forEach(function(B,V){var Q=Qh(x.data,{graphicalItems:[B],dataStartIndex:k,dataEndIndex:A}),H=B.type.defaultProps!==void 0?W(W({},B.type.defaultProps),B.props):B.props,ae=H.dataKey,ve=H.maxBarSize,be=H["".concat(P,"Id")],ke=H["".concat(O,"Id")],Se={},ze=l.reduce(function(sr,Ln){var $i=w["".concat(Ln.axisType,"Map")],Un=H["".concat(Ln.axisType,"Id")];$i&&$i[Un]||Ln.axisType==="zAxis"||yo();var Bu=$i[Un];return W(W({},sr),{},fe(fe({},Ln.axisType,Bu),"".concat(Ln.axisType,"Ticks"),Cr(Bu)))},Se),Y=ze[O],de=ze["".concat(O,"Ticks")],me=E&&E[be]&&E[be].hasStack&&HX(B,E[be].stackGroups),K=Or(B.type).indexOf("Bar")>=0,Oe=lf(Y,de),q=[],ne=F&&CX({barSize:C,stackGroups:E,totalSize:Eae(ze,O)});if(K){var ue,ye,Ie=we(ve)?U:ve,at=(ue=(ye=lf(Y,de,!0))!==null&&ye!==void 0?ye:Ie)!==null&&ue!==void 0?ue:0;q=PX({barGap:R,barCategoryGap:M,bandSize:at!==Oe?at:Oe,sizeList:ne[ke],maxBarSize:Ie}),at!==Oe&&(q=q.map(function(sr){return W(W({},sr),{},{position:W(W({},sr.position),{},{offset:sr.position.offset-at/2})})}))}var jo=B&&B.type&&B.type.getComposedData;jo&&D.push({props:W(W({},jo(W(W({},ze),{},{displayedData:Q,props:x,dataKey:ae,item:B,bandSize:Oe,barPosition:q,offset:S,stackedData:me,layout:j,dataStartIndex:k,dataEndIndex:A}))),{},fe(fe(fe({key:B.key||"item-".concat(V)},P,ze[P]),O,ze[O]),"animationId",T)),childIndex:AF(B,x.children),item:B})}),D},g=function(x,w){var _=x.props,E=x.dataStartIndex,S=x.dataEndIndex,T=x.updateId;if(!Hw({props:_}))return null;var k=_.children,A=_.layout,C=_.stackOffset,j=_.data,R=_.reverseStackOrder,M=xE(A),U=M.numericAxisName,$=M.cateAxisName,P=Pn(k,r),O=qX(j,P,"".concat(U,"Id"),"".concat($,"Id"),C,R),F=l.reduce(function(H,ae){var ve="".concat(ae.axisType,"Map");return W(W({},H),{},fe({},ve,bae(_,W(W({},ae),{},{graphicalItems:P,stackGroups:ae.axisType===U&&O,dataStartIndex:E,dataEndIndex:S}))))},{}),D=Sae(W(W({},F),{},{props:_,graphicalItems:P}),w==null?void 0:w.legendBBox);Object.keys(F).forEach(function(H){F[H]=d(_,F[H],D,H.replace("Map",""),n)});var B=F["".concat($,"Map")],V=wae(B),Q=h(_,W(W({},F),{},{dataStartIndex:E,dataEndIndex:S,updateId:T,graphicalItems:P,stackGroups:O,offset:D}));return W(W({formattedGraphicalItems:Q,graphicalItems:P,offset:D,stackGroups:O},V),F)},v=function(b){function x(w){var _,E,S;return rae(this,x),S=aae(this,x,[w]),fe(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fe(S,"accessibilityManager",new Voe),fe(S,"handleLegendBBoxUpdate",function(T){if(T){var k=S.state,A=k.dataStartIndex,C=k.dataEndIndex,j=k.updateId;S.setState(W({legendBBox:T},g({props:S.props,dataStartIndex:A,dataEndIndex:C,updateId:j},W(W({},S.state),{},{legendBBox:T}))))}}),fe(S,"handleReceiveSyncEvent",function(T,k,A){if(S.props.syncId===T){if(A===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),fe(S,"handleBrushChange",function(T){var k=T.startIndex,A=T.endIndex;if(k!==S.state.dataStartIndex||A!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return W({dataStartIndex:k,dataEndIndex:A},g({props:S.props,dataStartIndex:k,dataEndIndex:A,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:A})}}),fe(S,"handleMouseEnter",function(T){var k=S.getMouseInfo(T);if(k){var A=W(W({},k),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseEnter;xe(C)&&C(A,T)}}),fe(S,"triggeredAfterMouseMove",function(T){var k=S.getMouseInfo(T),A=k?W(W({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var C=S.props.onMouseMove;xe(C)&&C(A,T)}),fe(S,"handleItemMouseEnter",function(T){S.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),fe(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),fe(S,"handleMouseMove",function(T){T.persist(),S.throttleTriggeredAfterMouseMove(T)}),fe(S,"handleMouseLeave",function(T){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var A=S.props.onMouseLeave;xe(A)&&A(k,T)}),fe(S,"handleOuterEvent",function(T){var k=NF(T),A=Cn(S.props,"".concat(k));if(k&&xe(A)){var C,j;/.*touch.*/i.test(k)?j=S.getMouseInfo(T.changedTouches[0]):j=S.getMouseInfo(T),A((C=j)!==null&&C!==void 0?C:{},T)}}),fe(S,"handleClick",function(T){var k=S.getMouseInfo(T);if(k){var A=W(W({},k),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var C=S.props.onClick;xe(C)&&C(A,T)}}),fe(S,"handleMouseDown",function(T){var k=S.props.onMouseDown;if(xe(k)){var A=S.getMouseInfo(T);k(A,T)}}),fe(S,"handleMouseUp",function(T){var k=S.props.onMouseUp;if(xe(k)){var A=S.getMouseInfo(T);k(A,T)}}),fe(S,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),fe(S,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseDown(T.changedTouches[0])}),fe(S,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&S.handleMouseUp(T.changedTouches[0])}),fe(S,"handleDoubleClick",function(T){var k=S.props.onDoubleClick;if(xe(k)){var A=S.getMouseInfo(T);k(A,T)}}),fe(S,"handleContextMenu",function(T){var k=S.props.onContextMenu;if(xe(k)){var A=S.getMouseInfo(T);k(A,T)}}),fe(S,"triggerSyncEvent",function(T){S.props.syncId!==void 0&&mm.emit(gm,S.props.syncId,T,S.eventEmitterSymbol)}),fe(S,"applySyncEvent",function(T){var k=S.props,A=k.layout,C=k.syncMethod,j=S.state.updateId,R=T.dataStartIndex,M=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)S.setState(W({dataStartIndex:R,dataEndIndex:M},g({props:S.props,dataStartIndex:R,dataEndIndex:M,updateId:j},S.state)));else if(T.activeTooltipIndex!==void 0){var U=T.chartX,$=T.chartY,P=T.activeTooltipIndex,O=S.state,F=O.offset,D=O.tooltipTicks;if(!F)return;if(typeof C=="function")P=C(D,T);else if(C==="value"){P=-1;for(var B=0;B<D.length;B++)if(D[B].value===T.activeLabel){P=B;break}}var V=W(W({},F),{},{x:F.left,y:F.top}),Q=Math.min(U,V.x+V.width),H=Math.min($,V.y+V.height),ae=D[P]&&D[P].value,ve=Xy(S.state,S.props.data,P),be=D[P]?{x:A==="horizontal"?D[P].coordinate:Q,y:A==="horizontal"?H:D[P].coordinate}:D2;S.setState(W(W({},T),{},{activeLabel:ae,activeCoordinate:be,activePayload:ve,activeTooltipIndex:P}))}else S.setState(T)}),fe(S,"renderCursor",function(T){var k,A=S.state,C=A.isTooltipActive,j=A.activeCoordinate,R=A.activePayload,M=A.offset,U=A.activeTooltipIndex,$=A.tooltipAxisBandSize,P=S.getTooltipEventType(),O=(k=T.props.active)!==null&&k!==void 0?k:C,F=S.props.layout,D=T.key||"_recharts-cursor";return L.createElement(Yoe,{key:D,activeCoordinate:j,activePayload:R,activeTooltipIndex:U,chartName:n,element:T,isActive:O,layout:F,offset:M,tooltipAxisBandSize:$,tooltipEventType:P})}),fe(S,"renderPolarAxis",function(T,k,A){var C=Cn(T,"type.axisType"),j=Cn(S.state,"".concat(C,"Map")),R=T.type.defaultProps,M=R!==void 0?W(W({},R),T.props):T.props,U=j&&j[M["".concat(C,"Id")]];return N.cloneElement(T,W(W({},U),{},{className:Ae(C,U.className),key:T.key||"".concat(k,"-").concat(A),ticks:Cr(U,!0)}))}),fe(S,"renderPolarGrid",function(T){var k=T.props,A=k.radialLines,C=k.polarAngles,j=k.polarRadius,R=S.state,M=R.radiusAxisMap,U=R.angleAxisMap,$=si(M),P=si(U),O=P.cx,F=P.cy,D=P.innerRadius,B=P.outerRadius;return N.cloneElement(T,{polarAngles:Array.isArray(C)?C:Cr(P,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(j)?j:Cr($,!0).map(function(V){return V.coordinate}),cx:O,cy:F,innerRadius:D,outerRadius:B,key:T.key||"polar-grid",radialLines:A})}),fe(S,"renderLegend",function(){var T=S.state.formattedGraphicalItems,k=S.props,A=k.children,C=k.width,j=k.height,R=S.props.margin||{},M=C-(R.left||0)-(R.right||0),U=NI({children:A,formattedGraphicalItems:T,legendWidth:M,legendContent:u});if(!U)return null;var $=U.item,P=mE(U,Xoe);return N.cloneElement($,W(W({},P),{},{chartWidth:C,chartHeight:j,margin:R,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),fe(S,"renderTooltip",function(){var T,k=S.props,A=k.children,C=k.accessibilityLayer,j=un(A,_n);if(!j)return null;var R=S.state,M=R.isTooltipActive,U=R.activeCoordinate,$=R.activePayload,P=R.activeLabel,O=R.offset,F=(T=j.props.active)!==null&&T!==void 0?T:M;return N.cloneElement(j,{viewBox:W(W({},O),{},{x:O.left,y:O.top}),active:F,label:P,payload:F?$:[],coordinate:U,accessibilityLayer:C})}),fe(S,"renderBrush",function(T){var k=S.props,A=k.margin,C=k.data,j=S.state,R=j.offset,M=j.dataStartIndex,U=j.dataEndIndex,$=j.updateId;return N.cloneElement(T,{key:T.key||"_recharts-brush",onChange:xc(S.handleBrushChange,T.props.onChange),data:C,x:ee(T.props.x)?T.props.x:R.left,y:ee(T.props.y)?T.props.y:R.top+R.height+R.brushBottom-(A.bottom||0),width:ee(T.props.width)?T.props.width:R.width,startIndex:M,endIndex:U,updateId:"brush-".concat($)})}),fe(S,"renderReferenceElement",function(T,k,A){if(!T)return null;var C=S,j=C.clipPathId,R=S.state,M=R.xAxisMap,U=R.yAxisMap,$=R.offset,P=T.type.defaultProps||{},O=T.props,F=O.xAxisId,D=F===void 0?P.xAxisId:F,B=O.yAxisId,V=B===void 0?P.yAxisId:B;return N.cloneElement(T,{key:T.key||"".concat(k,"-").concat(A),xAxis:M[D],yAxis:U[V],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:j})}),fe(S,"renderActivePoints",function(T){var k=T.item,A=T.activePoint,C=T.basePoint,j=T.childIndex,R=T.isRange,M=[],U=k.props.key,$=k.item.type.defaultProps!==void 0?W(W({},k.item.type.defaultProps),k.item.props):k.item.props,P=$.activeDot,O=$.dataKey,F=W(W({index:j,dataKey:O,cx:A.x,cy:A.y,r:4,fill:hx(k.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Te(P,!1)),jd(P));return M.push(x.renderActiveDot(P,F,"".concat(U,"-activePoint-").concat(j))),C?M.push(x.renderActiveDot(P,W(W({},F),{},{cx:C.x,cy:C.y}),"".concat(U,"-basePoint-").concat(j))):R&&M.push(null),M}),fe(S,"renderGraphicChild",function(T,k,A){var C=S.filterFormatItem(T,k,A);if(!C)return null;var j=S.getTooltipEventType(),R=S.state,M=R.isTooltipActive,U=R.tooltipAxis,$=R.activeTooltipIndex,P=R.activeLabel,O=S.props.children,F=un(O,_n),D=C.props,B=D.points,V=D.isRange,Q=D.baseLine,H=C.item.type.defaultProps!==void 0?W(W({},C.item.type.defaultProps),C.item.props):C.item.props,ae=H.activeDot,ve=H.hide,be=H.activeBar,ke=H.activeShape,Se=!!(!ve&&M&&F&&(ae||be||ke)),ze={};j!=="axis"&&F&&F.props.trigger==="click"?ze={onClick:xc(S.handleItemMouseEnter,T.props.onClick)}:j!=="axis"&&(ze={onMouseLeave:xc(S.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:xc(S.handleItemMouseEnter,T.props.onMouseEnter)});var Y=N.cloneElement(T,W(W({},C.props),ze));function de(Ln){return typeof U.dataKey=="function"?U.dataKey(Ln.payload):null}if(Se)if($>=0){var me,K;if(U.dataKey&&!U.allowDuplicatedCategory){var Oe=typeof U.dataKey=="function"?de:"payload.".concat(U.dataKey.toString());me=Id(B,Oe,P),K=V&&Q&&Id(Q,Oe,P)}else me=B==null?void 0:B[$],K=V&&Q&&Q[$];if(ke||be){var q=T.props.activeIndex!==void 0?T.props.activeIndex:$;return[N.cloneElement(T,W(W(W({},C.props),ze),{},{activeIndex:q})),null,null]}if(!we(me))return[Y].concat(Za(S.renderActivePoints({item:C,activePoint:me,basePoint:K,childIndex:$,isRange:V})))}else{var ne,ue=(ne=S.getItemByXY(S.state.activeCoordinate))!==null&&ne!==void 0?ne:{graphicalItem:Y},ye=ue.graphicalItem,Ie=ye.item,at=Ie===void 0?T:Ie,jo=ye.childIndex,sr=W(W(W({},C.props),ze),{},{activeIndex:jo});return[N.cloneElement(at,sr),null,null]}return V?[Y,null,null]:[Y,null]}),fe(S,"renderCustomized",function(T,k,A){return N.cloneElement(T,W(W({key:"recharts-customized-".concat(A)},S.props),S.state))}),fe(S,"renderMap",{CartesianGrid:{handler:Ec,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Ec},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Ec},YAxis:{handler:Ec},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Iu("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=kP(S.triggeredAfterMouseMove,(E=w.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return uae(x,b),oae(x,[{key:"componentDidMount",value:function(){var _,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,E=_.children,S=_.data,T=_.height,k=_.layout,A=un(E,_n);if(A){var C=A.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,R=Xy(this.state,S,C,j),M=this.state.tooltipTicks[C].coordinate,U=(this.state.offset.top+T)/2,$=k==="horizontal",P=$?{x:M,y:U}:{y:M,x:U},O=this.state.formattedGraphicalItems.find(function(D){var B=D.item;return B.type.name==="Scatter"});O&&(P=W(W({},P),O.props.points[C].tooltipPosition),R=O.props.points[C].tooltipPayload);var F={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:j,activePayload:R,activeCoordinate:P};this.setState(F),this.renderCursor(A),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,T;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(_){Ag([un(_.children,_n)],[un(this.props.children,_n)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=un(this.props.children,_n);if(_&&typeof _.props.shared=="boolean"){var E=_.props.shared?"axis":"item";return s.indexOf(E)>=0?E:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),T=e9(S),k={chartX:Math.round(_.pageX-T.left),chartY:Math.round(_.pageY-T.top)},A=S.width/E.offsetWidth||1,C=this.inRange(k.chartX,k.chartY,A);if(!C)return null;var j=this.state,R=j.xAxisMap,M=j.yAxisMap,U=this.getTooltipEventType(),$=yE(this.state,this.props.data,this.props.layout,C);if(U!=="axis"&&R&&M){var P=si(R).scale,O=si(M).scale,F=P&&P.invert?P.invert(k.chartX):null,D=O&&O.invert?O.invert(k.chartY):null;return W(W({},k),{},{xValue:F,yValue:D},$)}return $?W(W({},k),$):null}},{key:"inRange",value:function(_,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,k=_/S,A=E/S;if(T==="horizontal"||T==="vertical"){var C=this.state.offset,j=k>=C.left&&k<=C.left+C.width&&A>=C.top&&A<=C.top+C.height;return j?{x:k,y:A}:null}var R=this.state,M=R.angleAxisMap,U=R.radiusAxisMap;if(M&&U){var $=si(M);return t1({x:k,y:A},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,E=this.getTooltipEventType(),S=un(_,_n),T={};S&&E==="axis"&&(S.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=jd(this.props,this.handleOuterEvent);return W(W({},k),T)}},{key:"addListener",value:function(){mm.on(gm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mm.removeListener(gm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,E,S){for(var T=this.state.formattedGraphicalItems,k=0,A=T.length;k<A;k++){var C=T[k];if(C.item===_||C.props.key===_.key||E===Or(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,E=this.state.offset,S=E.left,T=E.top,k=E.height,A=E.width;return L.createElement("defs",null,L.createElement("clipPath",{id:_},L.createElement("rect",{x:S,y:T,height:k,width:A})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(E,S){var T=pE(S,2),k=T[0],A=T[1];return W(W({},E),{},fe({},k,A.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(E,S){var T=pE(S,2),k=T[0],A=T[1];return W(W({},E),{},fe({},k,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(_){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(_){var E=this.state,S=E.formattedGraphicalItems,T=E.activeItem;if(S&&S.length)for(var k=0,A=S.length;k<A;k++){var C=S[k],j=C.props,R=C.item,M=R.type.defaultProps!==void 0?W(W({},R.type.defaultProps),R.props):R.props,U=Or(R.type);if(U==="Bar"){var $=(j.data||[]).find(function(D){return Fee(_,D)});if($)return{graphicalItem:C,payload:$}}else if(U==="RadialBar"){var P=(j.data||[]).find(function(D){return t1(_,D)});if(P)return{graphicalItem:C,payload:P}}else if(Hh(C,T)||zh(C,T)||du(C,T)){var O=Vte({graphicalItem:C,activeTooltipItem:T,itemData:M.data}),F=M.activeIndex===void 0?O:M.activeIndex;return{graphicalItem:W(W({},C),{},{childIndex:F}),payload:du(C,T)?M.data[O]:C.props.data[O]}}}return null}},{key:"render",value:function(){var _=this;if(!Hw(this))return null;var E=this.props,S=E.children,T=E.className,k=E.width,A=E.height,C=E.style,j=E.compact,R=E.title,M=E.desc,U=mE(E,Qoe),$=Te(U,!1);if(j)return L.createElement(Y1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(Pg,ua({},$,{width:k,height:A,title:R,desc:M}),this.renderClipPath(),Ww(S,this.renderMap)));if(this.props.accessibilityLayer){var P,O;$.tabIndex=(P=this.props.tabIndex)!==null&&P!==void 0?P:0,$.role=(O=this.props.role)!==null&&O!==void 0?O:"application",$.onKeyDown=function(D){_.accessibilityManager.keyboardEvent(D)},$.onFocus=function(){_.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return L.createElement(Y1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",ua({className:Ae("recharts-wrapper",T),style:W({position:"relative",cursor:"default",width:k,height:A},C)},F,{ref:function(B){_.container=B}}),L.createElement(Pg,ua({},$,{width:k,height:A,title:R,desc:M,style:mae}),this.renderClipPath(),Ww(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);fe(v,"displayName",n),fe(v,"defaultProps",W({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),fe(v,"getDerivedStateFromProps",function(b,x){var w=b.dataKey,_=b.data,E=b.children,S=b.width,T=b.height,k=b.layout,A=b.stackOffset,C=b.margin,j=x.dataStartIndex,R=x.dataEndIndex;if(x.updateId===void 0){var M=vE(b);return W(W(W({},M),{},{updateId:0},g(W(W({props:b},M),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:T,prevLayout:k,prevStackOffset:A,prevMargin:C,prevChildren:E})}if(w!==x.prevDataKey||_!==x.prevData||S!==x.prevWidth||T!==x.prevHeight||k!==x.prevLayout||A!==x.prevStackOffset||!xa(C,x.prevMargin)){var U=vE(b),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},P=W(W({},yE(x,_,k)),{},{updateId:x.updateId+1}),O=W(W(W({},U),$),P);return W(W(W({},O),g(W({props:b},O),x)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:T,prevLayout:k,prevStackOffset:A,prevMargin:C,prevChildren:E})}if(!Ag(E,x.prevChildren)){var F,D,B,V,Q=un(E,Va),H=Q&&(F=(D=Q.props)===null||D===void 0?void 0:D.startIndex)!==null&&F!==void 0?F:j,ae=Q&&(B=(V=Q.props)===null||V===void 0?void 0:V.endIndex)!==null&&B!==void 0?B:R,ve=H!==j||ae!==R,be=!we(_),ke=be&&!ve?x.updateId:x.updateId+1;return W(W({updateId:ke},g(W(W({props:b},x),{},{updateId:ke,dataStartIndex:H,dataEndIndex:ae}),x)),{},{prevChildren:E,dataStartIndex:H,dataEndIndex:ae})}return null}),fe(v,"renderActiveDot",function(b,x,w){var _;return N.isValidElement(b)?_=N.cloneElement(b,x):xe(b)?_=b(x):_=L.createElement(mx,x),L.createElement(ot,{className:"recharts-active-dot",key:w},_)});var y=N.forwardRef(function(x,w){return L.createElement(v,ua({},x,{ref:w}))});return y.displayName=v.displayName,y},Tae=U2({chartName:"LineChart",GraphicalChild:Lu,axisComponents:[{axisType:"xAxis",AxisComp:xo},{axisType:"yAxis",AxisComp:bo}],formatAxisMap:r2}),F2=U2({chartName:"BarChart",GraphicalChild:Oi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xo},{axisType:"yAxis",AxisComp:bo}],formatAxisMap:r2});const kae=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:" "}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:" ",val:12,color:"bg-orange-100 text-orange-600"},{label:" ",val:5,color:"bg-blue-100 text-blue-600"},{label:" ",val:3,color:"bg-green-100 text-green-600"},{label:" ",val:1,color:"bg-red-100 text-red-600"}].map((t,e)=>c.jsxs("div",{className:`p-4 rounded-xl shadow-sm ${t.color} dark:bg-opacity-10`,children:[c.jsx("p",{className:"text-sm opacity-80",children:t.label}),c.jsx("p",{className:"text-3xl font-bold mt-2",children:t.val})]},e))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  ()"}),c.jsx("div",{className:"h-64",children:c.jsx(Xg,{width:"100%",height:"100%",children:c.jsxs(F2,{data:J$,children:[c.jsx(Af,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(xo,{dataKey:"name",stroke:"#9ca3af"}),c.jsx(bo,{stroke:"#9ca3af"}),c.jsx(_n,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),c.jsx(Oi,{dataKey:"value",fill:"#800020",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-200",children:"  (6  )"}),c.jsx("div",{className:"h-64",children:c.jsx(Xg,{width:"100%",height:"100%",children:c.jsxs(Tae,{data:Y$,children:[c.jsx(Af,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),c.jsx(xo,{dataKey:"name",stroke:"#9ca3af"}),c.jsx(bo,{stroke:"#9ca3af"}),c.jsx(_n,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),c.jsx(Lu,{type:"monotone",dataKey:"uv",stroke:"#38bdf8",strokeWidth:3})]})})})]})]})]});function Nae({data:t,columns:e,onEdit:n,onDelete:r,isLoading:i,selectable:o,selectedIds:a=[],onSelect:s}){if(i)return c.jsx("div",{className:"p-4 text-center",children:"  ..."});const l=()=>{s&&(a.length===t.length?s([]):s(t.map(d=>d.id)))},u=d=>{s&&(a.includes(d)?s(a.filter(f=>f!==d)):s([...a,d]))};return c.jsx("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow",children:c.jsxs("table",{className:"w-full text-sm text-right",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200",children:c.jsxs("tr",{children:[o&&c.jsx("th",{className:"px-4 py-3 w-10",children:c.jsx("input",{type:"checkbox",checked:t.length>0&&a.length===t.length,onChange:l,className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer"})}),e.map(d=>c.jsx("th",{className:"px-4 py-3 font-medium whitespace-nowrap",children:d.header},String(d.key))),(n||r)&&c.jsx("th",{className:"px-4 py-3",children:""})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:[t.map(d=>c.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${a.includes(d.id)?"bg-red-50 dark:bg-red-900/10":""}`,children:[o&&c.jsx("td",{className:"px-4 py-3",children:c.jsx("input",{type:"checkbox",checked:a.includes(d.id),onChange:()=>u(d.id),className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer"})}),e.map(f=>c.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:f.render?f.render(d[f.key],d):String(d[f.key])},String(f.key))),(n||r)&&c.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:c.jsxs("div",{className:"flex gap-2",children:[n&&c.jsx("button",{onClick:()=>n(d),className:"p-1 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded transition-colors",title:"",children:c.jsx(F$,{className:"w-4 h-4"})}),r&&c.jsx("button",{onClick:()=>r(d),className:"p-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:"",children:c.jsx(Yt,{className:"w-4 h-4"})})]})})]},d.id)),t.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:e.length+(o?2:1),className:"px-4 py-8 text-center text-gray-500",children:"  "})})]})]})})}const gr=()=>Math.random().toString(36).substring(2,9),B2=(t,e,n)=>{let r=t>979?1600:621;t-=t>979?979:0;let i=365*t+Math.floor(t/33)*8+Math.floor((t%33+3)/4)+78+n+(e<7?(e-1)*31:(e-7)*30+186);r+=400*Math.floor(i/146097),i%=146097,i>36524&&(r+=100*Math.floor(--i/36524),i%=36524,i>=365&&i++),r+=4*Math.floor(i/1461),i%=1461,i>365&&(r+=Math.floor((i-1)/365),i=(i-1)%365);let o=i+1;const a=[0,31,r%4===0&&r%100!==0||r%400===0?29:28,31,30,31,30,31,31,30,31,30,31];let s;for(s=0;s<13;s++){const l=a[s];if(o<=l)break;o-=l}return{gy:r,gm:s,gd:o}},q2=(t,e,n)=>{const r=[0,31,59,90,120,151,181,212,243,273,304,334];let i=t<=1600?0:979;t-=t<=1600?621:1600;const o=e>2?t+1:t;let a=365*t+Math.floor((o+3)/4)-Math.floor((o+99)/100)+Math.floor((o+399)/400)-80+n+r[e-1];i+=33*Math.floor(a/12053),a%=12053,i+=4*Math.floor(a/1461),a%=1461,a>365&&(i+=Math.floor((a-1)/365),a=(a-1)%365);const s=a<186?1+Math.floor(a/31):7+Math.floor((a-186)/30),l=1+(a<186?a%31:(a-186)%30);return{jy:i,jm:s,jd:l}},nt=()=>{const t=new Date,e=q2(t.getFullYear(),t.getMonth()+1,t.getDate());return`${e.jy}/${String(e.jm).padStart(2,"0")}/${String(e.jd).padStart(2,"0")}`},vu=()=>{const t=new Date;return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},Yr=t=>{const e=new Date,n=q2(e.getFullYear(),e.getMonth()+1,e.getDate()),r=String(n.jy).substring(2),i=String(n.jm).padStart(2,"0");if(t==="T"){const a=Math.floor(Math.random()*9e4+1e4).toString();return`${t}${r}${i}${a}`}const o=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`${t}${r}${i}${o}`},es=t=>{try{const e=t.split("/");if(e.length!==3)return null;const{gy:n,gm:r,gd:i}=B2(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]));return new Date(n,r-1,i)}catch{return null}},Aae=(t,e,n,r)=>{const i=es(t),o=es(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,u]=r.split(":").map(Number);return i.setHours(a||0,s||0,0,0),o.setHours(l||0,u||0,0,0),i.getTime()<o.getTime()?-1:i.getTime()>o.getTime()?1:0},Cae=(t,e,n,r)=>{const i=es(t),o=es(n);if(!i||!o)return 0;const[a,s]=e.split(":").map(Number),[l,u]=r.split(":").map(Number);i.setHours(a||0,s||0,0,0),o.setHours(l||0,u||0,0,0);const d=o.getTime()-i.getTime();return Math.max(0,Math.floor(d/6e4))},Of=t=>{const e=es(t);if(!e)return!1;const n=new Date;return n.setHours(0,0,0,0),e.getTime()>n.getTime()},bE="192.168.1.105",Pae=["user_groups","personnel","org_chart","app_users","locations","equipment_classes","equipment_groups","equipment","equipment_local_names","evaluation_periods","evaluation_criteria","measurement_units","equipment_tree","part_categories","parts","activity_cards","checklist_items","maintenance_plans"],wE={user_groups:" ",personnel:" ",org_chart:" ",app_users:" ",locations:" ",equipment_classes:" ",equipment_groups:" ",equipment:" ",equipment_local_names:"  ",evaluation_periods:" ",evaluation_criteria:" ",measurement_units:" ",equipment_tree:" ",part_categories:" ",parts:"   ",activity_cards:" ",checklist_items:" ",maintenance_plans:" "},Iae=()=>{const[t,e]=N.useState("user_groups"),[n,r]=N.useState([]),[i,o]=N.useState(!1),[a,s]=N.useState(!1),[l,u]=N.useState(null),[d,f]=N.useState([]),[h,g]=N.useState(null),[v,y]=N.useState(!1),b=N.useRef(null),x=N.useRef(null),w={user_groups:[{key:"code",header:" "},{key:"name",header:" "}],personnel:[{key:"personnel_code",header:" "},{key:"full_name",header:"   "},{key:"unit",header:""},{key:"mobile",header:""},{key:"email",header:""}],app_users:[{key:"username",header:" "},{key:"personnel_id",header:" "},{key:"role",header:" "},{key:"is_default_password",header:" "}],locations:[{key:"code",header:""},{key:"name",header:" "},{key:"parent_id",header:" "}],org_chart:[{key:"code",header:" "},{key:"name",header:" /"},{key:"manager_name",header:" "}],measurement_units:[{key:"title",header:" "}],equipment_local_names:[{key:"class_id",header:" "},{key:"group_id",header:" "},{key:"local_name",header:" /"}],evaluation_periods:[{key:"code",header:" "},{key:"title",header:" "}],evaluation_criteria:[{key:"title",header:" "},{key:"max_score",header:" "}],equipment_classes:[{key:"name",header:" "}],equipment_groups:[{key:"name",header:" "},{key:"class_id",header:" "}],equipment:[{key:"code",header:" "},{key:"name",header:"  "},{key:"class_id",header:""},{key:"group_id",header:""}],equipment_tree:[{key:"equipment_id",header:" "},{key:"code",header:" "},{key:"name",header:" "},{key:"parent_id",header:""}],part_categories:[{key:"name",header:" "},{key:"parent_id",header:""},{key:"level_type",header:""}],parts:[{key:"code",header:" "},{key:"name",header:" "},{key:"category_id",header:"  "},{key:"stock_unit_id",header:" "},{key:"consumption_unit_id",header:" "}],activity_cards:[{key:"code",header:" "},{key:"name",header:" "}],checklist_items:[{key:"activity_card_id",header:" "},{key:"sort_order",header:""},{key:"description",header:""}],maintenance_plans:[{key:"code",header:" "},{key:"name",header:" "},{key:"equipment_id",header:""}]},_=["personnel_code","full_name","mobile","email","username","name","title","code","local_name"],E=P=>{try{return JSON.parse(localStorage.getItem(`admin_data_${P}`)||"[]")}catch{return[]}},S=(P,O)=>{localStorage.setItem(`admin_data_${P}`,JSON.stringify(O))},T=async()=>{o(!0),g(null);try{const{data:P,error:O}=await Yn.from(t).select("*").order("created_at",{ascending:!1});if(O)throw O;let F=P||[];y(!1),t==="personnel"&&(F=F.map(D=>({...D,full_name:`${D.first_name||""} ${D.last_name||""}`.trim()}))),r(F),S(t,F)}catch(P){console.warn("Supabase fetch failed, switching to local data:",P),y(!0);let F=E(t);t==="personnel"&&(F=F.map(D=>({...D,full_name:`${D.first_name||""} ${D.last_name||""}`.trim()}))),r(F)}finally{o(!1)}};N.useEffect(()=>{T(),f([])},[t]);const k=()=>{u({}),s(!0)},A=P=>{u(P),s(!0)},C=async P=>{if(window.confirm("      ")){[...n],r(O=>O.filter(F=>F.id!==P.id)),f(O=>O.filter(F=>F!==P.id));try{const{error:O}=await Yn.from(t).delete().eq("id",P.id);if(O)throw O;await T()}catch{console.warn("Delete failed, performing offline delete");const D=E(t).filter(B=>B.id!==P.id);S(t,D),y(!0)}}},j=async()=>{if(d.length!==0&&window.confirm(`   ${d.length}   `)){r(P=>P.filter(O=>!d.includes(O.id)));try{const{error:P}=await Yn.from(t).delete().in("id",d);if(P)throw P;f([]),await T()}catch{console.warn("Bulk delete failed, performing offline delete");const F=E(t).filter(D=>!d.includes(D.id));S(t,F),f([]),y(!0)}}},R=async P=>{P.preventDefault(),o(!0);let O={...l};if(t==="personnel"){if(!O.personnel_code){o(!1),alert("   ");return}if(O.mobile&&!/^09\d{9}$/.test(O.mobile)){o(!1),alert("    .  11     09 .");return}if(O.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O.email)){o(!1),alert("     .");return}if(O.full_name){const F=O.full_name.trim().split(" ");O.first_name=F[0],O.last_name=F.slice(1).join(" ")||"-"}else O.id||(O.first_name="-",O.last_name="-");delete O.full_name}if(t==="equipment"&&!O.name){alert("   "),o(!1);return}if(t==="locations"&&!O.name){alert("   "),o(!1);return}try{if(O.id){const{error:F}=await Yn.from(t).update(O).eq("id",O.id);if(F)throw F}else{const{error:F}=await Yn.from(t).insert([O]);if(F)throw F}await T(),s(!1)}catch(F){console.warn("Save failed, performing offline save:",F);let B=[...E(t)];if(O.id){const V=B.findIndex(Q=>Q.id===O.id);V>=0?B[V]={...B[V],...O}:B.push(O)}else O.id=gr(),O.created_at=new Date().toISOString(),B.unshift(O);S(t,B),alert("     .         ."),await T(),s(!1)}finally{o(!1)}},M=()=>{const O=w[t].map(H=>H.key),F=n.length>0?n:[];let D="\uFEFF"+O.join(",")+`
`;F.forEach(H=>{const ae=O.map(ve=>{let be=H[ve]||"";return String(be).includes(",")&&(be=`"${be}"`),be});D+=ae.join(",")+`
`});const B=new Blob([D],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),Q=URL.createObjectURL(B);V.setAttribute("href",Q),V.setAttribute("download",`${t}_export.csv`),document.body.appendChild(V),V.click(),document.body.removeChild(V)},U=P=>{var D;const O=(D=P.target.files)==null?void 0:D[0];if(!O)return;const F=new FileReader;F.onload=async B=>{var Q;const V=(Q=B.target)==null?void 0:Q.result;if(V)try{const H=V.split(`
`).filter(Se=>Se.trim()!=="");if(H.length<2){alert("    .");return}const ae=H[0].split(",").map(Se=>Se.trim()),be=w[t].map(Se=>Se.key),ke=[];for(let Se=1;Se<H.length;Se++){const ze=H[Se].split(",");if(ze.length<ae.length)continue;const Y={};if(ae.forEach((de,me)=>{var q;const K=de.replace(/[\r"]/g,"");let Oe=(q=ze[me])==null?void 0:q.replace(/[\r"]/g,"").trim();be.includes(K)&&(Y[K]=Oe)}),t==="personnel"){if(Y.full_name){const de=Y.full_name.split(" ");Y.first_name=de[0],Y.last_name=de.slice(1).join(" ")||"-",delete Y.full_name}if(!Y.personnel_code)continue}Object.keys(Y).length>0&&ke.push(Y)}if(ke.length===0){alert("    .");return}o(!0);try{const{error:Se}=await Yn.from(t).insert(ke);if(Se)throw Se;alert(`${ke.length}     .`)}catch{const ze=E(t),Y=ke.map(de=>({...de,id:gr(),created_at:new Date().toISOString()}));S(t,[...Y,...ze]),alert(` ${ke.length}      .`)}await T()}catch(H){alert("   : "+H.message)}finally{o(!1),b.current&&(b.current.value="")}},F.readAsText(O)},$=P=>{var F;const O=(F=P.target.files)==null?void 0:F[0];if(O){const D=new FileReader;D.onloadend=()=>{u({...l,profile_picture:D.result})},D.readAsDataURL(O)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"  "}),v&&c.jsxs("div",{className:"flex items-center gap-1 bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:[c.jsx(z$,{className:"w-4 h-4"}),"  "]})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx("button",{onClick:T,className:"p-2 bg-gray-200 dark:bg-gray-700 rounded-full hover:rotate-180 transition duration-500",children:c.jsx(Sd,{className:`w-5 h-5 ${i?"animate-spin":""}`})})})]}),h&&c.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg border border-red-200",children:h}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-2 overflow-x-auto flex gap-2 no-scrollbar",children:Pae.map(P=>c.jsx("button",{onClick:()=>e(P),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors text-sm font-medium
                    ${t===P?"bg-primary text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:wE[P]},P))}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm min-h-[400px]",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[c.jsx("h3",{className:"font-bold text-lg text-gray-700 dark:text-gray-200",children:wE[t]}),d.length>0&&c.jsxs("button",{onClick:j,className:"bg-red-50 text-red-600 hover:bg-red-100 px-3 py-1.5 rounded-lg flex items-center gap-2 text-sm transition animate-fadeIn",children:[c.jsx(Yt,{className:"w-4 h-4"}),"  ",d.length," "]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto justify-end",children:[c.jsxs("button",{onClick:M,className:"bg-green-50 text-green-700 border border-green-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-green-100 transition",children:[c.jsx(v$,{className:"w-4 h-4"}),"  /  "]}),c.jsx("input",{type:"file",ref:b,accept:".csv",onChange:U,className:"hidden"}),c.jsxs("button",{onClick:()=>{var P;return(P=b.current)==null?void 0:P.click()},className:"bg-blue-50 text-blue-700 border border-blue-200 px-3 py-2 rounded-lg flex items-center gap-2 text-sm hover:bg-blue-100 transition",children:[c.jsx(Nd,{className:"w-4 h-4"}),"    (CSV)"]}),c.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 hidden md:block"}),c.jsxs("button",{onClick:k,className:"bg-primary hover:bg-red-800 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm transition shadow-lg",children:[c.jsx(yr,{className:"w-4 h-4"}),"  "]})]})]}),c.jsx(Nae,{data:n,columns:w[t]||[],onEdit:A,onDelete:C,isLoading:i,selectable:!0,selectedIds:d,onSelect:f})]}),a&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[c.jsx("h3",{className:"font-bold",children:l!=null&&l.id?" ":"  "}),c.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-gray-200 rounded-full",children:c.jsx(nn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:R,className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[w[t].map(P=>{const O=_.includes(P.key);return c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[P.header," ",O&&c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:P.key==="email"?"email":"text",value:l[P.key]||"",onChange:F=>u({...l,[P.key]:F.target.value}),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-primary outline-none",placeholder:P.key==="mobile"?": 09123456789":""})]},String(P.key))}),t==="personnel"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:" "}),c.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-dashed border-gray-300 dark:border-gray-600",children:[c.jsxs("div",{onClick:()=>{var P;return(P=x.current)==null?void 0:P.click()},className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-600 overflow-hidden border-2 border-white shadow-sm cursor-pointer hover:opacity-80 transition relative group",children:[l.profile_picture?c.jsx("img",{src:l.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:c.jsx(yd,{className:"w-8 h-8"})}),c.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:c.jsx(Nd,{className:"w-6 h-6 text-white"})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("input",{type:"file",ref:x,accept:"image/*",className:"hidden",onChange:$}),c.jsxs("button",{type:"button",onClick:()=>{var P;return(P=x.current)==null?void 0:P.click()},className:"text-sm bg-blue-50 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-100 flex items-center gap-2 mb-1 w-full justify-center",children:[c.jsx(yd,{className:"w-4 h-4"}),"  "]}),c.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:" : JPG, PNG"})]})]})]}),c.jsxs("div",{className:"pt-4 flex gap-3 sticky bottom-0 bg-white dark:bg-gray-800 pb-2",children:[c.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 py-2.5 border rounded-lg hover:bg-gray-50 transition",children:""}),c.jsxs("button",{type:"submit",disabled:i,className:"flex-1 py-2.5 bg-primary text-white rounded-lg hover:bg-red-800 flex justify-center gap-2 items-center transition shadow-lg",children:[i?c.jsx(Sd,{className:"w-4 h-4 animate-spin"}):c.jsx(os,{className:"w-4 h-4"})," "]})]})]})]})})]})},Pr=({value:t,onChange:e,label:n,error:r,disableFuture:i=!0})=>{const[o,a]=N.useState(!1),[s,l]=N.useState(1403),[u,d]=N.useState(1),f=N.useRef(null);N.useEffect(()=>{if(t){const T=t.split("/").map(Number);T.length===3&&(l(T[0]),d(T[1]))}else{const T=nt().split("/").map(Number);l(T[0]),d(T[1])}},[t,o]),N.useEffect(()=>{const T=k=>{f.current&&!f.current.contains(k.target)&&a(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const h=["","","","","","","","","","","",""],g=["","","","","","",""],v=(T,k)=>k<=6?31:k<=11||T%33===1||T%33===5||T%33===9||T%33===13||T%33===17||T%33===22||T%33===26||T%33===30?30:29,y=(T,k)=>{const{gy:A,gm:C,gd:j}=B2(T,k,1);return new Date(A,C-1,j).getDay()},b=()=>{u===1?(d(12),l(T=>T-1)):d(T=>T-1)},x=()=>{u===12?(d(1),l(T=>T+1)):d(T=>T+1)},w=T=>{const k=`${s}/${String(u).padStart(2,"0")}/${String(T).padStart(2,"0")}`;i&&Of(k)||(e(k),a(!1))},_=()=>{const T=nt();e(T),a(!1)},E=(y(s,u)+1)%7,S=v(s,u);return c.jsxs("div",{className:"relative",ref:f,children:[n&&c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),c.jsxs("button",{type:"button",onClick:()=>a(!o),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-100 hover:border-primary/50"} ${o?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[c.jsx("span",{className:`${t?"text-sm font-medium":"text-gray-400 text-sm"}`,children:t||" ..."}),c.jsx(p$,{className:"w-4 h-4 text-gray-400"})]}),o&&c.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("button",{onClick:b,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:c.jsx(ah,{className:"w-4 h-4"})}),c.jsxs("span",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:[h[u-1]," ",s]}),c.jsx("button",{onClick:x,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition",children:c.jsx(u0,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-medium text-gray-400",children:g.map((T,k)=>c.jsx("span",{className:k===6?"text-red-500 font-bold":"",children:T},k))}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:E}).map((T,k)=>c.jsx("div",{},`empty-${k}`)),Array.from({length:S}).map((T,k)=>{const A=k+1,C=`${s}/${String(u).padStart(2,"0")}/${String(A).padStart(2,"0")}`,j=t===C,R=i&&Of(C),M=(E+k)%7===6;return c.jsx("button",{type:"button",disabled:R,onClick:()=>w(A),className:`w-8 h-8 rounded-lg text-sm flex items-center justify-center transition-all
                     ${j?"bg-primary text-white shadow-md font-bold":R?"text-gray-200 dark:text-gray-600 cursor-not-allowed":M?"text-red-500 font-medium hover:bg-red-50 dark:hover:bg-red-900/20":"hover:bg-primary/10 text-gray-700 dark:text-gray-300"}`,children:A},A)})]}),c.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-gray-700",children:c.jsx("button",{type:"button",onClick:_,className:"w-full py-2 text-xs text-primary bg-primary/5 hover:bg-primary/10 rounded-lg font-medium transition-colors",children:"  "})})]})]})},Wt=({value:t,onChange:e,label:n})=>{const[r,i]=N.useState(!1),[o,a]=N.useState("HOURS"),s=N.useRef(null),[l,u]=N.useState("00"),[d,f]=N.useState("00");N.useEffect(()=>{if(t&&t.includes(":")){const[w,_]=t.split(":");u(w),f(_)}},[t,r]),N.useEffect(()=>{const w=_=>{s.current&&!s.current.contains(_.target)&&i(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const h=w=>{u(w),a("MINUTES")},g=w=>{f(w),e(`${l}:${w}`),i(!1),a("HOURS")},v=(w,_,E)=>{const S=w*(360/_)-90,T=E*Math.cos(S*Math.PI/180),k=E*Math.sin(S*Math.PI/180);return{transform:`translate(${T}px, ${k}px)`}},y=[12,13,14,15,16,17,18,19,20,21,22,23],b=[12,1,2,3,4,5,6,7,8,9,10,11],x=[0,5,10,15,20,25,30,35,40,45,50,55];return c.jsxs("div",{className:"relative",ref:s,children:[n&&c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),c.jsxs("button",{type:"button",onClick:()=>i(!r),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"ring-2 ring-primary/20 border-primary shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-primary/50"}
        `,children:[c.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"text-gray-800 dark:text-gray-100":"text-gray-400 font-sans text-sm tracking-normal"}`,children:t||"--:--"}),c.jsx(sh,{className:"w-5 h-5 text-gray-400"})]}),r&&c.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-64 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-600 p-4 animate-fadeIn flex flex-col items-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6 text-4xl font-bold text-gray-700 dark:text-white",children:[c.jsx("button",{type:"button",onClick:()=>a("HOURS"),className:`p-1 rounded ${o==="HOURS"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:l}),c.jsx("span",{className:"text-gray-300 pb-2",children:":"}),c.jsx("button",{type:"button",onClick:()=>a("MINUTES"),className:`p-1 rounded ${o==="MINUTES"?"text-primary":"text-gray-300 dark:text-gray-600"}`,children:d})]}),c.jsxs("div",{className:"relative w-48 h-48 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:[c.jsx("div",{className:"absolute w-1 h-1 bg-primary rounded-full z-10"}),o==="HOURS"&&c.jsxs(c.Fragment,{children:[y.map((w,_)=>{const E=w===12?"00":w,S=String(E).padStart(2,"0"),T=l===S;return c.jsx("button",{type:"button",onClick:()=>h(S),style:v(_,12,85),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${T?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:E},`out-${w}`)}),b.map((w,_)=>{const E=String(w).padStart(2,"0"),S=l===E;return c.jsx("button",{type:"button",onClick:()=>h(E),style:v(_,12,50),className:`absolute w-7 h-7 rounded-full flex items-center justify-center text-xs font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-400 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:w===12?"12":w},`in-${w}`)})]}),o==="MINUTES"&&c.jsxs(c.Fragment,{children:[x.map((w,_)=>{const E=String(w).padStart(2,"0"),S=d===E;return c.jsx("button",{type:"button",onClick:()=>g(E),style:v(_,12,80),className:`absolute w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all
                            ${S?"bg-primary text-white scale-110 shadow-lg z-20":"text-gray-500 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}
                          `,children:E},`m-${w}`)}),c.jsx("div",{className:"absolute w-2 h-2 bg-gray-300 rounded-full"})]})]}),c.jsx("div",{className:"text-xs text-gray-400 text-center",children:o==="HOURS"?"   ":"   "})]})]})},Uu=()=>{try{const t=localStorage.getItem("workflows");return t?JSON.parse(t):[]}catch{return[]}},V2=t=>{localStorage.setItem("workflows",JSON.stringify(t))},Fu=()=>{try{const t=localStorage.getItem("cartable");return t?JSON.parse(t):[]}catch{return[]}},G2=t=>{localStorage.setItem("cartable",JSON.stringify(t))},Tx=()=>{try{const t=localStorage.getItem("documents");return t?JSON.parse(t):[]}catch{return[]}},jae=t=>{const e=Tx();e.push(t),localStorage.setItem("documents",JSON.stringify(e))},_E=()=>Tx(),Oae=t=>{const n=Tx().filter(r=>r.id!==t);localStorage.setItem("documents",JSON.stringify(n))},Zh=()=>{try{const t=localStorage.getItem("messages");return t?JSON.parse(t):[]}catch{return[]}},H2=t=>{localStorage.setItem("messages",JSON.stringify(t))},Rae=(t,e,n,r,i)=>{const o=Zh(),a={id:gr(),senderId:t.id,senderName:t.fullName,receiverId:e,receiverType:n,subject:r,body:i,createdAt:`${nt()} ${vu()}`,readBy:[]};o.push(a),H2(o)},Mae=t=>Zh().filter(n=>n.receiverType==="USER"&&n.receiverId===t.id||n.receiverType==="ALL"||n.receiverType==="GROUP"&&n.receiverId===t.role).sort((n,r)=>r.createdAt.localeCompare(n.createdAt)),$ae=t=>Zh().filter(n=>n.senderId===t).sort((n,r)=>r.createdAt.localeCompare(n.createdAt)),Dae=(t,e)=>{const n=Zh(),r=n.findIndex(i=>i.id===t);if(r!==-1){const i=n[r];i.readBy.includes(e)||(i.readBy.push(e),n[r]=i,H2(n))}},Nn=async t=>{try{const{data:e,error:n}=await Yn.from(t).select("*");if(!n&&e&&e.length>0)return e}catch{console.warn(`Failed to fetch ${t} from Supabase, falling back to defaults.`)}return t==="measurement_units"?[{id:"1",title:""},{id:"2",title:""},{id:"3",title:""},{id:"4",title:""},{id:"5",title:""},{id:"6",title:""},{id:"7",title:""},{id:"8",title:""}]:t==="locations"?[{id:"L-1",name:" "},{id:"L-2",name:" "},{id:"L-3",name:" "},{id:"L-4",name:" "}]:t==="equipment"?[{id:"1",code:"PM-101",name:"Centrifugal Pump 101",class_id:"CLASS-2",group_id:"GRP-1",location_id:"L-2"},{id:"2",code:"CV-202",name:"Main Conveyor Belt",class_id:"CLASS-1",group_id:"GRP-3",location_id:"L-1"},{id:"3",code:"CR-300",name:"Jaw Crusher A",class_id:"CLASS-1",group_id:"GRP-2",location_id:"L-1"}]:[]},Lae=async t=>{try{const{data:e,error:n}=await Yn.rpc("get_next_tracking_code",{prefix_input:t});return n?(console.error("RPC Error:",n),t+Math.floor(Math.random()*9e3+1e3)):e}catch(e){return console.error("Fetch Code Error:",e),t+Math.floor(Math.random()*9e3+1e3)}},Uae=()=>{let t=Uu();if(!t.find(e=>e.module==="WORK_ORDER")){const e={id:"default-wo-flow",module:"WORK_ORDER",title:"  ",isActive:!0,steps:[{id:"step-request",title:"",assigneeRole:"INITIATOR",description:"   ",actions:[{id:"act-submit",label:"  ",nextStepId:"step-inprogress",style:"primary"}]},{id:"step-inprogress",title:"  ",assigneeRole:Xt.USER,description:"    ",actions:[{id:"act-finish",label:"     ",nextStepId:"step-verify",style:"success"}]},{id:"step-verify",title:"",assigneeRole:Xt.MANAGER,description:"    ",actions:[{id:"act-approve",label:" ",nextStepId:"step-finish",style:"success"},{id:"act-reject",label:"  (  )",nextStepId:"step-inprogress",style:"danger"}]},{id:"step-finish",title:"",assigneeRole:Xt.ADMIN,description:" ",actions:[{id:"act-close",label:" ",nextStepId:"FINISH",style:"neutral"}]}]};t.push(e),V2(t)}};Uae();const xu=()=>Uu(),Fae=t=>{const e=Uu(),n=e.findIndex(r=>r.id===t.id);n>=0?e[n]=t:e.push(t),V2(e)},Ri=(t,e,n,r,i)=>{let a=Uu().find(d=>d.module===t&&d.isActive);a||(a={id:`dummy-${t}`,module:t,title:" ",isActive:!0,steps:[{id:"step-start",title:" ",assigneeRole:"INITIATOR",actions:[]}]});const s=a.steps[0],l={id:gr(),workflowId:a.id,trackingCode:r,module:t,title:i,description:`   ${n.fullName}`,currentStepId:s.id,initiatorId:n.id,assigneeRole:s.assigneeRole==="INITIATOR"?n.role:s.assigneeRole,status:"PENDING",createdAt:nt(),updatedAt:nt(),data:{...e,status:"REQUEST"}},u=Fu();return u.push(l),G2(u),l},Bae=(t,e,n,r)=>{const i=Fu(),o=i.findIndex(f=>f.id===t);if(o===-1)return;const a=i[o],l=Uu().find(f=>f.id===a.workflowId);if(!l)return;const u=l.steps.find(f=>f.id===a.currentStepId);if(!u)return;const d=u.actions.find(f=>f.id===e);if(d){if(d.nextStepId==="FINISH")a.status="DONE",a.assigneeRole=Xt.ADMIN,a.description=`   ${n.fullName}`,a.data&&(a.data.status="FINISHED");else{const f=l.steps.find(h=>h.id===d.nextStepId);if(f){a.currentStepId=f.id;const h=f.assigneeRole;h==="INITIATOR"?a.assigneeRole="INITIATOR":a.assigneeRole=h,a.updatedAt=nt(),a.description=`   ${f.assigneeRole}  ${n.fullName}`,a.module==="WORK_ORDER"&&(f.title===""?a.data.status="REQUEST":f.title==="  "?a.data.status="IN_PROGRESS":f.title===""?a.data.status="VERIFICATION":f.title===""&&(a.data.status="FINISHED"))}}i[o]=a,G2(i)}},SE=t=>Fu().filter(n=>n.status==="PENDING"&&(n.assigneeRole===t.role||n.assigneeRole==="INITIATOR"&&n.initiatorId===t.id||n.assigneeId===t.id)),z2=()=>Fu().filter(e=>e.module==="WORK_ORDER"),Co=t=>Fu().filter(n=>n.module===t),kx=({initialData:t,onProcessComplete:e})=>{const n=is(),r=JSON.parse(localStorage.getItem("currentUser")||"{}"),i=!!t,o=i?"   ()":"  ",[a,s]=N.useState("GENERAL"),[l,u]=N.useState(null),[d,f]=N.useState(null),[h,g]=N.useState(!1),[v,y]=N.useState(null),[b,x]=N.useState(!1),[w,_]=N.useState([]),[E,S]=N.useState([]),[T,k]=N.useState([]),[A,C]=N.useState([]),[j,R]=N.useState([]),[M,U]=N.useState([]),$=N.useRef(null),[P,O]=N.useState({equipCode:"",equipName:"",equipLocalName:"",locationId:"",productionLine:"",requester:r.fullName||" ",reportDate:nt(),reportTime:vu(),shift:"DayWork",workCategory:"MECHANICAL",workType:"REPAIR",priority:"NORMAL",failureDesc:"",actionDesc:"",startDate:nt(),startTime:"",endDate:nt(),endTime:"",downtime:"",repairTime:""}),[F,D]=N.useState([]),[B,V]=N.useState([]),[Q,H]=N.useState([]);N.useEffect(()=>{(async()=>{const ne=await Nn("equipment"),ue=await Nn("equipment_local_names"),ye=await Nn("locations");S(ne),k(ue),R(ne),U(ue),C(ye),_(await Nn("measurement_units"))})(),t&&(O(ne=>({...ne,...t})),t.labor&&D(t.labor),t.parts&&V(t.parts),t.docs&&H(t.docs))},[t]);const ae=q=>{const ne=q.target.value,ue=E.find(ye=>ye.code===ne);if(!ue){O(ye=>({...ye,equipCode:"",equipName:"",locationId:""})),U(T);return}if(O(ye=>({...ye,equipCode:ne,equipName:ue.name,locationId:ue.location_id||""})),ue.class_id&&ue.group_id){const ye=T.filter(Ie=>Ie.class_id===ue.class_id&&Ie.group_id===ue.group_id);U(ye)}else U(T)},ve=q=>{const ne=q.target.value,ue=T.find(ye=>ye.local_name===ne);if(O(ye=>({...ye,equipLocalName:ne})),ue&&ue.class_id&&ue.group_id){const ye=E.filter(Ie=>Ie.class_id===ue.class_id&&Ie.group_id===ue.group_id);R(ye)}else R(E)},be=q=>{const ne=window.SpeechRecognition||window.webkitSpeechRecognition;if(!ne){alert("         .");return}if(v===q){y(null);return}const ue=new ne;ue.lang="fa-IR",ue.continuous=!1,ue.interimResults=!1,ue.onstart=()=>y(q),ue.onend=()=>y(null),ue.onresult=ye=>{const Ie=ye.results[0][0].transcript;O(at=>({...at,[q]:at[q]?`${at[q]} ${Ie}`:Ie}))},ue.start()},ke=()=>{D([...F,{id:Math.random().toString(),name:"",startDate:P.startDate,startTime:P.startTime||"08:00",endDate:P.endDate,endTime:P.endTime||"16:00",durationMinutes:0}])},Se=(q,ne,ue)=>{D(ye=>ye.map(Ie=>{if(Ie.id!==q)return Ie;const at={...Ie,[ne]:ue};return["startDate","startTime","endDate","endTime"].includes(ne)&&(at.durationMinutes=Cae(at.startDate,at.startTime,at.endDate,at.endTime)),at}))},ze=()=>{var q;V([...B,{id:Math.random().toString(),code:"",name:"",qty:1,unit:((q=w[0])==null?void 0:q.title)||""}])},Y=(q,ne,ue)=>{V(ye=>ye.map(Ie=>Ie.id===q?{...Ie,[ne]:ue}:Ie))},de=q=>{if(q.target.files&&q.target.files.length>0){const ne=Array.from(q.target.files).map(ue=>({id:Math.random().toString(),name:ue.name}));H(ue=>[...ue,...ne]),q.target.value=""}},me=(q,ne)=>{q(ue=>ue.filter(ye=>ye.id!==ne))},K=()=>{if(!P.equipCode&&!P.equipLocalName)return"        .";if(!P.productionLine)return"     .";if(!P.workCategory)return"   ()   .";if(!P.failureDesc)return"   .";if(i){if(!P.actionDesc)return"    .";if(!P.startDate||!P.startTime||!P.endDate||!P.endTime)return"      .";if(!P.downtime||!P.repairTime)return"       .";if(Of(P.startDate)||Of(P.endDate))return"         .";if(Aae(P.startDate,P.startTime,P.endDate,P.endTime)===1)return":            ."}return null},Oe=async q=>{q.preventDefault(),f(null);const ne=K();if(ne){f(ne),s("GENERAL"),window.scrollTo(0,0);return}if(!window.confirm(i?"        ":"         "))return;const ue={...P,labor:F,parts:B,docs:Q};if(i&&e)e(ue);else{x(!0);try{const ye=Yr("W").substring(0,5),Ie=await Lae(ye);Ri("WORK_ORDER",ue,r,Ie,` : ${P.equipName||P.equipLocalName} - ${P.failureDesc.substring(0,30)}...`)?(g(!0),u(Ie)):f("   .    .")}catch(ye){console.error(ye),f("        .")}finally{x(!1)}}};return l?c.jsx("div",{className:"max-w-2xl mx-auto pt-8 pb-20 px-4",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden animate-fadeIn",children:[c.jsxs("div",{className:"bg-green-600 p-6 text-center text-white",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:c.jsx(OA,{className:"w-10 h-10 text-white"})}),c.jsx("h2",{className:"text-2xl font-bold mb-1",children:h?"     ":"  "}),c.jsx("p",{className:"opacity-90 font-mono text-lg",children:l})]}),c.jsxs("div",{className:"p-6 space-y-3",children:[c.jsxs("button",{onClick:()=>n("/work-orders"),className:"w-full bg-white border border-gray-200 dark:bg-gray-700 py-3.5 rounded-xl flex items-center justify-center gap-2 font-medium hover:bg-gray-50 dark:hover:bg-gray-600",children:[c.jsx(T$,{className:"w-5 h-5"}),"     "]}),c.jsx("button",{onClick:()=>n("/"),className:"w-full text-gray-500 py-2 text-sm",children:"  "})]})]})}):c.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:o}),i&&c.jsx("div",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-bold",children:" "})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto",children:[c.jsx("button",{type:"button",onClick:()=>s("GENERAL"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="GENERAL"?"border-primary text-primary":"border-transparent"}`,children:" "}),i&&c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>s("LABOR"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="LABOR"?"border-primary text-primary":"border-transparent"}`,children:" "}),c.jsx("button",{type:"button",onClick:()=>s("PARTS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="PARTS"?"border-primary text-primary":"border-transparent"}`,children:" "})]}),c.jsx("button",{type:"button",onClick:()=>s("DOCS"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="DOCS"?"border-primary text-primary":"border-transparent"}`,children:""})]}),c.jsxs("form",{onSubmit:Oe,className:"p-6",children:[d&&c.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 flex items-start gap-3 text-sm animate-pulse border border-red-100",children:[c.jsx(d$,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),c.jsx("span",{children:d})]}),a==="GENERAL"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("span",{className:"font-bold text-sm",children:P.requester})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportDate})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsx("span",{className:"font-bold text-sm font-mono",children:P.reportTime})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{className:"text-xs text-gray-500 mb-1",children:" "}),c.jsxs("select",{value:P.shift,onChange:q=>O({...P,shift:q.target.value}),disabled:i,className:`text-sm font-bold border-none bg-transparent outline-none ${i?"cursor-not-allowed":"cursor-pointer"}`,children:[c.jsx("option",{value:"DayWork",children:""}),c.jsx("option",{value:"A",children:" A"}),c.jsx("option",{value:"B",children:" B"}),c.jsx("option",{value:"C",children:" C"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-100 dark:border-gray-700 space-y-4",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-2",children:"  ()"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:P.equipLocalName,onChange:ve,className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"",children:"  ..."}),M.length>0?M.map(q=>c.jsx("option",{value:q.local_name,children:q.local_name},q.id)):c.jsx("option",{disabled:!0,children:"  "})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  ()"}),i?c.jsx("input",{type:"text",value:P.equipCode,disabled:!0,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed"}):c.jsxs("select",{value:P.equipCode,onChange:ae,className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none disabled:bg-gray-100 disabled:dark:bg-gray-600",children:[c.jsx("option",{value:"",children:"  (  )"}),j.map(q=>c.jsxs("option",{value:q.code,children:[q.code," - ",q.name]},q.id))]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:P.productionLine,onChange:q=>O({...P,productionLine:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"Line A",children:"Line A"}),c.jsx("option",{value:"Line B",children:"Line B"}),c.jsx("option",{value:"Line A&B",children:"Line A&B"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"   ()"}),c.jsx("input",{type:"text",readOnly:!0,value:P.equipName,className:"w-full p-2.5 border rounded-xl bg-gray-200 dark:bg-gray-600 cursor-not-allowed opacity-70",placeholder:"      "})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"  (Location)"}),c.jsxs("select",{disabled:i,value:P.locationId,onChange:q=>O({...P,locationId:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 dark:bg-gray-600 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"",children:" ..."}),A.map(q=>c.jsx("option",{value:q.id,children:q.name},q.id))]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:P.workType,onChange:q=>O({...P,workType:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"REPAIR",children:"  (EM)"}),c.jsx("option",{value:"PM",children:"  (PM)"}),c.jsx("option",{value:"PROJECT",children:" / "}),c.jsx("option",{value:"INSPECTION",children:" "}),c.jsx("option",{value:"SERVICE",children:" "})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:P.workCategory,onChange:q=>O({...P,workCategory:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"MECHANICAL",children:""}),c.jsx("option",{value:"ELECTRICAL",children:""}),c.jsx("option",{value:"INSTRUMENTATION",children:" "}),c.jsx("option",{value:"FACILITIES",children:" "})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{required:!0,disabled:i,value:P.priority,onChange:q=>O({...P,priority:q.target.value}),className:`w-full p-2.5 border rounded-xl outline-none ${i?"bg-gray-200 cursor-not-allowed":"bg-white dark:bg-gray-700"}`,children:[c.jsx("option",{value:"NORMAL",children:""}),c.jsx("option",{value:"URGENT",children:""}),c.jsx("option",{value:"CRITICAL",children:" ( )"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["  /  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{required:!0,readOnly:i,className:`w-full p-4 border rounded-xl h-28 pl-10 resize-none ${i?"bg-gray-100 cursor-not-allowed":"bg-gray-50 dark:bg-gray-700"}`,placeholder:"    ...",value:P.failureDesc,onChange:q=>O({...P,failureDesc:q.target.value})}),!i&&c.jsx("button",{type:"button",onClick:()=>be("failureDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${v==="failureDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:v==="failureDesc"?c.jsx(il,{className:"w-5 h-5 animate-spin"}):c.jsx(jr,{className:"w-5 h-5"})})]})]}),i&&c.jsxs("div",{className:"space-y-6 border-t-2 border-dashed border-gray-300 dark:border-gray-600 pt-6 mt-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-primary flex items-center gap-2",children:[c.jsx(IA,{className:"w-5 h-5"}),"    (  )"]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:["   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{required:!0,className:"w-full p-4 border rounded-xl bg-white dark:bg-gray-700 h-28 pl-10 outline-none resize-none",placeholder:"    ...",value:P.actionDesc,onChange:q=>O({...P,actionDesc:q.target.value})}),c.jsx("button",{type:"button",onClick:()=>be("actionDesc"),className:`absolute left-2 bottom-2 p-2 transition rounded-full ${v==="actionDesc"?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-primary"}`,children:v==="actionDesc"?c.jsx(il,{className:"w-5 h-5 animate-spin"}):c.jsx(jr,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(Pr,{label:" ",value:P.startDate,onChange:q=>O({...P,startDate:q})}),c.jsx(Wt,{label:" ",value:P.startTime,onChange:q=>O({...P,startTime:q})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(Pr,{label:" ",value:P.endDate,onChange:q=>O({...P,endDate:q})}),c.jsx(Wt,{label:" ",value:P.endTime,onChange:q=>O({...P,endTime:q})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",required:!0,value:P.downtime,onChange:q=>O({...P,downtime:q.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-medium mb-1.5",children:["   () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",required:!0,value:P.repairTime,onChange:q=>O({...P,repairTime:q.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 text-center"})]})]})]})]})]}),a==="LABOR"&&c.jsxs("div",{className:"space-y-4",children:[F.map(q=>c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 space-y-3 animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1 ml-2",children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:q.name,onChange:ne=>Se(q.id,"name",ne.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:[c.jsx("option",{value:"",children:"..."}),c.jsx("option",{value:" ",children:"  ()"}),c.jsx("option",{value:" ",children:"  ()"})]})]}),c.jsx("button",{type:"button",onClick:()=>me(D,q.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-lg mt-5",children:c.jsx(Yt,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(Pr,{label:" ",value:q.startDate,onChange:ne=>Se(q.id,"startDate",ne)}),c.jsx(Wt,{label:" ",value:q.startTime,onChange:ne=>Se(q.id,"startTime",ne)}),c.jsx(Pr,{label:" ",value:q.endDate,onChange:ne=>Se(q.id,"endDate",ne)}),c.jsx(Wt,{label:" ",value:q.endTime,onChange:ne=>Se(q.id,"endTime",ne)})]})]},q.id)),c.jsxs("button",{type:"button",onClick:ke,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[c.jsx(yr,{className:"w-4 h-4"}),"   "]})]}),a==="PARTS"&&c.jsxs("div",{className:"space-y-4",children:[B.map(q=>c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl space-y-3 animate-fadeIn relative",children:[c.jsx("button",{type:"button",onClick:()=>me(V,q.id),className:"absolute top-4 left-4 p-1.5 text-red-500 hover:bg-red-100 rounded",children:c.jsx(Yt,{className:"w-4 h-4"})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:" "}),c.jsx("input",{type:"text",value:q.code,onChange:ne=>Y(q.id,"code",ne.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:q.name,onChange:ne=>Y(q.id,"name",ne.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"..."})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:q.qty,onChange:ne=>Y(q.id,"qty",Number(ne.target.value)),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-gray-500 mb-1 block",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:q.unit,onChange:ne=>Y(q.id,"unit",ne.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-800",children:w.length>0?w.map(ne=>c.jsx("option",{value:ne.title,children:ne.title},ne.id)):c.jsx("option",{value:"",children:""})})]})]})]},q.id)),c.jsxs("button",{type:"button",onClick:ze,className:"w-full flex items-center justify-center gap-2 text-primary border-2 border-dashed border-primary/30 px-4 py-3 rounded-lg hover:bg-primary/5 transition",children:[c.jsx(yr,{className:"w-4 h-4"}),"   "]})]}),a==="DOCS"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("input",{type:"file",ref:$,multiple:!0,className:"hidden",onChange:de}),c.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 text-center hover:bg-gray-50 dark:hover:bg-gray-700 transition cursor-pointer",onClick:()=>{var q;return(q=$.current)==null?void 0:q.click()},children:[c.jsx(FA,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 mb-2 font-medium",children:"       "})]}),Q.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"text-sm font-bold text-gray-500",children:"  :"}),Q.map(q=>c.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-700 border p-3 rounded-lg shadow-sm",children:[c.jsx("span",{className:"text-sm truncate max-w-[200px]",children:q.name}),c.jsx("button",{type:"button",onClick:()=>me(H,q.id),className:"text-red-500",children:c.jsx(Yt,{className:"w-4 h-4"})})]},q.id))]})]}),c.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:c.jsxs("button",{disabled:b,type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 disabled:opacity-70 disabled:cursor-wait",children:[b?c.jsx(il,{className:"w-5 h-5 animate-spin"}):c.jsx(os,{className:"w-5 h-5"}),i?"    ":"     "]})})]})]})]})},qae=()=>{const t=is(),[e,n]=N.useState([]),[r,i]=N.useState([]),[o,a]=N.useState([]),[s,l]=N.useState(null),[u,d]=N.useState(!1),[f,h]=N.useState([]),[g,v]=N.useState(""),[y,b]=N.useState("ALL"),[x,w]=N.useState(""),[_,E]=N.useState(""),[S,T]=N.useState(1),[k,A]=N.useState(10);N.useEffect(()=>{const $=z2();n($.sort((P,O)=>O.createdAt.localeCompare(P.createdAt)))},[]),N.useEffect(()=>{let $=e;g&&($=$.filter(P=>{var O;return P.title.includes(g)||P.trackingCode.includes(g)||((O=P.data)==null?void 0:O.equipName)&&P.data.equipName.includes(g)})),y!=="ALL"&&($=$.filter(P=>C(P).includes(y))),x&&($=$.filter(P=>P.createdAt>=x)),_&&($=$.filter(P=>P.createdAt<=_)),i($),T(1),h([])},[e,g,y,x,_]),N.useEffect(()=>{const $=(S-1)*k,P=$+k;a(r.slice($,P))},[r,S,k]);const C=$=>{if($.status==="DONE")return" ";const O=xu().find(D=>D.id===$.workflowId),F=O==null?void 0:O.steps.find(D=>D.id===$.currentStepId);return(F==null?void 0:F.title)||""},j=$=>{const P=C($);let O="bg-gray-100 text-gray-600";return P.includes("")?O="bg-blue-100 text-blue-700":P.includes("")?O="bg-orange-100 text-orange-700":P.includes("")?O="bg-purple-100 text-purple-700":(P.includes("")||$.status==="DONE")&&(O="bg-green-100 text-green-700"),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${O}`,children:P})},R=$=>{$.target.checked?h(o.map(P=>P.id)):h([])},M=$=>{f.includes($)?h(f.filter(P=>P!==$)):h([...f,$])},U=()=>{const $=f.length>0?e.filter(V=>f.includes(V.id)):r;if($.length===0){alert("    .");return}const P=[" ","",""," ","",""],O=$.map(V=>{var Q,H;return[V.trackingCode,((Q=V.data)==null?void 0:Q.equipName)||"-",V.title,((H=V.data)==null?void 0:H.requester)||"-",V.createdAt,C(V)]}),F="data:text/csv;charset=utf-8,\uFEFF"+P.join(",")+`
`+O.map(V=>V.join(",")).join(`
`),D=encodeURI(F),B=document.createElement("a");B.setAttribute("href",D),B.setAttribute("download",`work_orders_report_${new Date().getTime()}.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B)};return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:c.jsx(GA,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"  "}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     "})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[f.length>0&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[f.length,"   "]}),c.jsxs("button",{onClick:U,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[c.jsx(c0,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:" "})]}),c.jsxs("button",{onClick:()=>t("/work-orders/new"),className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[c.jsx(yr,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:"  "})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[c.jsxs("div",{className:"p-4 flex flex-col md:flex-row gap-4 items-center",children:[c.jsxs("div",{className:"relative flex-1 w-full",children:[c.jsx(Ed,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:" (  ...)",value:g,onChange:$=>v($.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),c.jsxs("button",{onClick:()=>d(!u),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${u?"bg-primary/5 border-primary text-primary":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:[c.jsx(lh,{className:"w-5 h-5"}),c.jsx("span",{children:""}),u?c.jsx(MA,{className:"w-4 h-4"}):c.jsx(RA,{className:"w-4 h-4"})]})]}),u&&c.jsxs("div",{className:"px-4 pb-4 pt-0 grid grid-cols-1 md:grid-cols-4 gap-4 animate-fadeIn",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),c.jsxs("select",{value:y,onChange:$=>b($.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none",children:[c.jsx("option",{value:"ALL",children:" "}),c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"",children:"  "}),c.jsx("option",{value:"",children:" "}),c.jsx("option",{value:"",children:" "})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",placeholder:"1403/01/01",value:x,onChange:$=>w($.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",placeholder:"1403/12/29",value:_,onChange:$=>E($.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-left",dir:"ltr"})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{onClick:()=>{b("ALL"),w(""),E(""),v("")},className:"w-full p-2.5 text-red-500 hover:bg-red-50 rounded-lg transition text-sm",children:"  "})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[c.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4 w-10",children:c.jsx("input",{type:"checkbox",onChange:R,checked:o.length>0&&f.length===o.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),c.jsx("th",{className:"p-4",children:" "}),c.jsx("th",{className:"p-4",children:""}),c.jsx("th",{className:"p-4",children:"  / "}),c.jsx("th",{className:"p-4",children:" "}),c.jsx("th",{className:"p-4",children:" "}),c.jsx("th",{className:"p-4",children:""}),c.jsx("th",{className:"p-4",children:""})]})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:o.length>0?o.map($=>{var P,O,F;return c.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${f.includes($.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[c.jsx("td",{className:"p-4",children:c.jsx("input",{type:"checkbox",checked:f.includes($.id),onChange:()=>M($.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),c.jsx("td",{className:"p-4 font-mono font-bold text-gray-600 dark:text-gray-300",children:$.trackingCode}),c.jsx("td",{className:"p-4 font-bold text-gray-800 dark:text-gray-100",children:((P=$.data)==null?void 0:P.equipName)||"-"}),c.jsx("td",{className:"p-4 text-gray-500 truncate max-w-[200px]",children:((O=$.data)==null?void 0:O.failureDesc)||$.title}),c.jsx("td",{className:"p-4",children:((F=$.data)==null?void 0:F.requester)||""}),c.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:$.createdAt}),c.jsx("td",{className:"p-4",children:j($)}),c.jsx("td",{className:"p-4",children:c.jsxs("button",{onClick:()=>l($),className:"text-primary hover:bg-primary/10 p-2 rounded-lg transition flex items-center gap-1 text-xs font-bold",children:[c.jsx(vd,{className:"w-4 h-4"})," "]})})]},$.id)}):c.jsx("tr",{children:c.jsxs("td",{colSpan:8,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[c.jsx(Ed,{className:"w-12 h-12 mb-4 opacity-20"}),c.jsx("span",{children:"     ."})]})})})]})}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{children:""}),c.jsxs("select",{value:k,onChange:$=>{A(Number($.target.value)),T(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:50,children:"50"}),c.jsx("option",{value:100,children:"100"}),c.jsx("option",{value:200,children:"200"})]}),c.jsx("span",{children:"   "}),c.jsxs("span",{className:"mr-2 px-2 border-r border-gray-300 dark:border-gray-600",children:[": ",r.length," "]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{disabled:S===1,onClick:()=>T($=>Math.max(1,$-1)),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(ah,{className:"w-4 h-4"})}),c.jsxs("span",{className:"px-4 text-sm font-bold",children:[" ",S,"  ",Math.ceil(r.length/k)||1]}),c.jsx("button",{disabled:S>=Math.ceil(r.length/k),onClick:()=>T($=>$+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(u0,{className:"w-4 h-4"})})]})]})]}),s&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden animate-fadeIn",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-lg",children:s.title}),c.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-xs",children:s.trackingCode})]}),c.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:c.jsx(nn,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-black/20 p-4",children:c.jsx("div",{className:"pointer-events-none opacity-90",children:c.jsx(kx,{initialData:s.data})})}),c.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-white dark:bg-gray-800 flex justify-end",children:c.jsx("button",{onClick:()=>l(null),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 transition",children:""})})]})})]})},Vae=[{id:"1",desc:"   ",status:null},{id:"2",desc:"  ",status:null},{id:"3",desc:"  ",status:null},{id:"4",desc:"   ",status:null}],Gae=({user:t})=>{const e=is(),[n,r]=N.useState("SELECT"),[i,o]=N.useState(Vae),[a,s]=N.useState(""),l=(h,g)=>{o(v=>v.map(y=>y.id===h?{...y,status:g}:y))},u=()=>{r("SENDING"),setTimeout(()=>{s(Yr("J")),r("RESULT")},3e3)},d=i.filter(h=>h.status===null).length,f=(i.length-d)/i.length*100;if(n==="SELECT")return c.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] space-y-8",children:[c.jsx("div",{className:"w-40 h-40 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center shadow-xl cursor-pointer hover:scale-105 transition",onClick:()=>r("CHECKLIST"),children:c.jsx(M$,{className:"w-20 h-20 text-primary"})}),c.jsx("p",{className:"text-lg font-medium",children:" QR   "}),c.jsx("button",{onClick:()=>r("CHECKLIST"),className:"bg-primary text-white px-8 py-3 rounded-full shadow-lg",children:"   "})]});if(n==="SENDING")return c.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] text-center p-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-primary mb-8"}),c.jsx("h2",{className:"text-xl font-bold mb-4",children:"   ..."}),c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:c.jsx("p",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"      "})})]});if(n==="RESULT"){const h=i.filter(g=>g.status==="NOK");return c.jsxs("div",{className:"max-w-md mx-auto space-y-6 pt-4",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("div",{className:"text-4xl animate-bounce",children:""}),c.jsxs("h2",{className:"text-xl font-bold text-green-600",children:[t.fullName,"  "]}),c.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-2 inline-block font-mono text-sm",children:[" : ",a]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 space-y-4",children:[c.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsx("span",{className:"text-gray-500",children:":"}),c.jsx("span",{children:"  101"}),c.jsx("span",{className:"text-gray-500",children:":"}),c.jsx("span",{children:nt()}),c.jsx("span",{className:"text-gray-500",children:":"}),c.jsxs("span",{className:"text-green-600 font-bold",children:[i.filter(g=>g.status==="OK").length," "]}),c.jsx("span",{className:"text-gray-500",children:":"}),c.jsxs("span",{className:"text-red-600 font-bold",children:[h.length," "]})]}),h.length>0&&c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded text-sm mt-2",children:[c.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 mb-1",children:" :"}),c.jsx("ul",{className:"list-disc list-inside",children:h.map(g=>c.jsx("li",{children:g.desc},g.id))})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{className:"flex-1 bg-green-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[c.jsx(qA,{className:"w-5 h-5"}),"  "]}),c.jsxs("button",{onClick:()=>e("/"),className:"flex-1 bg-gray-600 text-white py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[c.jsx(S$,{className:"w-5 h-5"})," "]})]})]})}return c.jsxs("div",{className:"max-w-2xl mx-auto pb-24",children:[c.jsxs("div",{className:"sticky top-0 bg-gray-50 dark:bg-gray-900 z-10 py-4 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("h2",{className:"font-bold text-lg",children:"   PM-101"}),c.jsxs("span",{className:"text-sm bg-accent text-white px-2 py-1 rounded-full",children:[d," "]})]}),c.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${f}%`}})})]}),c.jsx("div",{className:"space-y-4 mt-4",children:i.map(h=>c.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border-r-4 ${h.status==="OK"?"border-green-500":h.status==="NOK"?"border-red-500":"border-gray-300"}`,children:[c.jsx("p",{className:"font-medium mb-4",children:h.desc}),h.status!=="NOK"?c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>l(h.id,"OK"),className:`flex-1 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors ${h.status==="OK"?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:bg-green-100"}`,children:[c.jsx(oh,{className:"w-5 h-5"})," "]}),c.jsxs("button",{onClick:()=>l(h.id,"NOK"),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-red-100 text-gray-500 rounded-lg flex items-center justify-center gap-2",children:[c.jsx(nn,{className:"w-5 h-5"})," "]})]}):c.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[c.jsxs("label",{className:"text-xs font-bold text-red-500 block mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"   ...",className:"w-full p-2 pr-10 border border-red-300 rounded-lg bg-red-50 dark:bg-red-900/10",autoFocus:!0}),c.jsx(jr,{className:"absolute left-2 top-2 text-gray-400 w-5 h-5"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("button",{className:"text-blue-600 flex items-center gap-1 text-sm",children:[c.jsx(yd,{className:"w-4 h-4"}),"  "]}),c.jsx("button",{onClick:()=>l(h.id,null),className:"text-gray-400 text-sm",children:""})]})]})]},h.id))}),c.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-800 border-t dark:border-gray-700 md:relative md:bg-transparent md:border-none",children:c.jsx("button",{disabled:d>0,onClick:u,className:"w-full bg-primary disabled:bg-gray-400 text-white py-4 rounded-xl font-bold shadow-lg transition-all transform active:scale-95",children:"   "})})]})};function Po({data:t,columns:e,title:n,icon:r,onAdd:i,onViewDetails:o,onDelete:a,searchKeys:s=[]}){const[l,u]=N.useState(t),[d,f]=N.useState(""),[h,g]=N.useState(1),[v,y]=N.useState(10),[b,x]=N.useState([]),[w,_]=N.useState(!1);N.useEffect(()=>{let j=t;if(d){const R=d.toLowerCase();j=j.filter(M=>Object.values(M).join(" ").toLowerCase().includes(R))}u(j),g(1)},[t,d]);const E=(h-1)*v,S=E+v,T=l.slice(E,S),k=j=>{j.target.checked?x(T.map(R=>R.id)):x([])},A=j=>{b.includes(j)?x(b.filter(R=>R!==j)):x([...b,j])},C=()=>{const j=b.length>0?t.filter(P=>b.includes(P.id)):l;if(j.length===0)return alert("    ");const R=e.map(P=>P.header),M=j.map(P=>e.map(O=>{const F=O.accessor(P);return typeof F=="string"||typeof F=="number"?F:"-"})),U="data:text/csv;charset=utf-8,\uFEFF"+R.join(",")+`
`+M.map(P=>P.join(",")).join(`
`),$=document.createElement("a");$.setAttribute("href",encodeURI(U)),$.setAttribute("download",`export_${Date.now()}.csv`),document.body.appendChild($),$.click(),document.body.removeChild($)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[r&&c.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:c.jsx(r,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:n}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["  ",n]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[b.length>0&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg text-sm font-medium animate-fadeIn",children:[b.length,"  "]}),c.jsxs("button",{onClick:C,className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-600 px-4 py-2.5 rounded-xl shadow-sm flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition font-medium",children:[c.jsx(c0,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:""})]}),i&&c.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2.5 rounded-xl shadow-lg shadow-red-900/20 flex items-center gap-2 hover:bg-red-800 transition transform active:scale-95 font-medium",children:[c.jsx(yr,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:" "})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 flex gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Ed,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:j=>f(j.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-primary transition-all"})]}),c.jsx("button",{className:"bg-gray-50 dark:bg-gray-700 p-2.5 rounded-xl border border-gray-200 dark:border-gray-600",children:c.jsx(lh,{className:"w-5 h-5 text-gray-500"})})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-gray-700",children:[c.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4 w-10",children:c.jsx("input",{type:"checkbox",onChange:k,checked:T.length>0&&b.length===T.length,className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((j,R)=>c.jsx("th",{className:"p-4",children:j.header},R)),c.jsx("th",{className:"p-4",children:""})]})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:T.length>0?T.map((j,R)=>c.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-gray-700/50 transition ${b.includes(j.id)?"bg-blue-50 dark:bg-blue-900/10":""}`,children:[c.jsx("td",{className:"p-4",children:c.jsx("input",{type:"checkbox",checked:b.includes(j.id),onChange:()=>A(j.id),className:"w-4 h-4 rounded text-primary focus:ring-primary cursor-pointer"})}),e.map((M,U)=>c.jsx("td",{className:"p-4",children:M.accessor(j)},U)),c.jsxs("td",{className:"p-4 flex gap-2",children:[o&&c.jsx("button",{onClick:()=>o(j),className:"p-2 text-primary bg-primary/10 rounded-lg hover:bg-primary/20 transition",children:c.jsx(vd,{className:"w-4 h-4"})}),a&&c.jsx("button",{onClick:()=>a(j),className:"p-2 text-red-500 bg-red-50 rounded-lg hover:bg-red-100 transition",children:c.jsx(Yt,{className:"w-4 h-4"})})]})]},j.id||R)):c.jsx("tr",{children:c.jsx("td",{colSpan:e.length+2,className:"p-12 text-center text-gray-400",children:"  ."})})})]})}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 p-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{children:""}),c.jsxs("select",{value:v,onChange:j=>{y(Number(j.target.value)),g(1)},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded p-1 outline-none",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:50,children:"50"}),c.jsx("option",{value:100,children:"100"}),c.jsx("option",{value:200,children:"200"})]}),c.jsxs("span",{children:[": ",l.length]})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{disabled:h===1,onClick:()=>g(j=>j-1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:c.jsx(ah,{className:"w-4 h-4"})}),c.jsxs("span",{className:"px-4 py-2 text-sm font-bold",children:[" ",h]}),c.jsx("button",{disabled:S>=l.length,onClick:()=>g(j=>j+1),className:"p-2 border rounded-lg hover:bg-white disabled:opacity-50",children:c.jsx(u0,{className:"w-4 h-4"})})]})]})]})]})}const Hae=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState([]),[o,a]=N.useState([]);N.useEffect(()=>{const d=Co("PART_REQUEST");i(d.map(f=>({...f,...f.data}))),Nn("measurement_units").then(a)},[e]);const[s,l]=N.useState({partName:"",partCode:"",qty:1,unit:"",relatedWorkOrder:"",requestReason:""});N.useEffect(()=>{o.length>0&&!s.unit&&l(d=>({...d,unit:o[0].title}))},[o]);const u=d=>{var h;if(d.preventDefault(),!s.relatedWorkOrder&&!s.requestReason.trim()){alert("          ()  .");return}const f=Yr("P");Ri("PART_REQUEST",s,t,f,` : ${s.partName}`),alert("     ."),n("LIST"),l({partName:"",partCode:"",qty:1,unit:((h=o[0])==null?void 0:h.title)||"",relatedWorkOrder:"",requestReason:""})};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Po,{title:"   ",icon:_d,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:d=>d.trackingCode},{header:" ",accessor:d=>c.jsx("span",{className:"font-bold",children:d.partName})},{header:" ",accessor:d=>d.partCode||"-"},{header:"",accessor:d=>c.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 rounded",children:[d.qty," ",d.unit]})},{header:" ",accessor:d=>d.createdAt},{header:" ",accessor:d=>d.description.split("")[1]||"-"},{header:"",accessor:d=>d.status==="PENDING"?"  ":" "}]})}):c.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(_d,{className:"text-primary"}),"    "]}),c.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(nn,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-600",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:" "}),c.jsx("input",{type:"text",value:nt(),disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:""}),c.jsx("input",{type:"text",value:vu(),disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-600 text-center font-bold text-gray-700 dark:text-gray-200 cursor-not-allowed"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"  ()"}),c.jsx("input",{type:"text",value:s.partCode,onChange:d=>l({...s,partCode:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  /  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",required:!0,value:s.partName,onChange:d=>l({...s,partName:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:"   ..."})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",min:"1",value:s.qty,onChange:d=>l({...s,qty:Number(d.target.value)}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:s.unit,onChange:d=>l({...s,unit:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,children:o.length>0?o.map(d=>c.jsx("option",{value:d.title,children:d.title},d.id)):c.jsx("option",{value:"",children:""})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:"   "}),c.jsxs("select",{value:s.relatedWorkOrder,onChange:d=>l({...s,relatedWorkOrder:d.target.value}),className:"w-full p-2.5 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",children:[c.jsx("option",{value:"",children:"  ()"}),c.jsx("option",{children:"W403012293 -  "}),c.jsx("option",{children:"W403012294 -  "})]})]}),!s.relatedWorkOrder&&c.jsxs("div",{className:"animate-fadeIn",children:[c.jsxs("label",{className:"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300",children:["  /   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{required:!0,value:s.requestReason,onChange:d=>l({...s,requestReason:d.target.value}),className:"w-full p-3 border rounded-xl bg-white dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"        (     )..."})]}),c.jsxs("div",{className:"pt-4 flex gap-3",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95 font-bold",children:"  "})]})]})})]})},zae=()=>{const[t,e]=N.useState("LIST"),[n,r]=N.useState([]);N.useEffect(()=>{r(_E())},[t]);const i=N.useRef(null),[o,a]=N.useState(null),[s,l]=N.useState({code:"",name:"",type:""}),u=()=>{var g;(g=i.current)==null||g.click()},d=g=>{g.target.files&&g.target.files[0]&&a(g.target.files[0])},f=g=>{if(g.preventDefault(),!s.code||!s.name)return;const v={id:gr(),code:s.code,name:s.name,type:s.type,fileName:o?o.name:" ",createdAt:nt()};jae(v),alert("    ."),l({code:"",name:"",type:""}),a(null),i.current&&(i.current.value=""),e("LIST")},h=g=>{window.confirm("      ")&&(Oae(g.id),r(_E()))};return t==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Po,{title:"  ",icon:md,data:n,onAdd:()=>e("NEW"),onDelete:h,columns:[{header:" ",accessor:g=>c.jsx("span",{className:"font-mono font-bold",children:g.code})},{header:" ",accessor:g=>g.name},{header:" ",accessor:g=>g.type},{header:" ",accessor:g=>g.fileName||"-"},{header:" ",accessor:g=>g.createdAt}]})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(md,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"    "})]}),c.jsx("button",{onClick:()=>e("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(nn,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm h-fit",children:c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:s.code,onChange:g=>l({...s,code:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:": MAP-101"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:s.name,onChange:g=>l({...s,name:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:"   ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:s.type,onChange:g=>l({...s,type:g.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,children:[c.jsx("option",{value:"",children:" ..."}),c.jsx("option",{value:"MAP",children:""}),c.jsx("option",{value:"CATALOG",children:""}),c.jsx("option",{value:"MANUAL",children:""}),c.jsx("option",{value:"OTHER",children:""})]})]}),c.jsx("input",{type:"file",ref:i,onChange:d,className:"hidden"}),c.jsxs("div",{onClick:u,className:`border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition
                ${o?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,children:[c.jsx(Nd,{className:`w-10 h-10 mx-auto mb-4 ${o?"text-green-600":"text-gray-400"}`}),c.jsx("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 block",children:o?o.name:"    "}),c.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:"PDF, JPG, PNG (Max 10MB)"})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>e("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl hover:bg-red-800 shadow-lg font-bold",children:"  "})]})]})})]})},EE=({value:t,onChange:e,label:n,error:r})=>{const[i,o]=N.useState(!1),a=N.useRef(null),s=Array.from({length:24},(g,v)=>String(v).padStart(2,"0")),l=Array.from({length:12},(g,v)=>String(v*5).padStart(2,"0"));N.useEffect(()=>{const g=v=>{a.current&&!a.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const[u,d]=t?t.split(":"):["--","--"],f=g=>{e(`${g}:${d==="--"?"00":d}`)},h=g=>{e(`${u==="--"?"00":u}:${g}`),o(!1)};return c.jsxs("div",{className:"relative",ref:a,children:[n&&c.jsx("label",{className:"block text-xs font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:n}),c.jsxs("button",{type:"button",onClick:()=>o(!i),className:`w-full flex items-center justify-between px-4 py-2.5 bg-white dark:bg-gray-700 rounded-xl border transition-all
        ${r?"border-red-500 text-red-500":"border-gray-200 dark:border-gray-600 hover:border-primary/50 text-gray-800 dark:text-gray-100"} ${i?"ring-2 ring-primary/20 border-primary shadow-sm":""}`,children:[c.jsx("span",{className:`font-mono text-lg tracking-wider ${t?"":"text-gray-400 text-sm font-sans tracking-normal"}`,children:t||" ..."}),c.jsx(sh,{className:"w-4 h-4 text-gray-400"})]}),i&&c.jsxs("div",{className:"absolute top-full left-0 z-50 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-600 p-2 animate-fadeIn flex gap-2 h-64",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[c.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),l.map(g=>c.jsx("button",{type:"button",onClick:()=>h(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${d===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]}),c.jsx("div",{className:"flex items-center justify-center font-bold text-gray-300",children:":"}),c.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar rounded-lg bg-gray-50 dark:bg-gray-700/50",children:[c.jsx("div",{className:"text-xs text-center text-gray-400 py-1 sticky top-0 bg-gray-50 dark:bg-gray-700/50",children:""}),s.map(g=>c.jsx("button",{type:"button",onClick:()=>f(g),className:`w-full text-center py-2 text-sm font-mono rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition
                        ${u===g?"bg-primary text-white hover:bg-primary font-bold shadow-sm":"text-gray-700 dark:text-gray-300"}
                    `,children:g},g))]})]})]})},Wae=({user:t})=>{const e=JSON.parse(localStorage.getItem("currentUser")||"{}"),[n,r]=N.useState("LIST"),[i,o]=N.useState([]),[a,s]=N.useState([]),[l,u]=N.useState([]);N.useEffect(()=>{const k=Co("MEETING");o(k.map(A=>({...A,...A.data}))),Nn("personnel").then(s),Nn("org_chart").then(u)},[n]);const d=N.useRef(null),[f,h]=N.useState([]),[g,v]=N.useState([]),[y,b]=N.useState({name:"",role:""}),[x,w]=N.useState({code:"",subject:"",location:"",meetingDate:nt(),startTime:"",endTime:"",decisions:""}),_=()=>{if(!y.name||!y.role){alert("      ");return}v([...g,y]),b({name:"",role:""})},E=k=>{v(g.filter((A,C)=>C!==k))},S=k=>{if(k.preventDefault(),g.length===0){alert("         ");return}const A=Yr("G"),C=g.map(j=>`${j.name} - ${j.role}`).join(`
`);Ri("MEETING",{...x,attendees:C,attendeesList:g},e,A,`: ${x.subject}`),alert("  ."),r("LIST"),w({code:"",subject:"",location:"",meetingDate:nt(),startTime:"",endTime:"",decisions:""}),v([]),h([])},T=k=>{k.target.files&&k.target.files.length>0&&h([...f,...Array.from(k.target.files)])};return n==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Po,{title:" ",icon:xd,data:i,onAdd:()=>r("NEW"),columns:[{header:" ",accessor:k=>k.trackingCode},{header:" ",accessor:k=>c.jsx("span",{className:"font-bold",children:k.subject})},{header:" ",accessor:k=>k.meetingDate},{header:"",accessor:k=>`${k.startTime} - ${k.endTime}`},{header:"",accessor:k=>k.location},{header:"",accessor:k=>k.status==="PENDING"?"":" "}]})}):c.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(xd,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),c.jsx("button",{onClick:()=>r("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(nn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:S,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1 font-medium",children:"  ()"}),c.jsx("input",{type:"text",value:x.code,onChange:k=>w({...x,code:k.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:x.subject,onChange:k=>w({...x,subject:k.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1 font-medium",children:" "}),c.jsx("input",{type:"text",value:x.location,onChange:k=>w({...x,location:k.target.value}),className:"w-full p-2.5 border rounded-xl bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),c.jsx("div",{children:c.jsx(Pr,{label:" ",value:x.meetingDate,onChange:k=>w({...x,meetingDate:k})})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 md:col-span-2",children:[c.jsx("div",{children:c.jsx(EE,{label:" ",value:x.startTime,onChange:k=>w({...x,startTime:k})})}),c.jsx("div",{children:c.jsx(EE,{label:" ",value:x.endTime,onChange:k=>w({...x,endTime:k})})})]})]}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800",children:[c.jsxs("label",{className:"block text-sm mb-3 font-bold flex items-center gap-2 text-blue-800 dark:text-blue-300",children:[c.jsx(Nu,{className:"w-4 h-4"}),"   "]}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsxs("select",{className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none",value:y.name,onChange:k=>b({...y,name:k.target.value}),children:[c.jsx("option",{value:"",children:"  ..."}),a.map(k=>c.jsxs("option",{value:`${k.first_name} ${k.last_name}`,children:[k.first_name," ",k.last_name," (",k.unit,")"]},k.id))]}),c.jsxs("select",{className:"flex-1 p-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 outline-none",value:y.role,onChange:k=>b({...y,role:k.target.value}),children:[c.jsx("option",{value:"",children:" /..."}),l.map(k=>c.jsx("option",{value:k.name,children:k.name},k.id))]}),c.jsx("button",{type:"button",onClick:_,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:c.jsx(yr,{className:"w-5 h-5"})})]}),g.length>0?c.jsx("ul",{className:"space-y-2",children:g.map((k,A)=>c.jsxs("li",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 shadow-sm text-sm",children:[c.jsxs("span",{children:[k.name," ",c.jsx("span",{className:"text-gray-400 mx-1",children:"|"})," ",c.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:k.role})]}),c.jsx("button",{type:"button",onClick:()=>E(A),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:c.jsx(Yt,{className:"w-4 h-4"})})]},A))}):c.jsx("p",{className:"text-xs text-gray-500 text-center py-2",children:"   ."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-bold",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{value:x.decisions,onChange:k=>w({...x,decisions:k.target.value}),className:"w-full p-3 border rounded-xl bg-gray-50 dark:bg-gray-700 h-32 focus:ring-2 focus:ring-primary outline-none",required:!0,placeholder:" ..."})]}),c.jsxs("div",{className:"border border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-gray-500 text-sm",children:" (  )"}),c.jsx("input",{type:"file",ref:d,multiple:!0,className:"hidden",onChange:T}),c.jsxs("button",{type:"button",onClick:()=>{var k;return(k=d.current)==null?void 0:k.click()},className:"text-blue-600 text-sm flex items-center gap-1 hover:bg-blue-50 px-2 py-1 rounded transition",children:[c.jsx(yr,{className:"w-4 h-4"}),"  "]})]}),f.length>0&&c.jsx("ul",{className:"text-xs text-gray-600 dark:text-gray-300 space-y-1",children:f.map((k,A)=>c.jsxs("li",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),k.name]},A))})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>r("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow hover:bg-red-800 flex justify-center gap-2 font-bold transition",children:[c.jsx(os,{className:"w-5 h-5"}),"   "]})]})]})]})},Kae=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState([]);N.useEffect(()=>{const v=Co("SUGGESTION");i(v.map(y=>({...y,...y.data})))},[e]);const[o,a]=N.useState(""),s=N.useRef(null),[l,u]=N.useState([]),d=v=>{if(v.preventDefault(),!o.trim())return;const y=Yr("H");Ri("SUGGESTION",{text:o},t,y,`: ${o.substring(0,20)}...`),alert("   ."),n("LIST"),a(""),u([])},f=()=>{var v;(v=s.current)==null||v.click()},h=v=>{v.target.files&&v.target.files.length>0&&u([...l,...Array.from(v.target.files)])},g=v=>{u(l.filter((y,b)=>b!==v))};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Po,{title:" ",icon:wd,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:v=>v.trackingCode},{header:" ",accessor:v=>v.title},{header:" ",accessor:v=>v.createdAt},{header:" ",accessor:v=>v.description.split("")[1]||t.fullName},{header:"",accessor:v=>c.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 rounded-full text-xs font-bold",children:v.status==="PENDING"?"  ":"  "})}]})}):c.jsxs("div",{className:"max-w-2xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(wd,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"  "})]}),c.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(nn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:d,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-500 mb-1",children:" "}),c.jsx("input",{type:"text",value:nt(),disabled:!0,className:"w-full p-2 border rounded bg-gray-100 dark:bg-gray-700 text-gray-500"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium mb-1",children:["   ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:o,onChange:v=>a(v.target.value),className:"w-full h-40 p-3 pl-10 border rounded-lg bg-gray-50 dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none resize-none",placeholder:"         ...",required:!0}),c.jsx("button",{type:"button",className:"absolute bottom-3 left-3 p-2 text-gray-400 hover:text-primary transition-colors",children:c.jsx(jr,{className:"w-6 h-6"})})]})]}),c.jsxs("div",{children:[c.jsx("input",{type:"file",ref:s,multiple:!0,className:"hidden",onChange:h}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 border border-gray-300 dark:border-gray-600 px-4 py-2 rounded-lg transition hover:bg-gray-50 dark:hover:bg-gray-700",children:[c.jsx(FA,{className:"w-4 h-4"}),"  "]}),c.jsx("span",{className:"text-xs text-gray-400",children:" : PDF, JPG (max 5MB)"})]}),l.length>0&&c.jsx("div",{className:"mt-4 space-y-2",children:l.map((v,y)=>c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg text-sm border border-gray-100 dark:border-gray-600",children:[c.jsx("span",{className:"truncate max-w-[200px]",children:v.name}),c.jsx("button",{type:"button",onClick:()=>g(y),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:c.jsx(Yt,{className:"w-4 h-4"})})]},y))})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center justify-center gap-2",children:[c.jsx(Td,{className:"w-5 h-5"}),"  "]})]})]})]})},Jae=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState([]),[o,a]=N.useState([]);N.useEffect(()=>{const E=Co("PURCHASE");i(E.map(S=>({...S,...S.data}))),Nn("measurement_units").then(a)},[e]);const[s,l]=N.useState(""),[u,d]=N.useState(nt()),[f,h]=N.useState(null),[g,v]=N.useState(""),[y,b]=N.useState(1),[x,w]=N.useState("");N.useEffect(()=>{o.length>0&&!x&&w(o[0].title)},[o]);const _=E=>{if(E.preventDefault(),!/^\d{2}\/\d{4}$/.test(s)){h("    .  :    /    (: 03/1005)");return}h(null);const T=Yr("K");Ri("PURCHASE",{requestNumber:s,requestDate:u,desc:g,qty:y,unit:x},t,T,`: ${g.substring(0,15)}...`),alert("   "),n("LIST"),l(""),v(""),b(1),d(nt())};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Po,{title:" ",icon:kd,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:E=>E.trackingCode},{header:" ",accessor:E=>c.jsx("span",{className:"font-mono font-bold",children:E.requestNumber})},{header:" ",accessor:E=>E.desc},{header:"",accessor:E=>E.qty+" "+(E.unit||"")},{header:"",accessor:E=>E.requestDate||E.createdAt},{header:"",accessor:E=>E.status==="PENDING"?" ":" "}]})}):c.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(kd,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold",children:"  /"})]}),c.jsx("button",{onClick:()=>n("LIST"),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(nn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:_,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"input-field bg-gray-100 dark:bg-gray-700 cursor-not-allowed"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"label-text",children:["  (: 03/1000) ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:s,onChange:E=>{l(E.target.value),f&&h(null)},className:`input-field font-mono text-center ${f?"border-red-500 ring-1 ring-red-500":""}`,placeholder:"03/____",required:!0,maxLength:7}),f&&c.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[c.jsx(jA,{className:"w-3 h-3"}),c.jsx("span",{children:f})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:" "}),c.jsx(Pr,{value:u,onChange:d})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:" "}),c.jsxs("select",{className:"input-field",children:[c.jsx("option",{children:" ( )"}),c.jsx("option",{children:" ()"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label-text",children:""}),c.jsxs("select",{className:"input-field",children:[c.jsx("option",{children:""}),c.jsx("option",{children:""}),c.jsx("option",{children:" ( )"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"label-text",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:g,onChange:E=>v(E.target.value),className:"input-field h-32 pl-10",required:!0,placeholder:"     ..."}),c.jsx(jr,{className:"absolute left-3 bottom-3 text-gray-400 cursor-pointer hover:text-primary"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"col-span-1",children:[c.jsxs("label",{className:"label-text",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:y,onChange:E=>b(Number(E.target.value)),className:"input-field",required:!0})]}),c.jsxs("div",{className:"col-span-1",children:[c.jsxs("label",{className:"label-text",children:[" ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:x,onChange:E=>w(E.target.value),className:"input-field",children:o.length>0?o.map(E=>c.jsx("option",{value:E.title,children:E.title},E.id)):c.jsx("option",{value:"",children:""})})]}),c.jsxs("div",{className:"col-span-1",children:[c.jsx("label",{className:"label-text",children:" "}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",className:"input-field pl-8",placeholder:":  "}),c.jsx(jr,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"})]})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700",children:""}),c.jsx("button",{type:"submit",className:"flex-[2] bg-primary text-white py-4 rounded-xl font-bold shadow-lg hover:bg-red-800 transition",children:"    "})]})]}),c.jsx("style",{children:`
        .label-text { display: block; font-size: 0.875rem; margin-bottom: 0.25rem; color: #4b5563; }
        .dark .label-text { color: #d1d5db; }
        .input-field { width: 100%; padding: 0.75rem; border: 1px solid #e5e7eb; border-radius: 0.75rem; background-color: #f9fafb; transition: all 0.2s; }
        .dark .input-field { background-color: #374151; border-color: #4b5563; color: white; }
        .input-field:focus { outline: none; border-color: #800020; ring: 2px; ring-color: #800020; }
      `})]})},Yae=({user:t,onUpdateUser:e,snowMode:n,setSnowMode:r})=>{const i=N.useRef(null),o=a=>{var l;const s=(l=a.target.files)==null?void 0:l[0];if(s){const u=new FileReader;u.onloadend=()=>{const d=u.result;e({...t,avatar:d})},u.readAsDataURL(s)}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:" "}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[c.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-4xl overflow-hidden",children:t.avatar?c.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:"avatar"}):""}),c.jsx("button",{onClick:()=>{var a;return(a=i.current)==null?void 0:a.click()},className:"absolute bottom-0 right-0 bg-primary text-white p-2 rounded-full shadow-lg hover:bg-red-800 transition cursor-pointer z-10",type:"button",children:c.jsx(yd,{className:"w-4 h-4"})}),c.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:o})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold",children:t.fullName}),c.jsx("p",{className:"text-gray-500",children:t.role})]})]}),c.jsxs("form",{className:"space-y-6",onSubmit:a=>a.preventDefault(),children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-bold border-b pb-2",children:" "}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:c.jsx(L$,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium block",children:"  "}),c.jsx("span",{className:"text-xs text-gray-500",children:"     "})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n,onChange:a=>r(a.target.checked)}),c.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-500"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-bold border-b pb-2",children:""}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"  "}),c.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"  "}),c.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1",children:"   "}),c.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-gray-700"})]}),c.jsx("button",{type:"button",className:"bg-primary text-white px-6 py-2 rounded shadow hover:bg-red-800 transition",onClick:()=>alert("    ."),children:" "})]})]})]})]})},Xae=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState([]);N.useEffect(()=>{const y=Co("PROJECT");i(y.map(b=>({...b,...b.data})))},[e]);const[o,a]=N.useState({title:"",manager:"",budget:0,startDate:nt(),endDate:"",description:""}),[s,l]=N.useState([]),[u,d]=N.useState({title:"",weight:10}),f=()=>{if(!u.title)return;const y=s.reduce((b,x)=>b+x.weight,0);if(y+u.weight>100){alert(`      .  : ${100-y}`);return}l([...s,{id:Math.random().toString(),title:u.title,weight:u.weight,progress:0}]),d({title:"",weight:10})},h=y=>{l(s.filter(b=>b.id!==y))},g=()=>{const y=s.reduce((x,w)=>x+w.weight,0);if(y===0)return 0;const b=s.reduce((x,w)=>x+w.progress*w.weight,0);return Math.round(b/y)},v=y=>{y.preventDefault();const b=Yr("P"),x=s.reduce((_,E)=>_+E.weight,0);if(s.length>0&&x!==100){alert(`     .  : ${x}`);return}const w={...o,milestones:s,progress:g()};Ri("PROJECT",w,t,b,`: ${o.title}`),alert("        ."),n("LIST"),a({title:"",manager:"",budget:0,startDate:nt(),endDate:"",description:""}),l([])};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Po,{title:"   ",icon:gd,data:r,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:y=>y.trackingCode},{header:" ",accessor:y=>c.jsx("span",{className:"font-bold",children:y.title})},{header:" ",accessor:y=>y.manager},{header:" ",accessor:y=>y.startDate},{header:" ()",accessor:y=>Number(y.budget).toLocaleString()},{header:"",accessor:y=>c.jsxs("div",{className:"w-24",children:[c.jsx("div",{className:"flex justify-between text-xs mb-1",children:c.jsxs("span",{children:[y.progress||0,"%"]})}),c.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-500",style:{width:`${y.progress||0}%`}})})]})},{header:"",accessor:y=>c.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold",children:y.status==="PENDING"?"  ":" "})}]})}):c.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx(gd,{className:"w-8 h-8 text-primary"}),c.jsx("h2",{className:"text-xl font-bold",children:"    "})]}),c.jsxs("form",{onSubmit:v,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:o.title,onChange:y=>a({...o,title:y.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{value:o.manager,onChange:y=>a({...o,manager:y.target.value}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",placeholder:" ..."})]}),c.jsx("div",{children:c.jsx(Pr,{label:" ",value:o.startDate||"",onChange:y=>a({...o,startDate:y}),disableFuture:!1})}),c.jsx("div",{children:c.jsx(Pr,{label:"  ()",value:o.endDate||"",onChange:y=>a({...o,endDate:y}),disableFuture:!1})}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm mb-1 font-medium",children:["  () ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"number",value:o.budget,onChange:y=>a({...o,budget:Number(y.target.value)}),required:!0,className:"w-full p-2.5 border rounded-xl dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm mb-1 font-medium",children:"    "}),c.jsx("textarea",{value:o.description,onChange:y=>a({...o,description:y.target.value}),className:"w-full p-3 border rounded-xl h-24 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[c.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(V$,{className:"w-5 h-5"}),"   (WBS)"]}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("input",{type:"text",placeholder:"  (: )",className:"flex-[2] p-2 border rounded-lg dark:bg-gray-700",value:u.title,onChange:y=>d({...u,title:y.target.value})}),c.jsx("input",{type:"number",placeholder:" %",className:"flex-1 p-2 border rounded-lg dark:bg-gray-700 text-center",value:u.weight,onChange:y=>d({...u,weight:Number(y.target.value)})}),c.jsx("button",{type:"button",onClick:f,className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700",children:c.jsx(yr,{className:"w-5 h-5"})})]}),s.length>0?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"grid grid-cols-12 text-xs text-gray-500 px-2",children:[c.jsx("span",{className:"col-span-8",children:" "}),c.jsx("span",{className:"col-span-2 text-center",children:""}),c.jsx("span",{className:"col-span-2 text-center",children:""})]}),s.map(y=>c.jsxs("div",{className:"grid grid-cols-12 items-center bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm",children:[c.jsxs("span",{className:"col-span-8 font-medium flex items-center gap-2",children:[c.jsx(l0,{className:"w-4 h-4 text-green-500"})," ",y.title]}),c.jsxs("span",{className:"col-span-2 text-center bg-blue-50 text-blue-700 rounded px-1",children:[y.weight,"%"]}),c.jsx("div",{className:"col-span-2 flex justify-center",children:c.jsx("button",{type:"button",onClick:()=>h(y.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:c.jsx(Yt,{className:"w-4 h-4"})})})]},y.id)),c.jsxs("div",{className:"mt-2 text-left text-sm font-bold",children:[" : ",c.jsxs("span",{className:`${s.reduce((y,b)=>y+b.weight,0)===100?"text-green-600":"text-red-500"}`,children:[s.reduce((y,b)=>y+b.weight,0),"%"]})]})]}):c.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"    ."})]}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t dark:border-gray-700",children:[c.jsxs("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border border-gray-300 dark:border-gray-600 py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-2",children:[c.jsx(nn,{className:"w-5 h-5"})," "]}),c.jsxs("button",{type:"submit",className:"flex-[2] bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 flex items-center justify-center gap-2",children:[c.jsx(os,{className:"w-5 h-5"}),"      "]})]})]})]})},Qae=({user:t})=>{const[e,n]=N.useState("LIST"),[r,i]=N.useState(!1),[o,a]=N.useState([]),[s,l]=N.useState([]),[u,d]=N.useState([]),[f,h]=N.useState([]);N.useEffect(()=>{const _=Co("PERFORMANCE");a(_.map(E=>({...E,...E.data}))),Nn("evaluation_periods").then(l),Nn("evaluation_criteria").then(E=>{d(E),E.length>0&&g.criteria.length===0&&v(S=>({...S,criteria:E.map(T=>({label:T.title,score:0,max:T.max_score}))}))}),Nn("personnel").then(h)},[e]);const[g,v]=N.useState({personnelId:"",personnelName:"",unit:"",period:"",criteria:[]});N.useEffect(()=>{s.length>0&&!g.period&&v(_=>({..._,period:s[0].title}))},[s]),N.useEffect(()=>{u.length>0&&g.criteria.length===0&&v(_=>({..._,criteria:u.map(E=>({label:E.title,score:0,max:E.max_score}))}))},[u]);const y=g.criteria.reduce((_,E)=>_+E.score,0),b=_=>{var S;if(_.preventDefault(),!g.personnelId){alert("      .");return}const E=Yr("G");Ri("PERFORMANCE",{...g,totalScore:y},t,E,` : ${g.personnelName} - ${g.period}`),alert("       ."),n("LIST"),v({personnelId:"",personnelName:"",unit:"",period:((S=s[0])==null?void 0:S.title)||"",criteria:u.map(T=>({label:T.title,score:0,max:T.max_score}))})},x=(_,E)=>{const S=g.criteria[_].max;if(E>S){alert(`       (${S})  .`);return}const T=[...g.criteria];T[_].score=Math.max(0,E),v({...g,criteria:T})},w=_=>{v({...g,personnelId:_.id,personnelName:`${_.first_name} ${_.last_name}`,unit:_.unit}),i(!1)};return e==="LIST"?c.jsx("div",{className:"max-w-7xl mx-auto pb-20",children:c.jsx(Po,{title:"  ",icon:s0,data:o,onAdd:()=>n("NEW"),columns:[{header:" ",accessor:_=>_.trackingCode},{header:" ",accessor:_=>c.jsx("span",{className:"font-bold",children:_.personnelName})},{header:"",accessor:_=>_.unit},{header:" ",accessor:_=>_.period},{header:" ",accessor:_=>c.jsxs("span",{className:`font-bold ${_.totalScore>=80?"text-green-600":"text-orange-500"}`,children:[_.totalScore," / ",u.reduce((E,S)=>E+S.max_score,0)||100]})},{header:"",accessor:_=>_.description.split("")[1]||"-"}]})}):c.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[c.jsx("h2",{className:"text-xl font-bold mb-6",children:"   "}),c.jsxs("form",{onSubmit:b,className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),g.personnelName?c.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-600 p-3 rounded-lg border border-primary/30",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold",children:g.personnelName}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-300",children:[": ",g.unit]})]}),c.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-primary text-sm underline",children:""})]}):c.jsxs("button",{type:"button",onClick:()=>i(!0),className:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-500 rounded-lg text-gray-500 hover:border-primary hover:text-primary transition flex items-center justify-center gap-2",children:[c.jsx(Nu,{className:"w-5 h-5"}),"   "]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("select",{value:g.period,onChange:_=>v({...g,period:_.target.value}),className:"w-full p-3 border rounded-lg bg-white dark:bg-gray-600 outline-none focus:ring-2 focus:ring-primary",children:s.length>0?s.map(_=>c.jsx("option",{value:_.title,children:_.title},_.id)):c.jsx("option",{children:"   "})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-bold border-b pb-2 mb-4",children:" "}),g.criteria.length>0?g.criteria.map((_,E)=>c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:[c.jsxs("div",{className:"mb-2 md:mb-0",children:[c.jsxs("span",{className:"font-medium block",children:[E+1,". ",_.label]}),c.jsxs("span",{className:"text-xs text-gray-500",children:["   : ",_.max]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"number",min:"0",max:_.max,value:_.score,onChange:S=>x(E,Number(S.target.value)),className:"w-20 p-2 border rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-primary dark:bg-gray-600"}),c.jsxs("span",{className:"text-gray-400 text-sm",children:["/ ",_.max]})]})]},E)):c.jsx("p",{className:"text-center text-gray-400",children:"   ."})]}),c.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 pt-4 pb-2 border-t dark:border-gray-700",children:[c.jsxs("div",{className:"flex justify-between items-center bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl mb-4",children:[c.jsx("span",{className:"font-bold text-lg text-blue-800 dark:text-blue-300",children:"   "}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-4xl font-black text-primary",children:y}),c.jsxs("span",{className:"text-gray-500",children:["/ ",u.reduce((_,E)=>_+E.max_score,0)||100]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"button",onClick:()=>n("LIST"),className:"flex-1 border py-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:""}),c.jsx("button",{type:"submit",className:"flex-1 bg-primary text-white py-3 rounded-xl shadow-lg hover:bg-red-800 transition transform active:scale-95",children:"   "})]})]})]}),r&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden flex flex-col max-h-[80vh]",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[c.jsx("h3",{className:"font-bold text-lg",children:" "}),c.jsx("button",{onClick:()=>i(!1),children:c.jsx(nn,{className:"w-5 h-5 text-gray-500"})})]}),c.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:c.jsxs("div",{className:"relative",children:[c.jsx(Ed,{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"   ...",className:"w-full pr-10 pl-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary"})]})}),c.jsx("div",{className:"overflow-y-auto flex-1 p-2",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"text-gray-500 bg-gray-50 dark:bg-gray-700/50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"   "}),c.jsx("th",{className:"p-3",children:" "}),c.jsx("th",{className:"p-3",children:""})]})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:f.length>0?f.map(_=>c.jsxs("tr",{onClick:()=>w(_),className:"hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition",children:[c.jsxs("td",{className:"p-3 font-bold",children:[_.first_name," ",_.last_name]}),c.jsx("td",{className:"p-3 text-gray-500 dark:text-gray-400",children:_.unit}),c.jsx("td",{className:"p-3",children:c.jsx("button",{className:"bg-primary/10 text-primary p-1.5 rounded-full",children:c.jsx(oh,{className:"w-4 h-4"})})})]},_.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"p-4 text-center",children:"  ."})})})]})})]})})]})},Zae=({user:t})=>{var v;const[e,n]=N.useState("WORK_ORDER"),[r,i]=N.useState([]),[o,a]=N.useState(null);N.useEffect(()=>{const y=SE(t);i(y)},[t,e]);const s=(y,b)=>{o&&(Bae(o.id,y,t),a(null),i(SE(t)))},l=y=>{const x=u(o).find(w=>w.style==="primary"||w.style==="success");x&&o?(o.data=y,s(x.id)):alert("      .")},u=y=>{const x=xu().find(_=>_.id===y.workflowId);if(!x)return[];const w=x.steps.find(_=>_.id===y.currentStepId);return w?w.actions:[]},d=y=>{const x=xu().find(_=>_.id===y.workflowId),w=x==null?void 0:x.steps.find(_=>_.id===y.currentStepId);return(w==null?void 0:w.title)||""},f=y=>r.filter(b=>b.module===y).length,h=[{id:"WORK_ORDER",label:" ",icon:iw},{id:"PROJECT",label:"",icon:gd},{id:"PERFORMANCE",label:" ",icon:s0},{id:"PART_REQUEST",label:" ",icon:_d},{id:"INSPECTION",label:" ",icon:$A},{id:"DOCUMENT",label:" ",icon:md},{id:"MEETING",label:"",icon:xd},{id:"SUGGESTION",label:"",icon:wd},{id:"PURCHASE",label:" ",icon:kd}],g=({item:y})=>{const b=u(y),[x,w]=N.useState("");return y.module==="WORK_ORDER"?c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2",children:[c.jsx(iw,{className:"w-5 h-5 text-primary"}),y.title]}),c.jsx("span",{className:"text-xs text-gray-500",children:y.trackingCode})]}),c.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:c.jsx(tw,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx(kx,{initialData:y.data,onProcessComplete:l})})]}):c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 h-full flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs font-bold",children:y.module}),c.jsx("span",{className:"text-gray-400 text-xs",children:y.trackingCode})]}),c.jsx("h2",{className:"text-xl font-bold",children:y.title}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),c.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(tw,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-bold border-r-4 border-primary pr-3 mb-3",children:" "}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg text-sm space-y-2",children:Object.entries(y.data).map(([_,E])=>typeof E=="object"||Array.isArray(E)||_==="id"?null:c.jsxs("div",{className:"flex justify-between border-b border-gray-200 dark:border-gray-600 pb-1 last:border-0",children:[c.jsxs("span",{className:"text-gray-500",children:[_,":"]}),c.jsx("span",{className:"font-medium",children:String(E)})]},_))})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" /  ():"}),c.jsx("textarea",{value:x,onChange:_=>w(_.target.value),className:"w-full p-3 border rounded-lg dark:bg-gray-700 focus:ring-2 focus:ring-primary outline-none",placeholder:"    ...",rows:3})]})]}),c.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border-t dark:border-gray-700 flex gap-3 flex-wrap",children:b.map(_=>{const E=_.style==="primary"?"bg-blue-600 hover:bg-blue-700 text-white":_.style==="success"?"bg-green-600 hover:bg-green-700 text-white":_.style==="danger"?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800";return c.jsx("button",{onClick:()=>s(_.id),className:`flex-1 py-3 px-4 rounded-xl font-bold shadow-md transition transform active:scale-95 ${E}`,children:_.label},_.id)})})]})};return o?c.jsx("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] p-4",children:c.jsx(g,{item:o})}):c.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[c.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[c.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:c.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[c.jsx(bd,{className:"w-5 h-5"}),"  "]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:h.map(y=>c.jsxs("button",{onClick:()=>{n(y.id)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e===y.id?"bg-primary text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(y.icon,{className:"w-4 h-4"}),c.jsx("span",{children:y.label})]}),f(y.id)>0&&c.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${e===y.id?"bg-white text-primary":"bg-gray-200 text-gray-700"}`,children:f(y.id)})]},y.id))})]}),c.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:c.jsxs("h3",{className:"font-bold",children:[" : ",(v=h.find(y=>y.id===e))==null?void 0:v.label]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:r.filter(y=>y.module===e).length===0?c.jsxs("div",{className:"text-center py-20 text-gray-400 flex flex-col items-center",children:[c.jsx(OA,{className:"w-12 h-12 mb-3 opacity-20"}),c.jsx("p",{children:"     ."})]}):r.filter(y=>y.module===e).map(y=>c.jsx("div",{onClick:()=>a(y),className:"bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-md hover:border-primary transition cursor-pointer group",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-800 dark:text-gray-200 group-hover:text-primary transition",children:y.title}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded font-bold",children:d(y)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1 justify-end",children:[c.jsx(sh,{className:"w-3 h-3"})," ",y.updatedAt]})]})]})},y.id))})]})})]})},ese=[{id:"1",name:" "},{id:"2",name:" "},{id:"3",name:" "},{id:"4",name:" "}],tse=({user:t})=>{const[e,n]=N.useState("INBOX"),[r,i]=N.useState([]),[o,a]=N.useState([]),[s,l]=N.useState(null),[u,d]=N.useState("USER"),[f,h]=N.useState(""),[g,v]=N.useState(""),[y,b]=N.useState("");N.useEffect(()=>{x()},[t,e]);const x=()=>{i(Mae(t)),a($ae(t.id))},w=S=>{l(S),e==="INBOX"&&!S.readBy.includes(t.id)&&(Dae(S.id,t.id),i(T=>T.map(k=>k.id===S.id?{...k,readBy:[...k.readBy,t.id]}:k)))},_=S=>{S.preventDefault();let T=f;if(u==="ALL"&&(T="ALL"),u!=="ALL"&&!T){alert("    ");return}Rae(t,T,u,g,y),alert("    "),v(""),b(""),h(""),n("SENT")},E=S=>S.readBy.length>0?c.jsx("span",{title:" ",children:c.jsx(nw,{className:"w-4 h-4 text-blue-500"})}):c.jsx("span",{title:" ",children:c.jsx(oh,{className:"w-4 h-4 text-gray-400"})});return c.jsxs("div",{className:"max-w-7xl mx-auto h-[calc(100vh-100px)] flex flex-col md:flex-row gap-6 p-4",children:[c.jsxs("div",{className:"w-full md:w-64 flex-shrink-0 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[c.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:c.jsxs("button",{onClick:()=>{n("COMPOSE"),l(null)},className:"w-full bg-blue-600 text-white py-2 rounded-lg shadow hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[c.jsx(Td,{className:"w-4 h-4"}),"   "]})}),c.jsxs("div",{className:"p-2 space-y-1",children:[c.jsxs("button",{onClick:()=>{n("INBOX"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="INBOX"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(bd,{className:"w-4 h-4"}),"  "]}),r.filter(S=>!S.readBy.includes(t.id)).length>0&&c.jsx("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded-full text-xs",children:r.filter(S=>!S.readBy.includes(t.id)).length})]}),c.jsx("button",{onClick:()=>{n("SENT"),l(null)},className:`w-full flex items-center justify-between p-3 rounded-lg text-sm transition-colors ${e==="SENT"?"bg-primary/10 text-primary font-bold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Nd,{className:"w-4 h-4"}),"  "]})})]})]}),c.jsxs("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col",children:[e==="COMPOSE"&&c.jsxs("div",{className:"p-6",children:[c.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[c.jsx(UA,{className:"w-6 h-6 text-primary"}),"   "]}),c.jsxs("form",{onSubmit:_,className:"space-y-4 max-w-2xl",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>d("USER"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="USER"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[c.jsx(f0,{className:"w-4 h-4"})," "]}),c.jsxs("button",{type:"button",onClick:()=>d("GROUP"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="GROUP"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[c.jsx(Nu,{className:"w-4 h-4"})," "]}),c.jsxs("button",{type:"button",onClick:()=>d("ALL"),className:`flex-1 py-2 rounded-lg border text-sm flex items-center justify-center gap-1 ${u==="ALL"?"bg-blue-50 border-blue-500 text-blue-700":"border-gray-200"}`,children:[c.jsx(w$,{className:"w-4 h-4"})," "]})]})]}),u==="USER"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),c.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:f,onChange:S=>h(S.target.value),required:!0,children:[c.jsx("option",{value:"",children:" ..."}),ese.map(S=>c.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u==="GROUP"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-1",children:"  "}),c.jsxs("select",{className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none",value:f,onChange:S=>h(S.target.value),required:!0,children:[c.jsx("option",{value:"",children:" ..."}),c.jsx("option",{value:Xt.ADMIN,children:" "}),c.jsx("option",{value:Xt.MANAGER,children:" "}),c.jsx("option",{value:Xt.USER,children:" "}),c.jsx("option",{value:Xt.STOREKEEPER,children:""})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",value:g,onChange:S=>v(S.target.value),className:"w-full p-2.5 border rounded-lg bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary",required:!0,placeholder:" ..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-bold mb-1",children:["  ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{value:y,onChange:S=>b(S.target.value),className:"w-full p-3 border rounded-lg h-40 bg-gray-50 dark:bg-gray-700 outline-none focus:ring-2 focus:ring-primary resize-none",required:!0,placeholder:"    ..."})]}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsxs("button",{type:"submit",className:"bg-primary text-white px-8 py-3 rounded-xl shadow-lg hover:bg-red-800 transition flex items-center gap-2",children:[c.jsx(Td,{className:"w-5 h-5"}),"  "]})})]})]}),(e==="INBOX"||e==="SENT")&&c.jsxs("div",{className:"flex h-full",children:[c.jsxs("div",{className:`${s?"hidden md:block md:w-1/3 border-l dark:border-gray-700":"w-full"} overflow-y-auto`,children:[(e==="INBOX"?r:o).length===0&&c.jsxs("div",{className:"text-center p-10 text-gray-400",children:[c.jsx(bd,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),c.jsx("p",{children:"   "})]}),(e==="INBOX"?r:o).map(S=>c.jsxs("div",{onClick:()=>w(S),className:`p-4 border-b dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition
                                    ${(s==null?void 0:s.id)===S.id?"bg-blue-50 dark:bg-blue-900/20":""}
                                    ${e==="INBOX"&&!S.readBy.includes(t.id)?"border-r-4 border-r-primary bg-gray-50/50":""}
                                `,children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("span",{className:`text-sm ${e==="INBOX"&&!S.readBy.includes(t.id)?"font-black text-gray-900 dark:text-white":"font-medium text-gray-700 dark:text-gray-300"}`,children:e==="INBOX"?S.senderName:`: ${S.receiverId==="ALL"?"":S.receiverType==="GROUP"?" "+S.receiverId:""}`}),c.jsx("span",{className:"text-xs text-gray-400",dir:"ltr",children:S.createdAt})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:`text-sm truncate ${e==="INBOX"&&!S.readBy.includes(t.id)?"font-bold":"text-gray-600"}`,children:S.subject}),e==="SENT"&&E(S)]}),c.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",children:S.body})]},S.id))]}),s?c.jsxs("div",{className:"flex-1 flex flex-col h-full bg-gray-50 dark:bg-gray-900/50",children:[c.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 shadow-sm border-b dark:border-gray-700",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:s.subject}),c.jsx("button",{onClick:()=>l(null),className:"md:hidden text-sm text-blue-600",children:""})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-gray-300",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center font-bold text-gray-500",children:s.senderName[0]}),c.jsxs("div",{children:[c.jsx("p",{children:c.jsx("span",{className:"font-bold",children:s.senderName})}),c.jsx("p",{className:"text-xs opacity-70",dir:"ltr",children:s.createdAt})]})]}),e==="SENT"&&c.jsxs("div",{className:"mt-4 pt-3 border-t dark:border-gray-700 text-xs text-gray-500",children:[": ",s.receiverType==="ALL"?" ":s.receiverType==="GROUP"?` ${s.receiverId}`:"",s.readBy.length>0&&c.jsxs("span",{className:"mr-2 text-green-600 flex items-center gap-1 inline-flex",children:[c.jsx(nw,{className:"w-3 h-3"}),"    ",s.readBy.length," "]})]})]}),c.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:c.jsx("p",{className:"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200",children:s.body})})]}):c.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center text-gray-400 bg-gray-50 dark:bg-gray-900/50"})]})]})]})},nse=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(null);N.useEffect(()=>{e(xu())},[]);const i=()=>{const l={id:gr(),title:" ",module:"WORK_ORDER",isActive:!1,steps:[]};r(l)},o=()=>{n&&(Fae(n),e(xu()),alert("    ."))},a=()=>{if(!n)return;const l={id:gr(),title:" ",assigneeRole:Xt.ADMIN,actions:[]};r({...n,steps:[...n.steps,l]})},s=l=>{if(!n)return;const u={id:gr(),label:"  ",nextStepId:"FINISH",style:"primary"};r({...n,steps:n.steps.map(d=>d.id!==l?d:{...d,actions:[...d.actions,u]})})};return n?c.jsxs("div",{className:"max-w-6xl mx-auto pb-20 h-[calc(100vh-100px)] flex flex-col",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm mb-6 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>r(null),className:"text-gray-500 hover:text-gray-800",children:""}),c.jsx("div",{className:"h-8 w-px bg-gray-300"}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),c.jsx("input",{value:n.title,onChange:l=>r({...n,title:l.target.value}),className:"font-bold bg-transparent outline-none border-b border-dashed border-gray-300 focus:border-primary"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs text-gray-500 block",children:" "}),c.jsxs("select",{value:n.module,onChange:l=>r({...n,module:l.target.value}),className:"bg-gray-50 dark:bg-gray-700 rounded p-1 text-sm outline-none",children:[c.jsx("option",{value:"WORK_ORDER",children:"  (Work Order)"}),c.jsx("option",{value:"PROJECT",children:" (Project)"}),c.jsx("option",{value:"PART_REQUEST",children:" "}),c.jsx("option",{value:"PURCHASE",children:" "}),c.jsx("option",{value:"PERFORMANCE",children:" "}),c.jsx("option",{value:"MEETING",children:""}),c.jsx("option",{value:"SUGGESTION",children:""})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[c.jsx("input",{type:"checkbox",checked:n.isActive,onChange:l=>r({...n,isActive:l.target.checked}),className:"w-4 h-4 text-primary rounded"})," "]}),c.jsxs("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow",children:[c.jsx(os,{className:"w-4 h-4"}),"  "]})]})]}),c.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-auto bg-gray-100 dark:bg-gray-900 rounded-xl p-6 border border-dashed border-gray-300 relative",children:c.jsxs("div",{className:"flex gap-8 min-w-max",children:[c.jsxs("div",{className:"w-16 flex flex-col items-center justify-center pt-20 opacity-50",children:[c.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg mb-2",children:c.jsx(I$,{className:"w-6 h-6 ml-1"})}),c.jsx("span",{className:"text-xs font-bold",children:""})]}),c.jsx(qc,{className:"w-8 h-8 text-gray-300 self-center mt-8"}),n.steps.map((l,u)=>c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsxs("div",{className:"w-80 bg-white dark:bg-gray-800 rounded-xl shadow-lg border-t-4 border-primary flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("input",{value:l.title,onChange:d=>{const f=[...n.steps];f[u].title=d.target.value,r({...n,steps:f})},className:"font-bold text-gray-800 dark:text-white bg-transparent outline-none w-full",placeholder:" "}),c.jsxs("div",{className:"mt-2",children:[c.jsx("label",{className:"text-xs text-gray-500",children:" :"}),c.jsxs("select",{value:l.assigneeRole,onChange:d=>{const f=[...n.steps];f[u].assigneeRole=d.target.value,r({...n,steps:f})},className:"block w-full mt-1 text-sm bg-gray-50 dark:bg-gray-700 p-1 rounded",children:[Object.values(Xt).map(d=>c.jsx("option",{value:d,children:d},d)),c.jsx("option",{value:"INITIATOR",children:"  (Initiator)"})]})]})]}),c.jsx("button",{onClick:()=>{const d=n.steps.filter(f=>f.id!==l.id);r({...n,steps:d})},className:"text-red-400 hover:text-red-600",children:c.jsx(Yt,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 flex-1 space-y-2",children:[c.jsx("p",{className:"text-xs font-bold text-gray-500 mb-2",children:" (Actions):"}),l.actions.map((d,f)=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600 text-sm space-y-2",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{value:d.label,onChange:h=>{const g=[...n.steps];g[u].actions[f].label=h.target.value,r({...n,steps:g})},className:"flex-1 bg-transparent border-b border-dashed outline-none",placeholder:" "}),c.jsxs("select",{value:d.style,onChange:h=>{const g=[...n.steps];g[u].actions[f].style=h.target.value,r({...n,steps:g})},className:"text-xs bg-gray-100 rounded",children:[c.jsx("option",{value:"primary",children:""}),c.jsx("option",{value:"success",children:""}),c.jsx("option",{value:"danger",children:""}),c.jsx("option",{value:"neutral",children:""})]})]}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[c.jsx(qc,{className:"w-3 h-3"}),c.jsx("span",{children:" :"}),c.jsxs("select",{value:d.nextStepId,onChange:h=>{const g=[...n.steps];g[u].actions[f].nextStepId=h.target.value,r({...n,steps:g})},className:"bg-transparent font-medium text-gray-800 dark:text-gray-200 outline-none",children:[c.jsx("option",{value:"FINISH",children:" "}),n.steps.map(h=>c.jsx("option",{value:h.id,children:h.title},h.id))]})]})]},d.id)),c.jsx("button",{onClick:()=>s(l.id),className:"w-full py-1 text-xs text-primary border border-dashed border-primary/30 rounded hover:bg-primary/5",children:"+  "})]})]}),c.jsx(qc,{className:"w-8 h-8 text-gray-300"})]},l.id)),c.jsxs("button",{onClick:a,className:"h-80 w-40 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl flex flex-col items-center justify-center text-gray-400 hover:border-primary hover:text-primary transition bg-white/50",children:[c.jsx(yr,{className:"w-8 h-8 mb-2"}),c.jsx("span",{children:" "})]})]})})]}):c.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(LA,{className:"text-primary"}),"   "]}),c.jsxs("button",{onClick:i,className:"bg-primary text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[c.jsx(yr,{className:"w-4 h-4"}),"  "]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600",children:c.jsx(d0,{className:"w-6 h-6"})}),c.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${l.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:l.isActive?"":""})]}),c.jsx("h3",{className:"font-bold text-lg mb-1",children:l.title}),c.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[": ",l.module]}),c.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[l.steps.length,"   "]}),c.jsx("button",{onClick:()=>r(l),className:"w-full py-2 border border-primary text-primary rounded-lg hover:bg-primary hover:text-white transition",children:" "})]},l.id))})]})},rse=()=>{const[t,e]=N.useState("LOGINS"),[n,r]=N.useState([]),[i,o]=N.useState([]),[a,s]=N.useState([]),[l,u]=N.useState(""),[d,f]=N.useState(!0),h={LOGINS:[{id:"userName",label:" ",visible:!0},{id:"personnelCode",label:" ",visible:!0},{id:"action",label:" ",visible:!0},{id:"date",label:"",visible:!0},{id:"time",label:"",visible:!0},{id:"ip",label:" IP",visible:!0},{id:"details",label:"",visible:!1}],WORK_ORDERS:[{id:"trackingCode",label:" ",visible:!0},{id:"title",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:" ",visible:!0},{id:"status",label:"",visible:!0},{id:"equipName",label:"",visible:!0}],PARTS:[{id:"partName",label:" ",visible:!0},{id:"qty",label:"",visible:!0},{id:"unit",label:"",visible:!0},{id:"requester",label:" ",visible:!0},{id:"createdAt",label:"",visible:!0}]};N.useEffect(()=>{g(),s(h[t])},[t]),N.useEffect(()=>{if(l){const x=l.toLowerCase();o(n.filter(w=>Object.values(w).some(_=>String(_).toLowerCase().includes(x))))}else o(n)},[l,n]);const g=()=>{let x=[];switch(t){case"LOGINS":x=JSON.parse(localStorage.getItem("system_logs")||"[]"),x.reverse();break;case"WORK_ORDERS":x=z2().map(w=>{var _,E;return{...w,requester:((_=w.data)==null?void 0:_.requester)||"-",equipName:((E=w.data)==null?void 0:E.equipName)||"-"}});break;case"PARTS":x=Co("PART_REQUEST").map(w=>{var _,E,S;return{...w,partName:(_=w.data)==null?void 0:_.partName,qty:(E=w.data)==null?void 0:E.qty,unit:(S=w.data)==null?void 0:S.unit,requester:w.description.split("")[1]||"-"}});break}r(x),o(x)},v=x=>{s(w=>w.map(_=>_.id===x?{..._,visible:!_.visible}:_))},y=()=>{if(i.length===0)return alert("    ");const x=a.filter(T=>T.visible),w=x.map(T=>T.label),_=i.map(T=>x.map(k=>T[k.id]||"-")),E="data:text/csv;charset=utf-8,\uFEFF"+w.join(",")+`
`+_.map(T=>T.join(",")).join(`
`),S=document.createElement("a");S.setAttribute("href",encodeURI(E)),S.setAttribute("download",`report_${t}_${Date.now()}.csv`),document.body.appendChild(S),S.click(),document.body.removeChild(S)},b=()=>{if(i.length===0)return[];const x=t==="LOGINS"?"date":"status",w={};return i.forEach(_=>{const E=_[x]||"";w[E]=(w[E]||0)+1}),Object.keys(w).map(_=>({name:_,count:w[_]})).slice(0,10)};return c.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 p-2 rounded-lg shadow-sm",children:c.jsx(BA,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:" "}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"       "})]})]}),c.jsxs("button",{onClick:y,className:"bg-green-600 text-white px-4 py-2 rounded-xl shadow-lg flex items-center gap-2 hover:bg-green-700 transition",children:[c.jsx(c0,{className:"w-5 h-5"}),"  "]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700",children:[c.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 mb-3 flex items-center gap-2",children:[c.jsx(d0,{className:"w-4 h-4"}),"  "]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),c.jsxs("select",{value:t,onChange:x=>e(x.target.value),className:"w-full p-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none text-sm",children:[c.jsx("option",{value:"LOGINS",children:"  "}),c.jsx("option",{value:"WORK_ORDERS",children:" "}),c.jsx("option",{value:"PARTS",children:" "})]})]}),c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>f(!d),className:"flex items-center justify-between w-full text-xs font-bold text-gray-500 mb-2 hover:text-primary transition",children:[" ",d?c.jsx(MA,{className:"w-3 h-3"}):c.jsx(RA,{className:"w-3 h-3"})]}),d&&c.jsx("div",{className:"space-y-1 bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg max-h-60 overflow-y-auto",children:a.map(x=>c.jsxs("div",{onClick:()=>v(x.id),className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 p-1 rounded",children:[x.visible?c.jsx(l0,{className:"w-4 h-4 text-primary"}):c.jsx(VA,{className:"w-4 h-4 text-gray-400"}),c.jsx("span",{className:"text-sm",children:x.label})]},x.id))})]}),c.jsxs("button",{onClick:g,className:"w-full py-2 bg-blue-50 text-blue-600 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-100 transition text-sm font-bold",children:[c.jsx($$,{className:"w-4 h-4"}),"  "]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700 h-64",children:[c.jsx("h4",{className:"text-xs font-bold text-gray-500 mb-2 text-center",children:"  "}),c.jsx(Xg,{width:"100%",height:"90%",children:c.jsxs(F2,{data:b(),children:[c.jsx(Af,{strokeDasharray:"3 3",vertical:!1}),c.jsx(xo,{dataKey:"name",fontSize:10,angle:-45,textAnchor:"end",height:50}),c.jsx(bo,{fontSize:10}),c.jsx(_n,{}),c.jsx(Oi,{dataKey:"count",fill:"#800020",radius:[4,4,0,0]})]})})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden flex flex-col h-full min-h-[500px]",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[c.jsxs("h2",{className:"font-bold text-gray-700 dark:text-gray-200",children:["  (",i.length," )"]}),c.jsxs("div",{className:"relative w-64",children:[c.jsx(lh,{className:"absolute right-3 top-2.5 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"  ...",value:l,onChange:x=>u(x.target.value),className:"w-full pr-9 pl-4 py-1.5 text-sm bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg outline-none focus:ring-1 focus:ring-primary"})]})]}),c.jsx("div",{className:"flex-1 overflow-auto",children:c.jsxs("table",{className:"w-full text-right text-sm",children:[c.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 sticky top-0 shadow-sm",children:c.jsx("tr",{children:a.filter(x=>x.visible).map(x=>c.jsx("th",{className:"p-4 whitespace-nowrap",children:x.label},x.id))})}),c.jsx("tbody",{className:"divide-y dark:divide-gray-600",children:i.length>0?i.map((x,w)=>c.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:a.filter(_=>_.visible).map(_=>c.jsx("td",{className:"p-4 whitespace-nowrap text-gray-700 dark:text-gray-200",children:x[_.id]||"-"},_.id))},w)):c.jsx("tr",{children:c.jsx("td",{colSpan:a.filter(x=>x.visible).length,className:"p-10 text-center text-gray-400",children:"  "})})})]})})]})})]})]})},TE=({title:t,selectedCloths:e,onChange:n})=>{const[r,i]=N.useState(!1),o=N.useRef(null);N.useEffect(()=>{const l=u=>{o.current&&!o.current.contains(u.target)&&i(!1)};return r&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[r]);const a=(l,u)=>{const d=`D${l}-C${u}`;e.includes(d)?n(e.filter(f=>f!==d)):n([...e,d])},s=l=>{const u=Array.from({length:20}).map((f,h)=>`D${l}-C${h+1}`);if(u.every(f=>e.includes(f)))n(e.filter(f=>!u.includes(f)));else{const f=[...new Set([...e,...u])];n(f)}};return c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 bg-white dark:bg-gray-800 relative",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("h4",{className:"font-bold text-sm flex items-center gap-2",children:[c.jsx(_$,{className:"w-4 h-4 text-primary"})," : ",t]}),c.jsx("button",{type:"button",onClick:()=>i(!r),className:"text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-lg hover:bg-blue-100 transition border border-blue-200",children:r?" ":"  "})]}),c.jsx("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-2",children:c.jsxs("span",{children:["  : ",c.jsx("span",{className:"font-bold text-red-500 text-lg",children:e.length})," "]})}),r&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:c.jsxs("div",{ref:o,className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center sticky top-0 bg-white dark:bg-gray-900 z-10",children:[c.jsxs("h3",{className:"font-bold text-lg",children:["   - ",t]}),c.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:c.jsx(nn,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"p-6 space-y-6",children:Array.from({length:6}).map((l,u)=>{const d=u+1,h=Array.from({length:20}).map((g,v)=>`D${d}-C${v+1}`).every(g=>e.includes(g));return c.jsxs("div",{className:"flex flex-col gap-2 border-b pb-4 last:border-0",children:[c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800/50 p-2 rounded",children:[c.jsxs("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:["  ",d]}),c.jsx("button",{type:"button",onClick:()=>s(d),className:`p-1 rounded transition ${h?"text-primary":"text-gray-400 hover:text-gray-600"}`,title:"    ",children:h?c.jsx(l0,{className:"w-6 h-6"}):c.jsx(VA,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:Array.from({length:20}).map((g,v)=>{const y=v+1,b=`D${d}-C${y}`,x=e.includes(b);return c.jsx("div",{onClick:()=>a(d,y),className:`
                                    w-8 h-8 flex items-center justify-center text-[10px] rounded cursor-pointer border transition-all select-none
                                    ${x?"bg-red-600 text-white border-red-700 shadow-sm font-bold scale-105":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:border-primary text-gray-600 dark:text-gray-400"}
                                    `,title:` ${d} -  ${y}`,children:y},b)})})]},d)})}),c.jsx("div",{className:"p-4 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex justify-end sticky bottom-0",children:c.jsx("button",{onClick:()=>i(!1),className:"bg-primary text-white px-6 py-2 rounded-xl shadow hover:bg-red-800 transition",children:"  "})})]})})]})},wr=["07:30","08:30","09:30","10:30","11:30","12:30","01:30","02:30","03:30","04:30","05:30","06:30"],kE=["08:00","11:00","02:00","05:00"],NE=["","","","","",""],ise=[25,30,40,50,60,70,80,90,100],ose=({user:t})=>{const e=is(),[n,r]=N.useState(1),[i,o]=N.useState(!1),[a,s]=N.useState(null),[l,u]=N.useState(!1),[d,f]=N.useState(null),[h,g]=N.useState([]),[v,y]=N.useState({name:"A",type:"Day1",date:nt(),supervisor:t.id}),[b,x]=N.useState({}),[w,_]=N.useState({}),[E,S]=N.useState({lineA:{},lineB:{}}),[T,k]=N.useState({lineA:{},lineB:{}}),[A,C]=N.useState({lineA:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}},lineB:{primary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]},secondary:{active:!1,amp08:"",amp02:"",dens08:"",dens02:"",ballSize:"",barrelCount:"",charges:[]}}}),[j,R]=N.useState({lineA:{primary:{active:!1,activeCyclones:[],pressure:"",angle:""},secondary:{active:!1,activeCyclones:[],pressure:"",angle:""}},lineB:{primary:{active:!1,activeCyclones:[],pressure:"",angle:""},secondary:{active:!1,activeCyclones:[],pressure:"",angle:""}}}),[M,U]=N.useState({lineA:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""},lineB:{active:!1,single:!1,upper:!1,middle:!1,lower:!1,description:""}}),[$,P]=N.useState({lineA:{active:!1,operator:"",hours:"",cloths:[]},lineB:{active:!1,operator:"",hours:"",cloths:[]},reserve:{active:!1,operator:"",hours:"",cloths:[]}}),[O,F]=N.useState({lineA:[{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}}],lineB:[{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}},{active:!1,hoursWorked:"",channelOutput:"",data:{}}]}),[D,B]=N.useState({lineA:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}],lineB:[{active:!1,operator:"",hours:"",cloths:[]},{active:!1,operator:"",hours:"",cloths:[]}]}),[V,Q]=N.useState({process:[],cleanWater:[]}),[H,ae]=N.useState({lineA:{workTime:"",stopTime:"",reason:""},lineB:{workTime:"",stopTime:"",reason:""}}),[ve,be]=N.useState({nextShiftActions:""});N.useEffect(()=>{Nn("personnel").then(I=>{g(I),x({})})},[]);const ke=(I,z,G)=>{const ie=Number(G);if(ie<0)return;const oe=wr.indexOf(z);S(te=>{const X={...te[I]};if(oe!==-1)for(let Ee=oe;Ee<wr.length;Ee++)X[wr[Ee]]=ie;return{...te,[I]:X}})},Se=(I,z,G)=>{k(ie=>{const oe={...ie[I]};for(let te=z;te<wr.length;te++)oe[wr[te]]=[...G];return{...ie,[I]:oe}})},ze=(I,z,G,ie)=>{const oe=wr[z],X=[...T[I][oe]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}]];X[G]={...X[G],type:ie},Se(I,z,X)},Y=(I,z,G,ie)=>{const oe=wr[z],X=[...T[I][oe]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}]],Ee=Math.min(100,Math.max(0,Number(ie)));X[G]={...X[G],percent:Ee},Se(I,z,X)},de=I=>Object.values(E[I]).reduce((z,G)=>z+G,0),me=(I,z)=>{I&&(x(G=>({...G,[I]:z})),z==="LEAVE"&&_(G=>({...G,[I]:"DAILY"})))},K=I=>{const z={...b};if(delete z[I],x(z),w[I]){const G={...w};delete G[I],_(G)}},Oe=(I,z)=>{const G=window.SpeechRecognition||window.webkitSpeechRecognition;if(!G){alert("  ");return}const ie=new G;ie.lang="fa-IR",ie.onstart=()=>s("active"),ie.onend=()=>s(null),ie.onresult=oe=>{const te=oe.results[0][0].transcript;I(z?z+" "+te:te)},ie.start()},q=()=>{const I=window.SpeechRecognition||window.webkitSpeechRecognition;if(!I){alert("  ");return}const z=new I;z.lang="fa-IR",z.onstart=()=>s("nextShift"),z.onend=()=>s(null),z.onresult=G=>{const ie=G.results[0][0].transcript;be(oe=>({...oe,nextShiftActions:oe.nextShiftActions?oe.nextShiftActions+" "+ie:ie}))},z.start()},ne=(I,z,G,ie,oe)=>{Number(oe)<0||F(te=>{const X=[...te[I]],Ee={...X[z]},qu={...Ee.data[G]||{pressure:"",jack:"",mudLine:""}};return qu[ie]=oe,Ee.data={...Ee.data,[G]:qu},X[z]=Ee,{...te,[I]:X}})},ue=(I,z,G,ie)=>{F(oe=>{const te=[...oe[I]];return te[z]={...te[z],[G]:ie},{...oe,[I]:te}})},ye=(I,z)=>{const G=A[I][z],ie=Number(G.ballSize),oe=Number(G.barrelCount);if(!ie||!oe||oe<1){alert("      ( )   .");return}if(G.charges.some(X=>X.size===ie)){alert("      .");return}const te=[...G.charges,{size:ie,count:oe}];C(X=>({...X,[I]:{...X[I],[z]:{...X[I][z],charges:te,ballSize:"",barrelCount:""}}}))},Ie=(I,z,G)=>{const oe=A[I][z].charges.filter((te,X)=>X!==G);C(te=>({...te,[I]:{...te[I],[z]:{...te[I][z],charges:oe}}}))},at=I=>{const z=es(I);return z?["","","","","","",""][z.getDay()]:""},jo=async I=>{if(I.preventDefault(),!window.confirm("       "))return;o(!0);const z=Yr("T"),G=Object.keys(b).filter(X=>b[X]==="PRESENT"),ie=Object.keys(b).filter(X=>b[X]==="ABSENT"),oe=Object.keys(b).filter(X=>b[X]==="LEAVE"),te={code:z,shiftInfo:v,attendance:{present:G,absent:ie,leave:oe.map(X=>({id:X,type:w[X]})),map:b},production:E,feedInfo:T,ballMills:A,concentrateFilters:$,hydrocyclones:j,thickeners:O,drumMagnets:M,recoveryFilters:D,pumps:V,downtime:H,footer:ve,totalA:de("lineA"),totalB:de("lineB")};Ri("SHIFT_REPORT",te,t,z,`  ${v.name} - ${v.date}`),f(te),u(!0),o(!1)},sr=({value:I,onChange:z})=>c.jsxs("select",{value:I,onChange:G=>z(G.target.value),className:"w-full p-2 border rounded-lg bg-white dark:bg-gray-700 text-sm",children:[c.jsx("option",{value:"",children:" ..."}),h.filter(G=>b[G.id]==="PRESENT").map(G=>c.jsx("option",{value:G.id,children:G.full_name},G.id))]}),Ln=()=>h.filter(I=>!b[I.id]),$i=I=>h.filter(z=>b[z.id]===I),Un=({active:I,onClick:z})=>c.jsx("button",{type:"button",onClick:z,className:`p-2 rounded-full transition-all shadow-md ${I?"bg-green-500 text-white hover:bg-green-600":"bg-gray-200 text-gray-400 hover:bg-gray-300 dark:bg-gray-700"}`,title:I?"":"",children:c.jsx(O$,{className:"w-5 h-5"})}),Bu=()=>{window.print()},Fj=async()=>{if(navigator.share)try{await navigator.share({title:`  ${d.shiftInfo.date}`,text:`   ${d.shiftInfo.name}  ${d.shiftInfo.date}`,url:window.location.href})}catch(I){console.error("Error sharing:",I)}else alert("     .      .")};return l&&d?c.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 flex justify-center text-black",children:[c.jsx("style",{children:`
                  @media print {
                      @page { size: A4; margin: 5mm; }
                      body { background: white; -webkit-print-color-adjust: exact; }
                      .no-print { display: none !important; }
                      .print-container { width: 100% !important; box-shadow: none !important; margin: 0 !important; }
                      /* Hide Layout Elements */
                      aside, header, footer { display: none !important; }
                  }
              `}),c.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-[210mm]",children:[c.jsxs("div",{className:"no-print flex justify-between items-center bg-white p-4 rounded-xl shadow-lg sticky top-4 z-50",children:[c.jsx("div",{className:"flex gap-3",children:c.jsxs("button",{onClick:()=>{u(!1),e("/")},className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-200",children:[c.jsx(qc,{className:"w-4 h-4"})," "]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:Bu,className:"bg-blue-600 text-white px-6 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700 shadow-md font-bold",children:[c.jsx(R$,{className:"w-4 h-4"}),"  "]}),c.jsxs("button",{onClick:Fj,className:"bg-green-600 text-white px-6 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow-md font-bold",children:[c.jsx(qA,{className:"w-4 h-4"}),"  "]})]})]}),c.jsxs("div",{className:"print-container bg-white shadow-2xl p-[10mm] w-[210mm] min-h-[297mm] mx-auto text-xs space-y-4 font-sans relative",children:[c.jsxs("div",{className:"border-b-2 border-primary pb-4 mb-4 flex justify-between items-center",children:[c.jsx("div",{className:"w-20",children:c.jsx(HA,{})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-xl font-black text-gray-800",children:"  "}),c.jsx("p",{className:"text-gray-500 font-bold mt-1",children:"     "})]}),c.jsxs("div",{className:"text-left space-y-1",children:[c.jsxs("div",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:["No: ",d.code]}),c.jsxs("div",{children:[": ",c.jsx("b",{children:d.shiftInfo.date})]}),c.jsxs("div",{children:[": ",c.jsx("b",{children:d.shiftInfo.name})," (",d.shiftInfo.type,")"]})]})]}),c.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[c.jsx("div",{className:"bg-gray-100 p-2 font-bold border-b text-center",children:"   "}),c.jsxs("table",{className:"w-full text-center border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50 text-[10px]",children:[c.jsx("th",{className:"border p-1",children:""}),c.jsx("th",{className:"border p-1 bg-blue-50",children:" A"}),c.jsx("th",{className:"border p-1 bg-blue-50",children:" A"}),c.jsx("th",{className:"border p-1 bg-red-50",children:" B"}),c.jsx("th",{className:"border p-1 bg-red-50",children:" B"})]})}),c.jsxs("tbody",{children:[wr.map(I=>{const z=d.feedInfo.lineA[I]||[],G=d.feedInfo.lineB[I]||[];return c.jsxs("tr",{className:"text-[10px]",children:[c.jsx("td",{className:"border p-1 font-bold bg-gray-50",children:I}),c.jsx("td",{className:"border p-1",children:d.production.lineA[I]||"-"}),c.jsx("td",{className:"border p-1 text-[9px]",children:z.map(ie=>ie.percent>0?`${ie.type} ${ie.percent}%`:"").join(" ")}),c.jsx("td",{className:"border p-1",children:d.production.lineB[I]||"-"}),c.jsx("td",{className:"border p-1 text-[9px]",children:G.map(ie=>ie.percent>0?`${ie.type} ${ie.percent}%`:"").join(" ")})]},I)}),c.jsxs("tr",{className:"font-bold bg-gray-100",children:[c.jsx("td",{className:"border p-2",children:""}),c.jsxs("td",{className:"border p-2",children:[d.totalA," "]}),c.jsx("td",{className:"border p-2 bg-gray-200"}),c.jsxs("td",{className:"border p-2",children:[d.totalB," "]}),c.jsx("td",{className:"border p-2 bg-gray-200"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:["lineA","lineB"].map(I=>{const z=I==="lineA"?" A":" B",G=I==="lineA"?"border-blue-200":"border-red-200",ie=I==="lineA"?"bg-blue-50 text-blue-800":"bg-red-50 text-red-800",oe=d.ballMills[I],te=d.hydrocyclones[I];return c.jsxs("div",{className:`border ${G} rounded-lg overflow-hidden`,children:[c.jsx("div",{className:`${ie} p-1 font-bold text-center border-b ${G}`,children:z}),c.jsxs("div",{className:"p-2 space-y-2",children:[c.jsx("div",{className:"grid grid-cols-2 gap-2",children:["primary","secondary"].map(X=>c.jsxs("div",{className:`border p-1 rounded ${oe[X].active?"bg-green-50":"bg-gray-50 opacity-50"}`,children:[c.jsx("div",{className:"font-bold text-[9px] mb-1",children:X==="primary"?" ":" "}),c.jsxs("div",{className:"flex justify-between text-[9px]",children:[c.jsx("span",{children:":"}),c.jsx("span",{children:oe[X].amp08||"-"})]}),c.jsxs("div",{className:"flex justify-between text-[9px]",children:[c.jsx("span",{children:":"}),c.jsx("span",{children:oe[X].dens08||"-"})]}),oe[X].charges.length>0&&c.jsxs("div",{className:"text-[8px] mt-1 border-t pt-1",children:[": ",oe[X].charges.map(Ee=>`${Ee.count} ${Ee.size}`).join(", ")]})]},X))}),c.jsxs("div",{className:"text-[9px] border-t pt-1",children:[c.jsx("span",{className:"font-bold",children:":"}),c.jsxs("div",{className:"flex gap-1 mt-1",children:[c.jsxs("span",{children:[": ",te.primary.pressure]}),c.jsx("span",{children:"|"}),c.jsxs("span",{children:[" : ",te.primary.activeCyclones.join(",")]})]})]})]})]},I)})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"border rounded-lg p-2",children:[c.jsx("div",{className:"font-bold border-b mb-2 pb-1",children:"  A"}),c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{children:":"}),c.jsx("b",{children:d.downtime.lineA.workTime})]}),c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{children:":"}),c.jsx("b",{children:d.downtime.lineA.stopTime})]}),c.jsx("div",{className:"text-gray-600 mt-2 text-[10px] bg-gray-50 p-1 rounded",children:d.downtime.lineA.reason||" "})]}),c.jsxs("div",{className:"border rounded-lg p-2",children:[c.jsx("div",{className:"font-bold border-b mb-2 pb-1",children:"  B"}),c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{children:":"}),c.jsx("b",{children:d.downtime.lineB.workTime})]}),c.jsxs("div",{className:"flex justify-between mb-1",children:[c.jsx("span",{children:":"}),c.jsx("b",{children:d.downtime.lineB.stopTime})]}),c.jsx("div",{className:"text-gray-600 mt-2 text-[10px] bg-gray-50 p-1 rounded",children:d.downtime.lineB.reason||" "})]})]}),c.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50",children:[c.jsx("div",{className:"font-bold mb-1",children:"  :"}),c.jsx("p",{className:"whitespace-pre-wrap",children:d.footer.nextShiftActions||"-"})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-8 mt-8 pt-8 border-t-2 border-gray-200",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-bold mb-8",children:"  "}),c.jsx("div",{className:"border-t border-dashed w-32 mx-auto"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-bold mb-8",children:" "}),c.jsx("div",{className:"font-mono text-sm mb-2",children:t.fullName}),c.jsx("div",{className:"border-t border-dashed w-32 mx-auto"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-bold mb-8",children:" "}),c.jsx("div",{className:"border-t border-dashed w-32 mx-auto"})]})]})]})]})]}):c.jsxs("div",{className:"max-w-7xl mx-auto pb-24 px-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6 pt-6",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:c.jsx(DA,{className:"w-8 h-8 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"  "}),c.jsx("p",{className:"text-xs text-gray-500",children:"     "})]})]}),c.jsx("div",{className:"flex overflow-x-auto pb-2 mb-4 gap-2 no-scrollbar",children:[{id:1,label:" ",icon:Nu},{id:2,label:"",icon:b$},{id:3,label:"",icon:IA},{id:4,label:"",icon:x$},{id:9,label:" ",icon:A$},{id:6,label:" ",icon:lh},{id:5,label:"",icon:E$},{id:7,label:" ",icon:Sd},{id:8,label:"  ",icon:B$}].map(I=>c.jsxs("button",{type:"button",onClick:()=>r(I.id),className:`flex items-center gap-2 px-4 py-3 rounded-xl whitespace-nowrap transition-all
                    ${n===I.id?"bg-primary text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50"}
                `,children:[c.jsx(I.icon,{className:"w-4 h-4"})," ",I.label]},I.id))}),c.jsxs("form",{onSubmit:jo,className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 min-h-[500px]",children:[n===1&&c.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),c.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none",value:v.name,onChange:I=>y({...v,name:I.target.value}),children:[c.jsx("option",{value:"A",children:" A"}),c.jsx("option",{value:"B",children:" B"}),c.jsx("option",{value:"C",children:" C"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),c.jsxs("select",{className:"w-full p-3 rounded-xl border outline-none",value:v.type,onChange:I=>y({...v,type:I.target.value}),children:[c.jsx("option",{value:"Day1",children:" "}),c.jsx("option",{value:"Day2",children:" "}),c.jsx("option",{value:"Night1",children:" "}),c.jsx("option",{value:"Night2",children:" "})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),c.jsx("div",{className:"w-full p-3 rounded-xl border bg-gray-100 dark:bg-gray-600 text-center font-bold",children:at(v.date)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:""}),c.jsx(Pr,{value:v.date,onChange:I=>y({...v,date:I})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold mb-2",children:" "}),c.jsx("input",{type:"text",value:t.fullName,disabled:!0,className:"w-full p-3 rounded-xl border bg-gray-100 text-gray-500"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-lg text-green-700 mb-2 flex items-center gap-2",children:[c.jsx(G$,{className:"w-5 h-5"}),"  "]}),c.jsx("div",{className:"flex gap-2 mb-3",children:c.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:I=>{I.target.value&&(me(I.target.value,"PRESENT"),I.target.value="")},children:[c.jsx("option",{value:"",children:"..."}),Ln().map(I=>c.jsx("option",{value:I.id,children:I.full_name},I.id))]})}),c.jsx("div",{className:"space-y-2",children:$i("PRESENT").map(I=>c.jsxs("div",{className:"flex justify-between items-center bg-green-50 border border-green-200 p-2 rounded-lg text-green-800 text-sm",children:[c.jsx("span",{children:I.full_name}),c.jsx("button",{type:"button",onClick:()=>K(I.id),className:"text-red-500",children:c.jsx(Yt,{className:"w-4 h-4"})})]},I.id))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-lg text-orange-600 mb-2 flex items-center gap-2",children:[c.jsx(sh,{className:"w-5 h-5"}),"  "]}),c.jsx("div",{className:"flex gap-2 mb-3",children:c.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:I=>{I.target.value&&(me(I.target.value,"LEAVE"),I.target.value="")},children:[c.jsx("option",{value:"",children:"..."}),Ln().map(I=>c.jsx("option",{value:I.id,children:I.full_name},I.id))]})}),c.jsx("div",{className:"space-y-2",children:$i("LEAVE").map(I=>c.jsxs("div",{className:"bg-orange-50 border border-orange-200 p-2 rounded-lg text-orange-800 text-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{children:I.full_name}),c.jsx("button",{type:"button",onClick:()=>K(I.id),className:"text-red-500",children:c.jsx(Yt,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex gap-2 text-xs",children:[c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[c.jsx("input",{type:"radio",checked:w[I.id]==="DAILY",onChange:()=>_({...w,[I.id]:"DAILY"})})," "]}),c.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[c.jsx("input",{type:"radio",checked:w[I.id]==="HOURLY",onChange:()=>_({...w,[I.id]:"HOURLY"})})," "]})]})]},I.id))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-lg text-red-700 mb-2 flex items-center gap-2",children:[c.jsx(H$,{className:"w-5 h-5"}),"  "]}),c.jsx("div",{className:"flex gap-2 mb-3",children:c.jsxs("select",{className:"flex-1 p-2 rounded-lg border outline-none",onChange:I=>{I.target.value&&(me(I.target.value,"ABSENT"),I.target.value="")},children:[c.jsx("option",{value:"",children:"..."}),Ln().map(I=>c.jsx("option",{value:I.id,children:I.full_name},I.id))]})}),c.jsx("div",{className:"space-y-2",children:$i("ABSENT").map(I=>c.jsxs("div",{className:"flex justify-between items-center bg-red-50 border border-red-200 p-2 rounded-lg text-red-800 text-sm",children:[c.jsx("span",{children:I.full_name}),c.jsx("button",{type:"button",onClick:()=>K(I.id),className:"text-red-500",children:c.jsx(Yt,{className:"w-4 h-4"})})]},I.id))})]})]})]}),n===2&&c.jsx("div",{className:"animate-fadeIn overflow-x-auto",children:c.jsxs("table",{className:"w-full text-center text-sm border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{rowSpan:2,className:"p-3 w-16 bg-gray-100 dark:bg-gray-700 border-b dark:border-gray-600",children:""}),c.jsx("th",{className:"p-3 bg-blue-100 text-blue-800 border-b dark:border-gray-600",children:" A"}),c.jsx("th",{className:"p-3 bg-red-100 text-red-800 border-b dark:border-gray-600",children:" B"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[wr.map((I,z)=>{const G=T.lineA[I]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}],ie=T.lineB[I]||[{type:"",percent:0},{type:"",percent:0},{type:"",percent:0}],oe=G.reduce((X,Ee)=>X+Number(Ee.percent),0),te=ie.reduce((X,Ee)=>X+Number(Ee.percent),0);return c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 font-bold bg-gray-50 dark:bg-gray-900 border-r",children:I}),c.jsxs("td",{className:"p-2 align-top bg-blue-50/30",children:[c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"number",placeholder:"",min:"0",className:"w-full text-center p-1 rounded border focus:border-blue-500 font-bold mb-2",value:E.lineA[I]||"",onChange:X=>ke("lineA",I,X.target.value)})}),c.jsxs("div",{className:"space-y-1",children:[[0,1,2].map(X=>c.jsxs("div",{className:"flex gap-1",children:[c.jsxs("select",{className:"flex-[2] p-1 text-xs border rounded",value:G[X].type,onChange:Ee=>ze("lineA",z,X,Ee.target.value),children:[c.jsxs("option",{value:"",children:["  ",X+1]}),NE.map(Ee=>c.jsx("option",{value:Ee,children:Ee},Ee))]}),c.jsx("input",{type:"number",min:"0",max:"100",placeholder:"%",className:"flex-1 text-center p-1 text-xs border rounded",value:G[X].percent||"",onChange:Ee=>Y("lineA",z,X,Ee.target.value)})]},X)),c.jsxs("div",{className:`text-[10px] text-right mt-1 ${oe!==100&&oe!==0?"text-red-500 font-bold animate-pulse":"text-gray-400"}`,children:[": ",oe,"% ",oe!==100&&oe!==0&&"(  )"]})]})]}),c.jsxs("td",{className:"p-2 align-top bg-red-50/30",children:[c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"number",placeholder:"",min:"0",className:"w-full text-center p-1 rounded border focus:border-red-500 font-bold mb-2",value:E.lineB[I]||"",onChange:X=>ke("lineB",I,X.target.value)})}),c.jsxs("div",{className:"space-y-1",children:[[0,1,2].map(X=>c.jsxs("div",{className:"flex gap-1",children:[c.jsxs("select",{className:"flex-[2] p-1 text-xs border rounded",value:ie[X].type,onChange:Ee=>ze("lineB",z,X,Ee.target.value),children:[c.jsxs("option",{value:"",children:["  ",X+1]}),NE.map(Ee=>c.jsx("option",{value:Ee,children:Ee},Ee))]}),c.jsx("input",{type:"number",min:"0",max:"100",placeholder:"%",className:"flex-1 text-center p-1 text-xs border rounded",value:ie[X].percent||"",onChange:Ee=>Y("lineB",z,X,Ee.target.value)})]},X)),c.jsxs("div",{className:`text-[10px] text-right mt-1 ${te!==100&&te!==0?"text-red-500 font-bold animate-pulse":"text-gray-400"}`,children:[": ",te,"% ",te!==100&&te!==0&&"(  )"]})]})]})]},I)}),c.jsxs("tr",{className:"bg-gray-100 font-bold text-lg",children:[c.jsx("td",{className:"p-3",children:""}),c.jsxs("td",{className:"p-3 text-blue-800",children:[de("lineA")," "]}),c.jsxs("td",{className:"p-3 text-red-800",children:[de("lineB")," "]})]})]})]})}),n===3&&c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 animate-fadeIn",children:["lineA","lineB"].map(I=>c.jsxs("div",{className:`border rounded-xl p-4 ${I==="lineA"?"bg-blue-50/20 border-blue-100":"bg-red-50/20 border-red-100"}`,children:[c.jsx("h3",{className:`font-bold mb-4 border-b pb-2 ${I==="lineA"?"text-blue-800 border-blue-200":"text-red-800 border-red-200"}`,children:I==="lineA"?"  A":"  B"}),c.jsx("div",{className:"grid grid-cols-1 gap-4",children:["primary","secondary"].map(z=>{const G=A[I][z],ie=G.charges.map(te=>te.size),oe=ise.filter(te=>!ie.includes(te));return c.jsxs("div",{className:"bg-white dark:bg-gray-700/50 p-3 rounded-lg border shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("span",{className:"font-bold text-sm",children:z==="primary"?"  ()":"  ()"}),c.jsx(Un,{active:G.active,onClick:()=>{const te={...A[I],[z]:{...G,active:!G.active}};C({...A,[I]:te})}})]}),G.active&&c.jsxs("div",{className:"animate-slideDown space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:" 08:30",className:"p-2 text-xs border rounded w-full",value:G.amp08,onChange:te=>{const X={...A[I],[z]:{...G,amp08:te.target.value}};C({...A,[I]:X})}}),c.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"A"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:" 02:30",className:"p-2 text-xs border rounded w-full",value:G.amp02,onChange:te=>{const X={...A[I],[z]:{...G,amp02:te.target.value}};C({...A,[I]:X})}}),c.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"A"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:" 08:30",className:"p-2 text-xs border rounded w-full",value:G.dens08,onChange:te=>{const X={...A[I],[z]:{...G,dens08:te.target.value}};C({...A,[I]:X})}}),c.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"gr/L"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:" 02:30",className:"p-2 text-xs border rounded w-full",value:G.dens02,onChange:te=>{const X={...A[I],[z]:{...G,dens02:te.target.value}};C({...A,[I]:X})}}),c.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"gr/L"})]})]}),c.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[c.jsx("span",{className:"text-xs font-bold text-gray-500 block mb-2",children:" "}),G.charges.length>0&&c.jsx("div",{className:"space-y-1 mb-2",children:G.charges.map((te,X)=>c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800 p-2 rounded text-xs border border-gray-200 dark:border-gray-600",children:[c.jsxs("span",{children:[": ",c.jsx("b",{children:te.size})," - : ",c.jsx("b",{children:te.count})," "]}),c.jsx("button",{type:"button",onClick:()=>Ie(I,z,X),className:"text-red-500 hover:bg-red-100 p-1 rounded",children:c.jsx(Yt,{className:"w-3 h-3"})})]},X))}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsxs("select",{className:"flex-1 p-2 text-xs border rounded outline-none",value:G.ballSize,onChange:te=>{const X={...A[I],[z]:{...G,ballSize:te.target.value}};C({...A,[I]:X})},children:[c.jsx("option",{value:"",children:"..."}),oe.map(te=>c.jsx("option",{value:te,children:te},te))]}),c.jsx("input",{type:"number",min:"1",placeholder:" ",className:"flex-1 p-2 text-xs border rounded",value:G.barrelCount,onChange:te=>{const X={...A[I],[z]:{...G,barrelCount:te.target.value}};C({...A,[I]:X})}}),c.jsx("button",{type:"button",onClick:()=>ye(I,z),className:"bg-green-600 text-white p-2 rounded hover:bg-green-700 transition",title:" ",children:c.jsx(j$,{className:"w-4 h-4"})})]})]})]})]},z)})})]},I))}),n===4&&c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 animate-fadeIn",children:["lineA","lineB"].map(I=>c.jsxs("div",{className:`border rounded-xl p-4 ${I==="lineA"?"bg-blue-50/20 border-blue-100":"bg-red-50/20 border-red-100"}`,children:[c.jsx("h3",{className:`font-bold mb-4 border-b pb-2 ${I==="lineA"?"text-blue-800 border-blue-200":"text-red-800 border-red-200"}`,children:I==="lineA"?"  A":"  B"}),c.jsx("div",{className:"grid grid-cols-1 gap-4",children:["primary","secondary"].map(z=>{const G=j[I][z];return c.jsxs("div",{className:"bg-white dark:bg-gray-700/50 p-3 rounded-lg border shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("span",{className:"font-bold text-sm",children:z==="primary"?"  ":"  "}),c.jsx(Un,{active:G.active,onClick:()=>{const ie={...j[I],[z]:{...G,active:!G.active}};R({...j,[I]:ie})}})]}),G.active&&c.jsxs("div",{className:"animate-slideDown space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"",className:"p-2 text-xs border rounded w-full",value:G.pressure,onChange:ie=>{const oe={...j[I],[z]:{...G,pressure:ie.target.value}};R({...j,[I]:oe})}}),c.jsx("span",{className:"absolute left-1 top-2 text-[10px] text-gray-400",children:"Bar"})]}),c.jsx("input",{type:"text",placeholder:"",className:"p-2 text-xs border rounded",value:G.angle,onChange:ie=>{const oe={...j[I],[z]:{...G,angle:ie.target.value}};R({...j,[I]:oe})}})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xs block mb-1",children:" :"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from({length:12}).map((ie,oe)=>{const te=oe+1;return c.jsx("button",{type:"button",onClick:()=>{const X=G.activeCyclones.includes(te)?G.activeCyclones.filter(qu=>qu!==te):[...G.activeCyclones,te],Ee={...j[I],[z]:{...G,activeCyclones:X}};R({...j,[I]:Ee})},className:`w-6 h-6 text-xs rounded border ${G.activeCyclones.includes(te)?"bg-blue-500 text-white":"bg-white"}`,children:te},te)})})]})]})]},z)})})]},I))}),n===9&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fadeIn",children:[c.jsxs("div",{className:"border rounded-xl p-4 bg-blue-50/20 border-blue-100",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-blue-200 pb-2",children:[c.jsx("h3",{className:"font-bold text-blue-800",children:"   A"}),c.jsx(Un,{active:M.lineA.active,onClick:()=>U({...M,lineA:{...M.lineA,active:!M.lineA.active}})})]}),M.lineA.active&&c.jsxs("div",{className:"animate-slideDown",children:[[{k:"single",l:" "},{k:"upper",l:"  "},{k:"middle",l:"  "},{k:"lower",l:"  "}].map(I=>c.jsxs("div",{className:"flex justify-between items-center p-2 border-b last:border-0",children:[c.jsx("span",{className:"text-sm",children:I.l}),c.jsx("input",{type:"checkbox",checked:M.lineA[I.k],onChange:z=>U({...M,lineA:{...M.lineA,[I.k]:z.target.checked}})})]},I.k)),c.jsxs("div",{className:"mt-4 relative",children:[c.jsx("label",{className:"block text-xs font-bold mb-1",children:"  A"}),c.jsx("textarea",{className:"w-full p-2 border rounded-lg h-20 text-xs",value:M.lineA.description,onChange:I=>U({...M,lineA:{...M.lineA,description:I.target.value}})}),c.jsx("button",{type:"button",onClick:()=>Oe(I=>U({...M,lineA:{...M.lineA,description:I}}),M.lineA.description),className:"absolute bottom-2 left-2 p-1 text-gray-400 hover:text-primary",children:c.jsx(jr,{className:"w-4 h-4"})})]})]})]}),c.jsxs("div",{className:"border rounded-xl p-4 bg-red-50/20 border-red-100",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-red-200 pb-2",children:[c.jsx("h3",{className:"font-bold text-red-800",children:"   B"}),c.jsx(Un,{active:M.lineB.active,onClick:()=>U({...M,lineB:{...M.lineB,active:!M.lineB.active}})})]}),M.lineB.active&&c.jsxs("div",{className:"animate-slideDown",children:[[{k:"single",l:" "},{k:"upper",l:"  "},{k:"middle",l:"  "},{k:"lower",l:"  "}].map(I=>c.jsxs("div",{className:"flex justify-between items-center p-2 border-b last:border-0",children:[c.jsx("span",{className:"text-sm",children:I.l}),c.jsx("input",{type:"checkbox",checked:M.lineB[I.k],onChange:z=>U({...M,lineB:{...M.lineB,[I.k]:z.target.checked}})})]},I.k)),c.jsxs("div",{className:"mt-4 relative",children:[c.jsx("label",{className:"block text-xs font-bold mb-1",children:"  B"}),c.jsx("textarea",{className:"w-full p-2 border rounded-lg h-20 text-xs",value:M.lineB.description,onChange:I=>U({...M,lineB:{...M.lineB,description:I.target.value}})}),c.jsx("button",{type:"button",onClick:()=>Oe(I=>U({...M,lineB:{...M.lineB,description:I}}),M.lineB.description),className:"absolute bottom-2 left-2 p-1 text-gray-400 hover:text-primary",children:c.jsx(jr,{className:"w-4 h-4"})})]})]})]})]}),n===6&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["lineA","lineB","reserve"].map(I=>{const z=$[I],G=I==="lineA"?"   A":I==="lineB"?"   B":"  ",ie=I==="lineA"?"blue":I==="lineB"?"red":"gray";return c.jsxs("div",{className:`border rounded-xl p-4 bg-${ie}-50/20 border-${ie}-100`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:`font-bold text-${ie}-800`,children:G}),c.jsx(Un,{active:z.active,onClick:()=>P({...$,[I]:{...z,active:!z.active}})})]}),z.active&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-slideDown",children:[c.jsx(sr,{value:z.operator,onChange:oe=>P({...$,[I]:{...z,operator:oe}})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold mb-1 text-gray-500",children:" "}),c.jsx(Wt,{value:z.hours,onChange:oe=>P({...$,[I]:{...z,hours:oe}})})]}),c.jsx("div",{className:"col-span-2",children:c.jsx(TE,{title:G,selectedCloths:z.cloths,onChange:oe=>P({...$,[I]:{...z,cloths:oe}})})})]})]},I)})}),n===5&&c.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[c.jsxs("div",{className:"border rounded-xl p-4 overflow-x-auto bg-blue-50/20 border-blue-100",children:[c.jsx("h3",{className:"font-bold mb-4 text-blue-800 sticky left-0",children:"  A"}),O.lineA.map((I,z)=>c.jsxs("div",{className:"mb-6 border-b pb-4 last:border-0",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("h4",{className:"font-bold text-sm text-gray-600 dark:text-gray-300",children:["  ",z+1]}),c.jsx(Un,{active:I.active,onClick:()=>ue("lineA",z,"active",!I.active)})]}),I.active&&c.jsxs("div",{className:"animate-slideDown",children:[c.jsxs("div",{className:"flex gap-4 mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(Wt,{value:I.hoursWorked,onChange:G=>ue("lineA",z,"hoursWorked",G)})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:"  "}),c.jsx(Wt,{value:I.channelOutput,onChange:G=>ue("lineA",z,"channelOutput",G)})]})]}),c.jsxs("table",{className:"w-full text-center text-xs border",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[c.jsx("th",{className:"p-2 border",children:""}),c.jsx("th",{className:"p-2 border",children:" (Bar)"}),c.jsx("th",{className:"p-2 border",children:"  (cm)"}),c.jsx("th",{className:"p-2 border",children:"  (cm)"})]})}),c.jsx("tbody",{children:kE.map(G=>{var ie,oe,te;return c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border bg-gray-50 dark:bg-gray-900 font-bold",children:G}),c.jsx("td",{className:"p-1 border",children:c.jsx("input",{type:"number",min:"0",className:"w-full p-1 text-center bg-transparent outline-none",value:((ie=I.data[G])==null?void 0:ie.pressure)||"",onChange:X=>ne("lineA",z,G,"pressure",X.target.value)})}),c.jsx("td",{className:"p-1 border",children:c.jsx("input",{type:"number",min:"0",className:"w-full p-1 text-center bg-transparent outline-none",value:((oe=I.data[G])==null?void 0:oe.jack)||"",onChange:X=>ne("lineA",z,G,"jack",X.target.value)})}),c.jsx("td",{className:"p-1 border",children:c.jsx("input",{type:"number",min:"0",className:"w-full p-1 text-center bg-transparent outline-none",value:((te=I.data[G])==null?void 0:te.mudLine)||"",onChange:X=>ne("lineA",z,G,"mudLine",X.target.value)})})]},G)})})]})]})]},z))]}),c.jsxs("div",{className:"border rounded-xl p-4 overflow-x-auto bg-red-50/20 border-red-100",children:[c.jsx("h3",{className:"font-bold mb-4 text-red-800 sticky left-0",children:"  B"}),O.lineB.map((I,z)=>c.jsxs("div",{className:"mb-6 border-b pb-4 last:border-0",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("h4",{className:"font-bold text-sm text-gray-600 dark:text-gray-300",children:["  ",z+1]}),c.jsx(Un,{active:I.active,onClick:()=>ue("lineB",z,"active",!I.active)})]}),I.active&&c.jsxs("div",{className:"animate-slideDown",children:[c.jsxs("div",{className:"flex gap-4 mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(Wt,{value:I.hoursWorked,onChange:G=>ue("lineB",z,"hoursWorked",G)})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:"  "}),c.jsx(Wt,{value:I.channelOutput,onChange:G=>ue("lineB",z,"channelOutput",G)})]})]}),c.jsxs("table",{className:"w-full text-center text-xs border",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[c.jsx("th",{className:"p-2 border",children:""}),c.jsx("th",{className:"p-2 border",children:" (Bar)"}),c.jsx("th",{className:"p-2 border",children:"  (cm)"}),c.jsx("th",{className:"p-2 border",children:"  (cm)"})]})}),c.jsx("tbody",{children:kE.map(G=>{var ie,oe,te;return c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border bg-gray-50 dark:bg-gray-900 font-bold",children:G}),c.jsx("td",{className:"p-1 border",children:c.jsx("input",{type:"number",min:"0",className:"w-full p-1 text-center bg-transparent outline-none",value:((ie=I.data[G])==null?void 0:ie.pressure)||"",onChange:X=>ne("lineB",z,G,"pressure",X.target.value)})}),c.jsx("td",{className:"p-1 border",children:c.jsx("input",{type:"number",min:"0",className:"w-full p-1 text-center bg-transparent outline-none",value:((oe=I.data[G])==null?void 0:oe.jack)||"",onChange:X=>ne("lineB",z,G,"jack",X.target.value)})}),c.jsx("td",{className:"p-1 border",children:c.jsx("input",{type:"number",min:"0",className:"w-full p-1 text-center bg-transparent outline-none",value:((te=I.data[G])==null?void 0:te.mudLine)||"",onChange:X=>ne("lineB",z,G,"mudLine",X.target.value)})})]},G)})})]})]})]},z))]})]}),n===7&&c.jsx("div",{className:"space-y-6 animate-fadeIn",children:["lineA","lineB"].map(I=>c.jsxs("div",{className:`border rounded-xl p-4 ${I==="lineA"?"bg-blue-50/20 border-blue-100":"bg-red-50/20 border-red-100"}`,children:[c.jsx("h3",{className:`font-bold mb-4 ${I==="lineA"?"text-blue-800":"text-red-800"}`,children:I==="lineA"?"   A":"   B"}),D[I==="lineA"?"lineA":"lineB"].map((z,G)=>c.jsxs("div",{className:"mb-4 border-b pb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"font-bold",children:["   ",G+1]}),c.jsx(Un,{active:z.active,onClick:()=>{const ie=[...D[I==="lineA"?"lineA":"lineB"]];ie[G]={...z,active:!z.active},B({...D,[I]:ie})}})]}),z.active&&c.jsxs("div",{className:"animate-slideDown",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsx(sr,{value:z.operator,onChange:ie=>{const oe=[...D[I==="lineA"?"lineA":"lineB"]];oe[G].operator=ie,B({...D,[I]:oe})}}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs block mb-1 text-gray-500",children:" "}),c.jsx(Wt,{value:z.hours,onChange:ie=>{const oe=[...D[I==="lineA"?"lineA":"lineB"]];oe[G].hours=ie,B({...D,[I]:oe})}})]})]}),c.jsx(TE,{title:`Rec Filter ${I==="lineA"?"A":"B"}-${G+1}`,selectedCloths:z.cloths,onChange:ie=>{const oe=[...D[I==="lineA"?"lineA":"lineB"]];oe[G].cloths=ie,B({...D,[I]:oe})}})]})]},G))]},I))}),n===8&&c.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/20 p-4 rounded-xl border",children:[c.jsx("h3",{className:"font-bold mb-3 text-blue-700 dark:text-blue-300",children:" "}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold mb-2",children:"  "}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["1","2","3"].map(I=>c.jsx("button",{type:"button",onClick:()=>{const z=V.process.includes(I)?V.process.filter(G=>G!==I):[...V.process,I];Q({...V,process:z})},className:`w-8 h-8 flex items-center justify-center text-sm rounded border ${V.process.includes(I)?"bg-blue-600 text-white":"bg-white"}`,children:I},I))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold mb-2",children:"   "}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["1","2","3"].map(I=>c.jsx("button",{type:"button",onClick:()=>{const z=V.cleanWater.includes(I)?V.cleanWater.filter(G=>G!==I):[...V.cleanWater,I];Q({...V,cleanWater:z})},className:`w-8 h-8 flex items-center justify-center text-sm rounded border ${V.cleanWater.includes(I)?"bg-blue-600 text-white":"bg-white"}`,children:I},I))})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"border-2 border-red-100 rounded-xl p-4",children:[c.jsx("h3",{className:"font-bold text-center mb-3 text-primary",children:"  A"}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(Wt,{value:H.lineA.workTime,onChange:I=>ae({...H,lineA:{...H.lineA,workTime:I}})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(Wt,{value:H.lineA.stopTime,onChange:I=>ae({...H,lineA:{...H.lineA,stopTime:I}})})]})]}),H.lineA.stopTime&&H.lineA.stopTime!=="00:00"&&c.jsx("textarea",{className:"w-full p-2 border border-red-300 rounded-lg bg-red-50 animate-fadeIn",placeholder:" ...",value:H.lineA.reason,onChange:I=>ae({...H,lineA:{...H.lineA,reason:I.target.value}})})]}),c.jsxs("div",{className:"border-2 border-red-100 rounded-xl p-4",children:[c.jsx("h3",{className:"font-bold text-center mb-3 text-red-600",children:"  B"}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(Wt,{value:H.lineB.workTime,onChange:I=>ae({...H,lineB:{...H.lineB,workTime:I}})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-xs block mb-1",children:" "}),c.jsx(Wt,{value:H.lineB.stopTime,onChange:I=>ae({...H,lineB:{...H.lineB,stopTime:I}})})]})]}),H.lineB.stopTime&&H.lineB.stopTime!=="00:00"&&c.jsx("textarea",{className:"w-full p-2 border border-red-300 rounded-lg bg-red-50 animate-fadeIn",placeholder:" ...",value:H.lineB.reason,onChange:I=>ae({...H,lineB:{...H.lineB,reason:I.target.value}})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block font-bold mb-2",children:"    "}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{className:"w-full p-4 pl-12 border rounded-xl h-32",placeholder:"     ...",value:ve.nextShiftActions,onChange:I=>be({...ve,nextShiftActions:I.target.value})}),c.jsx("button",{type:"button",onClick:q,className:`absolute left-3 bottom-3 p-2 rounded-full transition ${a==="nextShift"?"bg-red-500 text-white animate-pulse":"bg-gray-100 text-gray-500"}`,children:c.jsx(jr,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"flex justify-end pt-4 border-t",children:c.jsxs("button",{type:"submit",disabled:i,className:"bg-primary text-white px-8 py-4 rounded-xl shadow-xl hover:bg-red-800 flex items-center gap-2 font-bold text-lg disabled:opacity-50",children:[i?c.jsx(il,{className:"w-6 h-6 animate-spin"}):c.jsx(os,{className:"w-6 h-6"}),"   "]})})]})]})]})},ase=({enabled:t})=>{const[e,n]=N.useState([]);return N.useEffect(()=>{if(t){const r=Array.from({length:40}).map((i,o)=>({id:o,left:Math.random()*100+"vw",animationDuration:Math.random()*3+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.3,size:Math.random()*4+2+"px"}));n(r)}else n([])},[t]),t?c.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[c.jsx("style",{children:`
          @keyframes snowfall {
            0% { transform: translateY(-10px) translateX(0); }
            100% { transform: translateY(110vh) translateX(20px); }
          }
        `}),e.map(r=>c.jsx("div",{className:"absolute bg-white rounded-full drop-shadow-sm",style:{left:r.left,top:"-10px",width:r.size,height:r.size,opacity:r.opacity,animation:`snowfall ${r.animationDuration} linear infinite`,animationDelay:r.animationDelay}},r.id))]}):null};var sse={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lse,use;function cse(){return{geminiUrl:lse,vertexUrl:use}}function dse(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const a=cse();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xr{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const d=l[u];m(d,e.slice(o+1),n[u])}else for(const u of l)m(u,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];m(l[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(s=>p(s,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function fse(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}Qy(t,i,o,0,a)}}function Qy(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=t;if(a in s&&Array.isArray(s[a]))for(const l of s[a])Qy(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,d]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);m(a,f,d)}for(const u of s)delete a[u]}}else{const a=t;o in a&&Qy(a[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nx(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hse(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function pse(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],gse(a)),e}function mse(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],yse(a)),e}function gse(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>vse(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function yse(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>xse(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function vse(t){const e={},n=p(t,["video"]);return n!=null&&m(e,["video"],Tse(n)),e}function xse(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],kse(n)),e}function bse(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function wse(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function _se(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Sse(a)),e}function Sse(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function W2(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Ese(a)),e}function Ese(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Tse(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Nx(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function kse(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Nx(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var AE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(AE||(AE={}));var CE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(CE||(CE={}));var PE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(PE||(PE={}));var fi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(fi||(fi={}));var IE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(IE||(IE={}));var jE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(jE||(jE={}));var OE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(OE||(OE={}));var RE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(RE||(RE={}));var ME;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ME||(ME={}));var $E;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})($E||($E={}));var DE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(DE||(DE={}));var LE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(LE||(LE={}));var UE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(UE||(UE={}));var FE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(FE||(FE={}));var BE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(BE||(BE={}));var qE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(qE||(qE={}));var VE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(VE||(VE={}));var GE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(GE||(GE={}));var HE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(HE||(HE={}));var Rf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Rf||(Rf={}));var zE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zE||(zE={}));var WE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(WE||(WE={}));var KE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(KE||(KE={}));var Zy;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Zy||(Zy={}));var JE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(JE||(JE={}));var YE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(YE||(YE={}));var XE;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(XE||(XE={}));var QE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(QE||(QE={}));var ZE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ZE||(ZE={}));var eT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(eT||(eT={}));var tT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(tT||(tT={}));var nT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(nT||(nT={}));var rT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(rT||(rT={}));var iT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(iT||(iT={}));var oT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(oT||(oT={}));var aT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(aT||(aT={}));var sT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(sT||(sT={}));var lT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(lT||(lT={}));var uT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(uT||(uT={}));var cT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(cT||(cT={}));var dT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(dT||(dT={}));var fT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(fT||(fT={}));var hT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(hT||(hT={}));var pT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(pT||(pT={}));var mT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(mT||(mT={}));var gT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(gT||(gT={}));var yT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(yT||(yT={}));var vT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(vT||(vT={}));var xT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(xT||(xT={}));var bT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(bT||(bT={}));var wT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wT||(wT={}));var _T;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(_T||(_T={}));var ST;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ST||(ST={}));var ET;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ET||(ET={}));var TT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(TT||(TT={}));var ca;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ca||(ca={}));class ev{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Fs{get text(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[g,v]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,a,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,a,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class kT{}class NT{}class Nse{}class Ase{}class Cse{}class Pse{}class AT{}class CT{}class PT{}class Ise{}class Mf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Mf;let i;const o=e;return n?i=mse(o):i=pse(o),Object.assign(r,i),r}}class IT{}class jT{}class OT{}class RT{}class jse{}class Ose{}class Rse{}class Ax{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ax,o=_se(e);return Object.assign(r,o),r}}class Mse{}class $se{}class Dse{}class MT{}class Lse{get text(){var e,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Use{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Cx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Cx,o=W2(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function K2(t,e){const n=Pe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function J2(t){return Array.isArray(t)?t.map(e=>$f(e)):[$f(t)]}function $f(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Y2(t){const e=$f(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function X2(t){const e=$f(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $T(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Q2(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>$T(e)):[$T(t)]}function tv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function DT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function LT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Lt(t){if(t==null)throw new Error("ContentUnion is required");return tv(t)?t:{role:"user",parts:Q2(t)}}function Px(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Lt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Lt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Lt(n)):[Lt(e)]}function In(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(DT(t)||LT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Lt(t)]}const e=[],n=[],r=tv(t[0]);for(const i of t){const o=tv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(DT(i)||LT(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Q2(n)}),e}function Fse(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(fi).includes(n[0].toUpperCase())?n[0].toUpperCase():fi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(fi).includes(r.toUpperCase())?r.toUpperCase():fi.TYPE_UNSPECIFIED})}}function Sa(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Fse(t.type,e);for(const[a,s]of Object.entries(t))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(fi).includes(s.toUpperCase())?s.toUpperCase():fi.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Sa(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(Sa(u))}e[a]=l}else if(i.includes(a)){const l={};for(const[u,d]of Object.entries(s))l[u]=Sa(d);e[a]=l}else{if(a==="additionalProperties")continue;e[a]=s}return e}function Ix(t){return Sa(t)}function jx(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ox(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function xs(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Sa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Sa(e.response));return t}function bs(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Bse(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Qr(t,e){if(typeof e!="string")throw new Error("name must be a string");return Bse(t,e,"cachedContents")}function Z2(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Mi(t){return Nx(t)}function qse(t){return t!=null&&typeof t=="object"&&"name"in t}function Vse(t){return t!=null&&typeof t=="object"&&"video"in t}function Gse(t){return t!=null&&typeof t=="object"&&"uri"in t}function ej(t){var e;let n;if(qse(t)&&(n=t.name),!(Gse(t)&&(n=t.uri,n===void 0))&&!(Vse(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function tj(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function nj(t){for(const e of["models","tunedModels","publisherModels"])if(Hse(t,e))return t[e];return[]}function Hse(t,e){return t!==null&&typeof t=="object"&&e in t}function zse(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Wse(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=zse(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function rj(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Kse(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ij(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ws(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function oj(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jse(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Cle(a))),m(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["inlinedEmbedContentResponses"],o)}return e}function Yse(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Xse(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Vc(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],oj(i));const o=p(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const s=p(t,["metadata","updateTime"]);s!=null&&m(e,["updateTime"],s);const l=p(t,["metadata","model"]);l!=null&&m(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&m(e,["dest"],Jse(ij(u))),e}function nv(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],oj(i));const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(e,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&m(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&m(e,["src"],Qse(f));const h=p(t,["outputConfig"]);h!=null&&m(e,["dest"],Yse(ij(h)));const g=p(t,["completionStats"]);return g!=null&&m(e,["completionStats"],g),e}function Qse(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Zse(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ale(t,a))),m(n,["requests","requests"],o)}return n}function ele(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function tle(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function nle(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],ws(t,r)),n}function rle(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],ws(t,r)),n}function ile(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],ole(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function ole(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function aj(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$le(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function ale(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function sle(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Xse(Kse(i))),n}function UT(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],Zse(t,rj(t,i)));const o=p(e,["config"]);return o!=null&&ale(o,n),n}function lle(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],Pe(t,r));const i=p(e,["src"]);i!=null&&m(n,["inputConfig"],ele(rj(t,i)));const o=p(e,["config"]);return o!=null&&sle(o,n),n}function ule(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function cle(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],yle(t,i));const o=p(e,["config"]);return o!=null&&ule(o,n),n}function dle(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],ws(t,r)),n}function fle(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],ws(t,r)),n}function hle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function ple(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function mle(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=Px(t,r);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(m(n,["_self"],gle(i,n)),fse(n,{"requests[].*":"requests[].request.*"})),n}function gle(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yle(t,e){const n={},r=p(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],mle(t,i)),n}function vle(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function xle(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ble(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wle(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],aj(Lt(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=p(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&m(r,["seed"],y);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],Ix(x));const w=p(e,["responseJsonSchema"]);if(w!=null&&m(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let U=_;Array.isArray(U)&&(U=U.map($=>Dle($))),m(n,["safetySettings"],U)}const E=p(e,["tools"]);if(n!==void 0&&E!=null){let U=bs(E);Array.isArray(U)&&(U=U.map($=>Ule(xs($)))),m(n,["tools"],U)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],Lle(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&m(n,["cachedContent"],Qr(t,T));const k=p(e,["responseModalities"]);k!=null&&m(r,["responseModalities"],k);const A=p(e,["mediaResolution"]);A!=null&&m(r,["mediaResolution"],A);const C=p(e,["speechConfig"]);if(C!=null&&m(r,["speechConfig"],jx(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);j!=null&&m(r,["thinkingConfig"],j);const R=p(e,["imageConfig"]);R!=null&&m(r,["imageConfig"],Nle(R));const M=p(e,["enableEnhancedCivicAnswers"]);return M!=null&&m(r,["enableEnhancedCivicAnswers"],M),r}function _le(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ile(u))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function Sle(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],ws(t,r)),n}function Ele(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],ws(t,r)),n}function Tle(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function kle(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Nle(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Ale(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["request","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let s=In(i);Array.isArray(s)&&(s=s.map(l=>aj(l))),m(n,["request","contents"],s)}const o=p(e,["metadata"]);o!=null&&m(n,["metadata"],o);const a=p(e,["config"]);return a!=null&&m(n,["request","generationConfig"],wle(t,a,p(n,["request"],{}))),n}function Cle(t){const e={},n=p(t,["response"]);n!=null&&m(e,["response"],_le(n));const r=p(t,["error"]);return r!=null&&m(e,["error"],r),e}function Ple(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Ile(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function jle(t){const e={},n=p(t,["config"]);return n!=null&&Ple(n,e),e}function Ole(t){const e={},n=p(t,["config"]);return n!=null&&Ile(n,e),e}function Rle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Vc(a))),m(e,["batchJobs"],o)}return e}function Mle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>nv(a))),m(e,["batchJobs"],o)}return e}function $le(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],vle(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],xle(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],tle(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Dle(t){const e={},n=p(t,["category"]);if(n!=null&&m(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Lle(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],ble(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function Ule(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Tle(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],kle(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Gr||(Gr={}));class Io{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fle extends Xr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Io(Gr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=UT(this.apiClient,e),r=n._url,i=re("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const d of l){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=h,f.request=g}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),a=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=lle(this.apiClient,e);return s=re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>nv(d))}else{const u=UT(this.apiClient,e);return s=re("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Vc(d))}}async createEmbeddingsInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=cle(this.apiClient,e);return o=re("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Vc(l))}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ele(this.apiClient,e);return s=re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>nv(d))}else{const u=Sle(this.apiClient,e);return s=re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>Vc(d))}}async cancel(e){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=rle(this.apiClient,e);a=re("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=nle(this.apiClient,e);a=re("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Ole(e);return s=re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Mle(d),h=new MT;return Object.assign(h,f),h})}else{const u=jle(e);return s=re("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Rle(d),h=new MT;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=fle(this.apiClient,e);return s=re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>ple(d))}else{const u=dle(this.apiClient,e);return s=re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>hle(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ble(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function FT(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cue(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function qle(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let d=In(a);Array.isArray(d)&&(d=d.map(f=>FT(f))),m(e,["contents"],d)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],FT(Lt(s)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>fue(f))),m(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],due(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Vle(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let f=In(a);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["contents"],f)}const s=p(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],Lt(s));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>hue(h))),m(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&m(e,["encryption_spec","kmsKeyName"],d),n}function Gle(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],K2(t,r));const i=p(e,["config"]);return i!=null&&qle(i,n),n}function Hle(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],K2(t,r));const i=p(e,["config"]);return i!=null&&Vle(i,n),n}function zle(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Qr(t,r)),n}function Wle(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Qr(t,r)),n}function Kle(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Jle(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Yle(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Xle(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qle(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Zle(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function eue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Qr(t,r)),n}function tue(t,e){const n={},r=p(e,["name"]);return r!=null&&m(n,["_url","name"],Qr(t,r)),n}function nue(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function rue(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function iue(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function oue(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function aue(t){const e={},n=p(t,["config"]);return n!=null&&iue(n,e),e}function sue(t){const e={},n=p(t,["config"]);return n!=null&&oue(n,e),e}function lue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function uue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["cachedContents"],o)}return e}function cue(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Yle(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Xle(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Ble(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function due(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Qle(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function fue(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],nue(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],rue(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function hue(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Zle(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function pue(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function mue(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function gue(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Qr(t,r));const i=p(e,["config"]);return i!=null&&pue(i,n),n}function yue(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Qr(t,r));const i=p(e,["config"]);return i!=null&&mue(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vue extends Xr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Io(Gr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Hle(this.apiClient,e);return s=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Gle(this.apiClient,e);return s=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=tue(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=eue(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Wle(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Jle(d),h=new OT;return Object.assign(h,f),h})}else{const u=zle(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Kle(d),h=new OT;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=yue(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=gue(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=sue(e);return s=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=uue(d),h=new RT;return Object.assign(h,f),h})}else{const u=aue(e);return s=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=lue(d),h=new RT;return Object.assign(h,f),h})}}}function Df(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function BT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ge(t){return this instanceof ge?(this.v=t,this):new ge(t)}function nr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(g){return function(v){return Promise.resolve(v).then(g,f)}}function s(g,v){r[g]&&(i[g]=function(y){return new Promise(function(b,x){o.push([g,y,b,x])>1||l(g,y)})},v&&(i[g]=v(i[g])))}function l(g,v){try{u(r[g](v))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof ge?Promise.resolve(g.value.v).then(d,f):h(o[0][2],g)}function d(g){l("next",g)}function f(g){l("throw",g)}function h(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function rr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof BT=="function"?BT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xue(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:sj(n)}function sj(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function bue(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function qT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!sj(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class wue{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new _ue(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class _ue{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),bue(o)}async sendMessage(e){var n;await this.sendPromise;const r=Lt(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,d=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(s=d.slice(f))!==null&&s!==void 0?s:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Lt(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?qT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return nr(this,arguments,function*(){var i,o,a,s,l,u;const d=[];try{for(var f=!0,h=rr(e),g;g=yield ge(h.next()),i=g.done,!i;f=!0){s=g.value,f=!1;const v=s;if(xue(v)){const y=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;y!==void 0&&d.push(y)}yield yield ge(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(a=h.return)&&(yield ge(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...qT(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ep extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ep.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sue(t){const e={},n=p(t,["file"]);return n!=null&&m(e,["file"],n),e}function Eue(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Tue(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],ej(n)),e}function kue(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Nue(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],ej(n)),e}function Aue(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Cue(t){const e={},n=p(t,["config"]);return n!=null&&Aue(n,e),e}function Pue(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iue extends Xr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Io(Gr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Cue(e);return o=re("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Pue(l),d=new Mse;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Sue(e);return o=re("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Eue(l),d=new $se;return Object.assign(d,u),d})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Nue(e);return o=re("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Tue(e);return o=re("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=kue(l),d=new Dse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gc(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function jue(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Kue(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Oue(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Rue(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Mue(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function $ue(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const v=p(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const y=p(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const b=p(t,["routingConfig"]);b!=null&&m(e,["routingConfig"],b);const x=p(t,["seed"]);x!=null&&m(e,["seed"],x);const w=p(t,["speechConfig"]);w!=null&&m(e,["speechConfig"],w);const _=p(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const E=p(t,["temperature"]);E!=null&&m(e,["temperature"],E);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const T=p(t,["topK"]);T!=null&&m(e,["topK"],T);const k=p(t,["topP"]);if(k!=null&&m(e,["topP"],k),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Due(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Lue(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Uue(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Ox(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],jue(Lt(v)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let T=bs(y);Array.isArray(T)&&(T=T.map(k=>Yue(xs(k)))),m(e,["setup","tools"],T)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],Jue(b));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const E=p(t,["contextWindowCompression"]);e!==void 0&&E!=null&&m(e,["setup","contextWindowCompression"],E);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Fue(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],$ue(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Ox(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],Lt(v));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let k=bs(y);Array.isArray(k)&&(k=k.map(A=>Xue(xs(A)))),m(e,["setup","tools"],k)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],b);const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const E=p(t,["contextWindowCompression"]);e!==void 0&&E!=null&&m(e,["setup","contextWindowCompression"],E);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&m(e,["setup","proactivity"],S);const T=p(t,["explicitVadSignal"]);return e!==void 0&&T!=null&&m(e,["setup","explicitVadSignal"],T),n}function Bue(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Pe(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Uue(i,n)),n}function que(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Pe(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Fue(i,n)),n}function Vue(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function Gue(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["weightedPrompts"],r)}return e}function Hue(t){const e={},n=p(t,["media"]);if(n!=null){let u=J2(n);Array.isArray(u)&&(u=u.map(d=>Gc(d))),m(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&m(e,["audio"],Gc(X2(r)));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],Gc(Y2(o)));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function zue(t){const e={},n=p(t,["media"]);if(n!=null){let u=J2(n);Array.isArray(u)&&(u=u.map(d=>d)),m(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&m(e,["audio"],X2(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],Y2(o));const a=p(t,["text"]);a!=null&&m(e,["text"],a);const s=p(t,["activityStart"]);s!=null&&m(e,["activityStart"],s);const l=p(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function Wue(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],Que(a));const s=p(t,["goAway"]);s!=null&&m(e,["goAway"],s);const l=p(t,["sessionResumptionUpdate"]);l!=null&&m(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);return u!=null&&m(e,["voiceActivityDetectionSignal"],u),e}function Kue(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Oue(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Rue(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Gc(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Jue(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Yue(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Due(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Lue(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Xue(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Mue(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Que(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const s=p(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=p(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["promptTokensDetails"],g)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["cacheTokensDetails"],g)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["responseTokensDetails"],g)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),m(e,["toolUsePromptTokensDetails"],g)}const h=p(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zue(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ece(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],tce(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["avgLogprobs"]);a!=null&&m(e,["avgLogprobs"],a);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const l=p(t,["index"]);l!=null&&m(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),m(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],f),e}function tce(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function nce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let o=In(i);Array.isArray(o)&&(o=o.map(a=>a)),m(n,["contents"],o)}return n}function rce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["tokensInfo"],i)}return e}function ice(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&m(e,["statistics"],oce(r)),e}function oce(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function tp(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pde(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function ace(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function sce(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function lce(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],Lt(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>dj(s))),m(e,["tools"],a)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],Zce(o)),n}function uce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let a=In(i);Array.isArray(a)&&(a=a.map(s=>tp(s))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&sce(o),n}function cce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let a=In(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&lce(o,n),n}function dce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function fce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function hce(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Pe(t,r)),n}function pce(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Pe(t,r)),n}function mce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function gce(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function yce(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const b=p(t,["addWatermark"]);e!==void 0&&b!=null&&m(e,["parameters","addWatermark"],b);const x=p(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const w=p(t,["editMode"]);e!==void 0&&w!=null&&m(e,["parameters","editMode"],w);const _=p(t,["baseSteps"]);return e!==void 0&&_!=null&&m(e,["parameters","editConfig","baseSteps"],_),n}function vce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>bde(l))),m(n,["instances[0]","referenceImages"],s)}const a=p(e,["config"]);return a!=null&&yce(a,n),n}function xce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>np(o))),m(e,["generatedImages"],i)}return e}function bce(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wce(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const a=p(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const s=p(t,["autoTruncate"]);return e!==void 0&&s!=null&&m(e,["parameters","autoTruncate"],s),n}function _ce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let s=Px(t,i);Array.isArray(s)&&(s=s.map(l=>l)),m(n,["requests[]","content"],s)}const o=p(e,["config"]);o!=null&&bce(o,n);const a=p(e,["model"]);return a!==void 0&&m(n,["requests[]","model"],Pe(t,a)),n}function Sce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let a=Px(t,i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["instances[]","content"],a)}const o=p(e,["config"]);return o!=null&&wce(o,n),n}function Ece(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function Tce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>ice(a))),m(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function kce(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function Nce(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Ace(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Cce(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&m(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Pce(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const s=p(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Ice(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],tp(Lt(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=p(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&m(r,["seed"],y);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],Ix(x));const w=p(e,["responseJsonSchema"]);if(w!=null&&m(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let U=_;Array.isArray(U)&&(U=U.map($=>wde($))),m(n,["safetySettings"],U)}const E=p(e,["tools"]);if(n!==void 0&&E!=null){let U=bs(E);Array.isArray(U)&&(U=U.map($=>Ade(xs($)))),m(n,["tools"],U)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&m(n,["toolConfig"],Nde(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=p(e,["cachedContent"]);n!==void 0&&T!=null&&m(n,["cachedContent"],Qr(t,T));const k=p(e,["responseModalities"]);k!=null&&m(r,["responseModalities"],k);const A=p(e,["mediaResolution"]);A!=null&&m(r,["mediaResolution"],A);const C=p(e,["speechConfig"]);if(C!=null&&m(r,["speechConfig"],jx(C)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);j!=null&&m(r,["thinkingConfig"],j);const R=p(e,["imageConfig"]);R!=null&&m(r,["imageConfig"],ide(R));const M=p(e,["enableEnhancedCivicAnswers"]);return M!=null&&m(r,["enableEnhancedCivicAnswers"],M),r}function jce(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Lt(i));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const s=p(e,["topK"]);s!=null&&m(r,["topK"],s);const l=p(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&m(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const g=p(e,["presencePenalty"]);g!=null&&m(r,["presencePenalty"],g);const v=p(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const y=p(e,["seed"]);y!=null&&m(r,["seed"],y);const b=p(e,["responseMimeType"]);b!=null&&m(r,["responseMimeType"],b);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],Ix(x));const w=p(e,["responseJsonSchema"]);w!=null&&m(r,["responseJsonSchema"],w);const _=p(e,["routingConfig"]);_!=null&&m(r,["routingConfig"],_);const E=p(e,["modelSelectionConfig"]);E!=null&&m(r,["modelConfig"],E);const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let O=S;Array.isArray(O)&&(O=O.map(F=>F)),m(n,["safetySettings"],O)}const T=p(e,["tools"]);if(n!==void 0&&T!=null){let O=bs(T);Array.isArray(O)&&(O=O.map(F=>dj(xs(F)))),m(n,["tools"],O)}const k=p(e,["toolConfig"]);n!==void 0&&k!=null&&m(n,["toolConfig"],k);const A=p(e,["labels"]);n!==void 0&&A!=null&&m(n,["labels"],A);const C=p(e,["cachedContent"]);n!==void 0&&C!=null&&m(n,["cachedContent"],Qr(t,C));const j=p(e,["responseModalities"]);j!=null&&m(r,["responseModalities"],j);const R=p(e,["mediaResolution"]);R!=null&&m(r,["mediaResolution"],R);const M=p(e,["speechConfig"]);M!=null&&m(r,["speechConfig"],jx(M));const U=p(e,["audioTimestamp"]);U!=null&&m(r,["audioTimestamp"],U);const $=p(e,["thinkingConfig"]);$!=null&&m(r,["thinkingConfig"],$);const P=p(e,["imageConfig"]);if(P!=null&&m(r,["imageConfig"],ode(P)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function VT(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let a=In(i);Array.isArray(a)&&(a=a.map(s=>tp(s))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],Ice(t,o,n)),n}function GT(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["contents"]);if(i!=null){let a=In(i);Array.isArray(a)&&(a=a.map(s=>s)),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],jce(t,o,n)),n}function HT(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ece(u))),m(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const s=p(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function zT(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),m(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const s=p(t,["responseId"]);s!=null&&m(e,["responseId"],s);const l=p(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function Oce(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const s=p(t,["personGeneration"]);e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&m(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=p(t,["imageSize"]);if(e!==void 0&&g!=null&&m(e,["parameters","sampleImageSize"],g),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Rce(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const s=p(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=p(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const g=p(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y);const b=p(t,["addWatermark"]);e!==void 0&&b!=null&&m(e,["parameters","addWatermark"],b);const x=p(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const w=p(t,["imageSize"]);e!==void 0&&w!=null&&m(e,["parameters","sampleImageSize"],w);const _=p(t,["enhancePrompt"]);return e!==void 0&&_!=null&&m(e,["parameters","enhancePrompt"],_),n}function Mce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&Oce(o,n),n}function $ce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&Rce(o,n),n}function Dce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Jce(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],uj(i)),e}function Lce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>np(a))),m(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],cj(i)),e}function Uce(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const a=p(t,["resolution"]);e!==void 0&&a!=null&&m(e,["parameters","resolution"],a);const s=p(t,["personGeneration"]);if(e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&m(e,["instances[0]","lastFrame"],rp(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Bde(g))),m(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Fce(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const a=p(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const s=p(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&m(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&m(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const g=p(t,["enhancePrompt"]);e!==void 0&&g!=null&&m(e,["parameters","enhancePrompt"],g);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&m(e,["parameters","generateAudio"],v);const y=p(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],ar(y));const b=p(t,["referenceImages"]);if(e!==void 0&&b!=null){let _=b;Array.isArray(_)&&(_=_.map(E=>qde(E))),m(e,["instances[0]","referenceImages"],_)}const x=p(t,["mask"]);e!==void 0&&x!=null&&m(e,["instances[0]","mask"],Fde(x));const w=p(t,["compressionQuality"]);return e!==void 0&&w!=null&&m(e,["parameters","compressionQuality"],w),n}function Bce(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],Hce(a)),e}function qce(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],zce(a)),e}function Vce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],rp(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],fj(a));const s=p(e,["source"]);s!=null&&Wce(s,n);const l=p(e,["config"]);return l!=null&&Uce(l,n),n}function Gce(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],ar(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],hj(a));const s=p(e,["source"]);s!=null&&Kce(s,n);const l=p(e,["config"]);return l!=null&&Fce(l,n),n}function Hce(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Xce(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function zce(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Qce(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Wce(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],rp(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],fj(o)),n}function Kce(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],ar(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],hj(o)),n}function Jce(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],ade(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],uj(i)),e}function np(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],lj(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],cj(i));const o=p(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function Yce(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["mask"],lj(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["labels"],i)}return e}function Xce(t){const e={},n=p(t,["video"]);return n!=null&&m(e,["video"],Lde(n)),e}function Qce(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],Ude(n)),e}function Zce(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const a=p(t,["enableAffectiveDialog"]);a!=null&&m(e,["enableAffectiveDialog"],a);const s=p(t,["frequencyPenalty"]);s!=null&&m(e,["frequencyPenalty"],s);const l=p(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&m(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&m(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const g=p(t,["responseMimeType"]);g!=null&&m(e,["responseMimeType"],g);const v=p(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const y=p(t,["responseSchema"]);y!=null&&m(e,["responseSchema"],y);const b=p(t,["routingConfig"]);b!=null&&m(e,["routingConfig"],b);const x=p(t,["seed"]);x!=null&&m(e,["seed"],x);const w=p(t,["speechConfig"]);w!=null&&m(e,["speechConfig"],w);const _=p(t,["stopSequences"]);_!=null&&m(e,["stopSequences"],_);const E=p(t,["temperature"]);E!=null&&m(e,["temperature"],E);const S=p(t,["thinkingConfig"]);S!=null&&m(e,["thinkingConfig"],S);const T=p(t,["topK"]);T!=null&&m(e,["topK"],T);const k=p(t,["topP"]);if(k!=null&&m(e,["topP"],k),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ede(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Pe(t,r)),n}function tde(t,e){const n={},r=p(e,["model"]);return r!=null&&m(n,["_url","name"],Pe(t,r)),n}function nde(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function rde(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function ide(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ode(t){const e={},n=p(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const i=p(t,["outputMimeType"]);i!=null&&m(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&m(e,["imageOutputOptions","compressionQuality"],o),e}function ade(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Mi(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function lj(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Mi(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function rp(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Mi(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ar(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Mi(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function sde(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],tj(t,s)),r}function lde(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const s=p(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],tj(t,s)),r}function ude(t,e){const n={},r=p(e,["config"]);return r!=null&&sde(t,r,n),n}function cde(t,e){const n={},r=p(e,["config"]);return r!=null&&lde(t,r,n),n}function dde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=nj(i);Array.isArray(o)&&(o=o.map(a=>rv(a))),m(e,["models"],o)}return e}function fde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=nj(i);Array.isArray(o)&&(o=o.map(a=>iv(a))),m(e,["models"],o)}return e}function hde(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function rv(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["version"]);o!=null&&m(e,["version"],o);const a=p(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],Cde(a));const s=p(t,["inputTokenLimit"]);s!=null&&m(e,["inputTokenLimit"],s);const l=p(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&m(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&m(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&m(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&m(e,["topP"],h);const g=p(t,["topK"]);g!=null&&m(e,["topK"],g);const v=p(t,["thinking"]);return v!=null&&m(e,["thinking"],v),e}function iv(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["versionId"]);o!=null&&m(e,["version"],o);const a=p(t,["deployedModels"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>kce(h))),m(e,["endpoints"],f)}const s=p(t,["labels"]);s!=null&&m(e,["labels"],s);const l=p(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],Pde(l));const u=p(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),m(e,["checkpoints"],f)}return e}function pde(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Nce(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],Ace(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Zue(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function mde(t){const e={},n=p(t,["productImage"]);return n!=null&&m(e,["image"],ar(n)),e}function gde(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const a=p(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const g=p(t,["labels"]);return e!==void 0&&g!=null&&m(e,["labels"],g),n}function yde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["source"]);i!=null&&xde(i,n);const o=p(e,["config"]);return o!=null&&gde(o,n),n}function vde(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>np(i))),m(e,["generatedImages"],r)}return e}function xde(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],ar(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>mde(s))),m(e,["instances[0]","productImages"],a)}return n}function bde(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],ar(n));const r=p(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],hde(o));const a=p(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],ace(a));const s=p(t,["styleImageConfig"]);s!=null&&m(e,["styleImageConfig"],s);const l=p(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],l),e}function uj(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function cj(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function wde(t){const e={},n=p(t,["category"]);if(n!=null&&m(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function _de(t){const e={},n=p(t,["image"]);return n!=null&&m(e,["image"],ar(n)),e}function Sde(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const a=p(t,["maskDilation"]);e!==void 0&&a!=null&&m(e,["parameters","maskDilation"],a);const s=p(t,["binaryColorThreshold"]);e!==void 0&&s!=null&&m(e,["parameters","binaryColorThreshold"],s);const l=p(t,["labels"]);return e!==void 0&&l!=null&&m(e,["labels"],l),n}function Ede(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["source"]);i!=null&&kde(i,n);const o=p(e,["config"]);return o!=null&&Sde(o,n),n}function Tde(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Yce(i))),m(e,["generatedMasks"],r)}return e}function kde(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],ar(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],_de(o)),n}function Nde(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Cce(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],r),e}function Ade(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],nde(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],rde(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function dj(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Pce(h))),m(e,["functionDeclarations"],f)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&m(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const s=p(t,["enterpriseWebSearch"]);s!=null&&m(e,["enterpriseWebSearch"],s);const l=p(t,["googleMaps"]);l!=null&&m(e,["googleMaps"],l);const u=p(t,["googleSearch"]);u!=null&&m(e,["googleSearch"],u);const d=p(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Cde(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function Pde(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function Ide(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function jde(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function Ode(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],Pe(t,r));const i=p(e,["config"]);return i!=null&&Ide(i,n),n}function Rde(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["config"]);return i!=null&&jde(i,n),n}function Mde(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const a=p(t,["includeRaiReason"]);e!==void 0&&a!=null&&m(e,["parameters","includeRaiReason"],a);const s=p(t,["outputMimeType"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","mimeType"],s);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const g=p(t,["mode"]);return e!==void 0&&g!=null&&m(e,["parameters","mode"],g),n}function $de(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],Pe(t,r));const i=p(e,["image"]);i!=null&&m(n,["instances[0]","image"],ar(i));const o=p(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=p(e,["config"]);return a!=null&&Mde(a,n),n}function Dde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>np(o))),m(e,["generatedImages"],i)}return e}function Lde(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Mi(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function Ude(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Mi(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Fde(t){const e={},n=p(t,["image"]);n!=null&&m(e,["_self"],ar(n));const r=p(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function Bde(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],rp(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function qde(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],ar(n));const r=p(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function fj(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],Mi(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function hj(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Mi(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vde(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function Gde(t){const e={},n=p(t,["config"]);return n!=null&&Vde(n,e),e}function Hde(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function zde(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&Hde(r,e),e}function Wde(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Kde(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),n}function Jde(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Xde(a)),e}function Yde(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&m(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&Kde(i,e),e}function Xde(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&m(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Qde(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Zde(t){const e={},n=p(t,["config"]);return n!=null&&Qde(n,e),e}function efe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["fileSearchStores"],o)}return e}function pj(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),m(e,["customMetadata"],s)}const a=p(t,["chunkingConfig"]);return e!==void 0&&a!=null&&m(e,["chunkingConfig"],a),n}function tfe(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&pj(r,e),e}function nfe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rfe="Content-Type",ife="X-Server-Timeout",ofe="User-Agent",ov="x-goog-api-client",afe="1.34.0",sfe=`google-genai-sdk/${afe}`,lfe="v1beta1",ufe="v1beta";class cfe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:lfe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ufe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))i.searchParams.append(a,String(s));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&dfe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await WT(i),new ev(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await WT(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return nr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield ge(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const y=JSON.parse(JSON.stringify(v.error)),b=y.status,x=y.code,w=`got status: ${b}. ${JSON.stringify(v)}`;if(x>=400&&x<600)throw new ep({message:w,status:x})}}catch(v){if(v.name==="ApiError")throw v}a+=f;let h=-1,g=0;for(;;){h=-1,g=0;for(const b of l){const x=a.indexOf(b);x!==-1&&(h===-1||x<h)&&(h=x,g=b.length)}if(h===-1)break;const v=a.substring(0,h);a=a.substring(h+g);const y=v.trim();if(y.startsWith(s)){const b=y.substring(s.length).trim();try{const x=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ge(new ev(x))}catch(x){throw new Error(`exception parsing stream chunk ${b}. ${x}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=sfe+" "+this.clientOptions.userAgentExtra;return e[ofe]=n,e[ov]=n,e[rfe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(ife,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(e),d=re("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&pj(r,f);const h=await this.fetchUploadUrl(u,s,l,d,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function WT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ep({message:i,status:n}):new Error(i)}}function dfe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],d=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?s[l]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ffe="mcp_used/unknown";let hfe=!1;function mj(t){for(const e of t)if(pfe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return hfe}function gj(t){var e;const n=(e=t[ov])!==null&&e!==void 0?e:"";t[ov]=(n+` ${ffe}`).trimStart()}function pfe(t){return t!==null&&typeof t=="object"&&t instanceof Rx}function mfe(t){return nr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield ge(n.listTools({cursor:i}));for(const s of a.tools)yield yield ge(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class Rx{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Rx(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const d of this.mcpClients)try{for(var s=!0,l=(n=void 0,rr(mfe(d))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Wse(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gfe(t,e,n){const r=new Use;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class yfe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=bfe(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const d=new Promise(_=>{u=_}),f=e.callbacks,h=function(){u({})},g=this.apiClient,v={onopen:h,onmessage:_=>{gfe(g,f.onmessage,_)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(_){}},y=this.webSocketFactory.create(l,xfe(a),v);y.connect(),await d;const w={setup:{model:Pe(this.apiClient,e.model)}};return y.send(JSON.stringify(w)),new vfe(y,this.apiClient)}}class vfe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Gue(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Vue(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ca.PLAY)}pause(){this.sendPlaybackControl(ca.PAUSE)}stop(){this.sendPlaybackControl(ca.STOP)}resetContext(){this.sendPlaybackControl(ca.RESET_CONTEXT)}close(){this.conn.close()}}function xfe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function bfe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wfe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function _fe(t,e,n){const r=new Lse;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=Wue(o);Object.assign(r,a)}else Object.assign(r,o);e(r)}class Sfe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new yfe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&mj(e.config.tools)&&gj(f);const h=Nfe(f);if(this.apiClient.isVertexAI())d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d);else{const C=this.apiClient.getApiKey();let j="BidiGenerateContent",R="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",R="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${j}?${R}=${C}`}let g=()=>{};const v=new Promise(C=>{g=C}),y=e.callbacks,b=function(){var C;(C=y==null?void 0:y.onopen)===null||C===void 0||C.call(y),g({})},x=this.apiClient,w={onopen:b,onmessage:C=>{_fe(x,y.onmessage,C)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(C){}},_=this.webSocketFactory.create(d,kfe(h),w);_.connect(),await v;let E=Pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const C=this.apiClient.getProject(),j=this.apiClient.getLocation();E=`projects/${C}/locations/${j}/`+E}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Rf.AUDIO]}:e.config.responseModalities=[Rf.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],k=[];for(const C of T)if(this.isCallableTool(C)){const j=C;k.push(await j.tool())}else k.push(C);k.length>0&&(e.config.tools=k);const A={model:E,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=que(this.apiClient,A):S=Bue(this.apiClient,A),delete S.config,_.send(JSON.stringify(S)),new Tfe(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Efe={turnComplete:!0};class Tfe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=In(n.turns),e.isVertexAI()||(r=r.map(i=>tp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(wfe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Efe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:zue(e)}:n={realtimeInput:Hue(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function kfe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Nfe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KT=10;function JT(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ea(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ea(t){return"callTool"in t&&typeof t.callTool=="function"}function Afe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ea(i)))!==null&&r!==void 0?r:!1}function YT(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ea(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function XT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cfe extends Xr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Afe(n)||JT(n.config))return await this.generateContentInternal(l);const u=YT(n);if(u.length>0){const y=u.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let d,f;const h=In(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:KT;let v=0;for(;v<g&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const y=d.candidates[0].content,b=[];for(const x of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Ea(x)){const _=await x.callTool(d.functionCalls);b.push(..._)}v++,f={role:"user",parts:b},l.contents=In(l.contents),l.contents.push(y),l.contents.push(f),XT(l.config)&&(h.push(y),h.push(f))}return XT(l.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),JT(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=YT(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Io(Gr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async l=>Ea(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&mj(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),gj(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ea(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:KT;let a=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,d,f){return nr(this,arguments,function*(){for(var h,g,v,y,b,x;s<o;){a&&(s++,a=!1);const S=yield ge(u.processParamsMaybeAddMcpUsage(f)),T=yield ge(u.generateContentStreamInternal(S)),k=[],A=[];try{for(var w=!0,_=(g=void 0,rr(T)),E;E=yield ge(_.next()),h=E.done,!h;w=!0){y=E.value,w=!1;const C=y;if(yield yield ge(C),C.candidates&&(!((b=C.candidates[0])===null||b===void 0)&&b.content)){A.push(C.candidates[0].content);for(const j of(x=C.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(s<o&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(j.functionCall.name)){const R=yield ge(d.get(j.functionCall.name).callTool([j.functionCall]));k.push(...R)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(C){g={error:C}}finally{try{!w&&!h&&(v=_.return)&&(yield ge(v.call(_)))}finally{if(g)throw g.error}}if(k.length>0){a=!0;const C=new Fs;C.candidates=[{content:{role:"user",parts:k}}],yield yield ge(C);const j=[];j.push(...A),j.push({role:"user",parts:k});const R=In(f.contents).concat(j);f.contents=R}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=GT(this.apiClient,e);return s=re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=zT(d),h=new Fs;return Object.assign(h,f),h})}else{const u=VT(this.apiClient,e);return s=re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=HT(d),h=new Fs;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=GT(this.apiClient,e);return s=re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return nr(this,arguments,function*(){var h,g,v,y;try{for(var b=!0,x=rr(f),w;w=yield ge(x.next()),h=w.done,!h;b=!0){y=w.value,b=!1;const _=y,E=zT(yield ge(_.json()));E.sdkHttpResponse={headers:_.headers};const S=new Fs;Object.assign(S,E),yield yield ge(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(v=x.return)&&(yield ge(v.call(x)))}finally{if(g)throw g.error}}})})}else{const u=VT(this.apiClient,e);return s=re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return nr(this,arguments,function*(){var h,g,v,y;try{for(var b=!0,x=rr(f),w;w=yield ge(x.next()),h=w.done,!h;b=!0){y=w.value,b=!1;const _=y,E=HT(yield ge(_.json()));E.sdkHttpResponse={headers:_.headers};const S=new Fs;Object.assign(S,E),yield yield ge(S)}}catch(_){g={error:_}}finally{try{!b&&!h&&(v=x.return)&&(yield ge(v.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Sce(this.apiClient,e);return s=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Tce(d),h=new kT;return Object.assign(h,f),h})}else{const u=_ce(this.apiClient,e);return s=re("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Ece(d),h=new kT;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=$ce(this.apiClient,e);return s=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Lce(d),h=new NT;return Object.assign(h,f),h})}else{const u=Mce(this.apiClient,e);return s=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Dce(d),h=new NT;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=vce(this.apiClient,e);return o=re("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=xce(l),d=new Nse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=$de(this.apiClient,e);return o=re("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=Dde(l),d=new Ase;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=yde(this.apiClient,e);return o=re("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=vde(l),d=new Cse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Ede(this.apiClient,e);return o=re("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Tde(l),d=new Pse;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=tde(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>iv(d))}else{const u=ede(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>rv(d))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=cde(this.apiClient,e);return s=re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=fde(d),h=new AT;return Object.assign(h,f),h})}else{const u=ude(this.apiClient,e);return s=re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=dde(d),h=new AT;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Rde(this.apiClient,e);return s=re("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>iv(d))}else{const u=Ode(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>rv(d))}}async delete(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=pce(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=gce(d),h=new CT;return Object.assign(h,f),h})}else{const u=hce(this.apiClient,e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=mce(d),h=new CT;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=cce(this.apiClient,e);return s=re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=fce(d),h=new PT;return Object.assign(h,f),h})}else{const u=uce(this.apiClient,e);return s=re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=dce(d),h=new PT;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=nce(this.apiClient,e);return o=re("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=rce(l),d=new Ise;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Gce(this.apiClient,e);return s=re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const f=qce(d),h=new Mf;return Object.assign(h,f),h})}else{const u=Vce(this.apiClient,e);return s=re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a.then(d=>{const f=Bce(d),h=new Mf;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pfe extends Xr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=wse(e);return s=re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const u=bse(e);return s=re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=hse(e);return o=re("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ife(t){const e={},n=p(t,["data"]);if(n!=null&&m(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function jfe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Bfe(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Ofe(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const a=p(e,["uses"]);n!==void 0&&a!=null&&m(n,["uses"],a);const s=p(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&m(n,["bidiGenerateContentSetup"],Ffe(t,s));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function Rfe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],Ofe(t,r,n)),n}function Mfe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function $fe(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);if(i!=null&&m(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Dfe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Lfe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Ufe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const s=p(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],Ox(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const g=p(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],g);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],jfe(Lt(v)));const y=p(t,["tools"]);if(e!==void 0&&y!=null){let T=bs(y);Array.isArray(T)&&(T=T.map(k=>Vfe(xs(k)))),m(e,["setup","tools"],T)}const b=p(t,["sessionResumption"]);e!==void 0&&b!=null&&m(e,["setup","sessionResumption"],qfe(b));const x=p(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&m(e,["setup","realtimeInputConfig"],_);const E=p(t,["contextWindowCompression"]);e!==void 0&&E!=null&&m(e,["setup","contextWindowCompression"],E);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&m(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Ffe(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],Pe(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Ufe(i,n)),n}function Bfe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Mfe(o));const a=p(t,["functionCall"]);a!=null&&m(e,["functionCall"],$fe(a));const s=p(t,["functionResponse"]);s!=null&&m(e,["functionResponse"],s);const l=p(t,["inlineData"]);l!=null&&m(e,["inlineData"],Ife(l));const u=p(t,["text"]);u!=null&&m(e,["text"],u);const d=p(t,["thought"]);d!=null&&m(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&m(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function qfe(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Vfe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),m(e,["functionDeclarations"],d)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&m(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&m(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&m(e,["fileSearch"],o);const a=p(t,["codeExecution"]);if(a!=null&&m(e,["codeExecution"],a),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Dfe(s));const l=p(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],Lfe(l));const u=p(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gfe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Hfe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Gfe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class zfe extends Xr{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=Rfe(this.apiClient,e);o=re("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=Hfe(s,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wfe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function Kfe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&Wfe(r,e),e}function Jfe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Yfe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Xfe(t){const e={},n=p(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&Yfe(r,e),e}function Qfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zfe extends Xr{constructor(e){super(),this.apiClient=e,this.list=async n=>new Io(Gr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jfe(e);return o=re("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Kfe(e);i=re("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Xfe(e);return o=re("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Qfe(l),d=new jse;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ehe extends Xr{constructor(e,n=new Zfe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Io(Gr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Gde(e);return o=re("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Wde(e);return o=re("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zde(e);i=re("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zde(e);return o=re("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=efe(l),d=new Ose;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=tfe(e);return o=re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=nfe(l),d=new Rse;return Object.assign(d,u),d})}}async importFile(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Yde(e);return o=re("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Jde(l),d=new Ax;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yj=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return yj=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const the=()=>yj();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function av(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const sv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mn extends Error{}class Gt extends Mn{constructor(e,n,r,i){super(`${Gt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new ip({message:r,cause:sv(n)});const o=n;return e===400?new xj(e,o,r,i):e===401?new bj(e,o,r,i):e===403?new wj(e,o,r,i):e===404?new _j(e,o,r,i):e===409?new Sj(e,o,r,i):e===422?new Ej(e,o,r,i):e===429?new Tj(e,o,r,i):e>=500?new kj(e,o,r,i):new Gt(e,o,r,i)}}class lv extends Gt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ip extends Gt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class vj extends ip{constructor({message:e}={}){super({message:e??"Request timed out."})}}class xj extends Gt{}class bj extends Gt{}class wj extends Gt{}class _j extends Gt{}class Sj extends Gt{}class Ej extends Gt{}class Tj extends Gt{}class kj extends Gt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nhe=/^[a-z][a-z0-9+.-]*:/i,rhe=t=>nhe.test(t);let uv=t=>(uv=Array.isArray,uv(t));const ihe=uv;let ohe=ihe;const QT=ohe;function ahe(t){if(!t)return!0;for(const e in t)return!1;return!0}function she(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const lhe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Mn(`${t} must be an integer`);if(e<0)throw new Mn(`${t} must be a positive integer`);return e},uhe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const che=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dhe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const fhe=()=>{var t,e,n,r,i;const o=dhe();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wo,"X-Stainless-OS":ek(Deno.build.os),"X-Stainless-Arch":ZT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wo,"X-Stainless-OS":ek((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ZT((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=hhe();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function hhe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:e,version:`${i}.${o}.${a}`}}}return null}const ZT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",ek=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Tc;const phe=()=>Tc??(Tc=fhe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mhe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Nj(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function ghe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Nj({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Aj(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function yhe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vhe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cj=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function vm(t,e,n){return Cj(),new File(t,e??"unknown_file",n)}function xhe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const bhe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pj=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",whe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Pj(t),_he=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function She(t,e,n){if(Cj(),t=await t,whe(t))return t instanceof File?t:vm([await t.arrayBuffer()],t.name);if(_he(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),vm(await cv(i),e,n)}const r=await cv(t);if(e||(e=xhe(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return vm(r,e,n)}async function cv(t){var e,n,r,i,o;let a=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)a.push(t);else if(Pj(t))a.push(t instanceof Blob?t:await t.arrayBuffer());else if(bhe(t))try{for(var s=!0,l=rr(t),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;a.push(...await cv(d))}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const d=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${Ehe(t)}`)}return a}function Ehe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ij{constructor(e){this._client=e}}Ij._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jj(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const tk=Object.freeze(Object.create(null)),The=(t=jj)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((d,f,h)=>{var g,v,y;/[?#]/.test(f)&&(i=!0);const b=r[h];let x=(i?encodeURIComponent:t)(""+b);return h!==r.length&&(b==null||typeof b=="object"&&b.toString===((y=Object.getPrototypeOf((v=Object.getPrototypeOf((g=b.hasOwnProperty)!==null&&g!==void 0?g:tk))!==null&&v!==void 0?v:tk))===null||y===void 0?void 0:y.toString))&&(x=b+"",o.push({start:d.length+f.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":x)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((d,f)=>d.start-f.start),o.length>0){let d=0;const f=o.reduce((h,g)=>{const v=" ".repeat(g.start-d),y="^".repeat(g.length);return d=g.start+g.length,h+v+y},"");throw new Mn(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},kc=The(jj);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oj extends Ij{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Df(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Mn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Mn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(kc`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(kc`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(kc`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=Df(o,["api_version"]);return this._client.get(kc`/${a}/interactions/${e}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Oj._key=Object.freeze(["interactions"]);class Rj extends Oj{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function khe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Nc;function Mx(t){let e;return(Nc??(e=new globalThis.TextEncoder,Nc=e.encode.bind(e)))(t)}let Ac;function nk(t){let e;return(Ac??(e=new globalThis.TextDecoder,Ac=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class op{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Mx(e):e;this.buffer=khe([this.buffer,n]);const r=[];let i;for(;(i=Nhe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(nk(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=nk(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}op.NEWLINE_CHARS=new Set([`
`,"\r"]);op.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Nhe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Ahe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lf={off:0,error:200,warn:300,info:400,debug:500},rk=(t,e,n)=>{if(t){if(she(Lf,t))return t;Ft(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Lf))}`)}};function Ks(){}function Cc(t,e,n){return!e||Lf[t]>Lf[n]?Ks:e[t].bind(e)}const Che={error:Ks,warn:Ks,info:Ks,debug:Ks};let ik=new WeakMap;function Ft(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Che;const i=ik.get(n);if(i&&i[0]===r)return i[1];const o={error:Cc("error",n,r),warn:Cc("warn",n,r),info:Cc("info",n,r),debug:Cc("debug",n,r)};return ik.set(n,[r,o]),o}const zi=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class da{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Ft(r):console;function a(){return nr(this,arguments,function*(){var l,u,d,f;if(i)throw new Mn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,v=rr(Phe(e,n)),y;y=yield ge(v.next()),l=y.done,!l;g=!0){f=y.value,g=!1;const b=f;if(!h)if(b.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield ge(JSON.parse(b.data))}catch(x){throw o.error("Could not parse message into JSON:",b.data),o.error("From chunk:",b.raw),x}}}catch(b){u={error:b}}finally{try{!g&&!l&&(d=v.return)&&(yield ge(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(b){if(av(b))return yield ge(void 0);throw b}finally{h||n.abort()}})}return new da(a,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return nr(this,arguments,function*(){var l,u,d,f;const h=new op,g=Aj(e);try{for(var v=!0,y=rr(g),b;b=yield ge(y.next()),l=b.done,!l;v=!0){f=b.value,v=!1;const x=f;for(const w of h.decode(x))yield yield ge(w)}}catch(x){u={error:x}}finally{try{!v&&!l&&(d=y.return)&&(yield ge(d.call(y)))}finally{if(u)throw u.error}}for(const x of h.flush())yield yield ge(x)})}function a(){return nr(this,arguments,function*(){var l,u,d,f;if(i)throw new Mn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var g=!0,v=rr(o()),y;y=yield ge(v.next()),l=y.done,!l;g=!0){f=y.value,g=!1;const b=f;h||b&&(yield yield ge(JSON.parse(b)))}}catch(b){u={error:b}}finally{try{!g&&!l&&(d=v.return)&&(yield ge(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(b){if(av(b))return yield ge(void 0);throw b}finally{h||n.abort()}})}return new da(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();e.push(a),n.push(a)}return o.shift()}});return[new da(()=>i(e),this.controller,this.client),new da(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Nj({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=Mx(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Phe(t,e){return nr(this,arguments,function*(){var r,i,o,a;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Mn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Mn("Attempted to iterate over a response with no body");const s=new jhe,l=new op,u=Aj(t.body);try{for(var d=!0,f=rr(Ihe(u)),h;h=yield ge(f.next()),r=h.done,!r;d=!0){a=h.value,d=!1;const g=a;for(const v of l.decode(g)){const y=s.decode(v);y&&(yield yield ge(y))}}}catch(g){i={error:g}}finally{try{!d&&!r&&(o=f.return)&&(yield ge(o.call(f)))}finally{if(i)throw i.error}}for(const g of l.flush()){const v=s.decode(g);v&&(yield yield ge(v))}})}function Ihe(t){return nr(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=rr(t),u;u=yield ge(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const d=o;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Mx(d):d;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let g;for(;(g=Ahe(a))!==-1;)yield yield ge(a.slice(0,g)),a=a.slice(g)}}catch(d){r={error:d}}finally{try{!s&&!n&&(i=l.return)&&(yield ge(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield ge(a))})}class jhe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Ohe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Ohe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Rhe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,a=await(async()=>{var s;if(e.options.stream)return Ft(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):da.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Ft(t).debug(`[${r}] response parsed`,zi({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $x extends Promise{constructor(e,n,r=Rhe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new $x(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mj=Symbol("brand.privateNullableHeaders");function*Mhe(t){if(!t)return;if(Mj in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():QT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=QT(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const Bs=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,a]of Mhe(r)){const s=o.toLowerCase();i.has(s)||(e.delete(o),i.add(s)),a===null?(e.delete(o),n.add(s)):(e.append(o,a),n.delete(s))}}return{[Mj]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xm=t=>{var e,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(e=sse)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $j;class ap{constructor(e){var n,r,i,o,a,s,l,{baseURL:u=xm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=xm("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Df(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:ap.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(a=(o=rk(g.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:rk(xm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:v,this.fetchOptions=g.fetchOptions,this.maxRetries=(s=g.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=g.fetch)!==null&&l!==void 0?l:mhe(),this.encoder=vhe,this._options=g,this.apiKey=d,this.apiVersion=f,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Bs([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Bs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Bs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Mn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Wo}`}defaultIdempotencyKey(){return`stainless-node-retry-${the()}`}makeStatusError(e,n,r,i){return Gt.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=rhe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return ahe(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new $x(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,a;const s=await e,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:d,timeout:f}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:d,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(Ft(this).debug(`[${h}] sending request`,zi({retryOfRequestLogID:r,method:s.method,url:d,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new lv;const y=new AbortController,b=await this.fetchWithTimeout(d,u,f,y).catch(sv),x=Date.now();if(b instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new lv;const E=av(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return Ft(this).info(`[${h}] connection ${E?"timed out":"failed"} - ${_}`),Ft(this).debug(`[${h}] connection ${E?"timed out":"failed"} (${_})`,zi({retryOfRequestLogID:r,url:d,durationMs:x-v,message:b.message})),this.retryRequest(s,n,r??h);throw Ft(this).info(`[${h}] connection ${E?"timed out":"failed"} - error; no more retries left`),Ft(this).debug(`[${h}] connection ${E?"timed out":"failed"} (error; no more retries left)`,zi({retryOfRequestLogID:r,url:d,durationMs:x-v,message:b.message})),E?new vj:new ip({cause:b})}const w=`[${h}${g}] ${u.method} ${d} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${x-v}ms`;if(!b.ok){const _=await this.shouldRetry(b);if(n&&_){const C=`retrying, ${n} attempts remaining`;return await yhe(b.body),Ft(this).info(`${w} - ${C}`),Ft(this).debug(`[${h}] response error (${C})`,zi({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:x-v})),this.retryRequest(s,n,r??h,b.headers)}const E=_?"error; no more retries left":"error; not retryable";Ft(this).info(`${w} - ${E}`);const S=await b.text().catch(C=>sv(C).message),T=uhe(S),k=T?void 0:S;throw Ft(this).debug(`[${h}] response error (${E})`,zi({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,message:k,durationMs:Date.now()-v})),this.makeStatusError(b.status,T,k,b.headers)}return Ft(this).info(w),Ft(this).debug(`[${h}] response start`,zi({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:x-v})),{response:b,options:s,controller:y,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:a,method:s}=o,l=Df(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await che(a),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},e),{method:s,path:l,query:u,defaultBaseURL:d}=a,f=this.buildURL(l,u,d);"timeout"in a&&lhe("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:a}),v=await this.buildHeaders({options:e,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:v},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=await this.authHeaders(e);let s=Bs([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),phe()),this._options.defaultHeaders,r,e.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Bs([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:ghe(e)}:this.encoder({body:e,headers:r})}}ap.DEFAULT_TIMEOUT=6e4;class Et extends ap{constructor(){super(...arguments),this.interactions=new Rj(this)}}$j=Et;Et.GeminiNextGenAPIClient=$j;Et.GeminiNextGenAPIClientError=Mn;Et.APIError=Gt;Et.APIConnectionError=ip;Et.APIConnectionTimeoutError=vj;Et.APIUserAbortError=lv;Et.NotFoundError=_j;Et.ConflictError=Sj;Et.RateLimitError=Tj;Et.BadRequestError=xj;Et.AuthenticationError=bj;Et.InternalServerError=kj;Et.PermissionDeniedError=wj;Et.UnprocessableEntityError=Ej;Et.toFile=She;Et.Interactions=Rj;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $he(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Dhe(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Lhe(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function Uhe(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function Fhe(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const a=p(t,["learningRateMultiplier"]);if(a!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=p(t,["batchSize"]);e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","batchSize"],s);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Bhe(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec"],ok(g))}else if(i==="PREFERENCE_TUNING"){const g=p(t,["validationDataset"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec"],ok(g))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const a=p(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(s==="PREFERENCE_TUNING"){const g=p(t,["epochCount"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=p(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=p(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(d==="PREFERENCE_TUNING"){const g=p(t,["adapterSize"]);e!==void 0&&g!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&m(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function qhe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&Zhe(o);const a=p(t,["config"]);return a!=null&&Fhe(a,n),n}function Vhe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&epe(o,n,e);const a=p(t,["config"]);return a!=null&&Bhe(a,n,e),n}function Ghe(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Hhe(t,e){const n={},r=p(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function zhe(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function Whe(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),r}function Khe(t,e){const n={},r=p(t,["config"]);return r!=null&&zhe(r,n),n}function Jhe(t,e){const n={},r=p(t,["config"]);return r!=null&&Whe(r,n),n}function Yhe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Dj(s))),m(n,["tuningJobs"],a)}return n}function Xhe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>dv(s))),m(n,["tuningJobs"],a)}return n}function Qhe(t,e){const n={},r=p(t,["name"]);r!=null&&m(n,["model"],r);const i=p(t,["name"]);return i!=null&&m(n,["endpoint"],i),n}function Zhe(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(n,["examples","examples"],i)}return n}function epe(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=p(t,["gcsUri"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=p(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Dj(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["state"]);o!=null&&m(n,["state"],Z2(o));const a=p(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=p(t,["tuningTask","startTime"]);s!=null&&m(n,["startTime"],s);const l=p(t,["tuningTask","completeTime"]);l!=null&&m(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const d=p(t,["description"]);d!=null&&m(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&m(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&m(n,["tunedModel"],Qhe(h)),n}function dv(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["state"]);o!=null&&m(n,["state"],Z2(o));const a=p(t,["createTime"]);a!=null&&m(n,["createTime"],a);const s=p(t,["startTime"]);s!=null&&m(n,["startTime"],s);const l=p(t,["endTime"]);l!=null&&m(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const d=p(t,["error"]);d!=null&&m(n,["error"],d);const f=p(t,["description"]);f!=null&&m(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&m(n,["baseModel"],h);const g=p(t,["tunedModel"]);g!=null&&m(n,["tunedModel"],g);const v=p(t,["preTunedModel"]);v!=null&&m(n,["preTunedModel"],v);const y=p(t,["supervisedTuningSpec"]);y!=null&&m(n,["supervisedTuningSpec"],y);const b=p(t,["preferenceOptimizationSpec"]);b!=null&&m(n,["preferenceOptimizationSpec"],b);const x=p(t,["tuningDataStats"]);x!=null&&m(n,["tuningDataStats"],x);const w=p(t,["encryptionSpec"]);w!=null&&m(n,["encryptionSpec"],w);const _=p(t,["partnerModelTuningSpec"]);_!=null&&m(n,["partnerModelTuningSpec"],_);const E=p(t,["customBaseModel"]);E!=null&&m(n,["customBaseModel"],E);const S=p(t,["experiment"]);S!=null&&m(n,["experiment"],S);const T=p(t,["labels"]);T!=null&&m(n,["labels"],T);const k=p(t,["outputUri"]);k!=null&&m(n,["outputUri"],k);const A=p(t,["pipelineJob"]);A!=null&&m(n,["pipelineJob"],A);const C=p(t,["serviceAccount"]);C!=null&&m(n,["serviceAccount"],C);const j=p(t,["tunedModelDisplayName"]);j!=null&&m(n,["tunedModelDisplayName"],j);const R=p(t,["veoTuningSpec"]);return R!=null&&m(n,["veoTuningSpec"],R),n}function tpe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&m(n,["name"],i);const o=p(t,["metadata"]);o!=null&&m(n,["metadata"],o);const a=p(t,["done"]);a!=null&&m(n,["done"],a);const s=p(t,["error"]);return s!=null&&m(n,["error"],s),n}function ok(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&m(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class npe extends Xr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Io(Gr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Zy.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Hhe(e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>dv(d))}else{const u=Ghe(e);return s=re("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>Dj(d))}}async listInternal(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Jhe(e);return s=re("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Xhe(d),h=new IT;return Object.assign(h,f),h})}else{const u=Khe(e);return s=re("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Yhe(d),h=new IT;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Dhe(e);return s=re("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Uhe(d),h=new jT;return Object.assign(h,f),h})}else{const u=$he(e);return s=re("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),a.then(d=>{const f=Lhe(d),h=new jT;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=Vhe(e,e);return o=re("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>dv(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=qhe(e);return o=re("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>tpe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rpe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ipe=1024*1024*8,ope=3,ape=1e3,spe=2,Uf="x-goog-upload-status";async function lpe(t,e,n){var r;const i=await Lj(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Uf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function upe(t,e,n){var r;const i=await Lj(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Uf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=W2(o),s=new Cx;return Object.assign(s,a),s}async function Lj(t,e,n){var r,i;let o=0,a=0,s=new ev(new Response),l="upload";for(o=t.size;a<o;){const u=Math.min(ipe,o-a),d=t.slice(a,a+u);a+u>=o&&(l+=", finalize");let f=0,h=ape;for(;f<ope&&(s=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Uf]));)f++,await dpe(h),h=h*spe;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Uf])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function cpe(t){return{size:t.size,type:t.type}}function dpe(t){return new Promise(e=>setTimeout(e,t))}class fpe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lpe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await upe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cpe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hpe{create(e,n,r){return new ppe(e,n,r)}}class ppe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ak="x-goog-api-key";class mpe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(ak)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ak,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gpe="gl-node/";class ype{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Et({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=dse(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new mpe(this.apiKey);this.apiClient=new cfe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:gpe+"web",uploader:new fpe,downloader:new rpe}),this.models=new Cfe(this.apiClient),this.live=new Sfe(this.apiClient,i,new hpe),this.batches=new Fle(this.apiClient),this.chats=new wue(this.models,this.apiClient),this.caches=new vue(this.apiClient),this.files=new Iue(this.apiClient),this.operations=new Pfe(this.apiClient),this.authTokens=new zfe(this.apiClient),this.tunings=new npe(this.apiClient),this.fileSearchStores=new ehe(this.apiClient)}}const vpe=({user:t})=>{const[e,n]=N.useState(!1),[r,i]=N.useState(""),[o,a]=N.useState([{id:"1",role:"model",text:` ${t.fullName} 
  .           .`}]),[s,l]=N.useState(!1),u=N.useRef(null);N.useEffect(()=>{var h;(h=u.current)==null||h.scrollIntoView({behavior:"smooth"})},[o]);const d=async()=>{try{const{data:h}=await Yn.from("cartable_items").select("*").eq("module","WORK_ORDER").order("created_at",{ascending:!1}).limit(20),g=(h||[]).map(x=>{const w=x.data||{};return{code:x.tracking_code,title:x.title,status:w.status||x.status,equipment:w.equipName||"",failure:w.failureDesc,date:x.created_at,requester:w.requester}}),{data:v}=await Yn.from("cartable_items").select("*").eq("module","PART_REQUEST").limit(10),y=(v||[]).map(x=>{const w=x.data||{};return{part:w.partName,qty:w.qty,requester:x.description}});return`
          You are an intelligent assistant for a Factory Maintenance Management System (CMMS).
          Your goal is to help the maintenance manager by analyzing the provided data.
          
          HERE IS THE LIVE DATA FROM THE DATABASE (Supabase):
          ${JSON.stringify({currentTime:new Date().toLocaleString("fa-IR"),currentUser:t.fullName,recentWorkOrders:g,activePartsRequests:y})}

          INSTRUCTIONS:
          1. Answer solely based on the data provided above.
          2. If asked for "Top Failures" or similar, count the occurrences of equipment names in the workOrdersSummary.
          3. Respond in Persian (Farsi).
          4. Be concise and professional.
          5. Use formatting (bullet points, bold text) to make it readable.
          6. If the data is empty, say so.
          7. For "Most frequent failures", calculate the frequency of equipment names in the work orders list and show the top 10.
        `}catch(h){return console.error("Error collecting context:",h),"Error loading system data. Please answer generally."}},f=async h=>{if(h.preventDefault(),!r.trim())return;const g={id:Date.now().toString(),role:"user",text:r};a(v=>[...v,g]),i(""),l(!0);try{const v=new ype({apiKey:"AIzaSyBbrl8wKH28MYJn0yx2AZO6fqQUyhlm-KI"}),y=await d(),x=(await v.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:y+`

User Question: `+r}]}],config:{temperature:.3}})).text||"    .";a(w=>[...w,{id:(Date.now()+1).toString(),role:"model",text:x}])}catch(v){console.error("AI Error:",v);let y=`: ${v.message||"      ."}`;v.message&&v.message.toLowerCase().includes("failed to fetch")?y=`        .

         (VPN)        .`:v.message&&(v.message.includes("403")||v.message.includes("400"))&&(y="  API        ."),a(b=>[...b,{id:(Date.now()+1).toString(),role:"model",text:y}])}finally{l(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>n(!e),className:`fixed bottom-6 left-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 flex items-center gap-2
            ${e?"bg-red-500 rotate-90":"bg-gradient-to-r from-blue-600 to-purple-600 animate-pulse"} text-white`,children:e?c.jsx(nn,{className:"w-6 h-6"}):c.jsx(h$,{className:"w-7 h-7"})}),e&&c.jsxs("div",{className:"fixed bottom-24 left-6 z-50 w-full max-w-sm md:max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col h-[500px] animate-slideUp",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center gap-3 text-white",children:[c.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:c.jsx(U$,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold",children:" "}),c.jsx("p",{className:"text-xs opacity-80",children:"  "})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:[o.map(h=>c.jsx("div",{className:`flex ${h.role==="user"?"justify-start":"justify-end"}`,children:c.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap shadow-sm
                        ${h.role==="user"?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 rounded-br-none border border-gray-100 dark:border-gray-600":"bg-blue-600 text-white rounded-bl-none"}
                     `,children:h.text})},h.id)),s&&c.jsx("div",{className:"flex justify-end",children:c.jsxs("div",{className:"bg-blue-600/10 text-blue-600 p-3 rounded-2xl rounded-bl-none flex items-center gap-2 text-xs font-bold",children:[c.jsx(il,{className:"w-4 h-4 animate-spin"}),"   ..."]})}),c.jsx("div",{ref:u})]}),c.jsxs("form",{onSubmit:f,className:"p-3 bg-white dark:bg-gray-800 border-t dark:border-gray-700 flex gap-2",children:[c.jsx("input",{type:"text",value:r,onChange:h=>i(h.target.value),placeholder:"   ...",className:"flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),c.jsx("button",{type:"submit",disabled:s||!r.trim(),className:"bg-blue-600 text-white p-3 rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:c.jsx(Td,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"px-4 py-1 bg-gray-50 dark:bg-gray-900 text-[10px] text-center text-gray-400 border-t dark:border-gray-700",children:"           ."})]})]})},xpe=()=>{const[t,e]=N.useState(()=>{try{const u=localStorage.getItem("currentUser");return u?JSON.parse(u):null}catch(u){return console.error("Failed to parse user from local storage",u),localStorage.removeItem("currentUser"),null}}),[n,r]=N.useState(()=>localStorage.getItem("theme")==="dark"),[i,o]=N.useState(()=>localStorage.getItem("snowMode")==="true");N.useEffect(()=>{n?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]),N.useEffect(()=>{localStorage.setItem("snowMode",String(i))},[i]);const a=u=>{e(u),localStorage.setItem("currentUser",JSON.stringify(u));const d={id:gr(),userName:u.fullName,personnelCode:u.personnelCode||(u.username==="admin"?"9999":"0000"),action:"  ",date:nt(),time:vu(),ip:bE,details:`Role: ${u.role}`},f=JSON.parse(localStorage.getItem("system_logs")||"[]");f.push(d),localStorage.setItem("system_logs",JSON.stringify(f)),console.log(`LOG: LOGIN user=${u.username}`)},s=()=>{if(t){const u={id:gr(),userName:t.fullName,personnelCode:t.personnelCode||"---",action:"  ",date:nt(),time:vu(),ip:bE},d=JSON.parse(localStorage.getItem("system_logs")||"[]");d.push(u),localStorage.setItem("system_logs",JSON.stringify(d))}e(null),localStorage.removeItem("currentUser")},l=u=>{e(u),localStorage.setItem("currentUser",JSON.stringify(u))};return c.jsxs(l$,{children:[c.jsx(ase,{enabled:i}),t&&c.jsx(vpe,{user:t}),c.jsx(X$,{user:t,onLogout:s,darkMode:n,toggleDarkMode:()=>r(!n),children:c.jsxs(o$,{children:[c.jsx(rt,{path:"/login",element:t?c.jsx(st,{to:"/"}):c.jsx($U,{onLogin:a})}),c.jsx(rt,{path:"/",element:t?c.jsx(kae,{}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/inbox",element:t?c.jsx(Zae,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/messages",element:t?c.jsx(tse,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/reports",element:t?c.jsx(rse,{}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/shift-report",element:t?c.jsx(ose,{user:t}):c.jsx(st,{to:"/login"})})," ",c.jsx(rt,{path:"/work-orders",element:t?c.jsx(qae,{}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/work-orders/new",element:t?c.jsx(kx,{}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/projects",element:t?c.jsx(Xae,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/performance",element:t?c.jsx(Qae,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/part-requests",element:t?c.jsx(Hae,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/inspections",element:t?c.jsx(Gae,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/documents",element:t?c.jsx(zae,{}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/meetings",element:t?c.jsx(Wae,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/suggestions",element:t?c.jsx(Kae,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/purchases",element:t?c.jsx(Jae,{user:t}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"/workflow-designer",element:(t==null?void 0:t.role)===Xt.ADMIN?c.jsx(nse,{}):c.jsx(st,{to:"/"})}),c.jsx(rt,{path:"/admin",element:(t==null?void 0:t.role)===Xt.ADMIN?c.jsx(Iae,{}):c.jsx(st,{to:"/"})}),c.jsx(rt,{path:"/settings",element:t?c.jsx(Yae,{user:t,onUpdateUser:l,snowMode:i,setSnowMode:o}):c.jsx(st,{to:"/login"})}),c.jsx(rt,{path:"*",element:c.jsx(st,{to:"/"})})]})})]})};class bpe extends L.Component{constructor(e){super(e),this.state={hasError:!1,error:null},this.props=e}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?c.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif",textAlign:"center",direction:"rtl",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[c.jsx("h1",{style:{color:"#800020",marginBottom:"10px"},children:"    "}),c.jsx("p",{style:{marginBottom:"20px"},children:"            ."}),c.jsx("div",{style:{marginBottom:"20px",padding:"10px",background:"#f3f4f6",borderRadius:"8px",textAlign:"left",direction:"ltr",overflow:"auto",maxHeight:"200px",fontSize:"12px",maxWidth:"100%",width:"400px"},children:(e=this.state.error)==null?void 0:e.toString()}),c.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{padding:"12px 24px",backgroundColor:"#800020",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:"    "})]}):this.props.children||null}}const Uj=document.getElementById("root");if(!Uj)throw new Error("Failed to find the root element");const wpe=bm.createRoot(Uj);wpe.render(c.jsx(L.StrictMode,{children:c.jsx(bpe,{children:c.jsx(xpe,{})})}));
